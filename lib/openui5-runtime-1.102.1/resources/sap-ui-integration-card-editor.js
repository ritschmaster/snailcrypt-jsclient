//@ui5-bundle sap-ui-integration-card-editor.js
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash strict include="omit,uniq,uniqBy,uniqWith,intersection,intersectionBy,intersectionWith,pick,pickBy,debounce,throttle,max,min,castArray,curry,merge,mergeWith,toArray,xor,xorBy,xorWith,isNil,difference,differenceBy,differenceWith,flatMap,flatMapDeep,flatMapDepth,isEqual,isEqualWith,without,flatten,flattenDeep,flattenDepth,compact,zipObject,zipObjectDeep,union,unionBy,unionWith"`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Modifications SAP SE or an SAP affiliate company and OpenUI5 contributors. All rights reserved.
 */
sap.ui.predefine('sap/base/util/restricted/_/lodash.custom',function(){'use strict';var u;var V='4.17.21';var L=200;var F='Expected a function';var H='__lodash_hash_undefined__';var M=500;var P='__lodash_placeholder__';var C=1,a=2,b=4;var c=1,d=2;var W=1,f=2,g=4,h=8,i=16,j=32,k=64,l=128,m=256,o=512;var p=800,q=16;var I=1/0,r=9007199254740991,s=1.7976931348623157e+308,N=0/0;var t=4294967295;var w=[['ary',l],['bind',W],['bindKey',f],['curry',h],['curryRight',i],['flip',o],['partial',j],['partialRight',k],['rearg',m]];var v='[object Arguments]',x='[object Array]',y='[object AsyncFunction]',z='[object Boolean]',A='[object Date]',B='[object Error]',D='[object Function]',E='[object GeneratorFunction]',G='[object Map]',J='[object Number]',K='[object Null]',O='[object Object]',Q='[object Promise]',R='[object Proxy]',S='[object RegExp]',T='[object Set]',U='[object String]',X='[object Symbol]',Y='[object Undefined]',Z='[object WeakMap]';var $='[object ArrayBuffer]',_='[object DataView]',a1='[object Float32Array]',b1='[object Float64Array]',c1='[object Int8Array]',d1='[object Int16Array]',e1='[object Int32Array]',f1='[object Uint8Array]',g1='[object Uint8ClampedArray]',h1='[object Uint16Array]',i1='[object Uint32Array]';var j1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k1=/^\w*$/,l1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var m1=/[\\^$.*+?()[\]{}|]/g;var n1=/^\s+/;var o1=/\s/;var p1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,q1=/\{\n\/\* \[wrapped with (.+)\] \*/,r1=/,? & /;var s1=/\\(\\)?/g;var t1=/\w*$/;var u1=/^[-+]0x[0-9a-f]+$/i;var v1=/^0b[01]+$/i;var w1=/^\[object .+?Constructor\]$/;var x1=/^0o[0-7]+$/i;var y1=/^(?:0|[1-9]\d*)$/;var z1='\\ud800-\\udfff',A1='\\u0300-\\u036f',B1='\\ufe20-\\ufe2f',C1='\\u20d0-\\u20ff',D1=A1+B1+C1,E1='\\ufe0e\\ufe0f';var F1='['+z1+']',G1='['+D1+']',H1='\\ud83c[\\udffb-\\udfff]',I1='(?:'+G1+'|'+H1+')',J1='[^'+z1+']',K1='(?:\\ud83c[\\udde6-\\uddff]){2}',L1='[\\ud800-\\udbff][\\udc00-\\udfff]',M1='\\u200d';var N1=I1+'?',O1='['+E1+']?',P1='(?:'+M1+'(?:'+[J1,K1,L1].join('|')+')'+O1+N1+')*',Q1=O1+N1+P1,R1='(?:'+[J1+G1+'?',G1,K1,L1,F1].join('|')+')';var S1=RegExp(H1+'(?='+H1+')|'+R1+Q1,'g');var T1=RegExp('['+M1+z1+D1+E1+']');var U1={};U1[a1]=U1[b1]=U1[c1]=U1[d1]=U1[e1]=U1[f1]=U1[g1]=U1[h1]=U1[i1]=true;U1[v]=U1[x]=U1[$]=U1[z]=U1[_]=U1[A]=U1[B]=U1[D]=U1[G]=U1[J]=U1[O]=U1[S]=U1[T]=U1[U]=U1[Z]=false;var V1={};V1[v]=V1[x]=V1[$]=V1[_]=V1[z]=V1[A]=V1[a1]=V1[b1]=V1[c1]=V1[d1]=V1[e1]=V1[G]=V1[J]=V1[O]=V1[S]=V1[T]=V1[U]=V1[X]=V1[f1]=V1[g1]=V1[h1]=V1[i1]=true;V1[B]=V1[D]=V1[Z]=false;var W1=parseInt;var X1=typeof global=='object'&&global&&global.Object===Object&&global;var Y1=typeof self=='object'&&self&&self.Object===Object&&self;var Z1=X1||Y1||Function('return this')();var $1=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var _1=$1&&typeof module=='object'&&module&&!module.nodeType&&module;var a2=_1&&_1.exports===$1;var b2=a2&&X1.process;var c2=(function(){try{var n=_1&&_1.require&&_1.require('util').types;if(n){return n;}return b2&&b2.binding&&b2.binding('util');}catch(e){}}());var d2=c2&&c2.isMap,e2=c2&&c2.isSet,f2=c2&&c2.isTypedArray;
function g2(e,n,_6){switch(_6.length){case 0:return e.call(n);case 1:return e.call(n,_6[0]);case 2:return e.call(n,_6[0],_6[1]);case 3:return e.call(n,_6[0],_6[1],_6[2]);}return e.apply(n,_6);}
function h2(e,K7){var n=-1,_6=e==null?0:e.length;while(++n<_6){if(K7(e[n],n,e)===false){break;}}return e;}
function i2(e,n){var _6=-1,R7=e==null?0:e.length,S7=0,T7=[];while(++_6<R7){var U7=e[_6];if(n(U7,_6,e)){T7[S7++]=U7;}}return T7;}
function j2(e,n){var _6=e==null?0:e.length;return!!_6&&q2(e,n,0)>-1;}
function k2(e,n,_6){var R7=-1,S7=e==null?0:e.length;while(++R7<S7){if(_6(n,e[R7])){return true;}}return false;}
function l2(e,K7){var n=-1,_6=e==null?0:e.length,R7=Array(_6);while(++n<_6){R7[n]=K7(e[n],n,e);}return R7;}
function m2(e,H7){var n=-1,_6=H7.length,R7=e.length;while(++n<_6){e[R7+n]=H7[n];}return e;}
function n2(e,n){var _6=-1,R7=e==null?0:e.length;while(++_6<R7){if(n(e[_6],_6,e)){return true;}}return false;}
function o2(e){return e.split('');}
function p2(e,n,_6,R7){var S7=e.length,T7=_6+(R7?1:-1);while((R7?T7--:++T7<S7)){if(n(e[T7],T7,e)){return T7;}}return-1;}
function q2(e,n,_6){return n===n?G2(e,n,_6):p2(e,r2,_6);}
function r2(e){return e!==e;}
function s2(e){return function(n){return n==null?u:n[e];};}
function t2(n,K7){var e=-1,_6=Array(n);while(++e<n){_6[e]=K7(e);}return _6;}
function u2(e){return e?e.slice(0,I2(e)+1).replace(n1,''):e;}
function v2(e){return function(n){return e(n);};}
function w2(e,n){return l2(n,function(_6){return e[_6];});}
function x2(e,n){return e.has(n);}
function y2(e,n){var _6=e.length,R7=0;while(_6--){if(e[_6]===n){++R7;}}return R7;}
function z2(e,n){return e==null?u:e[n];}
function A2(e){return T1.test(e);}
function B2(e){var n,_6=[];while(!(n=e.next()).done){_6.push(n.value);}return _6;}
function C2(U6){var e=-1,n=Array(U6.size);U6.forEach(function(_6,R7){n[++e]=[R7,_6];});return n;}
function D2(e,n){return function(_6){return e(n(_6));};}
function E2(e,n){var _6=-1,R7=e.length,S7=0,T7=[];while(++_6<R7){var U7=e[_6];if(U7===n||U7===P){e[_6]=P;T7[S7++]=_6;}}return T7;}
function F2(e){var n=-1,_6=Array(e.size);e.forEach(function(R7){_6[++n]=R7;});return _6;}
function G2(e,n,_6){var R7=_6-1,S7=e.length;while(++R7<S7){if(e[R7]===n){return R7;}}return-1;}
function H2(e){return A2(e)?J2(e):o2(e);}
function I2(e){var n=e.length;while(n--&&o1.test(e.charAt(n))){}return n;}
function J2(e){return e.match(S1)||[];}
var K2=Array.prototype,L2=Function.prototype,M2=Object.prototype;var N2=Z1['__core-js_shared__'];var O2=L2.toString;var P2=M2.hasOwnProperty;var Q2=(function(){var e=/[^.]+$/.exec(N2&&N2.keys&&N2.keys.IE_PROTO||'');return e?('Symbol(src)_1.'+e):'';}());var R2=M2.toString;var S2=O2.call(Object);var T2=RegExp('^'+O2.call(P2).replace(m1,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');var U2=a2?Z1.Buffer:u,V2=Z1.Symbol,W2=Z1.Uint8Array,X2=U2?U2.allocUnsafe:u,Y2=D2(Object.getPrototypeOf,Object),Z2=Object.create,$2=M2.propertyIsEnumerable,_2=K2.splice,a3=V2?V2.isConcatSpreadable:u,b3=V2?V2.iterator:u,c3=V2?V2.toStringTag:u;var d3=(function(){try{var n=L5(Object,'defineProperty');n({},'',{});return n;}catch(e){}}());var e3=Object.getOwnPropertySymbols,f3=U2?U2.isBuffer:u,g3=D2(Object.keys,Object),h3=Math.max,i3=Math.min,j3=Date.now;var k3=L5(Z1,'DataView'),l3=L5(Z1,'Map'),m3=L5(Z1,'Promise'),n3=L5(Z1,'Set'),o3=L5(Z1,'WeakMap'),p3=L5(Object,'create');var q3=o3&&new o3;var r3={};var s3=s6(k3),t3=s6(l3),u3=s6(m3),v3=s6(n3),w3=s6(o3);var x3=V2?V2.prototype:u,y3=x3?x3.valueOf:u,z3=x3?x3.toString:u;
function A3(){}
var B3=(function(){function e(){}return function(n){if(!j7(n)){return{};}if(Z2){return Z2(n);}e.prototype=n;var _6=new e;e.prototype=u;return _6;};}());
function C3(){}
function D3(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=t;this.__views__=[];}
D3.prototype=B3(C3.prototype);D3.prototype.constructor=D3;
function E3(e){var n=-1,_6=e==null?0:e.length;this.clear();while(++n<_6){var R7=e[n];this.set(R7[0],R7[1]);}}
function F3(){this.__data__=p3?p3(null):{};this.size=0;}
function G3(e){var n=this.has(e)&&delete this.__data__[e];this.size-=n?1:0;return n;}
function H3(e){var n=this.__data__;if(p3){var _6=n[e];return _6===H?u:_6;}return P2.call(n,e)?n[e]:u;}
function I3(e){var n=this.__data__;return p3?(n[e]!==u):P2.call(n,e);}
function J3(e,n){var _6=this.__data__;this.size+=this.has(e)?0:1;_6[e]=(p3&&n===u)?H:n;return this;}
E3.prototype.clear=F3;E3.prototype['delete']=G3;E3.prototype.get=H3;E3.prototype.has=I3;E3.prototype.set=J3;
function K3(e){var n=-1,_6=e==null?0:e.length;this.clear();while(++n<_6){var R7=e[n];this.set(R7[0],R7[1]);}}
function L3(){this.__data__=[];this.size=0;}
function M3(e){var n=this.__data__,_6=g4(n,e);if(_6<0){return false;}var R7=n.length-1;if(_6==R7){n.pop();}else{_2.call(n,_6,1);}--this.size;return true;}
function N3(e){var n=this.__data__,_6=g4(n,e);return _6<0?u:n[_6][1];}
function O3(e){return g4(this.__data__,e)>-1;}
function P3(e,n){var _6=this.__data__,R7=g4(_6,e);if(R7<0){++this.size;_6.push([e,n]);}else{_6[R7][1]=n;}return this;}
K3.prototype.clear=L3;K3.prototype['delete']=M3;K3.prototype.get=N3;K3.prototype.has=O3;K3.prototype.set=P3;
function Q3(e){var n=-1,_6=e==null?0:e.length;this.clear();while(++n<_6){var R7=e[n];this.set(R7[0],R7[1]);}}
function R3(){this.size=0;this.__data__={'hash':new E3,'map':new(l3||K3),'string':new E3};}
function S3(e){var n=J5(this,e)['delete'](e);this.size-=n?1:0;return n;}
function T3(e){return J5(this,e).get(e);}
function U3(e){return J5(this,e).has(e);}
function V3(e,n){var _6=J5(this,e),R7=_6.size;_6.set(e,n);this.size+=_6.size==R7?0:1;return this;}
Q3.prototype.clear=R3;Q3.prototype['delete']=S3;Q3.prototype.get=T3;Q3.prototype.has=U3;Q3.prototype.set=V3;
function W3(H7){var e=-1,n=H7==null?0:H7.length;this.__data__=new Q3;while(++e<n){this.add(H7[e]);}}
function X3(e){this.__data__.set(e,H);return this;}
function Y3(e){return this.__data__.has(e);}
W3.prototype.add=W3.prototype.push=X3;W3.prototype.has=Y3;
function Z3(e){var n=this.__data__=new K3(e);this.size=n.size;}
function $3(){this.__data__=new K3;this.size=0;}
function _3(e){var n=this.__data__,_6=n['delete'](e);this.size=n.size;return _6;}
function a4(e){return this.__data__.get(e);}
function b4(e){return this.__data__.has(e);}
function c4(e,n){var _6=this.__data__;if(_6 instanceof K3){var R7=_6.__data__;if(!l3||(R7.length<L-1)){R7.push([e,n]);this.size=++_6.size;return this;}_6=this.__data__=new Q3(R7);}_6.set(e,n);this.size=_6.size;return this;}
Z3.prototype.clear=$3;Z3.prototype['delete']=_3;Z3.prototype.get=a4;Z3.prototype.has=b4;Z3.prototype.set=c4;
function d4(e,n){var _6=b7(e),R7=!_6&&a7(e),S7=!_6&&!R7&&e7(e),T7=!_6&&!R7&&!S7&&r7(e),U7=_6||R7||S7||T7,V7=U7?t2(e.length,String):[],W7=V7.length;for(var X7 in e){if((n||P2.call(e,X7))&&!(U7&&(X7=='length'||(S7&&(X7=='offset'||X7=='parent'))||(T7&&(X7=='buffer'||X7=='byteLength'||X7=='byteOffset'))||X5(X7,W7)))){V7.push(X7);}}return V7;}
function e4(e,n,_6){if((_6!==u&&!eq(e[n],_6))||(_6===u&&!(n in e))){j4(e,n,_6);}}
function f4(e,n,_6){var R7=e[n];if(!(P2.call(e,n)&&eq(R7,_6))||(_6===u&&!(n in e))){j4(e,n,_6);}}
function g4(e,n){var _6=e.length;while(_6--){if(eq(e[_6][0],n)){return _6;}}return-1;}
function h4(e,n){return e&&k5(n,A7(n),e);}
function i4(e,n){return e&&k5(n,B7(n),e);}
function j4(e,n,_6){if(n=='__proto__'&&d3){d3(e,n,{'configurable':true,'enumerable':true,'value':_6,'writable':true});}else{e[n]=_6;}}
function k4(e,n,_6,R7,S7,T7){var U7,V7=n&C,W7=n&a,X7=n&b;if(_6){U7=S7?_6(e,R7,S7,T7):_6(e);}if(U7!==u){return U7;}if(!j7(e)){return e;}var Y7=b7(e);if(Y7){U7=S5(e);if(!V7){return j5(e,U7);}}else{var Z7=P5(e),$7=Z7==D||Z7==E;if(e7(e)){return b5(e,V7);}if(Z7==O||Z7==v||($7&&!S7)){U7=(W7||$7)?{}:T5(e);if(!V7){return W7?m5(e,i4(U7,e)):l5(e,h4(U7,e));}}else{if(!V1[Z7]){return S7?e:{};}U7=U5(e,Z7,V7);}}T7||(T7=new Z3);var _7=T7.get(e);if(_7){return _7;}T7.set(e,U7);if(o7(e)){e.forEach(function(c8){U7.add(k4(c8,n,_6,c8,e,T7));});}else if(l7(e)){e.forEach(function(c8,R7){U7.set(R7,k4(c8,n,_6,R7,e,T7));});}var a8=X7?(W7?E5:D5):(W7?B7:A7);var b8=Y7?u:a8(e);h2(b8||e,function(c8,R7){if(b8){R7=c8;c8=e[R7];}f4(U7,R7,k4(c8,n,_6,R7,e,T7));});return U7;}
function l4(e,H7,K7,n){var _6=-1,R7=j2,S7=true,T7=e.length,U7=[],V7=H7.length;if(!T7){return U7;}if(K7){H7=l2(H7,v2(K7));}if(n){R7=k2;S7=false;}else if(H7.length>=L){R7=x2;S7=false;H7=new W3(H7);}outer:while(++_6<T7){var W7=e[_6],X7=K7==null?W7:K7(W7);W7=(n||W7!==0)?W7:0;if(S7&&X7===X7){var Y7=V7;while(Y7--){if(H7[Y7]===X7){continue outer;}}U7.push(W7);}else if(!R7(H7,X7,n)){U7.push(W7);}}return U7;}
var m4=o5(q4);
function n4(e,K7,n){var _6=-1,R7=e.length;while(++_6<R7){var S7=e[_6],T7=K7(S7);if(T7!=null&&(U7===u?(T7===T7&&!q7(T7)):n(T7,U7))){var U7=T7,V7=S7;}}return V7;}
function o4(e,n,_6,R7,S7){var T7=-1,U7=e.length;_6||(_6=W5);S7||(S7=[]);while(++T7<U7){var V7=e[T7];if(n>0&&_6(V7)){if(n>1){o4(V7,n-1,_6,R7,S7);}else{m2(S7,V7);}}else if(!R7){S7[S7.length]=V7;}}return S7;}
var p4=p5();
function q4(e,K7){return e&&p4(e,K7,A7);}
function r4(e,n){n=a5(n,e);var _6=0,R7=n.length;while(e!=null&&_6<R7){e=e[r6(n[_6++])];}return(_6&&_6==R7)?e:u;}
function s4(e,n,_6){var R7=n(e);return b7(e)?R7:m2(R7,_6(e));}
function t4(e){if(e==null){return e===u?Y:K;}return(c3&&c3 in Object(e))?M5(e):h6(e);}
function u4(e,n){return e>n;}
function v4(e,n){return e!=null&&n in Object(e);}
function w4(e,K7,n){var _6=n?k2:j2,R7=e[0].length,S7=e.length,T7=S7,U7=Array(S7),V7=Infinity,W7=[];while(T7--){var X7=e[T7];if(T7&&K7){X7=l2(X7,v2(K7));}V7=i3(X7.length,V7);U7[T7]=!n&&(K7||(R7>=120&&X7.length>=120))?new W3(T7&&X7):u;}X7=e[0];var Y7=-1,Z7=U7[0];outer:while(++Y7<R7&&W7.length<V7){var $7=X7[Y7],_7=K7?K7($7):$7;$7=(n||$7!==0)?$7:0;if(!(Z7?x2(Z7,_7):_6(W7,_7,n))){T7=S7;while(--T7){var a8=U7[T7];if(!(a8?x2(a8,_7):_6(e[T7],_7,n))){continue outer;}}if(Z7){Z7.push(_7);}W7.push($7);}}return W7;}
function x4(e){return k7(e)&&t4(e)==v;}
function y4(e,n,_6,R7,S7){if(e===n){return true;}if(e==null||n==null||(!k7(e)&&!k7(n))){return e!==e&&n!==n;}return z4(e,n,_6,R7,y4,S7);}
function z4(e,n,_6,R7,S7,T7){var U7=b7(e),V7=b7(n),W7=U7?x:P5(e),X7=V7?x:P5(n);W7=W7==v?O:W7;X7=X7==v?O:X7;var Y7=W7==O,Z7=X7==O,$7=W7==X7;if($7&&e7(e)){if(!e7(n)){return false;}U7=true;Y7=false;}if($7&&!Y7){T7||(T7=new Z3);return(U7||r7(e))?z5(e,n,_6,R7,S7,T7):A5(e,n,W7,_6,R7,S7,T7);}if(!(_6&c)){var _7=Y7&&P2.call(e,'__wrapped__'),a8=Z7&&P2.call(n,'__wrapped__');if(_7||a8){var b8=_7?e.value():e,c8=a8?n.value():n;T7||(T7=new Z3);return S7(b8,c8,_6,R7,T7);}}if(!$7){return false;}T7||(T7=new Z3);return B5(e,n,_6,R7,S7,T7);}
function A4(e){return k7(e)&&P5(e)==G;}
function B4(e,n,_6,R7){var S7=_6.length,T7=S7,U7=!R7;if(e==null){return!T7;}e=Object(e);while(S7--){var V7=_6[S7];if((U7&&V7[2])?V7[1]!==e[V7[0]]:!(V7[0]in e)){return false;}}while(++S7<T7){V7=_6[S7];var W7=V7[0],X7=e[W7],Y7=V7[1];if(U7&&V7[2]){if(X7===u&&!(W7 in e)){return false;}}else{var Z7=new Z3;if(R7){var $7=R7(X7,Y7,W7,e,n,Z7);}if(!($7===u?y4(Y7,X7,c|d,R7,Z7):$7)){return false;}}}return true;}
function C4(e){if(!j7(e)||a6(e)){return false;}var n=h7(e)?T2:w1;return n.test(s6(e));}
function D4(e){return k7(e)&&P5(e)==T;}
function E4(e){return k7(e)&&i7(e.length)&&!!U1[t4(e)];}
function F4(e){if(typeof e=='function'){return e;}if(e==null){return J7;}if(typeof e=='object'){return b7(e)?L4(e[0],e[1]):K4(e);}return M7(e);}
function G4(e){if(!b6(e)){return g3(e);}var n=[];for(var _6 in Object(e)){if(P2.call(e,_6)&&_6!='constructor'){n.push(_6);}}return n;}
function H4(e){if(!j7(e)){return g6(e);}var n=b6(e),_6=[];for(var R7 in e){if(!(R7=='constructor'&&(n||!P2.call(e,R7)))){_6.push(R7);}}return _6;}
function I4(e,n){return e<n;}
function J4(e,K7){var n=-1,_6=c7(e)?Array(e.length):[];m4(e,function(R7,S7,e){_6[++n]=K7(R7,S7,e);});return _6;}
function K4(e){var n=K5(e);if(n.length==1&&n[0][2]){return d6(n[0][0],n[0][1]);}return function(_6){return _6===e||B4(_6,e,n);};}
function L4(e,n){if(Z5(e)&&c6(n)){return d6(r6(e),n);}return function(_6){var R7=y7(_6,e);return(R7===u&&R7===n)?z7(_6,e):y4(n,R7,c|d);};}
function M4(e,n,_6,R7,S7){if(e===n){return;}p4(n,function(T7,U7){S7||(S7=new Z3);if(j7(T7)){N4(e,n,U7,_6,M4,R7,S7);}else{var V7=R7?R7(l6(e,U7),T7,(U7+''),e,n,S7):u;if(V7===u){V7=T7;}e4(e,U7,V7);}},B7);}
function N4(e,n,_6,R7,S7,T7,U7){var V7=l6(e,_6),W7=l6(n,_6),X7=U7.get(W7);if(X7){e4(e,_6,X7);return;}var Y7=T7?T7(V7,W7,(_6+''),e,n,U7):u;var Z7=Y7===u;if(Z7){var $7=b7(W7),_7=!$7&&e7(W7),a8=!$7&&!_7&&r7(W7);Y7=W7;if($7||_7||a8){if(b7(V7)){Y7=V7;}else if(d7(V7)){Y7=j5(V7);}else if(_7){Z7=false;Y7=b5(W7,true);}else if(a8){Z7=false;Y7=g5(W7,true);}else{Y7=[];}}else if(n7(W7)||a7(W7)){Y7=V7;if(a7(V7)){Y7=w7(V7);}else if(!j7(V7)||h7(V7)){Y7=T5(W7);}}else{Z7=false;}}if(Z7){U7.set(W7,Y7);S7(Y7,W7,R7,T7,U7);U7['delete'](W7);}e4(e,_6,Y7);}
function O4(e,n){return P4(e,n,function(_6,R7){return z7(e,R7);});}
function P4(e,n,_6){var R7=-1,S7=n.length,T7={};while(++R7<S7){var U7=n[R7],V7=r4(e,U7);if(_6(V7,U7)){S4(T7,a5(U7,e),V7);}}return T7;}
function Q4(e){return function(n){return r4(n,e);};}
function R4(e,n){return n6(i6(e,n,J7),e+'');}
function S4(e,n,_6,R7){if(!j7(e)){return e;}n=a5(n,e);var S7=-1,T7=n.length,U7=T7-1,V7=e;while(V7!=null&&++S7<T7){var W7=r6(n[S7]),X7=_6;if(W7==='__proto__'||W7==='constructor'||W7==='prototype'){return e;}if(S7!=U7){var Y7=V7[W7];X7=R7?R7(Y7,W7,V7):u;if(X7===u){X7=j7(Y7)?Y7:(X5(n[S7+1])?[]:{});}}f4(V7,W7,X7);V7=V7[W7];}return e;}
var T4=!q3?J7:function(e,n){q3.set(e,n);return e;};var U4=!d3?J7:function(e,n){return d3(e,'toString',{'configurable':true,'enumerable':false,'value':I7(n),'writable':true});};
function V4(e,n,_6){var R7=-1,S7=e.length;if(n<0){n=-n>S7?0:(S7+n);}_6=_6>S7?S7:_6;if(_6<0){_6+=S7;}S7=n>_6?0:((_6-n)>>>0);n>>>=0;var T7=Array(S7);while(++R7<S7){T7[R7]=e[R7+n];}return T7;}
function W4(e){if(typeof e=='string'){return e;}if(b7(e)){return l2(e,W4)+'';}if(q7(e)){return z3?z3.call(e):'';}var n=(e+'');return(n=='0'&&(1/e)==-I)?'-0':n;}
function X4(e,K7,n){var _6=-1,R7=j2,S7=e.length,T7=true,U7=[],V7=U7;if(n){T7=false;R7=k2;}else if(S7>=L){var W7=K7?null:w5(e);if(W7){return F2(W7);}T7=false;R7=x2;V7=new W3;}else{V7=K7?[]:U7;}outer:while(++_6<S7){var X7=e[_6],Y7=K7?K7(X7):X7;X7=(n||X7!==0)?X7:0;if(T7&&Y7===Y7){var Z7=V7.length;while(Z7--){if(V7[Z7]===Y7){continue outer;}}if(K7){V7.push(Y7);}U7.push(X7);}else if(!R7(V7,Y7,n)){if(V7!==U7){V7.push(Y7);}U7.push(X7);}}return U7;}
function Y4(e,n){n=a5(n,e);e=j6(e,n);return e==null||delete e[r6(E6(n))];}
function Z4(e,K7,n){var _6=e.length;if(_6<2){return _6?X4(e[0]):[];}var R7=-1,S7=Array(_6);while(++R7<_6){var T7=e[R7],U7=-1;while(++U7<_6){if(U7!=R7){S7[R7]=l4(S7[R7]||T7,e[U7],K7,n);}}}return X4(o4(S7,1),K7,n);}
function $4(e,H7,n){var _6=-1,R7=e.length,S7=H7.length,T7={};while(++_6<R7){var U7=_6<S7?H7[_6]:u;n(T7,e[_6],U7);}return T7;}
function _4(e){return d7(e)?e:[];}
function a5(e,n){if(b7(e)){return e;}return Z5(e,n)?[e]:q6(x7(e));}
function b5(e,n){if(n){return e.slice();}var _6=e.length,R7=X2?X2(_6):new e.constructor(_6);e.copy(R7);return R7;}
function c5(e){var n=new e.constructor(e.byteLength);new W2(n).set(new W2(e));return n;}
function d5(e,n){var _6=n?c5(e.buffer):e.buffer;return new e.constructor(_6,e.byteOffset,e.byteLength);}
function e5(e){var n=new e.constructor(e.source,t1.exec(e));n.lastIndex=e.lastIndex;return n;}
function f5(e){return y3?Object(y3.call(e)):{};}
function g5(e,n){var _6=n?c5(e.buffer):e.buffer;return new e.constructor(_6,e.byteOffset,e.length);}
function h5(e,n,_6,R7){var S7=-1,T7=e.length,U7=_6.length,V7=-1,W7=n.length,X7=h3(T7-U7,0),Y7=Array(W7+X7),Z7=!R7;while(++V7<W7){Y7[V7]=n[V7];}while(++S7<U7){if(Z7||S7<T7){Y7[_6[S7]]=e[S7];}}while(X7--){Y7[V7++]=e[S7++];}return Y7;}
function i5(e,n,_6,R7){var S7=-1,T7=e.length,U7=-1,V7=_6.length,W7=-1,X7=n.length,Y7=h3(T7-V7,0),Z7=Array(Y7+X7),$7=!R7;while(++S7<Y7){Z7[S7]=e[S7];}var _7=S7;while(++W7<X7){Z7[_7+W7]=n[W7];}while(++U7<V7){if($7||S7<T7){Z7[_7+_6[U7]]=e[S7++];}}return Z7;}
function j5(e,n){var _6=-1,R7=e.length;n||(n=Array(R7));while(++_6<R7){n[_6]=e[_6];}return n;}
function k5(e,n,_6,R7){var S7=!_6;_6||(_6={});var T7=-1,U7=n.length;while(++T7<U7){var V7=n[T7];var W7=R7?R7(_6[V7],e[V7],V7,_6,e):u;if(W7===u){W7=e[V7];}if(S7){j4(_6,V7,W7);}else{f4(_6,V7,W7);}}return _6;}
function l5(e,n){return k5(e,N5(e),n);}
function m5(e,n){return k5(e,O5(e),n);}
function n5(e){return R4(function(n,_6){var R7=-1,S7=_6.length,T7=S7>1?_6[S7-1]:u,U7=S7>2?_6[2]:u;T7=(e.length>3&&typeof T7=='function')?(S7--,T7):u;if(U7&&Y5(_6[0],_6[1],U7)){T7=S7<3?u:T7;S7=1;}n=Object(n);while(++R7<S7){var V7=_6[R7];if(V7){e(n,V7,R7,T7);}}return n;});}
function o5(e,n){return function(_6,K7){if(_6==null){return _6;}if(!c7(_6)){return e(_6,K7);}var R7=_6.length,S7=n?R7:-1,T7=Object(_6);while((n?S7--:++S7<R7)){if(K7(T7[S7],S7,T7)===false){break;}}return _6;};}
function p5(e){return function(n,K7,_6){var R7=-1,S7=Object(n),T7=_6(n),U7=T7.length;while(U7--){var V7=T7[e?U7:++R7];if(K7(S7[V7],V7,S7)===false){break;}}return n;};}
function q5(e,n,_6){var R7=n&W,S7=r5(e);function T7(){var fn=(this&&this!==Z1&&this instanceof T7)?S7:e;return fn.apply(R7?_6:this,arguments);}return T7;}
function r5(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);}var _6=B3(e.prototype),R7=e.apply(_6,n);return j7(R7)?R7:_6;};}
function s5(e,n,_6){var R7=r5(e);function S7(){var T7=arguments.length,U7=Array(T7),V7=T7,W7=H5(S7);while(V7--){U7[V7]=arguments[V7];}var X7=(T7<3&&U7[0]!==W7&&U7[T7-1]!==W7)?[]:E2(U7,W7);T7-=X7.length;if(T7<_6){return v5(e,n,t5,S7.placeholder,u,U7,X7,u,u,_6-T7);}var fn=(this&&this!==Z1&&this instanceof S7)?R7:e;return g2(fn,this,U7);}return S7;}
function t5(e,n,_6,R7,S7,T7,U7,V7,W7,X7){var Y7=n&l,Z7=n&W,$7=n&f,_7=n&(h|i),a8=n&o,b8=$7?u:r5(e);function c8(){var d8=arguments.length,e8=Array(d8),f8=d8;while(f8--){e8[f8]=arguments[f8];}if(_7){var g8=H5(c8),h8=y2(e8,g8);}if(R7){e8=h5(e8,R7,S7,_7);}if(T7){e8=i5(e8,T7,U7,_7);}d8-=h8;if(_7&&d8<X7){var i8=E2(e8,g8);return v5(e,n,t5,c8.placeholder,_6,e8,i8,V7,W7,X7-d8);}var j8=Z7?_6:this,fn=$7?j8[e]:e;d8=e8.length;if(V7){e8=k6(e8,V7);}else if(a8&&d8>1){e8.reverse();}if(Y7&&W7<d8){e8.length=W7;}if(this&&this!==Z1&&this instanceof c8){fn=b8||r5(fn);}return fn.apply(j8,e8);}return c8;}
function u5(e,n,_6,R7){var S7=n&W,T7=r5(e);function U7(){var V7=-1,W7=arguments.length,X7=-1,Y7=R7.length,Z7=Array(Y7+W7),fn=(this&&this!==Z1&&this instanceof U7)?T7:e;while(++X7<Y7){Z7[X7]=R7[X7];}while(W7--){Z7[X7++]=arguments[++V7];}return g2(fn,S7?_6:this,Z7);}return U7;}
function v5(e,n,_6,R7,S7,T7,U7,V7,W7,X7){var Y7=n&h,Z7=Y7?U7:u,$7=Y7?u:U7,_7=Y7?T7:u,a8=Y7?u:T7;n|=(Y7?j:k);n&=~(Y7?k:j);if(!(n&g)){n&=~(W|f);}var b8=[e,n,S7,_7,Z7,a8,$7,V7,W7,X7];var c8=_6.apply(u,b8);if(_5(e)){m6(c8,b8);}c8.placeholder=R7;return o6(c8,e,n);}
var w5=!(n3&&(1/F2(new n3([,-0]))[1])==I)?L7:function(H7){return new n3(H7);};
function x5(e,n,_6,R7,S7,T7,U7,V7){var W7=n&f;if(!W7&&typeof e!='function'){throw new TypeError(F);}var X7=R7?R7.length:0;if(!X7){n&=~(j|k);R7=S7=u;}U7=U7===u?U7:h3(u7(U7),0);V7=V7===u?V7:u7(V7);X7-=S7?S7.length:0;if(n&k){var Y7=R7,Z7=S7;R7=S7=u;}var $7=W7?u:F5(e);var _7=[e,n,_6,R7,S7,Y7,Z7,T7,U7,V7];if($7){f6(_7,$7);}e=_7[0];n=_7[1];_6=_7[2];R7=_7[3];S7=_7[4];V7=_7[9]=_7[9]===u?(W7?0:e.length):h3(_7[9]-X7,0);if(!V7&&n&(h|i)){n&=~(h|i);}if(!n||n==W){var a8=q5(e,n,_6);}else if(n==h||n==i){a8=s5(e,n,V7);}else if((n==j||n==(W|j))&&!S7.length){a8=u5(e,n,_6,R7);}else{a8=t5.apply(u,_7);}var b8=$7?T4:m6;return o6(b8(a8,_7),e,n);}
function y5(e){return n7(e)?u:e;}
function z5(e,n,_6,R7,S7,T7){var U7=_6&c,V7=e.length,W7=n.length;if(V7!=W7&&!(U7&&W7>V7)){return false;}var X7=T7.get(e);var Y7=T7.get(n);if(X7&&Y7){return X7==n&&Y7==e;}var Z7=-1,$7=true,_7=(_6&d)?new W3:u;T7.set(e,n);T7.set(n,e);while(++Z7<V7){var a8=e[Z7],b8=n[Z7];if(R7){var c8=U7?R7(b8,a8,Z7,n,e,T7):R7(a8,b8,Z7,e,n,T7);}if(c8!==u){if(c8){continue;}$7=false;break;}if(_7){if(!n2(n,function(b8,d8){if(!x2(_7,d8)&&(a8===b8||S7(a8,b8,_6,R7,T7))){return _7.push(d8);}})){$7=false;break;}}else if(!(a8===b8||S7(a8,b8,_6,R7,T7))){$7=false;break;}}T7['delete'](e);T7['delete'](n);return $7;}
function A5(e,n,_6,R7,S7,T7,U7){switch(_6){case _:if((e.byteLength!=n.byteLength)||(e.byteOffset!=n.byteOffset)){return false;}e=e.buffer;n=n.buffer;case $:if((e.byteLength!=n.byteLength)||!T7(new W2(e),new W2(n))){return false;}return true;case z:case A:case J:return eq(+e,+n);case B:return e.name==n.name&&e.message==n.message;case S:case U:return e==(n+'');case G:var V7=C2;case T:var W7=R7&c;V7||(V7=F2);if(e.size!=n.size&&!W7){return false;}var X7=U7.get(e);if(X7){return X7==n;}R7|=d;U7.set(e,n);var Y7=z5(V7(e),V7(n),R7,S7,T7,U7);U7['delete'](e);return Y7;case X:if(y3){return y3.call(e)==y3.call(n);}}return false;}
function B5(e,n,_6,R7,S7,T7){var U7=_6&c,V7=D5(e),W7=V7.length,X7=D5(n),Y7=X7.length;if(W7!=Y7&&!U7){return false;}var Z7=W7;while(Z7--){var $7=V7[Z7];if(!(U7?$7 in n:P2.call(n,$7))){return false;}}var _7=T7.get(e);var a8=T7.get(n);if(_7&&a8){return _7==n&&a8==e;}var b8=true;T7.set(e,n);T7.set(n,e);var c8=U7;while(++Z7<W7){$7=V7[Z7];var d8=e[$7],e8=n[$7];if(R7){var f8=U7?R7(e8,d8,$7,n,e,T7):R7(d8,e8,$7,e,n,T7);}if(!(f8===u?(d8===e8||S7(d8,e8,_6,R7,T7)):f8)){b8=false;break;}c8||(c8=$7=='constructor');}if(b8&&!c8){var g8=e.constructor,h8=n.constructor;if(g8!=h8&&('constructor'in e&&'constructor'in n)&&!(typeof g8=='function'&&g8 instanceof g8&&typeof h8=='function'&&h8 instanceof h8)){b8=false;}}T7['delete'](e);T7['delete'](n);return b8;}
function C5(e){return n6(i6(e,u,y6),e+'');}
function D5(e){return s4(e,A7,N5);}
function E5(e){return s4(e,B7,O5);}
var F5=!q3?L7:function(e){return q3.get(e);};
function G5(e){var n=(e.name+''),_6=r3[n],R7=P2.call(r3,n)?_6.length:0;while(R7--){var S7=_6[R7],T7=S7.func;if(T7==null||T7==e){return S7.name;}}return n;}
function H5(e){var n=P2.call(A3,'placeholder')?A3:e;return n.placeholder;}
function I5(){var e=A3.iteratee||K7;e=e===K7?F4:e;return arguments.length?e(arguments[0],arguments[1]):e;}
function J5(U6,e){var n=U6.__data__;return $5(e)?n[typeof e=='string'?'string':'hash']:n.map;}
function K5(e){var n=A7(e),_6=n.length;while(_6--){var R7=n[_6],S7=e[R7];n[_6]=[R7,S7,c6(S7)];}return n;}
function L5(e,n){var _6=z2(e,n);return C4(_6)?_6:u;}
function M5(n){var _6=P2.call(n,c3),R7=n[c3];try{n[c3]=u;var S7=true;}catch(e){}var T7=R2.call(n);if(S7){if(_6){n[c3]=R7;}else{delete n[c3];}}return T7;}
var N5=!e3?N7:function(e){if(e==null){return[];}e=Object(e);return i2(e3(e),function(n){return $2.call(e,n);});};var O5=!e3?N7:function(e){var n=[];while(e){m2(n,N5(e));e=Y2(e);}return n;};var P5=t4;if((k3&&P5(new k3(new ArrayBuffer(1)))!=_)||(l3&&P5(new l3)!=G)||(m3&&P5(m3.resolve())!=Q)||(n3&&P5(new n3)!=T)||(o3&&P5(new o3)!=Z)){P5=function(e){var n=t4(e),_6=n==O?e.constructor:u,R7=_6?s6(_6):'';if(R7){switch(R7){case s3:return _;case t3:return G;case u3:return Q;case v3:return T;case w3:return Z;}}return n;};}
function Q5(e){var n=e.match(q1);return n?n[1].split(r1):[];}
function R5(e,n,_6){n=a5(n,e);var R7=-1,S7=n.length,T7=false;while(++R7<S7){var U7=r6(n[R7]);if(!(T7=e!=null&&_6(e,U7))){break;}e=e[U7];}if(T7||++R7!=S7){return T7;}S7=e==null?0:e.length;return!!S7&&i7(S7)&&X5(U7,S7)&&(b7(e)||a7(e));}
function S5(e){var n=e.length,_6=new e.constructor(n);if(n&&typeof e[0]=='string'&&P2.call(e,'index')){_6.index=e.index;_6.input=e.input;}return _6;}
function T5(e){return(typeof e.constructor=='function'&&!b6(e))?B3(Y2(e)):{};}
function U5(e,n,_6){var R7=e.constructor;switch(n){case $:return c5(e);case z:case A:return new R7(+e);case _:return d5(e,_6);case a1:case b1:case c1:case d1:case e1:case f1:case g1:case h1:case i1:return g5(e,_6);case G:return new R7;case J:case U:return new R7(e);case S:return e5(e);case T:return new R7;case X:return f5(e);}}
function V5(e,n){var _6=n.length;if(!_6){return e;}var R7=_6-1;n[R7]=(_6>1?'& ':'')+n[R7];n=n.join(_6>2?', ':' ');return e.replace(p1,'{\n/* [wrapped with '+n+'] */\n');}
function W5(e){return b7(e)||a7(e)||!!(a3&&e&&e[a3]);}
function X5(e,n){var _6=typeof e;n=n==null?r:n;return!!n&&(_6=='number'||(_6!='symbol'&&y1.test(e)))&&(e>-1&&e%1==0&&e<n);}
function Y5(e,n,_6){if(!j7(_6)){return false;}var R7=typeof n;if(R7=='number'?(c7(_6)&&X5(n,_6.length)):(R7=='string'&&n in _6)){return eq(_6[n],e);}return false;}
function Z5(e,n){if(b7(e)){return false;}var _6=typeof e;if(_6=='number'||_6=='symbol'||_6=='boolean'||e==null||q7(e)){return true;}return k1.test(e)||!j1.test(e)||(n!=null&&e in Object(n));}
function $5(e){var n=typeof e;return(n=='string'||n=='number'||n=='symbol'||n=='boolean')?(e!=='__proto__'):(e===null);}
function _5(e){var n=G5(e),_6=A3[n];if(typeof _6!='function'||!(n in D3.prototype)){return false;}if(e===_6){return true;}var R7=F5(_6);return!!R7&&e===R7[0];}
function a6(e){return!!Q2&&(Q2 in e);}
function b6(e){var n=e&&e.constructor,_6=(typeof n=='function'&&n.prototype)||M2;return e===_6;}
function c6(e){return e===e&&!j7(e);}
function d6(e,n){return function(_6){if(_6==null){return false;}return _6[e]===n&&(n!==u||(e in Object(_6)));};}
function e6(e){var n=Y6(e,function(R7){if(_6.size===M){_6.clear();}return R7;});var _6=n.cache;return n;}
function f6(e,n){var _6=e[1],R7=n[1],S7=_6|R7,T7=S7<(W|f|l);var U7=((R7==l)&&(_6==h))||((R7==l)&&(_6==m)&&(e[7].length<=n[8]))||((R7==(l|m))&&(n[7].length<=n[8])&&(_6==h));if(!(T7||U7)){return e;}if(R7&W){e[2]=n[2];S7|=_6&W?0:g;}var V7=n[3];if(V7){var W7=e[3];e[3]=W7?h5(W7,V7,n[4]):V7;e[4]=W7?E2(e[3],P):n[4];}V7=n[5];if(V7){W7=e[5];e[5]=W7?i5(W7,V7,n[6]):V7;e[6]=W7?E2(e[5],P):n[6];}V7=n[7];if(V7){e[7]=V7;}if(R7&l){e[8]=e[8]==null?n[8]:i3(e[8],n[8]);}if(e[9]==null){e[9]=n[9];}e[0]=n[0];e[1]=S7;return e;}
function g6(e){var n=[];if(e!=null){for(var _6 in Object(e)){n.push(_6);}}return n;}
function h6(e){return R2.call(e);}
function i6(e,n,_6){n=h3(n===u?(e.length-1):n,0);return function(){var R7=arguments,S7=-1,T7=h3(R7.length-n,0),U7=Array(T7);while(++S7<T7){U7[S7]=R7[n+S7];}S7=-1;var V7=Array(n+1);while(++S7<n){V7[S7]=R7[S7];}V7[n]=_6(U7);return g2(e,this,V7);};}
function j6(e,n){return n.length<2?e:r4(e,V4(n,0,-1));}
function k6(e,n){var _6=e.length,R7=i3(n.length,_6),S7=j5(e);while(R7--){var T7=n[R7];e[R7]=X5(T7,_6)?S7[T7]:u;}return e;}
function l6(e,n){if(n==='constructor'&&typeof e[n]==='function'){return;}if(n=='__proto__'){return;}return e[n];}
var m6=p6(T4);var n6=p6(U4);
function o6(e,n,_6){var R7=(n+'');return n6(e,V5(R7,t6(Q5(R7),_6)));}
function p6(e){var n=0,_6=0;return function(){var R7=j3(),S7=q-(R7-_6);_6=R7;if(S7>0){if(++n>=p){return arguments[0];}}else{n=0;}return e.apply(u,arguments);};}
var q6=e6(function(e){var n=[];if(e.charCodeAt(0)===46){n.push('');}e.replace(l1,function(_6,R7,S7,T7){n.push(S7?T7.replace(s1,'$1'):(R7||_6));});return n;});
function r6(e){if(typeof e=='string'||q7(e)){return e;}var n=(e+'');return(n=='0'&&(1/e)==-I)?'-0':n;}
function s6(n){if(n!=null){try{return O2.call(n);}catch(e){}try{return(n+'');}catch(e){}}return'';}
function t6(e,n){h2(w,function(_6){var R7='_.'+_6[0];if((n&_6[1])&&!j2(e,R7)){e.push(R7);}});return e.sort();}
function u6(e){var n=-1,_6=e==null?0:e.length,R7=0,S7=[];while(++n<_6){var T7=e[n];if(T7){S7[R7++]=T7;}}return S7;}
var v6=R4(function(e,H7){return d7(e)?l4(e,o4(H7,1,d7,true)):[];});var w6=R4(function(e,H7){var K7=E6(H7);if(d7(K7)){K7=u;}return d7(e)?l4(e,o4(H7,1,d7,true),I5(K7,2)):[];});var x6=R4(function(e,H7){var n=E6(H7);if(d7(n)){n=u;}return d7(e)?l4(e,o4(H7,1,d7,true),u,n):[];});
function y6(e){var n=e==null?0:e.length;return n?o4(e,1):[];}
function z6(e){var n=e==null?0:e.length;return n?o4(e,I):[];}
function A6(e,n){var _6=e==null?0:e.length;if(!_6){return[];}n=n===u?1:u7(n);return o4(e,n);}
var B6=R4(function(e){var n=l2(e,_4);return(n.length&&n[0]===e[0])?w4(n):[];});var C6=R4(function(e){var K7=E6(e),n=l2(e,_4);if(K7===E6(n)){K7=u;}else{n.pop();}return(n.length&&n[0]===e[0])?w4(n,I5(K7,2)):[];});var D6=R4(function(e){var n=E6(e),_6=l2(e,_4);n=typeof n=='function'?n:u;if(n){_6.pop();}return(_6.length&&_6[0]===e[0])?w4(_6,u,n):[];});
function E6(e){var n=e==null?0:e.length;return n?e[n-1]:u;}
var F6=R4(function(e){return X4(o4(e,1,d7,true));});var G6=R4(function(e){var K7=E6(e);if(d7(K7)){K7=u;}return X4(o4(e,1,d7,true),I5(K7,2));});var H6=R4(function(e){var n=E6(e);n=typeof n=='function'?n:u;return X4(o4(e,1,d7,true),u,n);});
function I6(e){return(e&&e.length)?X4(e):[];}
function J6(e,K7){return(e&&e.length)?X4(e,I5(K7,2)):[];}
function K6(e,n){n=typeof n=='function'?n:u;return(e&&e.length)?X4(e,u,n):[];}
var L6=R4(function(e,H7){return d7(e)?l4(e,H7):[];});var M6=R4(function(e){return Z4(i2(e,d7));});var N6=R4(function(e){var K7=E6(e);if(d7(K7)){K7=u;}return Z4(i2(e,d7),I5(K7,2));});var O6=R4(function(e){var n=E6(e);n=typeof n=='function'?n:u;return Z4(i2(e,d7),u,n);});
function P6(e,H7){return $4(e||[],H7||[],f4);}
function Q6(e,H7){return $4(e||[],H7||[],S4);}
function R6(e,K7){return o4(U6(e,K7),1);}
function S6(e,K7){return o4(U6(e,K7),I);}
function T6(e,K7,n){n=n===u?1:u7(n);return o4(U6(e,K7),n);}
function U6(e,K7){var n=b7(e)?l2:J4;return n(e,I5(K7,3));}
var V6=function(){return Z1.Date.now();};
function W6(e,n,_6){n=_6?u:n;var R7=x5(e,h,u,u,u,u,u,n);R7.placeholder=W6.placeholder;return R7;}
function X6(e,n,_6){var R7,S7,T7,U7,V7,W7,X7=0,Y7=false,Z7=false,$7=true;if(typeof e!='function'){throw new TypeError(F);}n=v7(n)||0;if(j7(_6)){Y7=!!_6.leading;Z7='maxWait'in _6;T7=Z7?h3(v7(_6.maxWait)||0,n):T7;$7='trailing'in _6?!!_6.trailing:$7;}function _7(i8){var j8=R7,k8=S7;R7=S7=u;X7=i8;U7=e.apply(k8,j8);return U7;}function a8(i8){X7=i8;V7=setTimeout(d8,n);return Y7?_7(i8):U7;}function b8(i8){var j8=i8-W7,k8=i8-X7,l8=n-j8;return Z7?i3(l8,T7-k8):l8;}function c8(i8){var j8=i8-W7,k8=i8-X7;return(W7===u||(j8>=n)||(j8<0)||(Z7&&k8>=T7));}function d8(){var i8=V6();if(c8(i8)){return e8(i8);}V7=setTimeout(d8,b8(i8));}function e8(i8){V7=u;if($7&&R7){return _7(i8);}R7=S7=u;return U7;}function f8(){if(V7!==u){clearTimeout(V7);}X7=0;R7=W7=S7=V7=u;}function g8(){return V7===u?U7:e8(V6());}function h8(){var i8=V6(),j8=c8(i8);R7=arguments;S7=this;W7=i8;if(j8){if(V7===u){return a8(W7);}if(Z7){clearTimeout(V7);V7=setTimeout(d8,n);return _7(W7);}}if(V7===u){V7=setTimeout(d8,n);}return U7;}h8.cancel=f8;h8.flush=g8;return h8;}
function Y6(e,n){if(typeof e!='function'||(n!=null&&typeof n!='function')){throw new TypeError(F);}var _6=function(){var R7=arguments,S7=n?n.apply(this,R7):R7[0],T7=_6.cache;if(T7.has(S7)){return T7.get(S7);}var U7=e.apply(this,R7);_6.cache=T7.set(S7,U7)||T7;return U7;};_6.cache=new(Y6.Cache||Q3);return _6;}
Y6.Cache=Q3;
function Z6(e,n,_6){var R7=true,S7=true;if(typeof e!='function'){throw new TypeError(F);}if(j7(_6)){R7='leading'in _6?!!_6.leading:R7;S7='trailing'in _6?!!_6.trailing:S7;}return X6(e,n,{'leading':R7,'maxWait':n,'trailing':S7});}
function $6(){if(!arguments.length){return[];}var e=arguments[0];return b7(e)?e:[e];}
function eq(e,n){return e===n||(e!==e&&n!==n);}
var a7=x4(function(){return arguments;}())?x4:function(e){return k7(e)&&P2.call(e,'callee')&&!$2.call(e,'callee');};var b7=Array.isArray;
function c7(e){return e!=null&&i7(e.length)&&!h7(e);}
function d7(e){return k7(e)&&c7(e);}
var e7=f3||O7;
function f7(e,n){return y4(e,n);}
function g7(e,n,_6){_6=typeof _6=='function'?_6:u;var R7=_6?_6(e,n):u;return R7===u?y4(e,n,u,_6):!!R7;}
function h7(e){if(!j7(e)){return false;}var n=t4(e);return n==D||n==E||n==y||n==R;}
function i7(e){return typeof e=='number'&&e>-1&&e%1==0&&e<=r;}
function j7(e){var n=typeof e;return e!=null&&(n=='object'||n=='function');}
function k7(e){return e!=null&&typeof e=='object';}
var l7=d2?v2(d2):A4;
function m7(e){return e==null;}
function n7(e){if(!k7(e)||t4(e)!=O){return false;}var n=Y2(e);if(n===null){return true;}var _6=P2.call(n,'constructor')&&n.constructor;return typeof _6=='function'&&_6 instanceof _6&&O2.call(_6)==S2;}
var o7=e2?v2(e2):D4;
function p7(e){return typeof e=='string'||(!b7(e)&&k7(e)&&t4(e)==U);}
function q7(e){return typeof e=='symbol'||(k7(e)&&t4(e)==X);}
var r7=f2?v2(f2):E4;
function s7(e){if(!e){return[];}if(c7(e)){return p7(e)?H2(e):j5(e);}if(b3&&e[b3]){return B2(e[b3]());}var n=P5(e),_6=n==G?C2:(n==T?F2:H7);return _6(e);}
function t7(e){if(!e){return e===0?e:0;}e=v7(e);if(e===I||e===-I){var n=(e<0?-1:1);return n*s;}return e===e?e:0;}
function u7(e){var n=t7(e),_6=n%1;return n===n?(_6?n-_6:n):0;}
function v7(e){if(typeof e=='number'){return e;}if(q7(e)){return N;}if(j7(e)){var n=typeof e.valueOf=='function'?e.valueOf():e;e=j7(n)?(n+''):n;}if(typeof e!='string'){return e===0?e:+e;}e=u2(e);var _6=v1.test(e);return(_6||x1.test(e))?W1(e.slice(2),_6?2:8):(u1.test(e)?N:+e);}
function w7(e){return k5(e,B7(e));}
function x7(e){return e==null?'':W4(e);}
function y7(e,n,_6){var R7=e==null?u:r4(e,n);return R7===u?_6:R7;}
function z7(e,n){return e!=null&&R5(e,n,v4);}
function A7(e){return c7(e)?d4(e):G4(e);}
function B7(e){return c7(e)?d4(e,true):H4(e);}
var C7=n5(function(e,n,_6){M4(e,n,_6);});var D7=n5(function(e,n,_6,R7){M4(e,n,_6,R7);});var E7=C5(function(e,n){var _6={};if(e==null){return _6;}var R7=false;n=l2(n,function(T7){T7=a5(T7,e);R7||(R7=T7.length>1);return T7;});k5(e,E5(e),_6);if(R7){_6=k4(_6,C|a|b,y5);}var S7=n.length;while(S7--){Y4(_6,n[S7]);}return _6;});var F7=C5(function(e,n){return e==null?{}:O4(e,n);});
function G7(e,n){if(e==null){return{};}var _6=l2(E5(e),function(R7){return[R7];});n=I5(n);return P4(e,_6,function(R7,S7){return n(R7,S7[0]);});}
function H7(e){return e==null?[]:w2(e,A7(e));}
function I7(e){return function(){return e;};}
function J7(e){return e;}
function K7(e){return F4(typeof e=='function'?e:k4(e,C));}
function L7(){}
function M7(e){return Z5(e)?s2(r6(e)):Q4(e);}
function N7(){return[];}
function O7(){return false;}
function P7(e){return(e&&e.length)?n4(e,J7,u4):u;}
function Q7(e){return(e&&e.length)?n4(e,J7,I4):u;}
A3.castArray=$6;A3.compact=u6;A3.constant=I7;A3.curry=W6;A3.debounce=X6;A3.difference=v6;A3.differenceBy=w6;A3.differenceWith=x6;A3.flatMap=R6;A3.flatMapDeep=S6;A3.flatMapDepth=T6;A3.flatten=y6;A3.flattenDeep=z6;A3.flattenDepth=A6;A3.intersection=B6;A3.intersectionBy=C6;A3.intersectionWith=D6;A3.iteratee=K7;A3.keys=A7;A3.keysIn=B7;A3.map=U6;A3.memoize=Y6;A3.merge=C7;A3.mergeWith=D7;A3.omit=E7;A3.pick=F7;A3.pickBy=G7;A3.property=M7;A3.throttle=Z6;A3.toArray=s7;A3.toPlainObject=w7;A3.union=F6;A3.unionBy=G6;A3.unionWith=H6;A3.uniq=I6;A3.uniqBy=J6;A3.uniqWith=K6;A3.values=H7;A3.without=L6;A3.xor=M6;A3.xorBy=N6;A3.xorWith=O6;A3.zipObject=P6;A3.zipObjectDeep=Q6;A3.eq=eq;A3.get=y7;A3.hasIn=z7;A3.identity=J7;A3.isArguments=a7;A3.isArray=b7;A3.isArrayLike=c7;A3.isArrayLikeObject=d7;A3.isBuffer=e7;A3.isEqual=f7;A3.isEqualWith=g7;A3.isFunction=h7;A3.isLength=i7;A3.isMap=l7;A3.isNil=m7;A3.isObject=j7;A3.isObjectLike=k7;A3.isPlainObject=n7;A3.isSet=o7;A3.isString=p7;A3.isSymbol=q7;A3.isTypedArray=r7;A3.last=E6;A3.max=P7;A3.min=Q7;A3.stubArray=N7;A3.stubFalse=O7;A3.noop=L7;A3.now=V6;A3.toFinite=t7;A3.toInteger=u7;A3.toNumber=v7;A3.toString=x7;A3.VERSION=V;W6.placeholder=A3;return A3;});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/base/util/includes',["sap/base/util/values"],function(v){"use strict";var i=function(c,V,f){if(typeof f!=='number'){f=0;}if(Array.isArray(c)||typeof c==='string'){if(f<0){f=(c.length+f)<0?0:c.length+f;}return c.includes(V,f);}else{return i(v(c),V,f);}};return i;});
sap.ui.predefine('sap/base/util/restricted/_debounce',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.debounce;});
sap.ui.predefine('sap/base/util/restricted/_isEqual',["sap/base/util/restricted/_/lodash.custom"],function(l){"use strict";return l.isEqual;});
sap.ui.predefine('sap/m/AccButton',['./Button','./AccButtonRenderer'],function(B,A){"use strict";
var a=B.extend("sap.m.AccButton",{metadata:{library:"sap.m",properties:{"tabIndex":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHidden":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHaspopup":{type:"string",defaultValue:null,bindable:"bindable"}}}});
return a;});
sap.ui.predefine('sap/m/AccButtonRenderer',["./ButtonRenderer","sap/ui/core/Renderer"],function(B,R){"use strict";var A=R.extend(B);A.apiVersion=2;
A.renderAccessibilityAttributes=function(r,c){if(c.getTabIndex()){r.attr("tabindex",c.getTabIndex());}if(c.getAriaHidden()){r.attr("aria-hidden",c.getAriaHidden());}if(c.getAriaHaspopup()){r.attr("aria-haspopup",c.getAriaHaspopup());}};
return A;},true);
sap.ui.predefine('sap/m/ColorPalette',['sap/ui/core/Control','sap/ui/Device','sap/ui/base/DataType','sap/ui/core/library','sap/ui/core/delegate/ItemNavigation','./Button','./Dialog','./library','./ColorPaletteRenderer',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/unified/library","sap/ui/unified/ColorPickerDisplayMode","sap/ui/unified/ColorPicker"],function(C,D,a,c,I,B,b,l,d,e,K,q,u,f,g){"use strict";var h=c.CSSColor;var i=u.ColorPickerMode;var j=l.ButtonType;var k=a.getType("boolean");var m="sapMColorPaletteSquare";var S=5;var M=2;var n=15;var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");
var o=C.extend("sap.m.ColorPalette",{metadata:{library:"sap.m",properties:{colors:{type:"sap.ui.core.CSSColor[]",group:"Appearance",defaultValue:["gold","darkorange","indianred","darkmagenta","cornflowerblue","deepskyblue","darkcyan","olivedrab","darkslategray","azure","white","lightgray","darkgray","dimgray","black"]}},aggregations:{_defaultColorButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_moreColorsButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{colorSelect:{parameters:{"value":{type:"sap.ui.core.CSSColor"},"defaultAction":{type:"boolean"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}}});
o.prototype.init=function(){this._oDefaultColor=null;this._bShowDefaultColorButton=false;this._bShowMoreColorsButton=false;this._bShowRecentColorsSection=false;this._oDisplayMode=f.Default;this._oMoreColorsDialog=null;this._oPaletteColorItemNavigation=null;this._oRecentColorItemNavigation=null;this._recentColors=[];};
o.prototype.exit=function(){if(this._oMoreColorsDialog){this._oMoreColorsDialog.destroy();delete this._oMoreColorsDialog;}if(this._oPaletteColorItemNavigation){this.removeDelegate(this._oPaletteColorItemNavigation);this._oPaletteColorItemNavigation.destroy();delete this._oPaletteColorItemNavigation;}if(this._oRecentColorItemNavigation){this.removeDelegate(this._oRecentColorItemNavigation);this._oRecentColorItemNavigation.destroy();delete this._oRecentColorItemNavigation;}};
o.prototype.setColors=function(r){r=this.validateProperty("colors",r);if(r.length<M||r.length>n){throw new Error("Cannot set property 'colors' - array must has minimum 2 and maximum 15 elements");}return this.setProperty("colors",r);};
o.prototype._setDisplayMode=function(r){var s=this._getColorPicker();s.setDisplayMode(r);this._oDisplayMode=r;return this;};
o.prototype._getDisplayMode=function(){return this._oDisplayMode;};
o.prototype._getColorPicker=function(){return this._ensureMoreColorsDialog()._oColorPicker;};
o.prototype.ontap=function(E){var t=q(E.target),s,$;$=t.closest("."+m);if(!$.length){return;}s=$.attr("data-sap-ui-color");this._fireColorSelect(s,false,E);};
o.prototype.onsaptabnext=o.prototype.onsaptabprevious=function(E){var r=this._getElementInfo(E.target);if(r.bIsMoreColorsButton){this.fireEvent("_colorNotSelected",{_originalEvent:E});return;}if(r.bIsDefaultColorButton){this._fireColorSelect(this._getDefaultColor(),true,E);return;}o.prototype.ontap.apply(this,arguments);};o.prototype.onsapenter=o.prototype.ontap;
o.prototype.onsapspace=function(E){E.preventDefault();};
o.prototype.onkeyup=function(E){if(E.which===K.SPACE){E.preventDefault();o.prototype.ontap.apply(this,arguments);}};
o.prototype.onAfterRendering=function(){this._ensureItemNavigation();};
o.prototype.pushToRecentColors=function(s){var r=this._recentColors.indexOf(s);if(r>-1){this._recentColors.splice(r,1);}else if(this._recentColors.length===5){this._recentColors.pop();}this._recentColors.unshift(s);this.invalidate();};
o.prototype.setColorPickerSelectedColor=function(r){if(!h.isValid(r)){throw new Error("Cannot set the selected color - invalid value: "+r);}this._getColorPicker().setColorString(r);return this;};
o.prototype._createDefaultColorButton=function(){return new B(this.getId()+"-btnDefaultColor",{width:"100%",type:j.Transparent,text:L.getText("COLOR_PALETTE_DEFAULT_COLOR"),visible:this._getShowDefaultColorButton(),press:function(E){this._fireColorSelect(this._getDefaultColor(),true,E);}.bind(this)});};
o.prototype._getDefaultColor=function(){return this._oDefaultColor;};
o.prototype._setDefaultColor=function(r){if(!h.isValid(r)){throw new Error("Cannot set internal property '_defaultColor' - invalid value: "+r);}this._oDefaultColor=r;return this;};
o.prototype._getShowDefaultColorButton=function(){return this._bShowDefaultColorButton;};
o.prototype._setShowDefaultColorButton=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showDefaultColorButton' - invalid value: "+v);}this._bShowDefaultColorButton=v;if(v&&!this._getDefaultColorButton()){this.setAggregation("_defaultColorButton",this._createDefaultColorButton());}if(this._getDefaultColorButton()){this._getDefaultColorButton().setVisible(v);}return this;};
o.prototype._getDefaultColorButton=function(){return this.getAggregation("_defaultColorButton");};
o.prototype._createMoreColorsButton=function(){return new B(this.getId()+"-btnMoreColors",{width:"100%",type:j.Transparent,text:L.getText("COLOR_PALETTE_MORE_COLORS"),visible:this._getShowMoreColorsButton(),press:this._openColorPicker.bind(this)});};
o.prototype._getShowMoreColorsButton=function(){return this._bShowMoreColorsButton;};
o.prototype._getShowRecentColorsSection=function(){return this._bShowRecentColorsSection;};
o.prototype._getRecentColors=function(){return this._recentColors;};
o.prototype._setShowRecentColorsSection=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showRecentColorsSection' - invalid value: "+v);}this._bShowRecentColorsSection=v;return this;};
o.prototype._setShowMoreColorsButton=function(v){if(!k.isValid(v)){throw new Error("Cannot set internal property 'showMoreColorsButton' - invalid value: "+v);}this._bShowMoreColorsButton=v;if(v&&!this._getMoreColorsButton()){this.setAggregation("_moreColorsButton",this._createMoreColorsButton());}if(this._getMoreColorsButton()){this._getMoreColorsButton().setVisible(v);}return this;};
o.prototype._getMoreColorsButton=function(){return this.getAggregation("_moreColorsButton");};
o.prototype._openColorPicker=function(){this.fireEvent("_beforeOpenColorPicker");this._ensureMoreColorsDialog().open();};
o.prototype._ensureMoreColorsDialog=function(){if(!this._oMoreColorsDialog){this._oMoreColorsDialog=this._createMoreColorsDialog();}return this._oMoreColorsDialog;};
o.prototype._createMoreColorsDialog=function(){var r=new b(this.getId()+"-moreColorsDialog",{stretch:!!D.system.phone,title:L.getText("COLOR_PALETTE_MORE_COLORS_TITLE")}).addStyleClass("CPDialog");r.addContent(r._oColorPicker=new g({mode:i.HSL,displayMode:this._oDisplayMode,liveChange:function(E){this.fireLiveChange(E.getParameters());}.bind(this)}));r.setBeginButton(new B({text:L.getText("COLOR_PALETTE_MORE_COLORS_CONFIRM"),press:function(E){r.close();if(r._oColorPicker.getColorString()){this._fireColorSelect(r._oColorPicker.getColorString(),false,E);}}.bind(this)}));r.setEndButton(new B({text:L.getText("COLOR_PALETTE_MORE_COLORS_CANCEL"),press:function(){r.close();}}));return r;};
o.prototype._focusFirstElement=function(){var F=this._getShowDefaultColorButton()?this._getDefaultColorButton().getDomRef():this._getAllPaletteColorSwatches()[0];F.focus();};
o.prototype._fireColorSelect=function(r,s,O){this.fireColorSelect({value:r,defaultAction:s,_originalEvent:O});this.pushToRecentColors(r);};
o.prototype._ensureItemNavigation=function(){var P=[],r=[];if(!this._oPaletteColorItemNavigation){this._oPaletteColorItemNavigation=new p(this);this._oPaletteColorItemNavigation.setColumns(S);this._oPaletteColorItemNavigation.setCycling(false);this.addDelegate(this._oPaletteColorItemNavigation);this._oPaletteColorItemNavigation.attachEvent(I.Events.BorderReached,this._onSwatchContainerBorderReached,this);this._oPaletteColorItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]});}if(!this._oRecentColorItemNavigation){this._oRecentColorItemNavigation=new p(this);this._oRecentColorItemNavigation.setColumns(S);this._oRecentColorItemNavigation.setCycling(false);this.addDelegate(this._oRecentColorItemNavigation);this._oRecentColorItemNavigation.attachEvent(I.Events.BorderReached,this._onSwatchContainerBorderReached,this);this._oRecentColorItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]});}P=P.concat(this._getAllPaletteColorSwatches());r=r.concat(this._getAllRecentColorSwatches());r=r.slice(0,this._getRecentColors().length);this._oPaletteColorItemNavigation.setRootDomRef(this.getDomRef("swatchCont-paletteColor"));this._oPaletteColorItemNavigation.setItemDomRefs(P);this._oRecentColorItemNavigation.setRootDomRef(this.getDomRef("swatchCont-recentColors"));this._oRecentColorItemNavigation.setItemDomRefs(r);};
o.prototype._onSwatchContainerBorderReached=function(E){var N,s,H=["saphome","sapend"].indexOf(E.getParameter("event").type)>-1,r=this._getAllRecentColorSwatches()[0]?this._getElementInfo(E.mParameters.event.target).bIsRecentColorSwatch:false;if(E.getParameter(p.BorderReachedDirection)===p.BorderReachedDirectionForward){if(this._getShowMoreColorsButton()&&!r){N=this._getMoreColorsButton();}else if(!H&&this._bShowRecentColorsSection&&!r&&this._getRecentColors().length>0){N=this._getAllRecentColorSwatches()[0];}else if(!H&&this._getShowDefaultColorButton()){N=this._getDefaultColorButton();}else if(!H){N=this._getAllPaletteColorSwatches()[0];}}else{if(this._getShowDefaultColorButton()&&!r){N=this._getDefaultColorButton();}else if(!H&&this._bShowRecentColorsSection&&!r&&this._getRecentColors().length>0){N=this._getAllRecentColorSwatches()[0];}else if(!H&&this._getShowMoreColorsButton()){N=this._getMoreColorsButton();}else if(!H&&!this._getShowDefaultColorButton()){s=this._getAllPaletteColorSwatches();N=s[s.length-1];}else if(!H){s=this._getAllPaletteColorSwatches();N=s[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}}if(N){N.focus();}return N;};
o.prototype.onsapnext=function(E){var N,r=this._getElementInfo(E.target);if(!(r.bIsDefaultColorButton||r.bIsMoreColorsButton)){return;}E.preventDefault();E.stopImmediatePropagation(true);if(r.bIsDefaultColorButton){N=this._getAllPaletteColorSwatches()[0];}else if(this._getRecentColors().length>0&&!r.bIsRecentColorSwatch&&this._bShowRecentColorsSection){N=this._getAllRecentColorSwatches()[0];}else{N=this._getShowDefaultColorButton()?this._getDefaultColorButton():this._getAllPaletteColorSwatches()[0];}N.focus();};
o.prototype.onsapprevious=function(E){var N,F=this._getElementInfo(E.target),A;if(!(F.bIsDefaultColorButton||F.bIsMoreColorsButton||E.target===this._getAllRecentColorSwatches()[0])){return;}E.preventDefault();E.stopImmediatePropagation(true);A=this._getAllPaletteColorSwatches();if(F.bIsMoreColorsButton||(!F.bIsMoreColorsButton&&this.bIsRecentColorSwatch)){N=E.keyCode===K.ARROW_UP?A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()]:A[A.length-1];}else if(F.bIsRecentColorSwatch&&!this._bShowMoreColorsButton&&!this._bShowDefaultColorButton){A=this._getAllPaletteColorSwatches();N=A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}else if(this._getRecentColors().length>0&&!F.bIsRecentColorSwatch&&this._bShowRecentColorsSection){N=this._getAllRecentColorSwatches()[0];}else if(this._getShowMoreColorsButton()){N=this._getMoreColorsButton();}else{N=A[this._oPaletteColorItemNavigation._getIndexOfTheFirstItemInLastRow()];}N.focus();};
o.prototype.onsaphome=function(E){var r=this._getElementInfo(E.target);if(!r.bIsMoreColorsButton){return;}if(this._getShowDefaultColorButton()){this._getDefaultColorButton().focus();}E.preventDefault();E.stopImmediatePropagation(true);};
o.prototype.onsapend=function(E){var r=this._getElementInfo(E.target);if(!r.bIsDefaultColorButton){return;}if(this._getShowMoreColorsButton()){this._getMoreColorsButton().focus();}E.preventDefault();E.stopImmediatePropagation(true);};
o.prototype._getAllPaletteColorSwatches=function(){return this.$().find("."+m).get().slice(0,this.getColors().length);};
o.prototype._getAllRecentColorSwatches=function(){return this.$().find("."+m).get().slice(this.getColors().length);};
o.prototype._getElementInfo=function(E){var r=this._getShowDefaultColorButton()&&e(E,this._getDefaultColorButton().getDomRef()),s=!r&&this._getShowMoreColorsButton()&&e(E,this._getMoreColorsButton().getDomRef()),t=this._getAllRecentColorSwatches().indexOf(E)>-1,v=this._getAllPaletteColorSwatches().indexOf(E)>-1;return{bIsDefaultColorButton:r,bIsMoreColorsButton:s,bIsASwatch:v,bIsRecentColorSwatch:t};};
var p=I.extend("sap.m.ItemNavigationHomeEnd",{constructor:function(){I.apply(this,arguments);this.setHomeEndColumnMode(true);this.fireEvent=function(N,E){var s;if(N===I.Events.BorderReached){s=p.BorderReachedDirectionBackward;if(["sapnext","sapend"].indexOf(E.event.type)>-1){s=p.BorderReachedDirectionForward;}E[p.BorderReachedDirection]=s;}I.prototype.fireEvent.apply(this,arguments);};}});
p.BorderReachedDirection="direction";p.BorderReachedDirectionForward="BorderReachedDirectionForward";p.BorderReachedDirectionBackward="BorderReachedDirectionBackward";
p.prototype.getColumns=function(){return this.iColumns;};
p.prototype.onsapprevious=function(E){var r=e(this.getRootDomRef(),E.target),A=E.keyCode===K.ARROW_UP&&this.getFocusedIndex()===0;if(!r){return;}if(!A){I.prototype.onsapprevious.apply(this,arguments);return;}E.preventDefault();this.fireEvent(I.Events.BorderReached,{index:0,event:E});};
p.prototype.onsapnext=function(E){var r=e(this.getRootDomRef(),E.target),s,t,v;if(!r){return;}if(E.keyCode!==K.ARROW_DOWN){I.prototype.onsapnext.apply(this,arguments);return;}t=this.getFocusedIndex();v=this._getItemInfo(t);if(v.bIsLastItem&&v.bIsInTheLastColumn){E.preventDefault();this.fireEvent(I.Events.BorderReached,{index:t,event:E});return;}if(v.bNextRowExists&&!v.bItemSameColumnNextRowExists){E.preventDefault();s=this.getItemDomRefs();s[s.length-1].focus();return;}I.prototype.onsapnext.apply(this,arguments);};
p.prototype.onsaphome=function(E){var r=e(this.getRootDomRef(),E.target),s;if(!r){return;}s=this._getItemInfo(this.getFocusedIndex());if(!s.bIsInTheFirstColumn){I.prototype.onsaphome.apply(this,arguments);return;}E.preventDefault();if(s.bIsFirstItem){this.fireEvent(I.Events.BorderReached,{index:0,event:E});}else{this.getItemDomRefs()[0].focus();}};
p.prototype.onsapend=function(E){var r=e(this.getRootDomRef(),E.target),s;if(!r){return;}s=this._getItemInfo(this.getFocusedIndex());if(!(s.bIsLastItem||s.bIsInTheLastColumn)){I.prototype.onsapend.apply(this,arguments);return;}E.preventDefault();if(s.bIsLastItem){this.fireEvent(I.Events.BorderReached,{index:this.getItemDomRefs().length-1,event:E});}else{this.getItemDomRefs()[this.getItemDomRefs().length-1].focus();}};
p.prototype._getItemInfo=function(r){var s=this.getItemDomRefs().length,t=r===(s-1),v=s>this.getColumns()?this.getColumns():s,w=r%this.getColumns()===0,x=(r+1)%v===0,y=Math.floor(r/this.getColumns())+1,N,z;N=y*this.getColumns()<s;z=N&&(r+this.getColumns())<s;return{bIsFirstItem:r===0,bIsLastItem:t,bIsInTheLastColumn:x,bIsInTheFirstColumn:w,bNextRowExists:N,bItemSameColumnNextRowExists:z};};
p.prototype._getIndexOfTheFirstItemInLastRow=function(){return Math.floor((this.getItemDomRefs().length-1)/this.getColumns())*this.getColumns();};
o.prototype._ItemNavigation=p;o.prototype._ColorsHelper={RGB_TO_NAMED_COLORS_MAP:{"#FFB200":"gold","#FF8C00":"darkorange","#CD5C5C":"indianred","#8B008B":"darkmagenta","#6495ED":"cornflowerblue","#00BFFF":"deepskyblue","#008B8B":"darkcyan","#6B8E23":"olivedrab","#2F4F4F":"darkslategray","#F0FFFF":"azure","#FFFFFF":"white","#D3D3D3":"lightgray","#A9A9A9":"darkgray","#696969":"dimgray","#000000":"black"},NAME_COLORS_TO_RGB_MAP:{"gold":"#FFB200","darkorange":"#FF8C00","indianred":"#CD5C5C","darkmagenta":"#8B008B","cornflowerblue":"#6495ED","deepskyblue":"#00BFFF","darkcyan":"#008B8B","olivedrab":"#6B8E23","darkslategray":"#2F4F4F","azure":"#F0FFFF","white":"#FFFFFF","lightgray":"#D3D3D3","darkgray":"#A9A9A9","dimgray":"#696969","black":"#000000"},getNamedColor:function(s){var H="";if(!s||s.toLowerCase().indexOf("hsl")!==-1){return undefined;}if(s.indexOf("#")===-1){return this.NAME_COLORS_TO_RGB_MAP[s.toLowerCase()]?s.toLowerCase():undefined;}if(s.length===4){H=["#",s[1],s[1],s[2],s[2],s[3],s[3]].join("");}else{H=s;}H=H.toUpperCase();return this.RGB_TO_NAMED_COLORS_MAP[H];}};return o;});
sap.ui.predefine('sap/m/ColorPalettePopover',['sap/ui/core/Control','sap/ui/Device','sap/ui/unified/ColorPickerDisplayMode','./Button','./ResponsivePopover','./ColorPalette','./library'],function(C,D,a,B,R,b,l){"use strict";var P=l.PlacementType;
var c=C.extend("sap.m.ColorPalettePopover",{
metadata:{library:"sap.m",publicMethods:["openBy","close"],properties:{defaultColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},colors:{type:"sap.ui.core.CSSColor[]",group:"Appearance",defaultValue:["gold","darkorange","indianred","darkmagenta","cornflowerblue","deepskyblue","darkcyan","olivedrab","darkslategray","azure","white","lightgray","darkgray","dimgray","black"]},showDefaultColorButton:{type:"boolean",group:"Appearance",defaultValue:true},showMoreColorsButton:{type:"boolean",group:"Appearance",defaultValue:true},showRecentColorsSection:{type:"boolean",group:"Appearance",defaultValue:true},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:a.Default}},events:{colorSelect:{parameters:{"value":{type:"sap.ui.core.CSSColor"},"defaultAction":{type:"boolean"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},
renderer:{apiVersion:2}
});
var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");var F={COLOR_PALETTE_PROPS:{colors:"setColors",defaultColor:"_setDefaultColor",showDefaultColorButton:"_setShowDefaultColorButton",showMoreColorsButton:"_setShowMoreColorsButton",showRecentColorsSection:"_setShowRecentColorsSection",displayMode:"_setDisplayMode"},POPOVER_METHODS:{getDomRef:"",close:"",openBy:""}};
c.prototype.init=function(){this._oPopover=null;this._bPopoverDestroying=null;};
c.prototype.exit=function(){this._bPopoverDestroying=true;if(this._oPopover){this._oPopover.removeDelegate(this._oPopover._onAfterRenderingDelegate);this._oPopover.destroy();this._oPopover=null;}};
c.prototype.setColorPickerSelectedColor=function(d){this._getPalette().setColorPickerSelectedColor(d);return this;};
c.prototype._getPalette=function(){return this._ensurePopover().getContent()[0];};
c.prototype._ensurePopover=function(){if(!this._oPopover){this._oPopover=this._createPopover();}return this._oPopover;};
c.prototype._createPopover=function(){var p,o=this._createColorPalette(),d;p=new R(this.getId()+"-colorPalettePopover",{showHeader:D.system.phone,placement:P.VerticalPreferredBottom,showArrow:false,showCloseButton:false,title:L.getText("COLOR_PALETTE_TITLE"),content:o,afterOpen:o._focusFirstElement.bind(o)}).addStyleClass("sapMColorPaletteContainer");if(D.system.phone){p.setEndButton(new B({text:L.getText("COLOR_PALETTE_CANCEL"),press:function(){p.close();}}));}o.attachEvent("_beforeOpenColorPicker",function(){p.close();});o.attachEvent("_colorNotSelected",function(e){this._handleNextOrPreviousUponPaletteClose(e);p.close();}.bind(this));o.attachEvent("colorSelect",function(e){this._handleNextOrPreviousUponPaletteClose(e);p.close();this.fireColorSelect({"value":e.getParameter("value"),"defaultAction":e.getParameter("defaultAction")});}.bind(this));d={onAfterRendering:function(){var $=this.$();$.attr("aria-modal","true");$.attr("aria-label",this.getTitle());}};p.addEventDelegate(d,p);p._onAfterRenderingDelegate=d;return p;};
c.prototype._createColorPalette=function(){var o=new b(this.getId()+"-palette",{liveChange:function(e){this.fireLiveChange(e.getParameters());}.bind(this)});o._setShowDefaultColorButton(this.getShowDefaultColorButton());o._setShowMoreColorsButton(this.getShowMoreColorsButton());o._setShowRecentColorsSection(this.getShowRecentColorsSection());return o;};
c.prototype._handleNextOrPreviousUponPaletteClose=function(e){var o=e.getParameter("_originalEvent");if(!o){return;}if(o.type==="saptabnext"||o.type==="saptabprevious"){o.stopPropagation();o.preventDefault();}};
c.prototype.setProperty=function(p,v,s){var t;if(F.COLOR_PALETTE_PROPS[p]!==undefined){t=F.COLOR_PALETTE_PROPS[p]||p;b.prototype[t].call(this._getPalette(),v);}return C.prototype.setProperty.apply(this,arguments);};
Object.keys(F.POPOVER_METHODS).forEach(function(s){var t=F.COLOR_PALETTE_PROPS[s]||s;c.prototype[s]=function(){if(this._bPopoverDestroying){return null;}var p=this._ensurePopover();return p[t].apply(p,arguments);};});return c;});
sap.ui.predefine('sap/m/ColorPaletteRenderer',['sap/ui/Device'],function(D){"use strict";var C={apiVersion:2};var l=sap.ui.getCore().getLibraryResourceBundle("sap.m");
C.render=function(r,c){r.openStart("div",c);r.class("sapMColorPalette");r.openEnd();if(c._getShowDefaultColorButton()){this.renderDefaultColorButton(r,c);this.renderSeparator(r);}this.renderSwatches(r,c);if(c._getShowMoreColorsButton()){this.renderSeparator(r);this.renderMoreColorsButton(r,c);if(D.system.phone){this.renderSeparator(r);}}if(c._getShowRecentColorsSection()){if(!c._getShowMoreColorsButton()||!D.system.phone){this.renderSeparator(r);}this.renderRecentColorsSection(r,c);if(D.system.phone){this.renderSeparator(r);}}r.close("div");};
C.renderSwatches=function(r,c){var s=c.getColors();r.openStart("div",c.getId()+"-swatchCont-paletteColor");r.class("sapMColorPaletteContent");r.accessibilityState(c,{"role":"region","label":l.getText("COLOR_PALETTE_SWATCH_CONTAINER_TITLE")});r.openEnd();s.forEach(function(a,i){this.renderSquare(r,c,a,i,false);},this);r.close("div");};
C.renderSquare=function(r,c,s,i,I){var n=c._ColorsHelper.getNamedColor(s),a=(n===undefined)?l.getText("COLOR_PALETTE_PREDEFINED_COLOR_CUSTOM"):l.getText("COLOR_PALETTE_PREDEFINED_COLOR_"+n.toUpperCase()),b=I?l.getText("COLOR_PALETTE_RECENT_COLOR",[i+1,a]):l.getText("COLOR_PALETTE_PREDEFINED_COLOR",[i+1,a]);r.openStart("div");r.class("sapMColorPaletteSquare");if(I&&s===""){r.class("sapMRecentColorSquareDisabled");}r.attr("data-sap-ui-color",s);r.attr("tabindex","-1");r.attr("title",b);r.accessibilityState(c,{"role":"button","label":b});r.openEnd();r.openStart("div");r.style("background-color",s);r.openEnd();r.close("div");r.close("div");};
C.renderSeparator=function(r){r.openStart("div");r.class("sapMColorPaletteSeparator");r.openEnd();r.voidStart("hr");r.voidEnd();r.close("div");};
C.renderDefaultColorButton=function(r,c){r.renderControl(c._getDefaultColorButton());};
C.renderMoreColorsButton=function(r,c){r.renderControl(c._getMoreColorsButton());};
C.renderRecentColorsSection=function(r,c){var s,R=c._getRecentColors(),a=5,b=l.getText("COLOR_PALETTE_SWATCH_RECENT_COLOR_CONTAINER_TITLE");r.openStart("div",c.getId()+"-swatchCont-recentColors");r.class("sapMColorPaletteContent");r.attr("role","region");r.attr("aria-label",b);r.openEnd();for(var i=0;i<a;i++){if(R[i]){s=R[i];}else{s="";}this.renderSquare(r,c,s,i,true);}r.close("div");};
return C;},true);
sap.ui.predefine('sap/m/ComboBox',['./ComboBoxTextField','./ComboBoxBase','./List','./library','sap/ui/Device','sap/ui/core/Item','./ComboBoxRenderer',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/scrollToItem","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/ui/events/KeyCodes","sap/ui/core/Core","sap/base/Log","sap/ui/dom/jquery/control"],function(C,a,L,l,D,I,b,c,s,i,t,f,d,g,h,j,K,k,m,q){"use strict";var n=l.ListMode;
var o=a.extend("sap.m.ComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ComboBox.designtime",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{value:{type:"string"},itemPressed:{type:"boolean"}}},selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},dnd:{draggable:false,droppable:true}}});
function S(e){var p=this.getSelectedItem(),r=d.getListItem(p),u=p&&r&&r.getDomRef(),v=u&&u.offsetTop,w=u&&u.offsetHeight,P=this.getPicker(),x=P.getDomRef("cont"),y=x.clientHeight;if(p&&((v+w)>(y))){if(!e){this._getList().$().css("visibility","hidden");}else{x.scrollTop=v-w/2;this._getList().$().css("visibility","visible");}}}
o.prototype._getSelectedItemText=function(v){v=v||this.getSelectedItem();if(!v){v=this.getDefaultSelectedItem();}if(v){return v.getText();}return"";};
o.prototype.setSelectedIndex=function(e,_){var p;_=_||this.getItems();e=(e>_.length-1)?_.length-1:Math.max(0,e);p=_[e];if(p){this.setSelection(p);}};
o.prototype.revertSelection=function(){var p,P=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){p=this._sValueBeforeOpen;}else{p=this._oSelectedItemBeforeOpen.getText();}P&&P.setValue(p);};
o.prototype._filterStartsWithItems=function(e,M){var p=e.toLowerCase();var r=this.getItems(),F=r.filter(function(u){return u[M]&&u[M]().toLowerCase().startsWith(p);});return F;};
o.prototype.setSelection=function(v){var e=this._getList(),p,r;this.setAssociation("selectedItem",v);this._setPropertyProtected("selectedItemId",(v instanceof I)?v.getId():v,true);if(typeof v==="string"){v=k.byId(v);}if(e){p=d.getListItem(v);if(p){e.setSelectedItem(p,true);}else{e.removeSelections(true);}}r=v?v.getKey():"";this._setPropertyProtected("selectedKey",r);};
o.prototype.isSelectionSynchronized=function(){var v=this.getSelectedItem();return this.getSelectedKey()===(v&&v.getKey());};
o.prototype.isItemSelected=function(v){return v&&(v.getId()===this.getAssociation("selectedItem"));};
o.prototype.setAssociation=function(A,e,p){var r=this._getList();if(r&&(A==="selectedItem")){if(!(e instanceof I)){e=this.findItem("id",e);}r.setSelectedItem(d.getListItem(e),true);}return a.prototype.setAssociation.apply(this,arguments);};
o.prototype.removeAllAssociation=function(A,e){var p=this._getList();if(p&&(A==="selectedItem")){L.prototype.removeAllAssociation.apply(p,arguments);}return a.prototype.removeAllAssociation.apply(this,arguments);};
o.prototype.init=function(){a.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._sInputValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;if(D.system.phone){this.attachEvent("_change",this.onPropertyChange,this);}this.setLastFocusedListItem(null);};
o.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);var e=this.getItems();if(this.getRecreateItems()){d.fillList(e,this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false);}this.synchronizeSelection();if(!this.isOpen()&&document.activeElement===this.getFocusDomRef()&&this.getEnabled()){this.addStyleClass("sapMFocus");}if(this.getSelectedItem()&&e.indexOf(this.getSelectedItem())===-1){var v=this.getValue();this.clearSelection();this.setValue(v);}};
o.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oSelectedItemBeforeOpen=null;this._bInputFired=null;this.setLastFocusedListItem(null);};
o.prototype.onBeforeRenderingPicker=function(){var O=this["onBeforeRendering"+this.getPickerType()];O&&O.call(this);};
o.prototype.onBeforeRenderingDropdown=function(){var p=this.getPicker(),w=(this.$().outerWidth()/parseFloat(l.BaseFontSize))+"rem";if(p){p.setContentMinWidth(w);}};
o.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var e=this._getList(),F=this.getFocusDomRef();if(e){e.setBusy(true);}if(F){F.setAttribute("aria-busy","true");}}};
o.prototype.onAfterRenderingPicker=function(){var O=this["onAfterRendering"+this.getPickerType()];O&&O.call(this);S.call(this,false);};
o.prototype.onAfterRenderingList=function(){var e=this.getSelectedItem(),p=d.getListItem(e);if(this.bProcessingLoadItemsEvent&&(this.getItems().length===0)){return;}var r=this._getList(),F=this.getFocusDomRef();this.highlightList(this._sInputValueBeforeOpen);if(e){r.setSelectedItem(p);this.setLastFocusedListItem(p);}if(r){r.setBusy(false);}if(F){F.removeAttribute("aria-busy");}};
o.prototype.filterItems=function(v){return f(this,this.getItems(),v,true,this.getFilterSecondaryValues(),this.fnFilter||i);};
o.prototype._mapItemToListItem=function(e){var p=d.createListItemFromCoreItem(e,this.getShowSecondaryValues());if(e.isA("sap.ui.core.Item")){this.setSelectable(e,e.getEnabled());}if(e.isA("sap.ui.core.SeparatorItem")){p.addAriaLabelledBy(this._getGroupHeaderInvisibleText().getId());}p.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"NonInteractiveItem");return p;};
o.prototype.oninput=function(e){a.prototype.oninput.apply(this,arguments);this.syncPickerContent();if(e.isMarked("invalid")){return;}this._bInputFired=true;this.loadItems(function(){this.handleInputValidation(e);},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&(this.getPickerType()==="Dropdown")){this.open();}if(this.getLastFocusedListItem()){this.getLastFocusedListItem().removeStyleClass("sapMLIBFocused");this.setLastFocusedListItem(null);}this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};
o.prototype.handleInputValidation=function(e){var v,p,F,r,u=this.getSelectedItem(),V=e.target.value,E=V==="",w=e.srcControl,T=(this.getPickerType()==="Dropdown"),x=d.getListItem(u),y=this.filterItems(V);if(E&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){v=this.getItems();}else{v=y.items;g(this.getItems(),y);}F=v[0];r=v.some(function(z){return z.getKey()===this.getSelectedKey();},this);p=this.intersectItems(this._filterStartsWithItems(V,'getText'),v);if(F&&this.getSelectedKey()&&!r){this.setSelection(null);}if(!E&&w&&w._bDoTypeAhead){this.handleTypeAhead(w,v,V);}else if(!E&&p[0]&&V===p[0].getText()){this.setSelection(p[0]);}else{this.setSelection(null);}if(u!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});x=d.getListItem(this.getSelectedItem());}this._sInputValueBeforeOpen=V;if(this.isOpen()){setTimeout(function(){this.highlightList(V);}.bind(this));}if(F){if(E&&!this.bOpenedByKeyboardOrButton){this.close();}else if(T){this.open();s(x,this.getPicker());}}else if(this.isOpen()){if(T&&!this.bOpenedByKeyboardOrButton){this.close();}}else{this.clearFilter();}};
o.prototype.handleTypeAhead=function(e,p,v){var r,u=this.getFilterSecondaryValues(),M=t(v,e,p,function(w){r=[w.getText()];if(u){r.push(w.getAdditionalText());}return r;});this.setSelection(M[0]);this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");};
o.prototype.onSelectionChange=function(e){var p=d.getItemByListItem(this.getItems(),e.getParameter("listItem")),P=this.getChangeEventParams(),r=(p!==this.getSelectedItem());p&&this.updateDomValue(p.getText());this.setSelection(p);this.fireSelectionChange({selectedItem:this.getSelectedItem()});if(r){P.itemPressed=true;this.onChange(null,P);}};
o.prototype.onItemPress=function(e){var p=e.getParameter("listItem"),T=p.getTitle(),P=this.getChangeEventParams(),r=(p!==d.getListItem(this.getSelectedItem()));if(p.isA("sap.m.GroupHeaderListItem")){return;}this.setLastFocusedListItem(p);this.updateDomValue(T);if(!r){P.itemPressed=true;this.onChange(null,P);}this._setPropertyProtected("value",T,true);if(this.getPickerType()==="Dropdown"&&!this.isPlatformTablet()){this.selectText(this.getValue().length,this.getValue().length);}this.close();};
o.prototype.onBeforeOpen=function(){a.prototype.onBeforeOpen.apply(this,arguments);var p=this["onBeforeOpen"+this.getPickerType()],e=this.getFocusDomRef();this.setProperty("open",true);if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems();}if(e){e.setAttribute("aria-controls",this.getPicker().getId());}this.addContent();p&&p.call(this);};
o.prototype.onBeforeOpenDialog=function(){var p=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();this.getSelectedItem()&&g(this.getItems(),this.filterItems(""));p.setValue(this._sValueBeforeOpen);};
o.prototype.onAfterOpen=function(){var e=this.getSelectedItem(),p=h(this.getFocusDomRef()),T=this.isPlatformTablet();this.closeValueStateMessage();S.call(this,true);if(!T&&e&&p.start===p.end&&p.start>1){setTimeout(function(){this.selectText(0,p.end);}.bind(this),0);}};
o.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);var e=this.getFocusDomRef();this.setProperty("open",false);if(e){e.removeAttribute("aria-controls");}if(document.activeElement===e){this.updateFocusOnClose();}this.toggleIconPressedStyle(false);};
o.prototype.onAfterClose=function(){this.clearFilter();this._sInputValueBeforeOpen="";if(this.isPickerDialog()){a.prototype.closeValueStateMessage.apply(this,arguments);}};
o.prototype.onItemChange=function(e){var p=this.getAssociation("selectedItem"),N=e.getParameter("newValue"),P=e.getParameter("name");if(p===e.getParameter("id")){switch(P){case"text":if(!this.isBound("value")){this.setValue(N);}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(N);}break;}}return a.prototype.onItemChange.call(this,e,this.getShowSecondaryValues());};
o.prototype.onkeydown=function(e){var p=e.srcControl;a.prototype.onkeydown.apply(p,arguments);if(!p.getEnabled()||!p.getEditable()){return;}var r=K;p._bDoTypeAhead=!D.os.android&&(e.which!==r.BACKSPACE)&&(e.which!==r.DELETE);};
o.prototype.oncut=function(e){var p=e.srcControl;a.prototype.oncut.apply(p,arguments);p._bDoTypeAhead=false;};
o.prototype.onsapenter=function(e){var p=e.srcControl,r=p.getSelectedItem();if(r&&this.getFilterSecondaryValues()){p.updateDomValue(r.getText());}a.prototype.onsapenter.apply(p,arguments);if(!p.getEnabled()||!p.getEditable()){return;}if(p.isOpen()&&!this.isComposingCharacter()){p.close();}};
["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(N){o.prototype[N]=function(e){this.handleListNavigation(e,N);};});
o.prototype.handleListNavigation=function(e,N){var p=e.srcControl;if(!p.getEnabled()||!p.getEditable()){return;}e.preventDefault();this.loadItems(function(){this.syncPickerContent();if(!this.isOpen()){this.handleInlineListNavigation(N);}else{var r=this._getSuggestionsPopover();r&&r.handleListNavigation(this,e,N);}e.setMarked();});};
o.prototype.handleInlineListNavigation=function(N){var e=this.getItems(),p=d.getSelectableItems(e),r=this.getSelectedItem(),u;switch(N){case"onsapdown":u=p.indexOf(r)+1;break;case"onsapup":u=r?p.indexOf(r)-1:p.length-1;break;case"onsapend":u=p.length-1;break;case"onsaphome":u=0;break;case"onsappagedown":u=Math.min(p.length-1,p.indexOf(r)+10);break;case"onsappageup":u=Math.max(0,p.indexOf(r)-10);break;}this.handleSelectionFromList(p[u]);};
o.prototype.handleSelectionFromList=function(e){if(!e){return;}var p=this.getFocusDomRef(),T=p.value.substring(0,p.selectionStart),r=this.getSelectedItem(),u=this.getLastFocusedListItem(),v,w,x,y;if(e.isA("sap.m.StandardListItem")||e.isA("sap.m.GroupHeaderListItem")){v=e;e=d.getItemByListItem(this.getItems(),e);}else{v=d.getListItem(e);}this.setSelection(e);this.setLastFocusedListItem(v);if(e.isA("sap.ui.core.SeparatorItem")){this.setSelectedItem(null);this.updateDomValue(T);this.fireSelectionChange({selectedItem:null});this._getGroupHeaderInvisibleText().setText(this._oRb.getText("LIST_ITEM_GROUP_HEADER")+" "+e.getText());return;}if(e!==r){w=e.getText();y=u&&u.isA("sap.m.GroupHeaderListItem");x=j(h(p,y),w,T,y);this.updateDomValue(w);this.fireSelectionChange({selectedItem:e});e=this.getSelectedItem();this.selectText(x,p.value.length);}};
o.prototype.setLastFocusedListItem=function(e){this._oLastFocusedListItem=e;};
o.prototype.getLastFocusedListItem=function(){return this._oLastFocusedListItem;};
o.prototype.onsapshow=function(e){var p,r,E=this.getEditable(),u;a.prototype.onsapshow.apply(this,arguments);this.syncPickerContent();if(!this.getValue()&&E){p=d.getSelectableItems(this.getItems());r=p[0];if(r){u=d.getListItem(r);if(this.isOpen()){this._getSuggestionsPopover().updateFocus(this,u);this.setLastFocusedListItem(u);}else{this.addStyleClass("sapMFocus");}this.setSelection(r);this.updateDomValue(r.getText());this.fireSelectionChange({selectedItem:r});setTimeout(function(){this.selectText(0,r.getText().length);}.bind(this),0);}}};
o.prototype.onsaphide=o.prototype.onsapshow;
o.prototype.ontap=function(e){if(!this.getEnabled()){return;}this.updateFocusOnClose();};
o.prototype.updateFocusOnClose=function(){var e=this.getFocusDomRef(),p=this._getSuggestionsPopover();this.setLastFocusedListItem(null);if(p){p.setValueStateActiveState(false);p.updateFocus(this);}e.removeAttribute("aria-activedescendant");};
o.prototype.onmouseup=function(){if(this.getPickerType()==="Dropdown"&&document.activeElement===this.getFocusDomRef()&&!this.getSelectedText()){this.selectText(0,this.getValue().length);}};
o.prototype.onfocusin=function(e){var p=this.getPickerType()==="Dropdown";if(this._bIsBeingDestroyed){return;}if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(p&&!this.isPlatformTablet()){this.focus();}}else{if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}this.bOpenValueStateMessage=true;}if(this.getEnabled()&&(!this.isOpen()||!this.getSelectedItem()||!this._getList().hasStyleClass("sapMListFocus"))){this.addStyleClass("sapMFocus");}};
o.prototype.onsapfocusleave=function(e){var T,p,r,F,u=this.getSelectedItem();if(u&&this.getFilterSecondaryValues()){this.updateDomValue(u.getText());}a.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return;}p=this.getPicker();if(!e.relatedControlId||!p){return;}T=this.isPlatformTablet();r=k.byId(e.relatedControlId);F=r&&r.getFocusDomRef();if(c(p.getFocusDomRef(),F)&&!T&&!(this._getSuggestionsPopover().getValueStateActiveState())){this.focus();}};
o.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return;}var e=this.getSelectedKey(),v=this.getItemByKey(""+e);if(v&&(e!=="")){this.setAssociation("selectedItem",v,true);this._setPropertyProtected("selectedItemId",v.getId(),true);this.setValue(v.getText());this._sValue=this.getValue();}};
o.prototype.configPicker=function(p){var r=this.getRenderer(),e=r.CSS_CLASS_COMBOBOXBASE;p.setHorizontalScrolling(false).addStyleClass(e+"Picker").addStyleClass(e+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this);};
o.prototype._configureList=function(e){var r=this.getRenderer();if(!e){return;}e.setMode(n.SingleSelectMaster).addStyleClass(r.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(r.CSS_CLASS_COMBOBOX+"List");e.attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);e.addEventDelegate({onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this);};
o.prototype.getDefaultSelectedItem=function(){return null;};
o.prototype.getChangeEventParams=function(){return{itemPressed:false};};
o.prototype.clearSelection=function(){this.setAssociation("selectedItem",null);this.setSelectedItemId("");this.setSelectedKey("");};
o.prototype.selectText=function(e,p){a.prototype.selectText.apply(this,arguments);return this;};
o.prototype.clone=function(e){var p=a.prototype.clone.apply(this,arguments),r=this._getList();p.setAssociation("selectedItem",null);if(!this.isBound("items")&&r){p.syncPickerContent();p.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));}return p;};
o.prototype.open=function(){this.syncPickerContent();a.prototype.open.call(this);var e=d.getListItem(this.getSelectedItem());if(!this._bInputFired){this._getSuggestionsPopover()&&this._getSuggestionsPopover().updateFocus(this,e);}this._bInputFired=false;return this;};
o.prototype.syncPickerContent=function(){var p,P=this.getPicker(),e=this.getInputForwardableProperties();if(!P){var r,G;P=this.createPicker(this.getPickerType());p=this.getPickerTextField();d.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));g(this.getItems(),this.filterItems(""));if(p){e.forEach(function(u){u=u.charAt(0).toUpperCase()+u.slice(1);r="set"+u;G="get"+u;if(p[r]){p[r](this[G]());}},this);}this._getSuggestionsPopover().updateValueState(this.getValueState(),this.getValueStateText(),this.getShowValueStateMessage());}this.synchronizeSelection();return P;};
o.prototype.findAggregatedObjects=function(){var e=this._getList();if(e){return L.prototype.findAggregatedObjects.apply(e,arguments);}return[];};
o.prototype.setSelectedItem=function(v){if(typeof v==="string"){this.setAssociation("selectedItem",v,true);v=k.byId(v);}if(!(v instanceof I)&&v!==null){return this;}if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);this.setValue(this._getSelectedItemText(v));return this;};
o.prototype.setSelectedItemId=function(v){v=this.validateProperty("selectedItemId",v);if(!v){v=this.getDefaultSelectedItem();}this.setSelection(v);v=this.getSelectedItem();this.setValue(this._getSelectedItemText(v));return this;};
o.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var p=(e===""),r=this.isBound("selectedKey")&&this.isBound("value")&&this.getBindingInfo("selectedKey").skipModelUpdate;if(p){this.setSelection(null);if(!r){this.setValue("");}return this;}var u=this.getItemByKey(e);if(u){this.setSelection(u);if(!r){this.setValue(this._getSelectedItemText(u));}return this;}this._sValue=this.getValue();return this._setPropertyProtected("selectedKey",e);};
o.prototype._setPropertyProtected=function(p,v,r){try{return this.setProperty(p,v,r);}catch(e){m.warning("setSelectedKey update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e};});}};
o.prototype.getSelectedItem=function(){var v=this.getAssociation("selectedItem");return(v===null)?null:k.byId(v)||null;};
o.prototype._decoratePopupInput=function(e){a.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return;}e.addEventDelegate({onsapenter:function(){var T=e.getValue();this.updateDomValue(T);this.onChange();if(T){this.updateDomValue(T);this.onChange();this.close();}}},this);e.attachChange(this._handleInnerInputChange.bind(this));return e;};
o.prototype._handleInnerInputChange=function(e){if(e.getParameter("value")===""){this.clearSelection();this.clearFilter();}};
o.prototype.applyShowItemsFilters=function(){var p,P;this.syncPickerContent();p=this.getPicker();P=function(){p.detachBeforeOpen(P,this);p=null;g(this.getItems(),this.filterItems(this.getValue()||"_"));};p.attachBeforeOpen(P,this);};
o.prototype.showItems=function(F){var e,p,r=Array.prototype.slice.call(arguments),u=this.fnFilter,v=function(){this.setFilterFunction(F||function(){return true;});p=this.filterItems(this.getValue()||"_");g(this.getItems(),p);this.setFilterFunction(u);e=p.items;if(e&&e.length){a.prototype.showItems.apply(this,r);}}.bind(this);this.attachLoadItems(v);this.loadItems(v);};
o.prototype._getFormattedValueStateText=function(){if(this.isOpen()){return this._getSuggestionsPopover()._getValueStateHeader().getFormattedText();}else{return C.prototype.getFormattedValueStateText.call(this);}};
o.prototype.handleClearIconPress=function(e){var p=this.getSelectedItem(),P=this.getChangeEventParams();if(!(this.getEnabled()&&this.getEditable())){return;}if(this.getValue()!==""){this.clearSelection();this.bOpenedByKeyboardOrButton?this.clearFilter():this.close();this.setProperty("effectiveShowClearIcon",false);}if(p){this.fireSelectionChange({selectedItem:null});this.fireChangeEvent(null,P);}};
return o;});
sap.ui.predefine('sap/m/ComboBoxBase',['./Input','./ComboBoxTextField','./ComboBoxBaseRenderer','./SuggestionsPopover','sap/ui/base/ManagedObjectObserver','sap/ui/core/SeparatorItem','sap/ui/core/InvisibleText','sap/ui/base/ManagedObject','sap/base/Log','./library','sap/ui/Device',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/strings/escapeRegExp","sap/m/inputUtils/forwardItemProperties","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/ListHelpers","sap/ui/core/IconPool","sap/ui/core/Core"],function(I,C,a,S,M,b,c,d,L,l,D,e,K,q,f,g,h,j,k,m,n){"use strict";var P=l.PlacementType;var o=["value","enabled","name","placeholder","editable","textAlign","textDirection","valueState","valueStateText"];
var p=C.extend("sap.m.ComboBoxBase",{
metadata:{library:"sap.m","abstract":true,defaultAggregation:"items",properties:{showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},open:{type:"boolean",defaultValue:false,hidden:true},showClearIcon:{type:"boolean",defaultValue:false},effectiveShowClearIcon:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}},dnd:{draggable:false,droppable:true}},
renderer:a
});
p.prototype.oncompositionend=function(E){C.prototype.oncompositionend.apply(this,arguments);if(!D.browser.firefox){this.handleInputValidation(E,this.isComposingCharacter());}};
p.prototype.shouldShowClearIcon=function(){return this.getProperty("effectiveShowClearIcon")&&!!this.getValue()&&this.getEditable()&&this.getEnabled();};
p.prototype.updateItems=function(r){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){if(this.isOpen()){k.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false);}this.onItemsLoaded();}};
p.prototype.setFilterFunction=function(F){if(F===null||F===undefined){this.fnFilter=null;return this;}if(typeof(F)!=="function"){L.warning("Passed filter is not a function and the default implementation will be used");}else{this.fnFilter=F;}return this;};
p.prototype.highlightList=function(v){var i=[];i=this._getList().$().find('.sapMSLIInfo, .sapMSLITitleOnly');j(i,v);};
p.prototype._decoratePopupInput=function(i){if(i){this.setTextFieldHandler(i);i.setShowClearIcon(this.getShowClearIcon());}return i;};
p.prototype.setTextFieldHandler=function(t){var i=this,T=t._handleEvent;t._handleEvent=function(E){T.apply(this,arguments);if(/keydown|keyup|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(E.type)){i._handleEvent(E);}};};
p.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items");};
p.prototype.loadItems=function(i,O){var r=typeof i==="function";if(this.hasLoadItemsEventListeners()&&(this.getItems().length===0)){this._bOnItemsLoadedScheduled=false;if(r){O=q.extend({action:i,busyIndicator:true,busyIndicatorDelay:300},O);this.aMessageQueue.push(O);if((this.iLoadItemsEventInitialProcessingTimeoutID===-1)&&(O.busyIndicator)){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function s(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true);}.bind(this),O.busyIndicatorDelay);}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems();}}else if(r){i.call(this);}};
p.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState);}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay);}for(var i=0,r,N,s;i<this.aMessageQueue.length;i++){r=this.aMessageQueue.shift();i--;s=(i+1)===this.aMessageQueue.length;N=s?null:this.aMessageQueue[i+1];if(typeof r.action==="function"){if((r.name==="input")&&!s&&(N.name==="input")){continue;}r.action.call(this);}}};
p.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems");};
p.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0);}};
p.prototype.getPickerInvisibleTextId=function(){return c.getStaticId("sap.m","COMBOBOX_AVAILABLE_OPTIONS");};
p.prototype._getGroupHeaderInvisibleText=function(){if(!this._oGroupHeaderInvisibleText){this._oGroupHeaderInvisibleText=new c();this._oGroupHeaderInvisibleText.toStatic();}return this._oGroupHeaderInvisibleText;};
p.prototype._isListInSuggestMode=function(){return this._getList().getItems().some(function(i){return!i.getVisible()&&k.getItemByListItem(this.getItems(),i).getEnabled();},this);};
p.prototype.getSelectable=function(i){return i._bSelectable;};
p.prototype._setItemsShownWithFilter=function(v){this._bItemsShownWithFilter=v;};
p.prototype._getItemsShownWithFilter=function(){return this._bItemsShownWithFilter;};
p.prototype._getClearIcon=function(){if(this._oClearIcon){return this._oClearIcon;}this._oClearIcon=this.addEndIcon({src:m.getIconURI("decline"),noTabStop:true,visible:false,alt:this._oRb.getText("INPUT_CLEAR_ICON_ALT"),useIconTooltip:false,decorative:false,press:this.handleClearIconPress.bind(this)},0);this._oClearIcon.addStyleClass("sapMComboBoxBaseClearIcon");return this._oClearIcon;};
p.prototype.handleClearIconPress=function(E){};
p.prototype.onkeyup=function(E){if(!this.getEnabled()||!this.getEditable()){return;}this.getShowClearIcon()&&this.setProperty("effectiveShowClearIcon",!!this.getValue());};
p.prototype.setValue=function(v){C.prototype.setValue.apply(this,arguments);this.setProperty("effectiveShowClearIcon",!!v);return this;};
p.prototype.init=function(){C.prototype.init.apply(this,arguments);this._oRb=n.getLibraryResourceBundle("sap.m");this.setPickerType(D.system.phone?"Dialog":"Dropdown");this._setItemsShownWithFilter(false);this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._bShouldClosePicker=false;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;this.getArrowIcon().addEventDelegate({onmousedown:function(E){this._bShouldClosePicker=this.isOpen();}},this);this.getArrowIcon().attachPress(this._handlePopupOpenAndItemsLoad.bind(this,true,this));this.fnFilter=null;var i=new M(function(r){var s=r.mutation;var t=r.child;var E={"remove":"detachEvent","insert":"attachEvent"};var u={"remove":"handleItemRemoval","insert":"handleItemInsertion"};if(!t[E[s]]||!this[u[s]]){return;}t[E[s]]("_change",this.onItemChange,this);this.setRecreateItems(true);this[u[s]](t);}.bind(this));i.observe(this,{aggregations:["items"]});};
p.prototype.handleItemRemoval=function(i){};
p.prototype.handleItemInsertion=function(i){};
p.prototype.setRecreateItems=function(r){this._bRecreateItems=r;};
p.prototype.getRecreateItems=function(){return this._bRecreateItems;};
p.prototype.onBeforeRendering=function(){var s=this.isOpen(),v=s?this._getSuggestionsPopover()._getValueStateHeader().getText():null,V=s?this._getSuggestionsPopover()._getValueStateHeader().getValueState():null;C.prototype.onBeforeRendering.apply(this,arguments);if(s&&((this.getValueStateText()&&v!==this.getValueStateText())||(this.getValueState()!==V)||this.getFormattedValueStateText())){this._updateSuggestionsPopoverValueState();}if(this.getShowClearIcon()){this._getClearIcon().setVisible(this.shouldShowClearIcon());}else if(this._oClearIcon){this._getClearIcon().setVisible(false);}};
p.prototype._handlePopupOpenAndItemsLoad=function(O,i){var r;if(!this.getEnabled()||!this.getEditable()){return;}if(O&&this._getItemsShownWithFilter()){this._bShouldClosePicker=false;this.toggleIconPressedStyle(true);this.bOpenedByKeyboardOrButton=false;this.clearFilter();this._setItemsShownWithFilter(false);return;}if(this._bShouldClosePicker){this._bShouldClosePicker=false;this.close();return;}this.loadItems();this.bOpenedByKeyboardOrButton=O;if(this.isPlatformTablet()){this.syncPickerContent();r=this.getPicker();r.setInitialFocus(r);}if(i){r=this.getPicker();r&&r.setInitialFocus(i);}this.open();};
p.prototype.exit=function(){C.prototype.exit.apply(this,arguments);this._oRb=null;if(this._getGroupHeaderInvisibleText()){this._getGroupHeaderInvisibleText().destroy();this._oGroupHeaderInvisibleText=null;}if(this._oSuggestionPopover){this._oSuggestionPopover.destroy();this._oSuggestionPopover=null;}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;this.fnFilter=null;};
p.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(E.keyCode===K.F4){this.onF4(E);}if(this._getItemsShownWithFilter()){this.loadItems(this._handlePopupOpenAndItemsLoad.bind(this,true));return;}if(this.isOpen()){this.close();return;}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open();};
p.prototype.onF4=function(E){E.preventDefault();};
p.prototype.onsapescape=function(E){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){E.setMarked();E.preventDefault();this.close();}else{C.prototype.onsapescape.apply(this,arguments);}};
p.prototype.onsaphide=p.prototype.onsapshow;
p.prototype.onsapfocusleave=function(E){if(!E.relatedControlId){C.prototype.onsapfocusleave.apply(this,arguments);return;}var r=sap.ui.getCore().byId(E.relatedControlId);if(r===this){return;}var i=this.getPicker(),F=r&&r.getFocusDomRef();if(i&&e(i.getFocusDomRef(),F)){return;}C.prototype.onsapfocusleave.apply(this,arguments);};
p.prototype.getPopupAnchorDomRef=function(){return this.getDomRef();};
p.prototype.addContent=function(i){};
p.prototype.getList=function(){L.warning("[Warning]:","You are attempting to use deprecated method 'getList()', please refer to SAP note 2746748.",this);return this._getList();};
p.prototype._getList=function(){var i=this._oSuggestionPopover&&this._oSuggestionPopover.getItemsContainer();if(this.bIsDestroyed||!i){return null;}return i;};
p.prototype.setPickerType=function(s){this._sPickerType=s;};
p.prototype.getPickerType=function(){return this._sPickerType;};
p.prototype._updateSuggestionsPopoverValueState=function(){var s=this._getSuggestionsPopover();if(!s){return;}var v=this.getValueState(),N=this.getValueState()!==s._getValueStateHeader().getValueState(),i=this.getFormattedValueStateText(),V=this.getValueStateText(),r=i||N;if(s.isOpen()&&!r){this.setFormattedValueStateText(s._getValueStateHeader().getFormattedText());}s.updateValueState(v,(i||V),this.getShowValueStateMessage());};
p.prototype.shouldValueStateMessageBeOpened=function(){var s=C.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return(s&&!this.isOpen());};
p.prototype.onPropertyChange=function(i,r){var N=i.getParameter("newValue"),s=i.getParameter("name"),t="set"+s.charAt(0).toUpperCase()+s.slice(1),u=(r&&r.srcControl)||this.getPickerTextField();if(this.getInputForwardableProperties().indexOf(s)>-1&&u&&(typeof u[t]==="function")){u[t](N);}};
p.prototype.getInputForwardableProperties=function(){return o;};
p.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog";};
p.prototype.isPlatformTablet=function(){var N=!D.system.combi,t=D.system.tablet&&N;return t;};
p.prototype.getDropdownSettings=function(){return{showArrow:false,placement:P.VerticalPreferredBottom,offsetX:0,offsetY:0,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined};};
p.prototype._configureList=function(){};
p.prototype.createPicker=function(s){var i=this.getAggregation("picker");if(i){return i;}this._oSuggestionPopover=this._createSuggestionsPopover();i=this._oSuggestionPopover.getPopover();this.setAggregation("picker",i,true);this.configPicker(i);return i;};
p.prototype.configPicker=function(i){};
p.prototype._hasShowSelectedButton=function(){return false;};
p.prototype._createSuggestionsPopover=function(){var s=new S(this);s.decorateParent(this);s.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()},I);this._decoratePopupInput(s.getInput());s.initContent(this.getId());this.forwardEventHandlersToSuggPopover(s);this._configureList(s.getItemsContainer());return s;};
p.prototype.forwardEventHandlersToSuggPopover=function(s){s.setOkPressHandler(this._handleOkPress.bind(this));s.setCancelPressHandler(this._handleCancelPress.bind(this));s.setInputLabels(this.getLabels.bind(this));};
p.prototype._handleOkPress=function(){var t=this,T=t.getPickerTextField();t.updateDomValue(T.getValue());t.onChange();t.close();};
p.prototype._handleCancelPress=function(){this.close();this.revertSelection();};
p.prototype.setSelectable=function(i,s){if(this.indexOfItem(i)<0){return;}i._bSelectable=s;var r=k.getListItem(i);if(r){r.setVisible(s);}};
p.prototype.onBeforeOpen=function(){this._updateSuggestionsPopoverValueState();if(!this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};
p.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;this._setItemsShownWithFilter(false);this._updateSuggestionsPopoverValueState();};
p.prototype.getPicker=function(){var i=this.getAggregation("picker");if(i&&!i.bIsDestroyed&&!this.bIsDestroyed){return i;}return null;};
p.prototype._getSuggestionsPopover=function(){return this._oSuggestionPopover;};
p.prototype.getValueStateLinks=function(){var H=this.getPicker()&&this.getPicker().getCustomHeader()&&typeof this.getPicker().getCustomHeader().getFormattedText==="function",F=H&&this.getPicker().getCustomHeader().getFormattedText(),v=F&&F.getControls();return v||[];};
p.prototype.getPickerTextField=function(){var s=this._getSuggestionsPopover();return s?s.getInput():null;};
p.prototype.getPickerTitle=function(){var i=this.getPicker(),H=i&&i.getCustomHeader();if(this.isPickerDialog()&&H){return H.getContentMiddle()[0];}return null;};
p.prototype.revertSelection=function(){};
p.prototype.hasContent=function(){return this.getItems().length>0;};
p.prototype.syncPickerContent=function(){};
p.prototype.open=function(){var i=this.getPicker();if(i){i.open();}return this;};
p.prototype.getVisibleItems=function(){return k.getVisibleItems(this.getItems());};
p.prototype.isItemSelected=function(){};
p.prototype.getKeys=function(r){r=r||this.getItems();for(var i=0,s=[];i<r.length;i++){s[i]=r[i].getKey();}return s;};
p.prototype.findItem=function(s,v){var r="get"+s.charAt(0).toUpperCase()+s.slice(1);for(var i=0,t=this.getItems();i<t.length;i++){if(t[i][r]()===v){return t[i];}}return null;};
p.prototype.getItemByText=function(t){return this.findItem("text",t);};
p.prototype.clearFilter=function(){this.getItems().forEach(function(i){var r=k.getListItem(i);if(r){r.setVisible(i.getEnabled()&&this.getSelectable(i));}},this);};
p.prototype.onItemChange=function(i,s){h({item:i.getSource(),propName:i.getParameter("name"),propValue:i.getParameter("newValue")},s);};
p.prototype.clearSelection=function(){};
p.prototype.setInternalBusyIndicator=function(B){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments);};
p.prototype.setInternalBusyIndicatorDelay=function(i){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments);};
p.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};
p.prototype.getFirstItem=function(){return this.getItems()[0]||null;};
p.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};
p.prototype.getEnabledItems=function(i){return k.getEnabledItems(i||this.getItems());};
p.prototype.getItemByKey=function(s){return this.findItem("key",s);};
p.prototype.addItemGroup=function(G,H,s){H=H||new b({text:d.escapeSettingsValue(G.text)||d.escapeSettingsValue(G.key)});this.addAggregation("items",H,s);if(this._getList()&&H.isA("sap.ui.core.SeparatorItem")){this._getList().addItem(this._mapItemToListItem(H));}return H;};
p.prototype.isOpen=function(){var i=this.getPicker();return!!(i&&i.isOpen());};
p.prototype.close=function(){var i=this.getPicker();if(i){i.close();}return this;};
p.prototype.intersectItems=function(i,O){return i.filter(function(r){return O.map(function(s){return s.getId();}).indexOf(r.getId())!==-1;});};
p.prototype.showItems=function(F){var i=this.fnFilter,r=function(){if(!this.getItems().length){return;}this.detachLoadItems(r);this.setFilterFunction(F||function(){return true;});this.applyShowItemsFilters();this._handlePopupOpenAndItemsLoad(false,this);this.setFilterFunction(i);}.bind(this);if(!this.getEnabled()||!this.getEditable()){return;}this._setItemsShownWithFilter(true);this.attachLoadItems(r);this.loadItems(r);};
p.prototype.applyShowItemsFilters=function(){};
return p;});
sap.ui.predefine('sap/m/ComboBoxBaseRenderer',['./ComboBoxTextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/Core'],function(C,R,a){"use strict";var b=R.extend(C);b.apiVersion=2;b.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";
b.getAccessibilityState=function(c){var A=C.getAccessibilityState.call(this,c),l=c._getList();if(l){A.controls=l.getId();}return A;};
b.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);var d=b.CSS_CLASS_COMBOBOXBASE;r.class(d);if(!c.getEnabled()){r.class(d+"Disabled");}if(!c.getEditable()){r.class(d+"Readonly");}};
b.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(b.CSS_CLASS_COMBOBOXBASE+"Arrow");};
return b;},true);
sap.ui.predefine('sap/m/ComboBoxRenderer',['./ComboBoxBaseRenderer','sap/ui/core/Renderer','sap/m/inputUtils/ListHelpers'],function(C,R,L){"use strict";var a=R.extend(C);a.apiVersion=2;a.CSS_CLASS_COMBOBOX="sapMComboBox";
a.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX);};
a.addInnerClasses=function(r,c){C.addInnerClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Inner");};
a.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Arrow");};
a.addPlaceholderClasses=function(r,c){C.addPlaceholderClasses.apply(this,arguments);r.class(a.CSS_CLASS_COMBOBOX+"Placeholder");};
a.writeInnerAttributes=function(r,c){var o=c.isOpen(),i,s,l;var S=c._getSuggestionsPopover();C.writeInnerAttributes.apply(this,arguments);r.attr("aria-expanded",o);if(!S){return;}var f=S.getFocusedListItem();var v=S.getValueStateActiveState();if(!o||(!f&&!v)){return;}if(v){r.attr("aria-activedescendant",c._getFormattedValueStateText().getId());return;}i=(f.isA("sap.m.GroupHeaderListItem")||f.isA("sap.ui.core.SeparatorItem"));s=c.getSelectedItem();l=s&&L.getListItem(s);f=i?f:l;if(f){r.attr("aria-activedescendant",f.getId());}};
return a;},true);
sap.ui.predefine('sap/m/ComboBoxTextField',['./InputBase','./library','sap/ui/core/InvisibleText','sap/ui/core/library','sap/ui/Device','sap/ui/core/LabelEnablement',"./ComboBoxTextFieldRenderer"],function(I,l,a,c,D,L,C){"use strict";
var b=I.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}}});
var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");
b.prototype.init=function(){I.prototype.init.apply(this,arguments);this._oArrowIcon=this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:r.getText("COMBOBOX_BUTTON"),decorative:false});};
b.prototype.getArrowIcon=function(){return this._oArrowIcon;};
b.prototype.getIcon=b.prototype.getArrowIcon;
b.prototype.toggleIconPressedStyle=function(s){this.toggleStyleClass(I.ICON_PRESSED_CSS_CLASS,s);};
b.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.apply(this,arguments);var R=L.getReferencingLabels(this)||[],i=this.getArrowIcon();i.setVisible(this.getShowButton());R.forEach(function(s){if(i.getAriaLabelledBy().indexOf(s)===-1){i.addAssociation("ariaLabelledBy",s,true);}},this);};
b.prototype.getOpenArea=function(){var d=this.getArrowIcon().getDomRef();return d?d.parentNode:d;};
b.prototype.onsapenter=function(e){I.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}this._bCheckDomValue&&e.setMarked();var v=this.getValue(),V=v.length;this.setValue(v);this.selectText(V,V);};
b.prototype.getValue=function(){var d=this.getFocusDomRef();if(d){return d.value;}return this.getProperty("value");};
b.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef();};
b.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_COMBO");return i;};
b.prototype.exit=function(){I.prototype.exit.apply(this,arguments);this._oArrowIcon=null;};
return b;});
sap.ui.predefine('sap/m/ComboBoxTextFieldRenderer',['./InputBaseRenderer','sap/ui/core/Renderer','sap/ui/core/LabelEnablement','sap/ui/Device'],function(I,R,L,D){"use strict";var C=R.extend(I);C.apiVersion=2;C.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";
C.writeInnerAttributes=function(r,c){r.attr("role","combobox");r.attr("aria-haspopup","listbox");r.attr("aria-autocomplete","both");r.attr("aria-expanded","false");r.attr("autocomplete","off");r.attr("autocorrect","off");r.attr("autocapitalize","off");r.attr("type","text");};
C.getAriaRole=function(){};
C.addOuterStyles=function(r,c){r.style("max-width",c.getMaxWidth());};
return C;},true);
sap.ui.predefine('sap/m/IconTabBar',['./library',"sap/ui/core/Core",'sap/ui/core/Control','./IconTabBarRenderer','./IconTabHeader',"sap/ui/core/util/ResponsivePaddingsEnablement","sap/ui/thirdparty/jquery"],function(l,C,a,I,b,R,q){"use strict";var c=l.IconTabHeaderMode;var B=l.BackgroundDesign;var d=l.IconTabDensityMode;var T=l.TabsOverflowMode;
var e=a.extend("sap.m.IconTabBar",{metadata:{interfaces:["sap.m.ObjectHeaderContainer","sap.f.IDynamicPageStickyContent"],library:"sap.m",properties:{showSelection:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},expandable:{type:"boolean",group:"Misc",defaultValue:true},expanded:{type:"boolean",group:"Misc",defaultValue:true},selectedKey:{type:"string",group:"Data",defaultValue:null},upperCase:{type:"boolean",group:"Appearance",defaultValue:false},stretchContentHeight:{type:"boolean",group:"Appearance",defaultValue:false},applyContentPadding:{type:"boolean",group:"Appearance",defaultValue:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Solid},headerMode:{type:"sap.m.IconTabHeaderMode",group:"Appearance",defaultValue:c.Standard},showOverflowSelectList:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},headerBackgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:B.Solid},enableTabReordering:{type:"boolean",group:"Behavior",defaultValue:false},maxNestingLevel:{type:"int",group:"Behavior",defaultValue:0},tabDensityMode:{type:"sap.m.IconTabDensityMode",group:"Appearance",defaultValue:d.Cozy},ariaTexts:{type:"object",group:"Accessibility",defaultValue:null},tabsOverflowMode:{type:"sap.m.TabsOverflowMode",group:"Behavior",defaultValue:T.End}},aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item",forwarding:{getter:"_getIconTabHeader",aggregation:"items",forwardBinding:true}},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},_header:{type:"sap.m.IconTabHeader",multiple:false,visibility:"hidden"}},events:{select:{parameters:{item:{type:"sap.m.IconTabFilter"},key:{type:"string"},previousKey:{type:"string"},selectedItem:{type:"sap.m.IconTabFilter"},selectedKey:{type:"string"}}},expand:{parameters:{expand:{type:"boolean"},collapse:{type:"boolean"}}}},designtime:"sap/m/designtime/IconTabBar.designtime"}});
R.call(e.prototype,{header:{selector:".sapMITH"},content:{suffix:"content"}});e._CLASSES_TO_COPY=["sapUiResponsiveContentPadding","sapUiNoContentPadding","sapUiContentPadding"];
e.prototype.init=function(){this._initResponsivePaddingsEnablement();};
e.prototype.setExpanded=function(E){this.setProperty("expanded",E,true);if(this.$().length){this._toggleExpandCollapse(this.getProperty("expanded"));}return this;};
e.prototype.setHeaderMode=function(m){this.setProperty("headerMode",m,true);this._getIconTabHeader().setMode(m);return this;};
e.prototype.setTabDensityMode=function(m){this.setProperty("tabDensityMode",m);this._getIconTabHeader().setTabDensityMode(m);return this;};
e.prototype.setHeaderBackgroundDesign=function(h){this.setProperty("headerBackgroundDesign",h,true);this._getIconTabHeader().setBackgroundDesign(h);return this;};
e.prototype.setEnableTabReordering=function(v){this.setProperty("enableTabReordering",v,true);this._getIconTabHeader().setEnableTabReordering(v);return this;};
e.prototype.setAriaTexts=function(A){this.setProperty("ariaTexts",A,true);this._getIconTabHeader().setAriaTexts(A);return this;};
e.prototype.addStyleClass=function(s,S){var i=this._getIconTabHeader();if(e._CLASSES_TO_COPY.indexOf(s)!==-1){i.addStyleClass(s,true);}return a.prototype.addStyleClass.apply(this,arguments);};
e.prototype.removeStyleClass=function(s,S){var i=this._getIconTabHeader();if(e._CLASSES_TO_COPY.indexOf(s)!==-1){i.removeStyleClass(s,true);}return a.prototype.removeStyleClass.apply(this,arguments);};
e.prototype._rerenderContent=function(o){var $=this.$("content");if(o&&($.length>0)){var r=C.createRenderManager();for(var i=0;i<o.length;i++){r.renderControl(o[i]);}r.flush($[0]);r.destroy();}};
e.prototype._toggleExpandCollapse=function(E){var $=this.$("content");var s=this._getIconTabHeader().oSelectedItem;if(E===undefined){E=!this.getExpanded();}if(s){s.$().toggleClass("sapMITBSelected",E);s.$().attr({'aria-expanded':E});if(E){s.$().attr({'aria-selected':E});}else{s.$().removeAttr('aria-selected');}}this._iAnimationCounter=(this._iAnimationCounter===undefined?1:++this._iAnimationCounter);if(E){if(s){if(this.$("content").children().length===0){var S=s.getContent();if(S.length>0){this._rerenderContent(S);}else{this._rerenderContent(this.getContent());}}$.stop(true,true).slideDown('400',q.proxy(this.onTransitionEnded,this,E));this.$("containerContent").toggleClass("sapMITBContentClosed",!E);}}else{this.$("contentArrow").hide();$.stop(true,true).slideUp('400',q.proxy(this.onTransitionEnded,this,E));}if(!E||s){this.setProperty("expanded",E,true);}this.fireExpand({expand:E,collapse:!E});return this;};
e.prototype.onTransitionEnded=function(E){var $=this.$("content"),f=this.$("containerContent"),g=this.$("contentArrow");if(this._iAnimationCounter===1){f.toggleClass("sapMITBContentClosed",!E);if(E){g.show();$.css("display","block");}else{g.hide();$.css("display","none");}}this._iAnimationCounter=(this._iAnimationCounter>0?--this._iAnimationCounter:0);return this;};
e.prototype._getIconTabHeader=function(){var o=this.getAggregation("_header");if(!o){o=new b(this.getId()+"--header",{});this.setAggregation("_header",o,true);}return o;};
e.prototype._getStickyContent=function(){return this._getIconTabHeader();};
e.prototype._returnStickyContent=function(){if(this.bIsDestroyed){return;}this._getStickyContent().$().prependTo(this.$());};
e.prototype._setStickySubheaderSticked=function(i){this._bStickyContentSticked=i;};
e.prototype._getStickySubheaderSticked=function(){return this._bStickyContentSticked;};
e.prototype.onBeforeRendering=function(){var i=this._getIconTabHeader(),$=i.$();i.setMaxNestingLevel(this.getMaxNestingLevel());i.setTabsOverflowMode(this.getTabsOverflowMode());if(this._bStickyContentSticked&&$){delete this._bStickyContentSticked;this._getIconTabHeader().$().remove();}};
e.prototype.setShowSelection=function(v){this._getIconTabHeader().setShowSelection(v);return this;};
e.prototype.getShowSelection=function(){return this._getIconTabHeader().getShowSelection();};
e.prototype.setSelectedKey=function(v){this._getIconTabHeader().setSelectedKey(v);return this;};
e.prototype.getSelectedKey=function(){return this._getIconTabHeader().getSelectedKey();};
e.prototype.setSelectedItem=function(i,A){return this._getIconTabHeader().setSelectedItem(i,A);};
return e;});
sap.ui.predefine('sap/m/IconTabBarDragAndDropUtil',['sap/ui/core/dnd/DragInfo','sap/ui/core/dnd/DropInfo',"sap/ui/events/KeyCodes",'sap/ui/core/library'],function(D,a,K,c){"use strict";var b=c.dnd.DropPosition;var I="Before",d="insertBefore",e="insertAfter",i,f="IconTabReorder",g="Forward",h="Backward";var j={_insertControl:function(i,o,k,l){var $=o.$(),m=k.$(),n=[],p=[];if(o._getNestedLevel()>1&&k._getNestedLevel()>1){n=o._getRootTab()._getSelectList().getItems().filter(function(q){return o._getRealTab()._isParentOf(q._getRealTab());});p=k._getRootTab()._getSelectList().getItems().filter(function(q){return k._getRealTab()._isParentOf(q._getRealTab());});}if(l){var O=o._getRootTab().getParent()._getOverflow()._getSelectList().getItems();n=O.filter(function(q){return o._getRealTab()._isParentOf(q._getRealTab());});p=O.filter(function(q){return k._getRealTab()._isParentOf(q._getRealTab());});}if(i===e){$.insertAfter(m);}else{$.insertBefore(m);}n.reverse().forEach(function(C){C.$().insertAfter($);});p.reverse().forEach(function(C){C.$().insertAfter(m);});},handleDrop:function(C,s,o,k,l,m){var B=C.indexOfItem(o),n=C.indexOfItem(k),A=0,r=sap.ui.getCore().getConfiguration().getRTL(),p=s===I,q=k._getNestedLevel()-1;if(o._isParentOf(k)){return;}if(q===m&&s===b.On){return;}if(r&&!l){if(p){A=B<n?n:n+1;i=e;}else{A=B<n?n-1:n;i=d;}}else{if(p){A=B<n?n-1:n;i=d;}else{A=B<n?n:n+1;i=e;}}if(C.isA("sap.m.IconTabFilter")||!o.getParent().isA("sap.m.IconTabHeader")){if(p){A=n;}else{A=n+1;}}j._insertControl(i,o,k);if(s===b.On){if(k===o){return;}A=C.getAggregation("items").length;}j._handleConfigurationAfterDragAndDrop.call(C,o,A);},_updateAccessibilityInfo:function(){var o=this.getItems(),A=1,k;o.forEach(function(l){k=l.getDomRef();if(k&&k.getAttribute("aria-posinset")!==null){k.setAttribute("aria-posinset",A++);}});},_handleConfigurationAfterDragAndDrop:function(o,k){var l=[],m=this.isA("sap.m.IconTabHeader")?this:this._getIconTabHeader();if(this.isA("sap.m.IconTabBarSelectList")){l=this.getItems().filter(function(p){return o._getRealTab()._isParentOf(p._getRealTab());});}m._setPreserveSelection(true);this.removeAggregation('items',o,true);this.insertAggregation('items',o,k,true);l.forEach(function(p){this.removeAggregation('items',p,true);}.bind(this));var n=1+this.indexOfAggregation('items',o);l.reverse().forEach(function(p){this.insertAggregation('items',p,n,true);}.bind(this));m._setPreserveSelection(false);j._updateAccessibilityInfo.call(this);},_decreaseDropIndex:function(B,k){var p=B-1;while(p>=0&&(k[B]._getRealTab()._getNestedLevel()!==k[p]._getRealTab()._getNestedLevel()||!k[p].getVisible()||(!k[B].$().hasClass("sapMITBFilterHidden")&&k[p].$().hasClass("sapMITBFilterHidden")))){p--;}if(p<0){i=e;return B;}i=d;return p;},_increaseDropIndex:function(B,k,m){var n=B+1;while(n<k.length&&(k[B]._getRealTab()._getNestedLevel()!==k[n]._getRealTab()._getNestedLevel()||!k[n].getVisible())){n++;}if(n>m){i=d;return B;}i=e;return n;},moveItem:function(o,k,m){var l=this.getItems(),B=this.indexOfItem(o),r=sap.ui.getCore().getConfiguration().getRTL(),n,p;if(this.isA("sap.m.IconTabFilter")){l=this._getRealTab().getItems();}switch(k){case K.HOME:n=0;i=d;break;case K.END:n=l.length-1;i=e;break;case K.ARROW_LEFT:if(r){p=j.preventDragBetweenSubItems(o,g,this);n=j._increaseDropIndex(B,l,m);}else{p=j.preventDragBetweenSubItems(o,h,this);n=j._decreaseDropIndex(B,l);}break;case K.ARROW_RIGHT:if(r){p=j.preventDragBetweenSubItems(o,h,this);n=j._decreaseDropIndex(B,l);}else{p=j.preventDragBetweenSubItems(o,g,this);n=j._increaseDropIndex(B,l,m);}break;case K.ARROW_DOWN:p=j.preventDragBetweenSubItems(o,g,this);n=j._increaseDropIndex(B,l,m);break;case K.ARROW_UP:p=j.preventDragBetweenSubItems(o,h,this);n=j._decreaseDropIndex(B,l);break;default:return false;}if(p){return false;}if(!this.isA("sap.m.IconTabFilter")){var q=l[n];j._insertControl(i,o,q,this._oTabFilter&&this._oTabFilter._bIsOverflow);}j._handleConfigurationAfterDragAndDrop.call(this,o,n);return true;},setDragDropAggregations:function(k,s,o){var l=k._oIconTabHeader?k._oIconTabHeader:k;var m=l.getId();k.addDragDropConfig(new D({sourceAggregation:"items",groupName:f+m}));k.addDragDropConfig(new a({targetAggregation:"items",dropPosition:o,dropLayout:s,drop:k._handleDragAndDrop.bind(k),groupName:f+m}));},preventDragBetweenSubItems:function(o,s,C){var p=false;if(C.isA("sap.m.IconTabBarSelectList")){var r=o._getRealTab(),P=r.getParent(),k=P.getItems();if((k.indexOf(r)===0&&s===h)||(k.indexOf(r)+1===k.length&&s===g)||k.length===1){p=true;}}return p;}};return j;});
sap.ui.predefine('sap/m/IconTabBarRenderer',[],function(){"use strict";var I={apiVersion:2};I._aAllIconColors=['sapMITBFilterCritical','sapMITBFilterPositive','sapMITBFilterNegative','sapMITBFilterDefault'];
I.render=function(r,i){var c=i.getContent(),h=i._getIconTabHeader();r.openStart("div",i).class("sapMITB");if(i.getStretchContentHeight()){r.class("sapMITBStretch");}if(!i.getApplyContentPadding()){r.class("sapMITBNoContentPadding");}r.class("sapMITBBackgroundDesign"+i.getBackgroundDesign()).openEnd();if(!i._bHideHeader){r.renderControl(h);}r.openStart("div",i.getId()+"-containerContent").class("sapMITBContainerContent");if(!i.getExpanded()){r.class("sapMITBContentClosed");}r.openEnd();r.openStart("div",i.getId()+"-content").class("sapMITBContent").attr("role","tabpanel");if(!i.getExpanded()){r.style("display","none");}if(h.oSelectedItem){r.accessibilityState({labelledby:h.oSelectedItem.getId()});}r.openEnd();if(i.getExpanded()){if(h.oSelectedItem&&h.oSelectedItem.getContent()){var C=h.oSelectedItem.getContent();if(C.length>0){c=C;}}c.forEach(function(o){r.renderControl(o);});}r.close("div").close("div").close("div");};
return I;},true);
sap.ui.predefine('sap/m/IconTabBarSelectList',["./library","./IconTabBarDragAndDropUtil","./IconTabBarSelectListRenderer","sap/ui/core/Control","sap/ui/core/delegate/ItemNavigation","sap/ui/core/theming/Parameters","sap/ui/core/library"],function(l,I,a,C,b,P,c){"use strict";var D=c.dnd.DropPosition;
var d=C.extend("sap.m.IconTabBarSelectList",{metadata:{library:"sap.m",aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item",dnd:true}},events:{selectionChange:{parameters:{selectedItem:{type:"sap.m.IconTabFilter"}}}}}});
d.prototype.init=function(){this._oItemNavigation=new b();this._oItemNavigation.setCycling(false);this.addEventDelegate(this._oItemNavigation);this._oItemNavigation.setPageSize(10);this._oIconTabHeader=null;this._oTabFilter=null;};
d.prototype.exit=function(){this._oItemNavigation.destroy();this._oItemNavigation=null;this._oIconTabHeader=null;this._oTabFilter=null;};
d.prototype.onBeforeRendering=function(){if(!this._oIconTabHeader){return;}this.destroyDragDropConfig();this._setsDragAndConfiguration();};
d.prototype.onAfterRendering=function(){this._initItemNavigation();this.getItems().forEach(function(i){if(i._onAfterParentRendering){i._onAfterParentRendering();}});};
d.prototype._setsDragAndConfiguration=function(){if(this._oIconTabHeader.getEnableTabReordering()&&!this.getDragDropConfig().length){I.setDragDropAggregations(this,"Vertical",this._oIconTabHeader._getDropPosition());}};
d.prototype._initItemNavigation=function(){var e=this.getItems(),f=[],p=this._oIconTabHeader.oSelectedItem,s=-1,o,i;for(i=0;i<e.length;i++){o=e[i];if(o.isA("sap.m.IconTabFilter")){var g=o._getAllSubFiltersDomRefs();f=f.concat(o.getDomRef(),g);}if(p&&this.getSelectedItem()&&this.getSelectedItem()._getRealTab()===p){s=i;}}if(p&&f.indexOf(p.getDomRef())!==-1){s=f.indexOf(p.getDomRef());}this._oItemNavigation.setRootDomRef(this.getDomRef()).setItemDomRefs(f).setSelectedIndex(s);};
d.prototype.getVisibleItems=function(){return this.getItems().filter(function(i){return i.getVisible();});};
d.prototype.getVisibleTabFilters=function(){return this.getVisibleItems().filter(function(i){return i.isA("sap.m.IconTabFilter");});};
d.prototype.setSelectedItem=function(i){this._selectedItem=i;};
d.prototype.getSelectedItem=function(){return this._selectedItem;};
d.prototype._getIconTabHeader=function(){return this._oIconTabHeader;};
d.prototype._getParams=function(){var p=Object.assign({"_sap_m_IconTabBar_SelectListItem_PaddingLeft":"0.5rem","_sap_m_IconTabBar_SelectListItem_PaddingLeftAdditional":"0"},P.get({name:["_sap_m_IconTabBar_SelectListItem_PaddingLeft","_sap_m_IconTabBar_SelectListItem_PaddingLeftAdditional"],callback:this.invalidate.bind(this)}));return{fNestedItemPaddingLeft:Number.parseFloat(p["_sap_m_IconTabBar_SelectListItem_PaddingLeft"]),fAdditionalPadding:Number.parseFloat(p["_sap_m_IconTabBar_SelectListItem_PaddingLeftAdditional"])};};
d.prototype._checkTextOnly=function(){return this.getItems().every(function(i){return i.isA('sap.m.IconTabSeparator')||!i.getIcon();});};
d.prototype.ontap=function(e){var t=e.srcControl;if(!t){return;}if(!t.isA("sap.m.IconTabFilter")){return;}if(this._oIconTabHeader._isUnselectable(t)){return;}e.preventDefault();if(t!=this.getSelectedItem()){this.fireSelectionChange({selectedItem:t});}};
d.prototype.onsapenter=d.prototype.ontap;d.prototype.onsapspace=d.prototype.ontap;
d.prototype.checkIconOnly=function(){this._bIconOnly=this.getVisibleTabFilters().every(function(i){return!i.getText()&&!i.getCount();});return this._bIconOnly;};
d.prototype._handleDragAndDrop=function(e){var s=e.getParameter("dropPosition"),o=e.getParameter("draggedControl"),f=e.getParameter("droppedControl"),g=f._getRealTab().getParent(),h=this._oIconTabHeader.getMaxNestingLevel();if(this._oTabFilter._isOverflow()){g=this._oIconTabHeader;}if(s===D.On){g=f._getRealTab();}I.handleDrop(g,s,o._getRealTab(),f._getRealTab(),true,h);this._oIconTabHeader._setItemsForStrip();this._oIconTabHeader._initItemNavigation();this._oTabFilter._setSelectListItems();this._initItemNavigation();f._getRealTab().getParent().$().trigger("focus");};
d.prototype.ondragrearranging=function(e){if(!this._oIconTabHeader.getEnableTabReordering()){return;}var t=e.srcControl,k=e.keyCode,i=this.indexOfItem(t),o=this;I.moveItem.call(o,t,k,o.getItems().length-1);this._initItemNavigation();t.$().trigger("focus");if(i===this.indexOfItem(t)){return;}o=t._getRealTab().getParent();if(this._oTabFilter._isOverflow()&&t._getRealTab()._getNestedLevel()===1){this._oIconTabHeader._moveTab(t._getRealTab(),k,this._oIconTabHeader.getItems().length-1);}else{I.moveItem.call(o,t._getRealTab(),k,o.getItems().length-1);}};
d.prototype.onsaphomemodifiers=d.prototype.ondragrearranging;d.prototype.onsapendmodifiers=d.prototype.ondragrearranging;d.prototype.onsapincreasemodifiers=d.prototype.ondragrearranging;d.prototype.onsapdecreasemodifiers=d.prototype.ondragrearranging;return d;});
sap.ui.predefine('sap/m/IconTabBarSelectListRenderer',["sap/ui/core/library"],function(c){"use strict";var I=c.IconColor;var a={apiVersion:2};
a.render=function(r,s){var p=s._getParams(),i=s.getVisibleItems(),o=s._oIconTabHeader,t=s._checkTextOnly(),T=o.getVisibleTabFilters().length,n=p.fNestedItemPaddingLeft,e=false;var h=i.filter(function(b){return b.isA("sap.m.IconTabFilter");}).some(function(b){return b.getIconColor()!==I.Default;});s.checkIconOnly();var A=p.fAdditionalPadding;if(h&&A){n+=A;e=true;}this.renderList(r,i,s,o,t,n,e,T);};
a.renderList=function(r,b,s,o,t,p,e,S){if(!b.length){return;}r.openStart("ul",s).attr("role","menu").class("sapMITBSelectList");if(t){r.class("sapMITBSelectListTextOnly");}r.openEnd();for(var i=0;i<b.length;i++){var d=b[i],f;if(o&&d.isA("sap.m.IconTabFilter")){f=o.getVisibleTabFilters().indexOf(d._getRealTab());}if(d.isA("sap.m.IconTabFilter")&&d._getRootTab()._getSelectList()===s){f=i;S=b.length;}var l=d._getNestedLevel()-2;if(e){l++;}if(s._bIsOverflow){l++;}d.renderInSelectList(r,s,f,S,p*l);}r.close("ul");};
return a;},true);
sap.ui.predefine('sap/m/IconTabFilter',["./library","./AccButton","./IconTabFilterExpandButtonBadge","sap/ui/core/library","sap/ui/core/Core","sap/ui/core/Item","sap/ui/core/Renderer","sap/ui/core/IconPool",'sap/ui/core/InvisibleMessage','sap/ui/Device',"sap/m/BadgeCustomData","sap/m/Button","sap/m/ResponsivePopover","sap/m/IconTabBarSelectList","sap/m/BadgeEnabler"],function(l,A,I,c,C,a,R,b,d,D,B,e,f,g,h){"use strict";var T=c.TextAlign;var j=c.TextDirection;var k=l.ButtonType;var P=l.PlacementType;var m=l.ImageHelper;var n=l.IconTabFilterDesign;var o=l.BadgeStyle;var p=l.BadgeState;var q=c.IconColor;var r=c.aria.HasPopup;var s=3000;var t=c.InvisibleMessageMode;var u=-8;
var v=a.extend("sap.m.IconTabFilter",{metadata:{interfaces:["sap.m.IconTab","sap.ui.core.PopupInterface","sap.m.IBadge"],library:"sap.m",designtime:"sap/m/designtime/IconTabFilter.designtime",properties:{count:{type:"string",group:"Data",defaultValue:''},showAll:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:''},iconColor:{type:"sap.ui.core.IconColor",group:"Appearance",defaultValue:q.Default},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},design:{type:"sap.m.IconTabFilterDesign",group:"Appearance",defaultValue:n.Vertical}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},items:{type:"sap.m.IconTab",multiple:true,singularName:"item"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_expandButtonBadge:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});
h.call(v.prototype);var w=C.getLibraryResourceBundle("sap.m");v._aAllIconColors=['sapMITBFilterCritical','sapMITBFilterPositive','sapMITBFilterNegative','sapMITBFilterDefault','sapMITBFilterNeutral'];
v.prototype._getImageControl=function(i,x,y){var z={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};if(z.src){this._oImageControl=m.getImageControl(this.getId()+"-icon",this._oImageControl,x,z,i,y);}else if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null;}return this._oImageControl;};
v.prototype.init=function(){this._oDragEventDelegate={onlongdragover:this._handleOnLongDragOver,ondragover:this._handleOnDragOver,ondragleave:this._handleOnDragLeave,ondrop:this._handleOnDrop};this.initBadgeEnablement({style:o.Attention,selector:{selector:".sapMITBBadgeHolder"}});this._oCloneInList=null;this.setAggregation("_expandButtonBadge",new I());};
v.prototype.exit=function(E){if(this._oImageControl){this._oImageControl.destroy();}if(a.prototype.exit){a.prototype.exit.call(this,E);}if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}if(this._oExpandButton){this._oExpandButton.removeEventDelegate(this._oDragEventDelegate);this._oExpandButton.destroy();this._oExpandButton=null;}this.removeEventDelegate(this._oDragEventDelegate);this._oDragEventDelegate=null;if(this._iHideBadgeTimeout){clearTimeout(this._iHideBadgeTimeout);}};
v.prototype.invalidate=function(){var i=this.getParent(),x,O;if(!i){return;}x=i.getParent();if(!(x instanceof sap.m.IconTabBar)){i.invalidate();return;}O=x.getParent();if(O instanceof sap.m.ObjectHeader){O.invalidate();}else{x.invalidate();}};
v.prototype.setProperty=function(i,V,S){switch(i){case'textDirection':case'text':case'count':case'showAll':case'icon':case'iconColor':case'iconDensityAware':case'design':if(this.getProperty(i)===V){return this;}a.prototype.setProperty.call(this,i,V,true);if(!S){var x=this.getParent();if(x instanceof sap.m.IconTabHeader){x.invalidate();}}break;default:a.prototype.setProperty.apply(this,arguments);break;}return this;};
v.prototype._getNonEmptyKey=function(){var K=this.getKey();if(K){return K;}return this.getId();};
v.prototype._getRealTab=function(){return this._oRealItem||this;};
v.prototype._getRootTab=function(){var i=this._getRealTab(),x=i.getParent();while(x&&x.isA("sap.m.IconTabFilter")){i=x;x=x.getParent();}return i;};
v.prototype._getNestedLevel=function(){var i=this._getRealTab().getParent(),L;for(L=1;i&&i.isA("sap.m.IconTabFilter");L++){i=i.getParent();}return L;};
v.prototype.render=function(i,V,x){if(!this.getVisible()){return;}var y=this.getParent(),z=y.getParent();if(y.getEnableTabReordering()){this._prepareDragEventDelegate();}var H=y._isInsideIconTabBar(),E={role:"tab"},F=this.getId(),G=this.getCount(),J=this.getText(),K=this.getIcon(),L=this.getIconColor(),M=this.getEnabled(),S=this._shouldReadIconColor(),N=this.getDesign()===n.Horizontal,O=y._bTextOnly,Q=y._bInLine||y.isInlineMode(),U=this.getShowAll(),W=this.getTextDirection();if(this._isOverflow()){E.role="button";}if(H){E.controls=z.getId()+"-content";}if(this.getItems().length){E.roledescription=w.getText("ICONTABFILTER_SPLIT_TAB");}if(J.length||G!==""||K){var X=[];if(G!==""&&!Q){X.push(F+"-count");}if(J.length){X.push(F+"-text");}if(K){X.push(F+"-icon");}if(S){X.push(F+"-iconColor");}E.labelledby=X.join(" ");}if(V!==undefined&&x!==undefined){Object.assign(E,{posinset:V+1,setsize:x});}i.openStart("div",this).accessibilityState(E).class("sapMITBItem");if(!G){i.class("sapMITBItemNoCount");}if(N){i.class("sapMITBHorizontal");}else{i.class("sapMITBVertical");}if(U){i.class("sapMITBAll");}else{i.class("sapMITBFilter");}if(!U&&M){i.class("sapMITBFilter"+L);}if(y._isUnselectable(this)){i.class("sapMITHUnselectable");}if(this.getItems().length>0){i.class("sapMITBFilterWithItems");}if(!M){i.class("sapMITBDisabled").attr("aria-disabled",true);}if(!this._isOverflow()){i.attr("aria-selected",false);}var Y=this.getTooltip_AsString();if(Y){i.attr("title",Y);}if(this._isOverflow()||this.getItems().length){i.attr("aria-haspopup","menu");}i.openEnd();if(S){this._renderIconColorDescription(i);}i.openStart("div").class("sapMITBFilterWrapper").openEnd();if(!Q){i.openStart("div",F+"-tab").class("sapMITBTab").openEnd();if(!U||!K){var Z=["sapMITBFilterIcon","sapMITBBadgeHolder"];if(M){Z.push("sapMITBFilter"+L);}i.renderControl(this._getImageControl(Z,y,v._aAllIconColors));}if(!U&&!K&&!O){i.openStart("span").class("sapMITBFilterNoIcon").openEnd().close("span");}if(N&&!U){i.close("div");i.openStart("div").class("sapMITBHorizontalWrapper").openEnd();}i.openStart("span",F+"-count").class("sapMITBCount");if(U||(!K&&!J.length)){i.class("sapMITBBadgeHolder");}i.openEnd();if(G===""&&N){i.unsafeHtml("&nbsp;");}else{i.text(G);}i.close("span");if(!N){i.close("div");}}if(J.length){i.openStart("div",F+"-text").class("sapMITBText");if(!K&&!U){i.class("sapMITBBadgeHolder");}if(H&&z.getUpperCase()){i.class("sapMITBTextUpperCase");}i.openEnd();if(Q&&K){this._renderIcon(i);}i.openStart("span").class("sapMITHTextContent").attr("dir",W!==j.Inherit?W.toLowerCase():"auto");i.openEnd().text(y._getDisplayText(this)).close("span");if(this._isOverflow()||this.getItems().length&&y._isUnselectable(this)){i.openStart("span",this.getId()+"-expandButton").class("sapMITHShowSubItemsIcon").openEnd();i.icon(b.getIconURI("slim-arrow-down"),null,{"title":null,"aria-hidden":true});i.close("span");}i.close("div");}if(!Q&&N){i.close("div");}i.openStart("div").class("sapMITBContentArrow").openEnd().close("div");i.close("div");if(this.getItems().length&&!y._isUnselectable(this)){i.openStart("span").accessibilityState({role:"separator"}).openEnd().close("span");i.renderControl(this._getExpandButton());}i.renderControl(this.getAggregation("_expandButtonBadge"));if(this.getItems().length){this._updateExpandButtonBadge();}i.close("div");};
v.prototype.renderInSelectList=function(i,S,x,y,z){if(!this.getVisible()){return;}var E=S._bIconOnly,F=true,G=S._oIconTabHeader,H=this.getIconColor(),J=this.getEnabled();if(G){F=S._checkTextOnly();}i.openStart("li",this).class("sapMITBSelectItem").attr("tabindex","-1").attr("role","menuitem");if(z){i.style("padding-left",z+"rem");}if(x!==undefined&&y!==undefined){i.attr("aria-posinset",x+1);i.attr("aria-setsize",y);i.attr("aria-level",this._getNestedLevel());}var K=this.getTooltip_AsString();if(K){i.attr("title",K);}if(G._isUnselectable(this)){i.class("sapMITHUnselectable");}if(!J){i.class("sapMITBDisabled").attr("aria-disabled",true);}if(S.getSelectedItem()==this){i.class("sapMITBSelectItemSelected");i.attr("aria-selected",true);}if(J){i.class("sapMITBFilter"+H);}var L=this.getId(),M=this._shouldReadIconColor(),N=[];if(!E){N.push(L+"-text");}if(!F&&this.getIcon()){N.push(L+"-icon");}if(M){N.push(L+"-iconColor");}i.accessibilityState({labelledby:N.join(" ")}).openEnd();if(M){this._renderIconColorDescription(i);}if(!F){this._renderIcon(i,E);}if(!E){this._renderText(i);}i.close("li");};
v.prototype._onAfterParentRendering=function(){this._renderBadge();d.getInstance();};
v.prototype._renderIcon=function(i,x){var y=this.getIcon();if(y){var z=b.getIconInfo(y),E=["sapMITBSelectItemIcon"];if(z&&!z.suppressMirroring){E.push("sapUiIconMirrorInRTL");}if(x){E.push("sapMITBBadgeHolder");}if(this._getIconTabHeader().isInlineMode()){E.push("sapMITBInlineIcon");}i.icon(y,E,{id:this.getId()+"-icon","aria-hidden":true});}else{i.openStart("span").class("sapUiIcon").openEnd().close("span");}};
v.prototype._renderIconColorDescription=function(i){i.openStart("div",this.getId()+"-iconColor").style("display","none").openEnd().text(w.getText("ICONTABBAR_ICONCOLOR_"+this.getIconColor().toUpperCase())).close("div");};
v.prototype._renderText=function(i){var x=this.getText(),y=this.getCount(),z=C.getConfiguration().getRTL(),E=this.getTextDirection();i.openStart("span",this.getId()+"-text").attr("dir",E!==j.Inherit?E.toLowerCase():"auto").class("sapMText").class("sapMTextNoWrap").class("sapMITBText").class("sapMITBBadgeHolder");var F=R.getTextAlign(T.Begin,E);if(F){i.style("text-align",F);}if(y){if(z){x='('+y+') '+x;}else{x+=' ('+y+')';}}i.openEnd().text(x).close("span");};
v.prototype._getSelectList=function(){if(!this._oSelectList){this._oSelectList=new g({selectionChange:function(E){var i=E.getParameter("selectedItem");this._oIconTabHeader.setSelectedItem(i._getRealTab());this._oTabFilter._closePopover();}});this._oSelectList._oIconTabHeader=this.getParent();this._oSelectList._oTabFilter=this;this._oSelectList._bIsOverflow=this._isOverflow();}return this._oSelectList;};
v.prototype._prepareDragEventDelegate=function(){if(this.getEnabled()){this.addEventDelegate(this._oDragEventDelegate,this);}else{this.removeEventDelegate(this._oDragEventDelegate);}};
v.prototype._updateTabCountText=function(){if(!this._isOverflow()){return;}var i=this._getIconTabHeader()._getItemsForOverflow(this._bIsStartOverflow,true).filter(function(x){return x.isA("sap.m.IconTabFilter");}).length;this.setText("+"+i);};
v.prototype._getExpandButton=function(){this._oExpandButton=this.getAggregation("_expandButton");if(!this._oExpandButton){this._oExpandButton=new A(this.getId()+"-expandButton",{type:k.Transparent,icon:b.getIconURI("slim-arrow-down"),tooltip:w.getText("ICONTABHEADER_OVERFLOW_MORE"),tabIndex:"-1",ariaHasPopup:r.Menu,press:this._expandButtonPress.bind(this)}).addStyleClass("sapMITBFilterExpandBtn");this.setAggregation("_expandButton",this._oExpandButton);}return this._oExpandButton;};
v.prototype._updateExpandButtonBadge=function(){var E=this.getAggregation("_expandButtonBadge"),H=E.getBadgeCustomData()&&E.getBadgeCustomData().getVisible(),i=this._hasChildWithBadge();if(i&&!H){E.addCustomData(new B({visible:true}));}else if(!i&&H){E.getBadgeCustomData().setVisible(false);}};
v.prototype._hasChildWithBadge=function(){var i=this._isOverflow()?this._getIconTabHeader()._getItemsForOverflow(this._bIsStartOverflow):this._getAllSubItems();return i.some(function(x){return x.isA("sap.m.IBadge")&&x.getBadgeCustomData()&&x.getBadgeCustomData().getVisible();});};
v.prototype._expandButtonPress=function(){if(!this.getEnabled()){return;}this.$().trigger("focus");if(!this._oPopover){this._oPopover=new f({showArrow:false,showHeader:false,offsetY:0,offsetX:0,placement:P.VerticalPreferredBottom}).addStyleClass("sapMITBFilterPopover");this._oPopover.attachBeforeClose(function(){this._getSelectList().destroyItems();},this);if(D.system.phone){this._oPopover._oControl.addButton(this._createPopoverCloseButton());}if(this._getIconTabHeader()._isInsideToolHeader()){this._oPopover.addStyleClass("sapMITBFilterPopoverInToolHeader");this._oPopover.setOffsetY(u);if(!D.system.phone){this._oPopover.addEventDelegate({onAfterRendering:function(E){this._oPopover.getDomRef().style.minWidth=this.$().outerWidth(true)+"px";}.bind(this)});}}this.addDependent(this._oPopover);this._oPopover._oControl._adaptPositionParams=function(){var i=this.$().parents().hasClass("sapUiSizeCompact");this._arrowOffset=0;if(i){this._offsets=["0 0","0 0","0 4","0 0"];}else{this._offsets=["0 0","0 0","0 5","0 0"];}this._atPositions=["end top","end top","end bottom","begin top"];this._myPositions=["end bottom","begin top","end top","end top"];};}var H=this._setSelectListItems();var S=this._getSelectList();this._oPopover.removeAllContent();if(this.getItems().length||this._isOverflow()){this._oPopover.addContent(S);this._oPopover.setInitialFocus(H?S.getSelectedItem():S.getVisibleTabFilters()[0]);this._oPopover.openBy(this);}};
v.prototype._getAllSubItems=function(){var i=[];this._getRealTab().getItems().forEach(function(x){if(x.isA("sap.m.IconTabFilter")){i=i.concat(x,x._getAllSubItems());}else{i=i.concat(x);}});return i;};
v.prototype._getAllSubFilters=function(){return this._getAllSubItems().filter(function(i){return i.isA("sap.m.IconTabFilter");});};
v.prototype._getAllSubFiltersDomRefs=function(){return this._getAllSubFilters().filter(function(S){return Boolean(S._getRealTab().getDomRef());}).map(function(S){return S._getRealTab().getDomRef();});};
v.prototype._getFirstAvailableSubFilter=function(){var x=this._getAllSubFilters();for(var i=0;i<x.length;i++){var y=x[i];if(y.getContent().length&&y.getVisible()){return y;}}return this;};
v.prototype._isParentOf=function(x){var y=this._getAllSubFilters();for(var i=0;i<y.length;i++){if(y[i]._getRealTab()===x){return true;}}return false;};
v.prototype._createPopoverCloseButton=function(){return new e({text:w.getText("SELECT_CANCEL_BUTTON"),press:this._closePopover.bind(this)});};
v.prototype._closePopover=function(){if(this._oPopover){this._oPopover.close();this._oPopover.removeAllContent();}if(this._isOverflow()&&this.getParent().oSelectedItem){(this.getParent()._oSelectedRootItem||this.getParent().oSelectedItem._getRootTab()).$().trigger("focus");}};
v.prototype._handleOnDragOver=function(E){if(this._isDropPossible(E)){this.getDomRef().classList.add("sapMITHDragOver");E.preventDefault();}};
v.prototype._handleOnLongDragOver=function(E){if(this._isDropPossible(E)){if(this._oPopover&&this._oPopover.isOpen()){return;}this._expandButtonPress();}};
v.prototype._handleOnDrop=function(){this.getDomRef().classList.remove("sapMITHDragOver");};
v.prototype._handleOnDragLeave=function(){this.getDomRef().classList.remove("sapMITHDragOver");};
v.prototype._isDropPossible=function(E){var i=this._getIconTabHeader(),x=E.dragSession.getDragControl()._getRealTab(),S=i.oSelectedItem;if(i!==x._getIconTabHeader()){return false;}if(x===this||x._isParentOf(this)){return false;}if(!this._isOverflow()&&!i.getMaxNestingLevel()){return false;}if(this._isOverflow()&&S&&(S===x||S._getRootTab()===x)){return false;}return true;};
v.prototype._setSelectListItems=function(){var x=this.getParent(),S=this._getSelectList(),y=this._getAllSubItems(),z=x.oSelectedItem,H=false,E,L,F,i,G;if(this._isOverflow()){y=x._getItemsForOverflow(this._bIsStartOverflow);}S.destroyItems();S.setSelectedItem(null);for(i=0;i<y.length;i++){E=y[i];L=E.clone(undefined,undefined,{cloneChildren:false,cloneBindings:true});E._oCloneInList=L;F=E.getCustomData();for(G=0;G<F.length;G++){L.addCustomData(F[G].clone());}L._oRealItem=E;S.addItem(L);if(E.isA("sap.m.IconTabSeparator")){continue;}if(L._getRealTab()===z){S.setSelectedItem(L);H=true;continue;}if(L._getRealTab()._isParentOf(z)){S.setSelectedItem(z._getRealTab());H=true;}}return H;};
v.prototype._isOverflow=function(){return this._bIsOverflow||this._bIsStartOverflow;};
v.prototype._getIconTabHeader=function(){return this._getRootTab().getParent();};
v.prototype.onsapdown=function(E){if(!this.getEnabled()){return;}if(this._isOverflow()||((this._getNestedLevel()===1&&this._getRealTab()===this)&&this._getRealTab().getItems().length!==0)){E.stopImmediatePropagation();this._expandButtonPress();}};
v.prototype._startBadgeHiding=function(){if(this._iHideBadgeTimeout){return;}this._iHideBadgeTimeout=setTimeout(this._hideBadge.bind(this),s);if(this._getRootTab()!==this){this._getRootTab()._updateExpandButtonBadge();}};
v.prototype._hideBadge=function(){var i=this.getBadgeCustomData();if(!i){return;}i.setVisible(false);if(this._getRootTab()!==this){this._getRootTab()._updateExpandButtonBadge();}if(this._oCloneInList&&!this._oCloneInList.bIsDestroyed&&this._oCloneInList.getBadgeCustomData()){this._oCloneInList.getBadgeCustomData().setVisible(false);this._oCloneInList=null;}if(this._isInOverflow()){this._getIconTabHeader()._getOverflow()._updateExpandButtonBadge();}if(this._isInStartOverflow()){this._getIconTabHeader()._getStartOverflow()._updateExpandButtonBadge();}this._iHideBadgeTimeout=null;};
v.prototype._isInOverflow=function(){return!this._bIsOverflow&&this._getIconTabHeader()._getItemsInStrip().indexOf(this._getRealTab())===-1;};
v.prototype._isInStartOverflow=function(){return!this._bIsStartOverflow&&this._getIconTabHeader()._getItemsInStrip().indexOf(this._getRealTab())===-1;};
v.prototype.onBadgeUpdate=function(V,S,i){var x=this.getDomRef(),y=this._getIconTabHeader(),z,E,F,G,O,H,J,K;if(!y){return;}if(x){F=x.getAttribute("aria-labelledby")||"";switch(S){case p.Appear:F=i+" "+F;break;case p.Disappear:F=F.replace(i,"").trim();break;}x.setAttribute("aria-labelledby",F);}if(!y._isRendered()){return;}z=this._getRootTab();if(z._isInOverflow()){O=this._getIconTabHeader()._getOverflow();O._updateExpandButtonBadge();}if(z._isInStartOverflow()){H=this._getIconTabHeader()._getStartOverflow();H._updateExpandButtonBadge();}else if(z!==this){z._updateExpandButtonBadge();}if(S!==p.Appear){return;}this._enableMotion();if((this._isInOverflow()||this._isInStartOverflow())&&this._oCloneInList){this._oCloneInList.addCustomData(new B());}E=d.getInstance();G=this.getText();if(z._isInOverflow()){J="ICONTABFILTER_SUB_ITEM_BADGE";K=[G,O.getText()];}if(z._isInStartOverflow()){J="ICONTABFILTER_SUB_ITEM_BADGE";K=[G,H.getText()];}else{if(z!==this){J="ICONTABFILTER_SUB_ITEM_BADGE";K=[G,z.getText()];}else{J="ICONTABFILTER_BADGE_MSG";K=G;}}E.announce(w.getText(J,K),t.Assertive);};
v.prototype.getAriaLabelBadgeText=function(){return w.getText("ICONTABFILTER_BADGE");};
v.prototype._enableMotion=function(){if(this._getRealTab()._isInOverflow()||this._getRealTab()._isInStartOverflow()){if(this._oCloneInList&&this._oCloneInList.getDomRef()){this._oCloneInList.getDomRef().classList.add("sapMITBFilterBadgeMotion");}}else if(this.getDomRef()){this.getDomRef().classList.add("sapMITBFilterBadgeMotion");}};
v.prototype._shouldReadIconColor=function(){var i=this.getIconColor();return this.getEnabled()&&(i==="Positive"||i==="Critical"||i==="Negative"||i==="Neutral");};
return v;});
sap.ui.predefine('sap/m/IconTabFilterExpandButtonBadge',["./BadgeEnabler","sap/ui/core/Control","sap/ui/core/Core"],function(B,C,a){"use strict";var r=a.getLibraryResourceBundle("sap.m");
var I=C.extend("sap.m.IconTabFilterExpandButtonBadge",{
metadata:{library:"sap.m",interfaces:["sap.m.IBadge"]},
renderer:{apiVersion:2,render:function(R,c){R.openStart("div",c).class("sapMITFExpandButtonBadge").openEnd().close("div");}}
});
B.call(I.prototype);
I.prototype.init=function(){this.initBadgeEnablement({style:"Attention"});};
I.prototype.getAriaLabelBadgeText=function(){return r.getText("ICONTABFILTER_SUB_ITEMS_BADGES");};
I.prototype.onBadgeUpdate=function(){var p=this.getParent();p.onBadgeUpdate.apply(p,arguments);};
return I;});
sap.ui.predefine('sap/m/IconTabHeader',['./library','sap/ui/core/Core','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/delegate/ItemNavigation',"sap/ui/core/InvisibleText",'sap/ui/core/ResizeHandler','sap/ui/Device','sap/m/Button','sap/m/IconTabFilter','sap/m/IconTabSeparator','sap/m/IconTabBarDragAndDropUtil','sap/ui/core/library','sap/m/IconTabHeaderRenderer',"sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/events/KeyCodes"],function(l,C,a,E,I,b,R,D,B,c,d,e,f,g,q,L,K){"use strict";var h=f.dnd.DropPosition;var k=l.BackgroundDesign;var m=l.IconTabHeaderMode;var n=l.IconTabDensityMode;var T=l.TabsOverflowMode;
var o=a.extend("sap.m.IconTabHeader",{metadata:{library:"sap.m",properties:{showSelection:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},selectedKey:{type:"string",group:"Data",defaultValue:null},visible:{type:"boolean",group:"Behavior",defaultValue:true},mode:{type:"sap.m.IconTabHeaderMode",group:"Appearance",defaultValue:m.Standard},showOverflowSelectList:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:k.Solid},enableTabReordering:{type:"boolean",group:"Behavior",defaultValue:false},maxNestingLevel:{type:"int",group:"Behavior",defaultValue:0},tabDensityMode:{type:"sap.m.IconTabDensityMode",group:"Appearance",defaultValue:n.Cozy},ariaTexts:{type:"object",group:"Accessibility",defaultValue:null},tabsOverflowMode:{type:"sap.m.TabsOverflowMode",group:"Behavior",defaultValue:T.End}},aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item",dnd:{draggable:true,droppable:true,layout:"Horizontal"}},_overflow:{type:"sap.m.IconTabFilter",multiple:false,visibility:"hidden"},_startOverflow:{type:"sap.m.IconTabFilter",multiple:false,visibility:"hidden"}},events:{select:{parameters:{item:{type:"sap.m.IconTabFilter"},key:{type:"string"},previousKey:{type:"string"}}}}}});
var r=C.getLibraryResourceBundle("sap.m");E.apply(o.prototype,[true]);
o.prototype.init=function(){this._bFireSelectEvent=false;this._aTabKeys=[];this._oAriaHeadText=null;this._bIsRendered=false;};
o.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this._aTabKeys){this._aTabKeys=null;}if(this._oOverflow){this._oOverflow.removeEventDelegate(this._oOverflowEventDelegate);this._oOverflowEventDelegate=null;this._oOverflow=null;}if(this._oStartOverflow){this._oStartOverflow.removeEventDelegate(this._oStartOverflowEventDelegate);this._oStartOverflowEventDelegate=null;this._oStartOverflow=null;}if(this._oAriaHeadText){this._oAriaHeadText.destroy();this._oAriaHeadText=null;}this._bRtl=null;};
o.prototype.onBeforeRendering=function(){this._bIsRendered=false;this._bRtl=C.getConfiguration().getRTL();if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this._updateSelection();this.destroyDragDropConfig();this._setsDragAndDropConfigurations();};
o.prototype.onAfterRendering=function(){this._applyTabDensityMode();if(this.oSelectedItem){this._applySelectionToFilters();this.oSelectedItem._hideBadge();}if(C.isThemeApplied()){this._setItemsForStrip();}else{C.attachThemeChanged(this._handleThemeLoad,this);}this._initItemNavigation();this._sResizeListenerId=R.register(this.getDomRef(),q.proxy(this._fnResize,this));this.getItems().forEach(function(i){if(i._onAfterParentRendering){i._onAfterParentRendering();}});this._bIsRendered=true;};
o.prototype._isRendered=function(){return this._bIsRendered;};
o.prototype._getSelectList=function(){return this._getOverflow()._getSelectList();};
o.prototype._getOverflow=function(){var O=this.getAggregation("_overflow");if(!O){O=new c({id:this.getId()+'-overflow',text:r.getText("ICONTABHEADER_OVERFLOW_MORE")});O._bIsOverflow=true;this._oOverflowEventDelegate={onsapnext:O.onsapdown};O.addEventDelegate(this._oOverflowEventDelegate,O);this.setAggregation("_overflow",O);this._oOverflow=O;}return O;};
o.prototype._getStartOverflow=function(){var s=this.getAggregation("_startOverflow");if(!s){s=new c({id:this.getId()+'-startOverflow',text:r.getText("ICONTABHEADER_OVERFLOW_MORE")});s._bIsStartOverflow=true;this._oStartOverflowEventDelegate={onsapprevious:s.onsapdown};s.addEventDelegate(this._oStartOverflowEventDelegate,s);this.setAggregation("_startOverflow",s);this._oStartOverflow=s;}return s;};
o.prototype._getInvisibleHeadText=function(){var A=this.getAriaTexts()||{};if(!this._oAriaHeadText){this._oAriaHeadText=new b({id:this.getId()+"-ariaHeadText"});}this._oAriaHeadText.setText(A.headerDescription);return this._oAriaHeadText;};
o.prototype._onItemNavigationFocusLeave=function(){if(!this.oSelectedItem){return;}var j=this.getItems();var p=-1;var s;for(var i=0;i<j.length;i++){s=j[i];if(s instanceof c==false){continue;}p++;if((this.oSelectedItem._getRootTab()||this.oSelectedItem)===s){break;}}this._oItemNavigation.setFocusedIndex(p);};
o.prototype.getTabFilters=function(){var t=[];this.getItems().forEach(function(i){if(i instanceof c){t.push(i);}});return t;};
o.prototype._setsDragAndDropConfigurations=function(){if(this.getEnableTabReordering()&&!this.getDragDropConfig().length){e.setDragDropAggregations(this,"Horizontal",this._getDropPosition());}};
o.prototype._getDropPosition=function(){return this.getMaxNestingLevel()===0?h.Between:h.OnOrBetween;};
o.prototype.setSelectedKey=function(s){var i=this.getTabFilters(),j=this._isInsideIconTabBar(),A=true,S;if(i.length>0){s=s||i[0]._getNonEmptyKey();}if(this.$().length){S=this._findItemByKey(s);if(S){this.setSelectedItem(S,A);}else if(!j&&s){this.setSelectedItem(null);}}this.setProperty("selectedKey",s,true);return this;};
o.prototype.setSelectedItem=function(i,A){if(!i){if(this.oSelectedItem){this._removeSelectionFromFilters();this.oSelectedItem=null;}return this;}if(this._isUnselectable(i)){return this;}var p=this.getParent();var j=this._isInsideIconTabBar();var P=this.getSelectedKey();var s=false;if(i.getContent().length===0&&this.oSelectedItem&&this.oSelectedItem.getContent().length===0){s=true;}if(this.oSelectedItem&&this.oSelectedItem.getVisible()&&(!A&&j&&p.getExpandable()||this.oSelectedItem!==i)){this._removeSelectionFromFilters();}if(i.getVisible()){if(this.oSelectedItem===i){if(!A&&j&&p.getExpandable()){p._toggleExpandCollapse();}}else{if(j){p.$("content").attr('aria-labelledby',i.sId);}this.oSelectedItem=i;this._applySelectionToFilters();this.setProperty("selectedKey",this.oSelectedItem._getNonEmptyKey(),true);if(j&&(p.getExpandable()||p.getExpanded())){var S=this.oSelectedItem.getContent();if(S.length>0){p._rerenderContent(S);}else{if(!s){p._rerenderContent(p.getContent());}}if(!A&&p.getExpandable()&&!p.getExpanded()){p._toggleExpandCollapse(true);}}}}this.oSelectedItem=i;var t=this.oSelectedItem._getNonEmptyKey();this.setProperty("selectedKey",t,true);if(j){p.setProperty("selectedKey",t,true);}if(j){A=A&&!p._bFireSelectEvent;}else{A=A&&!this._bFireSelectEvent;}if(!A){if(j){p.fireSelect({selectedItem:this.oSelectedItem,selectedKey:t,item:this.oSelectedItem,key:t,previousKey:P});}else{this.fireSelect({selectedItem:this.oSelectedItem,selectedKey:t,item:this.oSelectedItem,key:t,previousKey:P});}}this.oSelectedItem._startBadgeHiding();var u=this.oSelectedItem._getRootTab().getDomRef();if(!u||u.classList.contains("sapMITBFilterHidden")||this.getTabsOverflowMode()===T.End){this._setItemsForStrip();}return this;};
o.prototype.getVisibleTabFilters=function(){return this.getTabFilters().filter(function(F){return F.getVisible();});};
o.prototype._initItemNavigation=function(){var t=[],s=-1,S=this.oSelectedItem&&this.oSelectedItem._getRootTab();if(this.$().hasClass("sapMITHStartOverflowList")){var i=this._getStartOverflow().getFocusDomRef();i.setAttribute("tabindex","-1");t.push(i);}this.getTabFilters().forEach(function(j){var p=this.getFocusDomRef(j);if(!p){return;}p.setAttribute("tabindex","-1");t.push(p);if(j===S||j===this.oSelectedItem){s=t.indexOf(p);}}.bind(this));if(this.$().hasClass("sapMITHEndOverflowList")){var O=this._getOverflow().getFocusDomRef();O.setAttribute("tabindex","-1");t.push(O);}if(!this._oItemNavigation){this._oItemNavigation=new I().setCycling(false).attachEvent(I.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"]});this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(this.getDomRef()).setItemDomRefs(t).setPageSize(t.length).setSelectedIndex(s);};
o.prototype.onThemeChanged=function(){this._applyTabDensityMode();};
o.prototype._applyTabDensityMode=function(){var t=this.getTabDensityMode();this.$().removeClass("sapUiSizeCompact");switch(t){case n.Compact:this.$().addClass("sapUiSizeCompact");break;case n.Inherit:if(this.$().closest(".sapUiSizeCompact").length){this.$().addClass("sapUiSizeCompact");}break;}};
o.prototype._handleThemeLoad=function(){setTimeout(this._setItemsForStrip.bind(this),350);C.detachThemeChanged(this._handleThemeLoad,this);};
o.prototype.destroyItems=function(){this.oSelectedItem=null;this._aTabKeys=[];this.destroyAggregation("items");return this;};
o.prototype.addItem=function(i){if(!(i instanceof d)){var s=i.getKey();if(this._aTabKeys.indexOf(s)!==-1){L.warning("sap.m.IconTabHeader: duplicate key '"+s+"' inside the IconTabFilter. Please use unique keys.");}this._aTabKeys.push(s);}this.addAggregation("items",i);this._invalidateParentIconTabBar();return this;};
o.prototype.insertItem=function(i,j){if(!(i instanceof d)){var s=i.getKey();if(this._aTabKeys.indexOf(s)!==-1){L.warning("sap.m.IconTabHeader: duplicate key '"+s+"' inside the IconTabFilter. Please use unique keys.");}this._aTabKeys.push(s);}this.insertAggregation("items",i,j);this._invalidateParentIconTabBar();};
o.prototype.removeAllItems=function(){var i=this.removeAllAggregation("items");this._aTabKeys=[];this.oSelectedItem=null;this._invalidateParentIconTabBar();return i;};
o.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(i&&!(i instanceof d)){var s=i.getKey();this._aTabKeys.splice(this._aTabKeys.indexOf(s),1);}if(this.oSelectedItem===i){this.oSelectedItem=null;}this._invalidateParentIconTabBar();return i;};
o.prototype.updateAggregation=function(){this.oSelectedItem=null;a.prototype.updateAggregation.apply(this,arguments);this.invalidate();};
o.prototype.removeAggregation=function(A,O,s){var i=this.getTabFilters();var j=a.prototype.removeAggregation.apply(this,arguments);if(s){return j;}if(!this._getPreserveSelection()&&j&&j==this.oSelectedItem&&A=='items'){var p=(i?Array.prototype.indexOf.call(i,j):-1);i=this.getTabFilters();p=Math.max(0,Math.min(p,i.length-1));var S=i[p];if(S){this.setSelectedItem(S,true);}else{var t=this.getParent();if(this._isInsideIconTabBar()&&t.getExpanded()){t.$("content").children().remove();}}}return j;};
o.prototype.removeAllAggregation=function(A,s){if(A=='items'){var i=this.getParent();if(this._isInsideIconTabBar()&&i.getExpanded()){i.$("content").children().remove();}}return a.prototype.removeAllAggregation.apply(this,arguments);};
o.prototype._getPreserveSelection=function(){return this._bPreserveSelection;};
o.prototype._setPreserveSelection=function(p){this._bPreserveSelection=p;};
o.prototype._getDisplayText=function(i){var t=i.getText();if(this.isInlineMode()){var s=i.getCount();if(s){if(this._bRtl){t='('+s+') '+t;}else{t+=' ('+s+')';}}}return t;};
o.prototype.isInlineMode=function(){return this.getMode()===m.Inline;};
o.prototype._checkTextOnly=function(){this._bTextOnly=this.getItems().every(function(i){return i instanceof d||!i.getIcon();});return this._bTextOnly;};
o.prototype._checkNoText=function(j){if(j.length>0){for(var i=0;i<j.length;i++){if(!(j[i]instanceof d)){if(j[i].getText().length>0){return false;}}}}return true;};
o.prototype._checkInLine=function(j){var p;if(j.length>0){for(var i=0;i<j.length;i++){p=j[i];if(!(p instanceof d)){if(p.getIcon()||p.getCount()){this._bInLine=false;return false;}}}}this._bInLine=true;return true;};
o.prototype._getItemsInStrip=function(){return this.getItems().filter(function(i){var j=i.getDomRef();return j&&!j.classList.contains("sapMITBFilterHidden");});};
o.prototype._setItemsForStrip=function(){var t=this.getVisibleTabFilters();if(!C.isThemeApplied()||!t.length){return;}var i=this.getDomRef("head");if(!i){return;}var s=this._getStartOverflow(),O=this._getOverflow(),j=this.getItems().filter(function(v){return v.getDomRef();}).map(function(v){return v.getDomRef();}),S=(this.oSelectedItem&&this.oSelectedItem.getVisible())?this.oSelectedItem:t[0],p=(S._getRootTab()||S).getDomRef();if(!j.length||!p){return;}s.$().removeClass("sapMITHOverflowVisible");O.$().removeClass("sapMITHOverflowVisible");this.$().removeClass("sapMITHStartOverflowList");this.$().removeClass("sapMITHEndOverflowList");j.forEach(function(v){v.classList.remove("sapMITBFilterHidden");});var u=j.reduce(function(v,w){return v+q(w).outerWidth(true);},0),H=u>i.offsetWidth;if(!H){return;}switch(this.getTabsOverflowMode()){case T.StartAndEnd:this._updateStartAndEndOverflow(j,p);break;case T.End:default:this._updateEndOverflow(j,p);break;}};
o.prototype._updateEndOverflow=function(j,s){var O=this._getOverflow(),t=this.getDomRef("head"),p,u,S,i;O.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");p=t.offsetWidth;S=this._getSelectedItemIndexAndSize(j,s);u=this._findLastVisibleItem(j,p,S.width);for(i=u+1;i<j.length;i++){j[i].classList.add("sapMITBFilterHidden");}O._updateExpandButtonBadge();};
o.prototype._updateStartAndEndOverflow=function(j,s){var S=this._getStartOverflow(),O=this._getOverflow(),t=this.getDomRef("head"),p=t.offsetWidth,u=this._getSelectedItemIndexAndSize(j,s),H=this._hasStartOverflow(p,j,u),v=this._hasEndOverflow(p,j,u),F,w,i;if(!H){O.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");p=t.offsetWidth;w=this._findLastVisibleItem(j,p,u.width);for(i=w+1;i<j.length;i++){j[i].classList.add("sapMITBFilterHidden");}O._updateTabCountText();O._updateExpandButtonBadge();return;}if(!v){S.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHStartOverflowList");p=t.offsetWidth;F=this._findFirstVisibleItem(j,p,u.width);for(i=F-1;i>=0;i--){j[i].classList.add("sapMITBFilterHidden");}S._updateTabCountText();S._updateExpandButtonBadge();return;}S.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHStartOverflowList");O.$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");p=t.offsetWidth;F=this._findFirstVisibleItem(j,p,u.width,u.index-1);w=this._findLastVisibleItem(j,p,u.width,F);for(i=F-1;i>=0;i--){j[i].classList.add("sapMITBFilterHidden");}for(i=w+1;i<j.length;i++){j[i].classList.add("sapMITBFilterHidden");}S._updateExpandButtonBadge();S._updateTabCountText();O._updateTabCountText();O._updateExpandButtonBadge();};
o.prototype._hasStartOverflow=function(t,j,s){if(s.index===0){return false;}var i,p=0;for(i=s.index-1;i>=0;i--){p+=this._getItemSize(j[i]);}var H=t<p+s.width;if(!H){this._getOverflow().$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHEndOverflowList");t=this.getDomRef("head").offsetWidth;H=t<p+s.width;this._getOverflow().$().removeClass("sapMITHOverflowVisible");this.$().removeClass("sapMITHEndOverflowList");}return H;};
o.prototype._hasEndOverflow=function(t,j,s){if(s.index>=j.length){return false;}var i,p=0;for(i=s.index;i<j.length;i++){p+=this._getItemSize(j[i]);}var H=t<p+s.width;if(!H){this._getStartOverflow().$().addClass("sapMITHOverflowVisible");this.$().addClass("sapMITHStartOverflowList");t=this.getDomRef("head").offsetWidth;H=t<p+s.width;this._getStartOverflow().$().removeClass("sapMITHOverflowVisible");this.$().removeClass("sapMITHStartOverflowList");}return H;};
o.prototype._getSelectedItemIndexAndSize=function(i,s){var S=i.indexOf(s),j=this._getItemSize(s),p;if(i[S-1]&&i[S-1].classList.contains("sapMITBSep")){p=i[S-1];j+=this._getItemSize(p);}i.splice(S,1);if(p){i.splice(S-1,1);S--;}return{index:S,width:j};};
o.prototype._findFirstVisibleItem=function(i,t,s,S){var j,p,u;if(S===undefined){S=i.length-1;}j=S+1;for(p=S;p>=0;p--){u=this._getItemSize(i[p]);if(t<s+u){break;}s+=u;j=p;}return j;};
o.prototype._findLastVisibleItem=function(i,t,s,S){var j,p,u;S=S||0;j=S-1;for(p=S;p<i.length;p++){u=this._getItemSize(i[p]);if(t<s+u){break;}s+=u;j=p;}var P=i[p-1];if(P&&P.classList.contains("sapMITBSep")){j-=1;}return j;};
o.prototype._getItemSize=function(i){var s=window.getComputedStyle(i),w=i.offsetWidth,M=Number.parseInt(s.marginLeft)+Number.parseInt(s.marginRight);return w+M;};
o.prototype._handleActivation=function(i){var t=i.target.id,j=i.srcControl,s,$=q(i.target);if(j instanceof B){return;}var p=q(document.getElementById(t));if(p.parents()&&Array.prototype.indexOf.call(p.parents(),this.$("content")[0])>-1){}else{if(t){i.preventDefault();if($.hasClass('sapMITBFilterIcon')||$.hasClass('sapMITBCount')||$.hasClass('sapMITBText')||$.hasClass('sapMITBTab')||$.hasClass('sapMITBContentArrow')||$.hasClass('sapMITBSep')||$.hasClass('sapMITBSepIcon')){s=i.srcControl.getId().replace(/-icon$/,"");j=C.byId(s);if(j.getMetadata().isInstanceOf("sap.m.IconTab")&&!(j instanceof d)){if(this._isUnselectable(j)){if(j.getItems().length||j._isOverflow()){j._expandButtonPress();}return;}if((j===this._getOverflow())||(j===this._getStartOverflow())){j._expandButtonPress();return;}this.setSelectedItem(j);}}else if(j.getMetadata().isInstanceOf("sap.m.IconTab")&&!(j instanceof d)){if(this._isUnselectable(j)){if(j.getItems().length||j._isOverflow()){j._expandButtonPress();}return;}if((j===this._getOverflow())||(j===this._getStartOverflow())){j._expandButtonPress();return;}this.setSelectedItem(j);}}else{if(j.getMetadata().isInstanceOf("sap.m.IconTab")&&!(j instanceof d)){if(this._isUnselectable(j)){if(j.getItems().length||j._isOverflow()){j._expandButtonPress();}return;}if((j===this._getOverflow())||(j===this._getStartOverflow())){j._expandButtonPress();return;}this.setSelectedItem(j);}}}};
o.prototype._fnResize=function(){if(this._getOverflow()._oPopover){this._getOverflow()._oPopover.close();}if(this._getStartOverflow()._oPopover){this._getStartOverflow()._oPopover.close();}this._setItemsForStrip();this._initItemNavigation();};
o.prototype._isUnselectable=function(i){var F=i._getRealTab();return!F.getEnabled()||(this._isInsideIconTabBar()&&!this.getParent().getContent().length&&F._getNestedLevel()===1&&F.getItems().length&&!F.getContent().length)||F._isOverflow();};
o.prototype._isInsideIconTabBar=function(){var p=this.getParent();return p instanceof a&&p.isA('sap.m.IconTabBar');};
o.prototype._isInsideToolHeader=function(){var p=this.getParent();return p instanceof a&&p.isA('sap.tnt.ToolHeader');};
o.prototype._invalidateParentIconTabBar=function(){if(this._isInsideIconTabBar()){this.getParent().invalidate();}};
o.prototype.getFocusDomRef=function(F){var t=F||this.oSelectedItem;if(!t){return null;}return t.getDomRef();};
o.prototype.applyFocusInfo=function(F){if(F.focusDomRef){q(F.focusDomRef).trigger("focus");}};
o.prototype._updateSelection=function(){var j=this.getItems(),s=this.getSelectedKey(),i=0,p=this._isInsideIconTabBar(),t=this._isInsideToolHeader();if(!j.length){return;}if(!this.oSelectedItem||s&&s!==this.oSelectedItem._getNonEmptyKey()){if(s){this.oSelectedItem=this._findItemByKey(s);}if(!this.oSelectedItem&&(p||!s)){for(i=0;i<j.length;i++){if(!(j[i]instanceof d)&&j[i].getVisible()){this.oSelectedItem=j[i];break;}}}}if(!t&&this.oSelectedItem&&!this.oSelectedItem.getVisible()){for(i=0;i<j.length;i++){if(!(j[i]instanceof d)&&j[i].getVisible()){this.oSelectedItem=j[i];break;}}}if(!this.oSelectedItem){return;}if(this._isUnselectable(this.oSelectedItem)){this.setSelectedItem(this.oSelectedItem._getFirstAvailableSubFilter(),true);return;}this.setProperty("selectedKey",this.oSelectedItem._getNonEmptyKey(),true);};
o.prototype._findItemByKey=function(s){var t=this.getTabFilters(),S;for(var i=0;i<t.length;i++){if(t[i]._getNonEmptyKey()===s){return t[i];}S=t[i]._getAllSubFilters();for(var j=0;j<S.length;j++){if(S[j]._getNonEmptyKey()===s){return S[j];}}}};
o.prototype._applySelectionToFilters=function(){if(this._isInsideIconTabBar()&&!this.getParent().getExpanded()){return;}this.oSelectedItem.$().addClass("sapMITBSelected").attr({'aria-selected':true});if(this.oSelectedItem._getNestedLevel()!==1){var s=this.oSelectedItem._getRootTab();s.$().addClass("sapMITBSelected").attr({"aria-selected":true});}};
o.prototype._removeSelectionFromFilters=function(){this.oSelectedItem.$().removeClass("sapMITBSelected").attr({'aria-selected':false});if(this.oSelectedItem._getNestedLevel()!==1){var s=this.oSelectedItem._getRootTab();s.$().removeClass("sapMITBSelected").attr({"aria-selected":false});}};
o.prototype._getItemsForOverflow=function(i,t){var j=this._getItemsInStrip(),p=this.getTabsOverflowMode()===T.StartAndEnd,s,u=this.getItems(),v=[];if(p){s=u.indexOf(j[0]);u=i?u.slice(0,s):u.slice(s,u.length);}u.forEach(function(w){if(!D.system.phone&&j.indexOf(w)>-1){return;}v.push(w);if(w.isA("sap.m.IconTabFilter")&&!t){w._getAllSubItems().forEach(function(S){v.push(S);});}});return v;};
o.prototype.ontouchstart=function(i){var t=i.targetTouches[0];this._iActiveTouch=t.identifier;};
o.prototype.ontouchend=function(i){if(this._iActiveTouch===undefined){return;}var M=0;var j=1;var p;if(i.which===p||i.which===M||i.which===j){this._handleActivation(i);}this._iActiveTouch=undefined;};
o.prototype.ontouchcancel=o.prototype.ontouchend;
o.prototype.onkeydown=function(i){switch(i.which){case K.ENTER:this._handleActivation(i);i.preventDefault();break;case K.SPACE:i.preventDefault();break;}};
o.prototype.onkeyup=function(i){if(i.which===K.SPACE){this._handleActivation(i);}};
o.prototype._handleDragAndDrop=function(i){var j=i.getParameter("dropPosition"),p=i.getParameter("draggedControl"),s=i.getParameter("droppedControl"),t=this,u=this.getMaxNestingLevel();if(j===h.On){t=s._getRealTab();}e.handleDrop(t,j,p._getRealTab(),s,false,u);if(p._getNestedLevel()>1){p._getRootTab()._closePopover();}this._setItemsForStrip();this._initItemNavigation();this._getOverflow()._setSelectListItems();this._getStartOverflow()._setSelectListItems();this._getSelectList()._initItemNavigation();p._getRealTab().$().trigger("focus");if(j===h.On){s._getRealTab().$().trigger("focus");}};
o.prototype._moveTab=function(t,i,M){e.moveItem.call(this,t,i,M);this._setItemsForStrip();this._initItemNavigation();};
o.prototype.ondragrearranging=function(i){if(!this.getEnableTabReordering()){return;}var t=i.srcControl,j=this.indexOfItem(this._getItemsInStrip().pop());this._moveTab(t,i.keyCode,j);t.$().trigger("focus");};
o.prototype.onsaphomemodifiers=o.prototype.ondragrearranging;o.prototype.onsapendmodifiers=o.prototype.ondragrearranging;o.prototype.onsapincreasemodifiers=o.prototype.ondragrearranging;o.prototype.onsapdecreasemodifiers=o.prototype.ondragrearranging;return o;});
sap.ui.predefine('sap/m/IconTabHeaderRenderer',['./library'],function(l){"use strict";var I={apiVersion:2};var T=l.TabsOverflowMode;
I.render=function(r,c){if(!c.getVisible()){return;}var s=c.getId(),a=c.getItems(),v=c.getVisibleTabFilters().length,V=0,t=c._checkTextOnly(),n=c._checkNoText(a),b=c._checkInLine(a)||c.isInlineMode();var o=c.getParent(),u=o&&o.isA('sap.m.IconTabBar')&&o.getUpperCase(),A=c.getAriaTexts()||{};r.openStart("div",c).class("sapMITH").class("sapContrastPlus").class("sapMITHBackgroundDesign"+c.getBackgroundDesign());if(u){r.class("sapMITBTextUpperCase");}if(t){r.class("sapMITBTextOnly");}if(n){r.class("sapMITBNoText");}if(b){r.class("sapMITBInLine");r.class("sapMITBTextOnly");}r.accessibilityState(c,{role:"navigation"});if(A.headerLabel){r.accessibilityState(c,{label:A.headerLabel});}r.openEnd();if(a.length&&c.getTabsOverflowMode()===T.StartAndEnd){r.openStart("div").class("sapMITHStartOverflow").openEnd();c._getStartOverflow().render(r);r.close("div");}if(A.headerDescription){r.renderControl(c._getInvisibleHeadText());}r.openStart("div",s+"-head").class("sapMITBHead");r.accessibilityState({role:"tablist",orientation:"horizontal"});if(A.headerDescription){r.accessibilityState({describedby:c._getInvisibleHeadText().getId()});}r.openEnd();for(var i=0;i<a.length;i++){var d=a[i];d.render(r,V,v);if(d.isA("sap.m.IconTabFilter")){if(d.getVisible()){V++;}}}r.close("div");if(a.length){r.openStart("div").class("sapMITHEndOverflow").openEnd();c._getOverflow().render(r);r.close("div");}r.close("div");};
return I;},true);
sap.ui.predefine('sap/m/IconTabSeparator',["./library","sap/ui/core/Core","sap/ui/core/Element","sap/ui/core/Item","sap/m/IconTabFilter"],function(l,C,E,I,a){"use strict";var b=l.ImageHelper;
var c=E.extend("sap.m.IconTabSeparator",{metadata:{interfaces:["sap.m.IconTab"],library:"sap.m",designtime:"sap/m/designtime/IconTabSeparator.designtime",properties:{icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:''},visible:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true}}}});
c.prototype._getImageControl=function(d,p){var P={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};this._oImageControl=b.getImageControl(this.getId()+"-icon",this._oImageControl,p,P,d);return this._oImageControl;};
c.prototype.exit=function(e){if(this._oImageControl){this._oImageControl.destroy();}E.prototype.exit.call(this,e);};
c.prototype._getRealTab=function(){return a.prototype._getRealTab.call(this);};
c.prototype._getNestedLevel=function(){return a.prototype._getNestedLevel.call(this);};
c.prototype.render=function(r){if(!this.getVisible()){return;}var i=this.getIcon(),o=this.getParent(),R=C.getLibraryResourceBundle('sap.m'),A={};if(i){A.role="img";A.label=R.getText("ICONTABBAR_NEXTSTEP");}else{A.role="separator";}r.openStart("div",this).accessibilityState(A).class("sapMITBItem").class("sapMITBSep");if(!i){r.class("sapMITBSepLine");}r.openEnd();if(i){r.renderControl(this._getImageControl(["sapMITBSepIcon"],o));}r.close("div");};
c.prototype.renderInSelectList=function(r,s,i,S,p){if(!this.getVisible()){return;}var d=this.getIcon(),o=s._oIconTabHeader,R=C.getLibraryResourceBundle('sap.m'),A={};if(d){A.role="img";A.label=R.getText("ICONTABBAR_NEXTSTEP");}else{A.role="separator";}r.openStart("li",this).class("sapMITBSelectItem").class("sapMITBSep").accessibilityState(A);if(p&&!d){r.style("padding-left",p+"rem");}if(!d){r.class("sapMITBSepLine");}r.openEnd();if(d){r.renderControl(this._getImageControl(["sapMITBSepIcon"],o));}r.close("li");};
return c;});
sap.ui.predefine('sap/m/Menu',['./library','sap/ui/core/Control','./Button','./Dialog','./NavContainer','./List','./Page','./MenuListItem','sap/ui/unified/Menu','sap/ui/unified/MenuItem','sap/ui/Device','sap/ui/core/EnabledPropagator',"sap/ui/thirdparty/jquery","sap/ui/core/Popup"],function(l,C,B,D,N,L,P,M,U,a,b,E,q,c){"use strict";var d=c.Dock;var e=l.ListType;var f=l.ListMode;
var g=C.extend("sap.m.Menu",{
metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"},_dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},_menu:{type:"sap.ui.unified.Menu",multiple:false,visibility:"hidden"}},events:{itemSelected:{parameters:{item:{type:"sap.m.MenuItem"}}},closed:{}}},
renderer:null
});
E.call(g.prototype);g.UNIFIED_MENU_ITEMS_ID_SUFFIX='-unifiedmenu';g.UNFIFIED_MENU_ITEMS_PROPS=a.getMetadata().getAllProperties();g.LIST_ITEMS_ID_SUFFIX='-menuinnerlist';g.MENU_LIST_ITEMS_PROPS=M.getMetadata().getAllProperties();
g.prototype.init=function(){if(b.system.phone){this._initDialog();}this._bIsInitialized=false;};
g.prototype.exit=function(){if(this._navContainerId){this._navContainerId=null;}if(this._bIsInitialized){this._bIsInitialized=null;}if(this._getMenu()&&this._getMenu().getPopup()){this._getMenu().getPopup().detachClosed(this._menuClosed,this);}};
g.prototype.invalidate=function(){};
g.prototype.setTitle=function(t){var n=this._getNavContainer();this.setProperty("title",t,true);if(n&&n.getPages().length){n.getPages()[0].setTitle(t);}return this;};
g.prototype.openBy=function(o,w,s,i,O){if(b.system.phone){this._openDialog();}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true;}if(!s){s=d.BeginTop;}if(!i){i=d.BeginBottom;}if(!O){O="0 -2";}this._getMenu().open(w,o,s,i,o,O);}};
g.prototype.close=function(){if(b.system.phone){this._getDialog()&&this._getDialog().close();}else{this._getVisualParent()&&this._getVisualParent().close();}};
g.prototype._initDialog=function(){var o=new D({showHeader:false,stretch:true,content:this._initNavContainer(),buttons:[this._initCloseButton()]});o.addStyleClass("sapMRespMenuDialog");o.addStyleClass("sapUiNoContentPadding");this.setAggregation("_dialog",o,true);o.attachAfterClose(this._menuClosed,this);};
g.prototype._getDialog=function(){return this.getAggregation("_dialog");};
g.prototype._openDialog=function(){if(!this._bIsInitialized){this._initAllPages();this._bIsInitialized=true;}this._getNavContainer().to(this._getNavContainer().getPages()[0]);this._getDialog().open();};
g.prototype._initAllMenuItems=function(){this._initMenuForItems(this.getItems());};
g.prototype._setCustomEnhanceAccStateFunction=function(i){this._fnEnhanceUnifiedMenuAccState=i;};
g.prototype._initMenuForItems=function(i,p){var m=new U();m._setCustomEnhanceAccStateFunction(this._fnEnhanceUnifiedMenuAccState);m.isCozy=this._isMenuCozy.bind(this,m);this.addStyleClass('sapMMenu');m.aCustomStyleClasses=this.aCustomStyleClasses;m.mCustomStyleClassMap=this.mCustomStyleClassMap;i.forEach(function(I){this._addVisualMenuItemFromItem(I,m);}.bind(this));if(p){p.setSubmenu(m);}else{m.getPopup().attachClosed(this._menuClosed,this);this.setAggregation('_menu',m,true);}m.attachItemSelect(this._handleMenuItemSelect,this);};
g.prototype._menuClosed=function(){this.fireClosed();};
g.prototype._getMenu=function(){return this.getAggregation("_menu");};
g.prototype._initCloseButton=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new B({text:r.getText("MENU_CLOSE"),press:h.bind(this)});};
function h(){this._getDialog().close();}
g.prototype._initNavContainer=function(){var n=new N();this._navContainerId=n.getId();return n;};
g.prototype._getNavContainer=function(){return sap.ui.getCore().byId(this._navContainerId);};
g.prototype._initAllPages=function(){this._initPageForParent(this);};
g.prototype._initPageForParent=function(p){var i=p.getItems(),k=p instanceof g,s=k?p.getTitle():p.getText(),o=new L({mode:f.None}),m=new P({title:s,showNavButton:!k,content:o});if(!k){this._setBackButtonTooltipForPageWithParent(p,m);}m.attachNavButtonPress(function(){this._getNavContainer().back();},this);this._getNavContainer().addPage(m);i.forEach(function(I){this._addListItemFromItem(I,m);},this);this._updateListInset(o);o.attachEvent("itemPress",this._handleListItemPress,this);return m;};
g.prototype._handleListItemPress=function(o){var i=o.getParameter("listItem"),m=sap.ui.getCore().byId(i.getMenuItem()),p=m._getVisualChild();if(p){this._getNavContainer().to(p);}else{this._getDialog().close();this.fireItemSelected({item:m});}m.firePress();};
g.prototype._setBackButtonTooltipForPageWithParent=function(p,o){var i=p.getParent(),r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s;s=i instanceof g?i.getTitle():i.getText();s=r.getText("MENU_PAGE_BACK_BUTTON")+" "+s;o.setNavButtonTooltip(s);};
g.prototype._createMenuListItemFromItem=function(i){return new M({id:this._generateListItemId(i.getId()),type:i.getEnabled()?e.Active:e.Inactive,icon:i.getIcon(),title:i.getText(),startsSection:i.getStartsSection(),menuItem:i,tooltip:i.getTooltip(),visible:i.getVisible(),enabled:i.getEnabled()});};
g.prototype._createVisualMenuItemFromItem=function(I){var u=new a({id:this._generateUnifiedMenuItemId(I.getId()),icon:I.getIcon(),text:I.getText(),startsSection:I.getStartsSection(),tooltip:I.getTooltip(),visible:I.getVisible(),enabled:I.getEnabled()}),i,k=I.getCustomData();for(i=0;i<k.length;i++){I._addCustomData(u,k[i]);}return u;};
g.prototype._addVisualMenuItemFromItem=function(i,m,I){var o=this._createVisualMenuItemFromItem(i);i._setVisualParent(m);i._setVisualControl(o);var k=['aggregationChanged','propertyChanged'];k.forEach(function(s){var n='_on'+s.slice(0,1).toUpperCase()+s.slice(1);i.attachEvent(s,this[n],this);},this);if(i.getItems().length!==0){this._initMenuForItems(i.getItems(),o);i._setVisualChild(i.getItems()[0]._getVisualParent());}if(I===undefined){m.addItem(o);}else{m.insertItem(o,I);}};
g.prototype._addListItemFromItem=function(i,p,I){var m=this._createMenuListItemFromItem(i),o=p.getContent()[0];i._setVisualParent(p);i._setVisualControl(m);var k=['aggregationChanged','propertyChanged'];k.forEach(function(s){var n='_on'+s.slice(0,1).toUpperCase()+s.slice(1);i.attachEvent(s,this[n],this);},this);if(i.getItems().length!==0){this._initPageForParent(i);i._setVisualChild(i.getItems()[0]._getVisualParent());}if(I===undefined){o.addItem(m);}else{o.insertItem(m,I);}o.rerender();};
g.prototype._connectVisualItem=function(i,o,I){if(!o||sap.ui.getCore().byId(i._getVisualControl())){return;}if(b.system.phone){this._addListItemFromItem(i,o,I);var k=o.getContent()[0];this._updateListInset(k);}else{this._addVisualMenuItemFromItem(i,o,I);}};
g.prototype._updateListInset=function(o){var H=false,I="sapMListIcons",k=o.getItems();for(var i=0;i<k.length;i++){if(k[i].getIcon()){H=true;break;}}if(H){o.addStyleClass(I);}else{o.removeStyleClass(I);}};
g.prototype._handleMenuItemSelect=function(o){var u=o.getParameter("item"),m;if(!u){return;}m=this._findMenuItemByUnfdMenuItem(u);if(m&&!m.getItems().length){this.fireItemSelected({item:m});}if(m){m.firePress();}};
g.prototype._generateListItemId=function(m){return m+g.LIST_ITEMS_ID_SUFFIX;};
g.prototype._generateUnifiedMenuItemId=function(m){return m+g.UNIFIED_MENU_ITEMS_ID_SUFFIX;};
g.prototype._findMenuItemByUnfdMenuItem=function(u){var k=[],o=u,I,m,i;do{k.push(o.getId());o=o.getParent().getParent();}while(o instanceof a);I=this.getItems();do{m=k.pop();for(i=0;i<I.length;i++){if(I[i]._getVisualControl()===m){if(k.length===0){return I[i];}else{I=I[i].getItems();break;}}}}while(k.length);return null;};
g.prototype._isMenuCozy=function(m){if(!m.bCozySupported){return false;}if(m.hasStyleClass("sapUiSizeCozy")){return true;}if(j(m.oOpenerRef)){return true;}return false;};
function j(r){if(!r){return false;}r=r.$?r.$():q(r);var $=r.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");return(!$.hasClass("sapUiSizeCompact")&&!$.hasClass("sapUiSizeCondensed"))||$.hasClass("sapUiSizeCozy");}
g.prototype.addAggregation=function(A,o,s){C.prototype.addAggregation.apply(this,arguments);if(A==="items"){this._connectVisualItem(o,this._getVisualParent());}return this;};
g.prototype.insertAggregation=function(A,o,i,s){C.prototype.insertAggregation.apply(this,arguments);if(A==="items"){this._connectVisualItem(o,this._getVisualParent(),i);}return this;};
g.prototype.removeAggregation=function(A,o,s){var i=C.prototype.removeAggregation.apply(this,arguments);if(A==="items"){this._removeVisualItem(i);}return i;};
g.prototype.removeAllAggregation=function(A,s){var I=C.prototype.removeAllAggregation.apply(this,arguments);if(A==="items"){for(var i=0;i<I.length;i++){this._removeVisualItem(I[i]);}}return I;};
g.prototype._removeVisualItem=function(i,p){var v=sap.ui.getCore().byId(i._getVisualControl()),m;if(v){m=v.getParent();m.removeItem(v);if(b.system.phone){this._removeSubPageForItem(i);if(m.getItems().length===0){if(p){p._setVisualChild(null);sap.ui.getCore().byId(p._getVisualControl()).rerender();}}if(m){m.rerender();}}}};
g.prototype.destroyAggregation=function(A,s){if(A==="items"){for(var i=0;i<this.getItems().length;i++){this._removeVisualItem(this.getItems()[i]);}}return C.prototype.destroyAggregation.apply(this,arguments);};
g.prototype._removeSubPageForItem=function(I,s){var S;if(!s){for(var i=0;i<I.getItems().length;i++){this._removeSubPageForItem(I.getItems()[i]);}}if(I._getVisualChild()){S=sap.ui.getCore().byId(I._getVisualChild());if(this._getNavContainer()&&S){this._getNavContainer().removePage(S);}!!S&&S.destroy();}};
g.prototype._getVisualParent=function(){var n=this._getNavContainer(),m=this._getMenu();if(n&&n.getPages().length){return n.getPages()[0];}else{return m;}};
g.prototype._onPropertyChanged=function(o){var p=o.getParameter("propertyKey"),i=o.getParameter("propertyValue"),t=b.system.phone?g.MENU_LIST_ITEMS_PROPS:g.UNFIFIED_MENU_ITEMS_PROPS,G=b.system.phone?this._generateListItemId:this._generateUnifiedMenuItemId,T;if(b.system.phone&&p==='text'){p='title';}if(!t[p]){return;}T=G(o.getSource().getId());if(T){sap.ui.getCore().byId(T).setProperty(p,i);if(b.system.phone&&this._getDialog().isOpen()){this._getDialog().close();}}};
g.prototype._onAggregationChanged=function(o){var A=o.getParameter("aggregationName");switch(A){case'items':this._onItemsAggregationChanged(o);break;case'tooltip':this._onTooltipAggregationChanged(o);break;}};
g.prototype._onTooltipAggregationChanged=function(o){var v=o.getSource()._getVisualControl(),m=o.getParameter("methodName"),i=o.getParameter("methodParams"),V;if(!v){return;}V=sap.ui.getCore().byId(v);if(m==="set"){V.setTooltip(i.item);}if(m==="destroy"){V.destroyTooltip();}};
g.prototype._onItemsAggregationChanged=function(o){var I=o.getSource(),m=o.getParameter("methodName"),k=o.getParameter("methodParams"),n;if(m==="add"||m==="insert"){if(m==="insert"){n=k.index;}this._addOrInsertItem(I,k.item,n);}if(m==="remove"){this._removeVisualItem(k.item,I);}if(m==="removeall"){for(var i=0;i<k.items.length;i++){this._removeVisualItem(k.items[i],I);}}if(m==="destroy"){this._destroyItem(I);}};
g.prototype._addOrInsertItem=function(p,n,i){var o;if(p._getVisualChild()){this._connectVisualItem(n,sap.ui.getCore().byId(p._getVisualChild()),i);}else{if(b.system.phone){this._initPageForParent(p);p._setVisualChild(p.getItems()[0]._getVisualParent());o=sap.ui.getCore().byId(p._getVisualControl());o.rerender();}else{this._initMenuForItems(p.getItems(),sap.ui.getCore().byId(p._getVisualControl()));p._setVisualChild(p.getItems()[0]._getVisualParent());}}};
g.prototype._destroyItem=function(i){var v=sap.ui.getCore().byId(i._getVisualControl());if(v&&v.setMenuItem){v.setMenuItem(null);}this._removeSubPageForItem(i,true);i._setVisualChild(null);if(v&&v.setMenuItem){v.rerender();v.setMenuItem(i);}};
g.prototype.getDomRefId=function(){if(b.system.phone){return this._getDialog().getId();}else{return this._getMenu().getId();}};
g.prototype.openAsContextMenu=function(o,O){if(b.system.phone){this._openDialog();}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true;}this._getMenu().openAsContextMenu(o,O);}};
["addStyleClass","removeStyleClass","toggleStyleClass"].forEach(function(m){g.prototype[m]=function(s,S){var o=this._getDialog();C.prototype[m].apply(this,arguments);if(o){o[m].apply(o,arguments);}return this;};});return g;});
sap.ui.predefine('sap/m/MenuItem',['./library','sap/ui/core/Item','sap/ui/base/ManagedObjectObserver'],function(l,I,M){"use strict";
var a=I.extend("sap.m.MenuItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{press:{},propertyChanged:{parameters:{propertyKey:{type:"string"},propertyValue:{type:"any"}}},aggregationChanged:{parameters:{aggregationName:{type:"string"},methodName:{type:"string"},methodParams:{type:"object"}}}}}});
a.UNIFIED_MENU_ITEMS_ID_SUFFIX='-unifiedmenu';
a.prototype.exit=function(){if(this._sVisualChild){this._sVisualChild=null;}if(this._sVisualParent){this._sVisualParent=null;}if(this._sVisualControl){this._sVisualControl=null;}};
a.prototype.setProperty=function(p,P){I.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:p,propertyValue:P});};
a.prototype.setAggregation=function(A,o,s){I.prototype.setAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"set",methodParams:{item:o}});return this;};
a.prototype.addAggregation=function(A,o,s){var v=this._getVisualControl(),V;I.prototype.addAggregation.apply(this,arguments);if(A==='customData'&&v){V=sap.ui.getCore().byId(v);this._addCustomData(V,o);}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"add",methodParams:{item:o}});return this;};
a.prototype.insertAggregation=function(A,o,i,s){var v=this._getVisualControl(),V;I.prototype.insertAggregation.apply(this,arguments);if(A==='customData'&&v){V=sap.ui.getCore().byId(v);V.insertCustomData(o.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX),i);this._observeCustomDataChanges(o);}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"insert",methodParams:{item:o,index:i}});return this;};
a.prototype.removeAggregation=function(A,o,s){var O=I.prototype.removeAggregation.apply(this,arguments);if(A==="customData"){if(this.getCustomData().length===1){this._disconnectAndDestroyCustomDataObserver();}else if(o&&this._oCustomDataObserver){this._oCustomDataObserver.unobserve(o,{properties:["value"]});}}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"remove",methodParams:{item:O}});return O;};
a.prototype.removeAllAggregation=function(A,s){var o=I.prototype.removeAllAggregation.apply(this,arguments);if(A==='customData'){this._disconnectAndDestroyCustomDataObserver();}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"removeall",methodParams:{items:o}});return o;};
a.prototype.destroyAggregation=function(A,s){if(A==='customData'){this._disconnectAndDestroyCustomDataObserver();}this.fireEvent("aggregationChanged",{aggregationName:A,methodName:"destroy"});return I.prototype.destroyAggregation.apply(this,arguments);};
a.prototype.destroy=function(){var v=sap.ui.getCore().byId(this._getVisualControl());if(v){v.destroy();}return I.prototype.destroy.apply(this,arguments);};
a.prototype._addCustomData=function(v,c){v.addCustomData(c.clone(a.UNIFIED_MENU_ITEMS_ID_SUFFIX,undefined,{bCloneChildren:false,bCloneBindings:true}));this._observeCustomDataChanges(c);};
a.prototype._observeCustomDataChanges=function(c){this._getCustomDataObserver().observe(c,{properties:["value"]});};
a.prototype._customDataObserverCallbackFunction=function(c){sap.ui.getCore().byId(c.object.getId()+"-"+a.UNIFIED_MENU_ITEMS_ID_SUFFIX).setValue(c.current);};
a.prototype._getCustomDataObserver=function(){if(!this._oCustomDataObserver){this._oCustomDataObserver=new M(this._customDataObserverCallbackFunction);}return this._oCustomDataObserver;};
a.prototype._disconnectAndDestroyCustomDataObserver=function(){if(this._oCustomDataObserver){this._oCustomDataObserver.disconnect();this._oCustomDataObserver.destroy();this._oCustomDataObserver=null;}};
a.prototype._setVisualChild=function(c){this._setInternalRef(c,"_sVisualChild");};
a.prototype._setVisualParent=function(c){this._setInternalRef(c,"_sVisualParent");};
a.prototype._setVisualControl=function(c){this._setInternalRef(c,"_sVisualControl");};
a.prototype._setInternalRef=function(c,i){if(!c||typeof c==="string"){this[i]=c;}else if(c.getId){this[i]=c.getId();}};
a.prototype._getVisualChild=function(){return this._sVisualChild;};
a.prototype._getVisualParent=function(){return this._sVisualParent;};
a.prototype._getVisualControl=function(){return this._sVisualControl;};
return a;});
sap.ui.predefine('sap/m/MenuListItem',['./ListItemBase','./library','sap/ui/core/IconPool','sap/ui/core/library','./MenuListItemRenderer'],function(L,l,I,c,M){"use strict";var T=c.TextDirection;var a=l.ListType;
var b=L.extend("sap.m.MenuListItem",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:T.Inherit},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{menuItem:{type:"sap.m.MenuItem",multiple:false}}}});
b.prototype.exit=function(){if(this._image){this._image.destroy();}if(this._imageRightArrow){this._imageRightArrow.destroy();}L.prototype.exit.apply(this,arguments);};
b.prototype._getImage=function(i,s,S,d){var o=this._image;if(o){o.setSrc(S);if(o instanceof sap.m.Image){o.setDensityAware(d);}}else{o=I.createControlByURI({id:i,src:S,densityAware:d,useIconTooltip:false},sap.m.Image).setParent(this,null,true);}if(o instanceof sap.m.Image){o.addStyleClass(s,true);}else{o.addStyleClass(s+"Icon",true);}this._image=o;return this._image;};
b.prototype._getIconArrowRight=function(){if(!this._imageRightArrow){this._imageRightArrow=I.createControlByURI({id:this.getId()+"-arrowRight",src:"sap-icon://slim-arrow-right",useIconTooltip:false},sap.m.Image).setParent(this,null,true);this._imageRightArrow.addStyleClass("sapMMenuLIArrowRightIcon",true);}return this._imageRightArrow;};
b.prototype._hasSubItems=function(){return!!(this.getMenuItem()&&sap.ui.getCore().byId(this.getMenuItem()).getItems().length);};
b.prototype.setProperty=function(p,P){L.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:p,propertyValue:P});if(p==="enabled"){this.setType(P?a.Active:a.Inactive);}};
return b;});
sap.ui.predefine('sap/m/MenuListItemRenderer',['./ListItemBaseRenderer','sap/ui/core/Renderer','sap/m/library','sap/ui/core/library'],function(L,R,l,c){"use strict";var T=c.TextDirection;var a=l.ListType;var M=R.extend(L);M.apiVersion=2;
M.openItemTag=function(r,o){if(o.getStartsSection()){r.openStart("li");r.attr("role","separator");r.class("sapUiMnuDiv");r.openEnd();r.openStart("div");r.class("sapUiMnuDivL");r.openEnd();r.close("div");r.voidStart("hr").voidEnd();r.openStart("div");r.class("sapUiMnuDivR");r.openEnd();r.close("div");r.close("li");}L.openItemTag(r,o);};
M.renderLIAttributes=function(r,o){r.class("sapMSLI");if(o.getIcon()){r.class("sapMSLIIcon");}if(o.getType()==a.Detail||o.getType()==a.DetailAndActive){r.class("sapMSLIDetail");}if(o._hasSubItems()){r.class("sapMMenuLIHasChildren");}if(!o.getEnabled()){r.class("sapMMLIDisabled");}};
M.renderLIContent=function(r,o){var t=o.getTitleTextDirection();if(o.getIcon()){r.renderControl(o._getImage((o.getId()+"-img"),"sapMMenuLIImgThumb",o.getIcon(),o.getIconDensityAware()));}r.openStart("div");r.class("sapMSLIDiv");r.class("sapMSLITitleDiv");r.openEnd();if(o._bNoFlex){r.openStart("div");r.class("sapMLIBNoFlex");r.openEnd();}r.openStart("div");r.class("sapMSLITitleOnly");if(t!==T.Inherit){r.attr("dir",t.toLowerCase());}r.openEnd();r.text(o.getTitle());r.close("div");if(o._bNoFlex){r.close('div');}r.close("div");if(o._hasSubItems()){r.renderControl(o._getIconArrowRight());}};
return M;},true);
sap.ui.predefine('sap/m/MessageBox',['./Button','./Dialog','./Text','./FormattedText','./Link','./VBox','sap/ui/core/IconPool','sap/ui/core/ElementMetadata','sap/ui/core/library','sap/ui/core/Control','sap/m/library',"sap/ui/thirdparty/jquery"],function(B,D,T,F,L,V,I,E,c,C,l,q){"use strict";var a=l.DialogType;var b=l.DialogRoleType;var d=c.TextDirection;var e=l.ButtonType;var f=l.TitleAlignment;var M={};M.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};M.Icon={NONE:undefined,INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};(function(){var A=M.Action,g=M.Icon;var _=function(){if(M._rb!==sap.ui.getCore().getLibraryResourceBundle("sap.m")){M._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m");}};
M.show=function(m,o){var h,j,v,r=null,k=[],i,s,t,n,p,u,w,x={id:E.uid("mbox"),initialFocus:null,textDirection:d.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null},y={"INFORMATION":"sapMMessageBoxInfo","WARNING":"sapMMessageBoxWarning","ERROR":"sapMMessageBoxError","SUCCESS":"sapMMessageBoxSuccess","QUESTION":"sapMMessageBoxQuestion","STANDARD":"sapMMessageBoxStandard"},z={"INFORMATION":I.getIconURI("information"),"WARNING":I.getIconURI("alert"),"ERROR":I.getIconURI("error"),"SUCCESS":I.getIconURI("sys-enter-2"),"QUESTION":I.getIconURI("sys-help-2")};_();if(typeof o==="string"||arguments.length>2){s=arguments[1];t=arguments[2];n=arguments[3];p=arguments[4];u=arguments[5];w=arguments[6];o={icon:s,title:t,actions:n,onClose:p,id:u,styleClass:w};}if(o&&o.hasOwnProperty("details")){x.icon=g.INFORMATION;x.emphasizedAction=A.OK;x.actions=[A.OK,A.CANCEL];o=q.extend({},x,o);}o=q.extend({},x,o);if(typeof o.actions!=="undefined"&&!Array.isArray(o.actions)){if(o.emphasizedAction!==null){o.emphasizedAction=o.actions;}o.actions=[o.actions];}if(!o.actions||o.actions.length===0){o.emphasizedAction=A.OK;o.actions=[A.OK];}function G(O,H){var P;if(M.Action.hasOwnProperty(O)){P=M._rb.getText("MSGBOX_"+O);}var Q=new B({id:E.uid("mbox-btn-"),text:P||O,type:H,press:function(){r=O;h.close();}});return Q;}var H;for(i=0;i<o.actions.length;i++){H=o.emphasizedAction===o.actions[i]?e.Emphasized:e.Default;k.push(G(o.actions[i],H));}function J(o,j){var O,S,P=new V({items:[j]});if(!o.details){return P;}if(typeof o.details=='object'){o.details="<pre>"+JSON.stringify(o.details,null,'\t').replace(/{/gi,"&#x007B;")+"</pre>";}O=new F().setVisible(false).setHtmlText(o.details);S=new L({text:M._rb.getText("MSGBOX_LINK_TITLE"),press:function(){var Q=h.getInitialFocus();h.addAriaLabelledBy(O);O.setVisible(true);S.setVisible(false);h._setInitialFocus();if(!Q||Q===S.getId()){k[0].focus();}}});S.addStyleClass("sapMMessageBoxLinkText");O.addStyleClass("sapMMessageBoxDetails");P.addItem(S);P.addItem(O);return P;}function K(){if(typeof o.onClose==="function"){o.onClose(r);}h.detachAfterClose(K);h.destroy();}function N(){var i=0;var O=null;if(o.initialFocus){if(o.initialFocus instanceof C){O=o.initialFocus;}if(typeof o.initialFocus==="string"){for(i=0;i<k.length;i++){if(M.Action.hasOwnProperty(o.initialFocus)){if(M._rb.getText("MSGBOX_"+o.initialFocus).toLowerCase()===k[i].getText().toLowerCase()){O=k[i];break;}}else{if(o.initialFocus.toLowerCase()===k[i].getText().toLowerCase()){O=k[i];break;}}}}}return O;}if(typeof(m)==="string"){v=new T({textDirection:o.textDirection}).setText(m).addStyleClass("sapMMsgBoxText");j=v;}else if(m instanceof C){v=m.addStyleClass("sapMMsgBoxText");}if(o&&o.hasOwnProperty("details")&&o.details!==""){v=J(o,v);}h=new D({id:o.id,type:a.Message,title:o.title,titleAlignment:f.Auto,content:v,icon:z[o.icon],initialFocus:N(),verticalScrolling:o.verticalScrolling,horizontalScrolling:o.horizontalScrolling,afterClose:K,buttons:k,ariaLabelledBy:j?j.getId():undefined,contentWidth:o.contentWidth,closeOnNavigation:o.closeOnNavigation}).addStyleClass("sapMMessageBox");h.setProperty("role",b.AlertDialog);if(y[o.icon]){h.addStyleClass(y[o.icon]);}else{h.addStyleClass(y.STANDARD);}if(o.styleClass){h.addStyleClass(o.styleClass);}h.open();};
M.alert=function(m,o){_();var h={icon:g.NONE,title:M._rb.getText("MSGBOX_TITLE_ALERT"),emphasizedAction:o&&o.actions?null:A.OK,actions:A.OK,id:E.uid("alert"),initialFocus:null},i,t,s,S;if(typeof o==="function"||arguments.length>2){i=arguments[1];t=arguments[2];s=arguments[3];S=arguments[4];o={onClose:i,title:t,id:s,styleClass:S};}o=q.extend({},h,o);return M.show(m,o);};
M.confirm=function(m,o){_();var h={icon:g.QUESTION,title:M._rb.getText("MSGBOX_TITLE_CONFIRM"),emphasizedAction:o&&o.actions?null:A.OK,actions:[A.OK,A.CANCEL],id:E.uid("confirm"),initialFocus:null},i,t,s,S;if(typeof o==="function"||arguments.length>2){i=arguments[1];t=arguments[2];s=arguments[3];S=arguments[4];o={onClose:i,title:t,id:s,styleClass:S};}o=q.extend({},h,o);return M.show(m,o);};
M.error=function(m,o){_();var h={icon:g.ERROR,title:M._rb.getText("MSGBOX_TITLE_ERROR"),emphasizedAction:null,actions:A.CLOSE,id:E.uid("error"),initialFocus:null};o=q.extend({},h,o);return M.show(m,o);};
M.information=function(m,o){_();var h={icon:g.INFORMATION,title:M._rb.getText("MSGBOX_TITLE_INFO"),emphasizedAction:o&&o.actions?null:A.OK,actions:A.OK,id:E.uid("info"),initialFocus:null};o=q.extend({},h,o);return M.show(m,o);};
M.warning=function(m,o){_();var h={icon:g.WARNING,title:M._rb.getText("MSGBOX_TITLE_WARNING"),emphasizedAction:o&&o.actions?null:A.OK,actions:A.OK,id:E.uid("warning"),initialFocus:null};o=q.extend({},h,o);return M.show(m,o);};
M.success=function(m,o){_();var h={icon:g.SUCCESS,title:M._rb.getText("MSGBOX_TITLE_SUCCESS"),emphasizedAction:o&&o.actions?null:A.OK,actions:A.OK,id:E.uid("success"),initialFocus:null};o=q.extend({},h,o);return M.show(m,o);};
}());return M;},true);
sap.ui.predefine('sap/m/MessageToast',['./InstanceManager','sap/ui/core/Popup','sap/ui/core/library','sap/ui/core/Control','sap/ui/Device',"sap/base/Log","sap/ui/thirdparty/jquery"],function(I,P,c,C,D,L,q){"use strict";var a=c.Dock;var d=c.CSSSize;var M={};var O="0 -64",e="sapMMessageToast",E="sapUiSelectable",B="sapContrast",f="sapContrastPlus";M._mSettings={duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:document.defaultView,offset:"0 0",collision:"fit fit",onClose:null,animationTimingFunction:"ease",animationDuration:1000,autoClose:true,closeOnBrowserNavigation:true};M._aPopups=[];M._iOpenedPopups=0;M._bBoundedEvents=false;
M._validateSettings=function(s){M._isFiniteInteger(s.duration);M._validateWidth(s.width);M._validateDockPosition(s.my);M._validateDockPosition(s.at);M._validateOf(s.of);M._validateOffset(s.offset);M._validateCollision(s.collision);M._validateOnClose(s.onClose);M._validateAutoClose(s.autoClose);M._validateAnimationTimingFunction(s.animationTimingFunction);M._isFiniteInteger(s.animationDuration);};
M._isFiniteInteger=function(N){if(typeof N!=="number"||!isFinite(N)||!(Math.floor(N)===N)||N<=0){L.error('"iNumber" needs to be a finite positive nonzero integer on '+M+"._isFiniteInteger");}};
M._validateWidth=function(w){if(!d.isValid(w)){L.error(w+' is not of type '+'"sap.ui.core.CSSSize" for property "width" on '+M+"._validateWidth");}};
M._validateDockPosition=function(s){if(!a.isValid(s)){L.error('"'+s+'"'+' is not of type '+'"sap.ui.core.Popup.Dock" on '+M+"._validateDockPosition");}};
M._validateOf=function(v){if(!(v instanceof q)&&!(v&&v.nodeType===1)&&!(v instanceof C)&&v!==window){L.error('"of" needs to be an instance of sap.ui.core.Control or an Element or a jQuery object or the window on '+M+"._validateOf");}};
M._validateOffset=function(o){if(typeof o!=="string"){L.error(o+' is of type '+typeof o+', expected "string" for property "offset" on '+M+"._validateOffset");}};
M._validateCollision=function(s){var r=/^(fit|flip|none|flipfit|flipflip|flip flip|flip fit|fitflip|fitfit|fit fit|fit flip)$/i;if(!r.test(s)){L.error('"collision" needs to be a single value “fit”, “flip”, or “none”, or a pair for horizontal and vertical e.g. "fit flip”, "fit none", "flipfit" on '+M+"._validateOffset");}};
M._validateOnClose=function(b){if(typeof b!=="function"&&b!==null){L.error('"onClose" should be a function or null on '+M+"._validateOnClose");}};
M._validateAutoClose=function(b){if(typeof b!=="boolean"){L.error('"autoClose" should be a boolean on '+M+"._validateAutoClose");}};
M._validateAnimationTimingFunction=function(t){var r=/^(ease|linear|ease-in|ease-out|ease-in-out)$/i;if(!r.test(t)){L.error('"animationTimingFunction" should be a string, expected values: '+"ease, linear, ease-in, ease-out, ease-in-out on "+M+"._validateAnimationTimingFunction");}};
function h(o){for(var p=["my","at","of","offset"],i=0;i<p.length;i++){if(o[p[i]]!==undefined){return false;}}return true;}
function g(s){var m=document.createElement("div");m.className=e+" "+E+" "+B+" "+f;if(sap.ui.getCore().getConfiguration().getAccessibility()){m.setAttribute("role","alert");}m.style.width=s.width;m.appendChild(document.createTextNode(s.message));return m;}
function n(o){if(o){if(h(o)){o.offset=O;}if(o.of&&o.of.nodeType===9){o.of=document.defaultView;}}else{o={offset:O};}return o;}
M._handleResizeEvent=function(){if(D.system.phone||D.system.tablet){M._resetPosition(M._aPopups);}setTimeout(M["_applyPositions"].bind(M,M._aPopups),0);};
M._handleMouseDownEvent=function(o){var i=o.target.hasAttribute("class")&&o.target.getAttribute("class").indexOf(e)!==-1;if(i||o.isMarked("delayedMouseEvent")){return;}M._aPopups.forEach(function(p){p&&p.__bAutoClose&&p.close();});};
M._resetPosition=function(p){for(var i=0,m;i<p.length;i++){m=p[i]&&p[i].getContent();if(m){m.style.visibility="hidden";m.style.left=0;}}};
M._applyPositions=function(p){for(var i=0,o,m;i<p.length;i++){o=p[i];if(o){m=o._oPosition;if(D.system.phone||D.system.tablet){setTimeout(M["_applyPosition"].bind(M,o,m),0);}else{o.setPosition(m.my,m.at,m.of,m.offset);}}}};
M._applyPosition=function(p,m){m=m||p._oPosition;var o=p.getContent();p.setPosition(m.my,m.at,m.of,m.offset);o.style.visibility="visible";};
M._setCloseAnimation=function(m,i,b,s){var j="opacity "+s.animationTimingFunction+" "+s.animationDuration+"ms",t="webkitTransitionEnd."+e+" transitionend."+e;if(sap.ui.getCore().getConfiguration().getAnimation()&&s.animationDuration>0){m[0].style.webkitTransition=j;m[0].style.transition=j;m[0].style.opacity=0;m.on(t,function k(){m.off(t);b();});}else{b();}};
M.show=function(m,o){var t=M,s=q.extend({},M._mSettings,{message:m}),p=new P(),i,b,j="mousedown."+e+" touchstart."+e,k,l;o=n(o);q.extend(s,o);M._validateSettings(s);b=g(s);i=M._aPopups.push(p)-1;p.setContent(b);p.setPosition(s.my,s.at,s.of,s.offset,s.collision);p.setAnimations(function x($,v,w){w();},function x($,v,w){t._setCloseAnimation($,v,w,s);});p.setShadow(false);p.__bAutoClose=s.autoClose;if(s.closeOnBrowserNavigation){I.addPopoverInstance(p);}if(!M._bBoundedEvents){q(window).on("resize."+e,M._handleResizeEvent.bind(M));q(document).on(j,M._handleMouseDownEvent.bind(M));M._bBoundedEvents=true;}p.open();M._iOpenedPopups++;function r(){I.removePopoverInstance(t._aPopups[i]);q(t._aPopups[i].getContent()).remove();t._aPopups[i].detachClosed(r);t._aPopups[i].destroy();t._aPopups[i]=null;t._iOpenedPopups--;if(t._iOpenedPopups===0){t._aPopups=[];q(window).off("resize."+e);q(document).off(j);t._bBoundedEvents=false;}if(typeof s.onClose==="function"){s.onClose.call(t);}}p.attachClosed(r);k=setTimeout(p["close"].bind(p),s.duration);function u(){clearTimeout(k);k=null;function v(){l=setTimeout(p["close"].bind(p),s.duration);p.getContent().removeEventListener("mouseleave",v);}p.getContent().addEventListener("mouseleave",v);clearTimeout(l);l=null;}p.getContent().addEventListener("touchstart",u);p.getContent().addEventListener("mouseover",u);if(D.system.desktop){p.getContent().addEventListener("mouseleave",function(){k=setTimeout(p["close"].bind(p),s.duration);});}};
M.toString=function(){return"sap.m.MessageToast";};
return M;},true);
sap.ui.predefine('sap/m/MultiComboBox',['./InputBase','./ComboBoxTextField','./ComboBoxBase','./Tokenizer','./Token','./List','./StandardListItem','./Popover','./GroupHeaderListItem','./CheckBox','./Toolbar','./library','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/library','sap/ui/Device','sap/ui/core/Item','sap/ui/core/SeparatorItem','sap/ui/core/ResizeHandler','./MultiComboBoxRenderer',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/completeTextSelected","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/filterItems","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/m/inputUtils/forwardItemPropertiesToToken","sap/m/inputUtils/getTokenByItem","sap/ui/events/KeyCodes","sap/base/util/deepEqual","sap/base/assert","sap/base/Log","sap/ui/core/Core",'sap/ui/core/InvisibleText',"sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos","sap/ui/dom/jquery/control"],function(I,C,a,T,b,L,S,P,G,c,d,l,E,e,f,D,g,h,R,M,j,k,m,t,n,o,p,s,q,r,u,K,v,w,x,y,z,Q){"use strict";var A=l.ListMode;var V=f.ValueState;var O=f.OpenState;var B=l.TokenizerRenderMode;
var F=a.extend("sap.m.MultiComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MultiComboBox.designtime",properties:{selectedKeys:{type:"string[]",group:"Data",defaultValue:[]},hasSelection:{type:"boolean",visibility:"hidden",defaultValue:false},showSelectAll:{type:"boolean",defaultValue:false}},associations:{selectedItems:{type:"sap.ui.core.Item",multiple:true,singularName:"selectedItem"}},aggregations:{tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"}},events:{selectionChange:{parameters:{changedItem:{type:"sap.ui.core.Item"},changedItems:{type:"sap.ui.core.Item[]"},selected:{type:"boolean"},selectAll:{type:"boolean"}}},selectionFinish:{parameters:{selectedItems:{type:"sap.ui.core.Item[]"}}}},dnd:{draggable:false,droppable:true}}});
e.insertFontFaceStyle();E.apply(F.prototype,[true]);
F.prototype.clone=function(i){var H=a.prototype.clone.apply(this,arguments),J=this._getList();if(J){H.syncPickerContent();}return H;};
F.prototype.open=function(){if(!this.isOpen()){this._bPickerIsOpening=true;}this.syncPickerContent();return a.prototype.open.apply(this,arguments);};
F.prototype.onsapend=function(i){if(i.isMarked("forwardFocusToParent")){this.focus();}};
F.prototype.onsaphome=function(i){if(!this.getFocusDomRef().selectionStart&&this._hasTokens()){T.prototype.onsaphome.apply(this.getAggregation("tokenizer"),arguments);}i.setMarked();};
F.prototype.onsapdown=function(i){if(!this.getEnabled()||!this.getEditable()){return;}i.setMarked();i.preventDefault();this.syncPickerContent();if(!this.isOpen()){this._oTraversalItem=this._getNextTraversalItem();if(this._oTraversalItem&&!this.isFocusInTokenizer()&&!this.isComposingCharacter()){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length);}return;}setTimeout(this.handleDownEvent.bind(this,i),0);};
F.prototype.onsapup=function(i){if(!this.getEnabled()||!this.getEditable()){return;}i.setMarked();i.preventDefault();this.syncPickerContent();if(this.isFocusInTokenizer()||this.isOpen()){return;}this._oTraversalItem=this._getPreviousTraversalItem();if(this._oTraversalItem){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length);}};
F.prototype.handleDownEvent=function(i){if(!this.isOpen()){return;}var H=i.srcControl,J=H&&H.getDomRef(),N=j(this.getDomRef(),J),U=this.getPicker().getCustomHeader(),W=U&&U.getDomRef();i.setMarked();i.preventDefault();if(N&&this.getValueState()!=V.None){this._handleFormattedTextNav();return;}if((N||j(W,J))&&this.getShowSelectAll()){this.focusSelectAll();return;}this.focusFirstItemInList();};
F.prototype.handleEndEvent=function(i){i.setMarked();i.preventDefault();var H=n.getVisibleItems(this.getItems()),J=H.length&&n.getListItem(H[H.length-1]);J&&J.focus();};
F.prototype.handleHomeEvent=function(i){i.setMarked();i.preventDefault();if(this.getValueState()!==V.None){this._handleFormattedTextNav();i.stopPropagation(true);return;}if(this.getShowSelectAll()){this.focusSelectAll();i.stopPropagation(true);return;}this.focusFirstItemInList();};
F.prototype.focusFirstItemInList=function(){var i=n.getVisibleItems(this.getItems()),H=i.length&&n.getListItem(i[0]);H&&H.focus();};
F.prototype.isFocusInTokenizer=function(){return Q.contains(this.getAggregation("tokenizer").getFocusDomRef(),document.activeElement);};
F.prototype.onsapshow=function(i){i.preventDefault();this._handleItemToFocus();a.prototype.onsapshow.apply(this,arguments);};
F.prototype._handlePopupOpenAndItemsLoad=function(){this._handleItemToFocus();a.prototype._handlePopupOpenAndItemsLoad.apply(this,arguments);};
F.prototype._valueStateNavDelegate=function(i,H){return{onsapdown:this.handleDownEvent,onsapup:this.focus,onsapend:this.handleEndEvent,onfocusout:function(J){i.removeStyleClass("sapMFocusable");if(!i.getDomRef().contains(J.relatedTarget)){H.forEach(function(N){N.getDomRef().setAttribute("tabindex","-1");});}},onsapshow:this.close,onsaphide:this.close};};
F.prototype._closePickerDelegate={onsaptabnext:function(){this.close();setTimeout(function(){this.closeValueStateMessage();}.bind(this),0);}};F.prototype._formattedTextLinksNav={onsapup:this.focus,onsapdown:this.handleDownEvent};
F.prototype._handleFormattedTextNav=function(){var i=this.getPicker().getCustomHeader(),H=this.getValueStateLinks(),J=H?H[H.length-1]:null,N=H?H[0]:null;if(!i.getDomRef()||i.getDomRef()===document.activeElement){return;}if(!this.oValueStateNavDelegate){this.oValueStateNavDelegate=this._valueStateNavDelegate(i,H);i.addEventDelegate(this.oValueStateNavDelegate,this);}i.getDomRef().setAttribute("tabindex","-1");i.addStyleClass("sapMFocusable");i.focus();H.forEach(function(U){U.getDomRef().setAttribute("tabindex","0");U.addEventDelegate(this._formattedTextLinksNav,this);},this);this.oMoveFocusBackToVSHeader=!this.oMoveFocusBackToVSHeader?{onsaptabprevious:function(U){U.preventDefault();i.focus();i.addStyleClass("sapMFocusable");}}:this.oMoveFocusBackToVSHeader;J&&J.addEventDelegate(this._closePickerDelegate,this);N&&N.addEventDelegate(this.oMoveFocusBackToVSHeader,this);};
F.prototype.onsaphide=function(i){this.onsapshow(i);};
F.prototype._selectItemByKey=function(H){var J,N,U,i,W,X,Y=this.isOpen();if(!this.getEnabled()||!this.getEditable()){return;}if(H){H.setMarked();}J=this._getUnselectedItems(Y?"":this.getValue());for(i=0;i<J.length;i++){X=!(J[i].getKey()===undefined||J[i].getKey()===null)&&!J[i].isA("sap.ui.core.SeparatorItem");if(J[i].getText().toUpperCase()===this.getValue().toUpperCase()&&X){U=J[i];W=true;break;}}if(W){N={item:U,id:U.getId(),key:U.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false};this._bPreventValueRemove=false;if(this.getValue()===""||(typeof this.getValue()==="string"&&U.getText().toLowerCase().startsWith(this.getValue().toLowerCase()))){if(n.getListItem(U).isSelected()){this.setValue('');}else{this.setSelection(N);}}}else{this._bPreventValueRemove=true;}if(H){this.close();}};
F.prototype.onsapenter=function(i){var H=this.getAggregation("tokenizer");I.prototype.onsapenter.apply(this,arguments);this._showAlreadySelectedVisualEffect();if(this.getValue()){this._selectItemByKey(i);}if(!this.getEditable()&&H.getHiddenTokensCount()&&i.target===this.getFocusDomRef()){H._togglePopup(H.getTokensPopup());}};
F.prototype.onsaptabnext=function(i){var H=this.getValue();if(H){var J=this._getUnselectedItemsStartingText(H);if(J.length===1){this._selectItemByKey(i);}else{this._showWrongValueVisualEffect();}}};
F.prototype.onsaptabprevious=F.prototype.onsaptabnext;
F.prototype.onsapfocusleave=function(i){var H=this.isPlatformTablet(),J=y.byId(i.relatedControlId),N=J&&J.getFocusDomRef(),U=this.getValue(),W=this.getPicker(),X=this.getAggregation("tokenizer");if(!this._bPickerIsOpening&&(!W||!W.getFocusDomRef()||!N||!Q.contains(W.getFocusDomRef(),N))){this.setValue(null);if(U){this.fireChangeEvent("",{value:U});}if(!Q.contains(this.getDomRef(),document.activeElement)){X.setRenderMode(B.Narrow);}}if(W&&N){if(v(W.getFocusDomRef(),N)&&!H&&!this.isPickerDialog()){this.focus();}}};
F.prototype.onfocusin=function(i){var H=this.getPicker();var J=false;var N=H&&H.getFocusDomRef();var U=(H&&H.oPopup.getOpenState())||O.CLOSED;var W=U===O.CLOSING||U===O.CLOSED;var X=this.getPickerType()==="Dropdown";var Y=this.getAggregation("tokenizer");if(X){J=N&&Q.contains(N,i.relatedTarget);}if(this.getEditable()&&i.target===this.getDomRef("inner")){Y.setRenderMode(B.Loose);}if(i.target===this.getFocusDomRef()){Y.hasOneTruncatedToken()&&Y.setFirstTokenTruncated(false);this.getEnabled()&&this.addStyleClass("sapMFocus");!W&&J&&this.handleInputValidation(i,false);}if(i.target===this.getOpenArea()&&X&&!this.isPlatformTablet()){this.focus();}if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}};
F.prototype._handleItemTap=function(i){var H=Q(i.target).control(0);if(!H.isA("sap.m.CheckBox")&&!H.isA("sap.m.GroupHeaderListItem")){this._bCheckBoxClicked=false;}};
F.prototype._handleItemPress=function(i){if(this.isOpen()&&this._isListInSuggestMode()&&this.getPicker().oPopup.getOpenState()!==O.CLOSING){this.clearFilter();var H=this._getLastSelectedItem();if(H){n.getListItem(H).focus();}}};
F.prototype._handleSelectionLiveChange=function(i){if(i.getParameter("selectAll")){return;}var H=i.getParameter("listItem");var J=i.getParameter("listItems");var N=J&&J[J.length-1]||H;var U=this.isPickerDialog()?this.getPickerTextField():this;var W=this._getIsClick()&&!!N;var X=i.getParameter("selected");var Y=n.getItemByListItem(this.getItems(),H);var Z;if(J&&J.length){Z=[];J.forEach(function(_){if(_.getType()==="Active"){Z.push(n.getItemByListItem(this.getItems(),_));}},this);}if(H.getType()==="Inactive"){return;}w(Y,"The corresponding mapped item was not found on "+this);if(!Y){return;}var $={item:Y,items:Z,id:Y.getId(),key:Y.getKey(),selectAll:false,fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:true};if(X){this.fireChangeEvent(Y.getText());this.setSelection($);}else{this.fireChangeEvent(Y.getText());this.removeSelection($);}if(this._bCheckBoxClicked){U.setValue(this._sOldInput);if(W&&this.isOpen()&&this.getPicker().oPopup.getOpenState()!==O.CLOSING){N.focus();this._setIsClick(false);}}else{this._bCheckBoxClicked=true;this.setValue("");this.close();}};
F.prototype.onkeydown=function(i){var H=this.getEditable(),J=this.getAggregation("tokenizer"),N=J.getTokens().length;a.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()){return;}if((i.ctrlKey||i.metaKey)&&i.which===K.I&&N){i.preventDefault();if(H){this._togglePopover();}else{this._handleIndicatorPress();}return;}this._bIsPasteEvent=(i.ctrlKey||i.metaKey)&&(i.which===K.V);if(this.getValue().length===0&&(i.ctrlKey||i.metaKey)&&(i.which===K.A)&&this._hasTokens()){J.focus();J.selectAllTokens(true);i.preventDefault();}if(this.isPickerDialog()){this._sOldValue=this.getPickerTextField().getValue();this._iOldCursorPos=Q(this.getFocusDomRef()).cursorPos();}this._bDoTypeAhead=!D.os.android&&(i.which!==K.BACKSPACE)&&(i.which!==K.DELETE);};
F.prototype.oninput=function(i){a.prototype.oninput.apply(this,arguments);var H=i.srcControl,J=this.isPickerDialog(),N=J?this.getPickerTextField():this,U=N.getValueState();if(U===V.Error&&this._bAlreadySelected){N.setValueState(this._sInitialValueState);N.setValueStateText(this._sInitialValueStateText);this._bAlreadySelected=false;}if(!this.getEnabled()||!this.getEditable()){return;}this.syncPickerContent();this.handleInputValidation(i,this.isComposingCharacter());if(this._bIsPasteEvent){H.updateDomValue(this._sOldValue||i.target.value||"");return;}if(this.isOpen()){setTimeout(this.highlightList.bind(this,this._sOldInput));}if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true);}};
F.prototype.filterItems=function(i){return o(this,i.items,i.value,true,false,this.fnFilter||m);};
F.prototype.onkeyup=function(i){a.prototype.onkeyup.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}this._sOldValue=this.getValue();this._iOldCursorPos=Q(this.getFocusDomRef()).cursorPos();};
F.prototype._showWrongValueVisualEffect=function(){var i=this._getSuggestionsPopover();var H=this._sInitialValueStateText;var J=this._sInitialValueState;var N=H||this._oRbC.getText("VALUE_STATE_ERROR");var U=this;if(J===V.Error){return;}if(i){i.updateValueState(V.Error,N,true);setTimeout(i.updateValueState.bind(i,U.getValueState(),N,true),1000);}if(!this.isPickerDialog()){this.setValueState(V.Error);this.setValueStateText(this.getValueStateText()||N);setTimeout(this["setValueState"].bind(this,J||V.Error),1000);}this._syncInputWidth(this.getAggregation("tokenizer"));};
F.prototype._showAlreadySelectedVisualEffect=function(){var i=this._oRb.getText("VALUE_STATE_ERROR_ALREADY_SELECTED");if(!this.getValue()){return;}var H=!!this.getSelectedItems().filter(function(J){return J.getText().toLowerCase()===this.getValue().toLowerCase();},this).length;var N=this.getItems().filter(function(J){return J.getText().toLowerCase()===this.getValue().toLowerCase();},this).length;if(H){this._sInitialValueState=this.getValueState();this._sInitialValueStateText=this.getValueStateText();this.setValueStateText(i);this._bAlreadySelected=true;this.setValueState("Error");return;}else if(N){return;}else{this._showWrongValueVisualEffect();}};
F.prototype._hasShowSelectedButton=function(){return true;};
F.prototype.forwardEventHandlersToSuggPopover=function(i){a.prototype.forwardEventHandlersToSuggPopover.apply(this,arguments);i.setShowSelectedPressHandler(this._filterSelectedItems.bind(this));};
F.prototype.configPicker=function(i){var H=this.getRenderer(),J=H.CSS_CLASS_MULTICOMBOBOX;i.setHorizontalScrolling(false).addStyleClass(H.CSS_CLASS_COMBOBOXBASE+"Picker").addStyleClass(J+"Picker").addStyleClass(J+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this);};
F.prototype._configureList=function(i){var H=10;if(!i){return;}i.setMode(A.MultiSelect);i.setIncludeItemInSelection(true);i.setGrowingThreshold(H);i.attachBrowserEvent("tap",this._handleItemTap,this).attachSelectionChange(this._handleSelectionLiveChange,this).attachItemPress(this._handleItemPress,this);i.addEventDelegate({onAfterRendering:this.onAfterRenderingList,onfocusin:this.onFocusinList},this);this.getShowSelectAll()&&this.createSelectAllHeaderToolbar(i);};
F.prototype._decoratePopupInput=function(i){a.prototype._decoratePopupInput.apply(this,arguments);if(!i||!i.isA(["sap.m.InputBase"])){return;}i.attachSubmit(function(H){var J=i.getValue();if(J){this.setValue(J);this._selectItemByKey();this.setValue(this._sOldInput);this.close();}}.bind(this));i.addEventDelegate({onfocusout:this._handleInputFocusOut},this);i.attachChange(this._handleInnerInputChange.bind(this));return i;};
F.prototype._handleInnerInputChange=function(i){if(i.getParameter("value")===""){this._sOldInput="";this.clearFilter();}};
F.prototype.onBeforeRendering=function(){var i=this.getEditable();var H=this.getAggregation("tokenizer");var J=this.getItems();a.prototype.onBeforeRendering.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=true;H.setEnabled(this.getEnabled());H.setEditable(i);this._updatePopoverBasedOnEditMode(i);if(!J.length){this._clearTokenizer();}if(this._getList()){this.syncPickerContent(true);}this.toggleSelectAllVisibility(this.getShowSelectAll());if(this._sOldInput&&J.length&&this.isOpen()){p(this.getItems(),this.filterItems({value:this._sOldInput,items:J}));setTimeout(this.highlightList.bind(this,this._sOldInput));}this._deregisterResizeHandler();this._synchronizeSelectedItemAndKey();this.setProperty("hasSelection",!!this.getSelectedItems().length,true);if(!this._bAlreadySelected){this._sInitialValueStateText=this.getValueStateText();}if(this.getValueState()!==V.Error){this._sInitialValueState=this.getValueState();}};
F.prototype.syncPickerContent=function(i){var H,J,N=this.getPicker();if(!N){N=this.createPicker(this.getPickerType());this._updateSuggestionsPopoverValueState();i=true;}if(i){J=this._getList();H=this.getEditable()?this.getItems():this.getSelectedItems();this._synchronizeSelectedItemAndKey();J.destroyItems();this._clearTokenizer();this._fillList(H);if(J.getItemNavigation()){this._iFocusedIndex=J.getItemNavigation().getFocusedIndex();}}return N;};
F.prototype._registerResizeHandler=function(){w(!this._iResizeHandlerId,"Resize handler already registered");this._iResizeHandlerId=R.register(this,this._onResize.bind(this));};
F.prototype._deregisterResizeHandler=function(){if(this._iResizeHandlerId){R.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null;}};
F.prototype._onResize=function(){var i=this.getAggregation("tokenizer");i.setMaxWidth(this._calculateSpaceForTokenizer());this._syncInputWidth(i);this._handleNMoreAccessibility();};
F.prototype.onAfterRenderingPicker=function(){var i=this["_onAfterRendering"+this.getPickerType()];if(i){i.call(this);}};
F.prototype.onBeforeOpen=function(){a.prototype.onBeforeOpen.apply(this,arguments);var i=this["_onBeforeOpen"+this.getPickerType()];this.addContent();this._aInitiallySelectedItems=this.getSelectedItems();this._synchronizeSelectedItemAndKey();if(i){i.call(this);}};
F.prototype.onAfterOpen=function(){var i=this.getFocusDomRef(),H=this.getValueStateLinks();i&&this.getFocusDomRef().setAttribute("aria-expanded","true");this._bPickerIsOpening=false;if(!this.isPlatformTablet()){this.getPicker().setInitialFocus(this);}H.forEach(function(J){J.addDelegate({onAfterRendering:function(){if(this.getFocusDomRef()){this.getFocusDomRef().setAttribute("tabindex","-1");}}},J);});this.closeValueStateMessage();};
F.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);};
F.prototype.onAfterClose=function(){var U=!Q.contains(this.getDomRef(),document.activeElement)||this.isPickerDialog(),i=this.getFocusDomRef();i&&this.getFocusDomRef().setAttribute("aria-expanded","false");this.toggleIconPressedStyle(false);this.clearFilter();!this.isComposingCharacter()&&!this._bPreventValueRemove&&this.setValue("");this._sOldValue="";this._sOldInput="";this._getSuggestionsPopover()._sTypedInValue="";if(this.isPickerDialog()){this.getPickerTextField().setValue("");this.getFilterSelectedButton()&&this.getFilterSelectedButton().setPressed(false);}this.fireSelectionFinish({selectedItems:this.getSelectedItems()});this.getAggregation("tokenizer").setRenderMode(U?B.Narrow:B.Loose);if(this.getValueState()==V.Error&&document.activeElement===this.getFocusDomRef()){this.selectText(0,this.getValue().length);}};
F.prototype._onBeforeOpenDialog=function(){};
F.prototype._onBeforeOpenDropdown=function(){var i=this.getPicker(),H=this.getDomRef(),W;if(H&&i){W=(H.offsetWidth/parseFloat(l.BaseFontSize))+"rem";i.setContentMinWidth(W);}};
F.prototype.getFilterSelectedButton=function(){return this._getSuggestionsPopover().getFilterSelectedButton();};
F.prototype._filterSelectedItems=function(i,H){var J=i.oSource,N,U,W=this.getPickerTextField()?this.getPickerTextField().getValue():"",X=(J&&J.getPressed&&J.getPressed())||H,Y=n.getVisibleItems(this.getItems()),Z=this.getItems(),$=this.getSelectedItems(),_=null;if(X){Y.forEach(function(a1){U=$.indexOf(a1)>-1?true:false;N=n.getListItem(a1);if(!N){return;}if(N.isA("sap.m.GroupHeaderListItem")){N.setVisible(false);_=N;}else{N.setVisible(U);if(U&&_){_.setVisible(true);}}},this);}else{p(this.getItems(),this.filterItems({value:W,items:Z}));}this.manageSelectAllCheckBoxState();};
F.prototype.revertSelection=function(){this.setSelectedItems(this._aInitiallySelectedItems);};
F.prototype.setSelection=function(i){var H=this._getList(),N;if(i.item&&this.isItemSelected(i.item)){return;}if(!i.item){return;}if(!i.items||!i.items.length||i.selectAll){N=[i.item];}else{N=i.items;}N.forEach(function(J){if(!i.listItemUpdated&&n.getListItem(J)&&H){H.setSelectedItem(n.getListItem(J),true);}var U=new b({key:J.getKey()});U.setText(J.getText());J.data(n.CSS_CLASS+"Token",U);this.getAggregation("tokenizer").addToken(U);this.addAssociation("selectedItems",J,i.suppressInvalidate);var W=this.getSelectedKeys();var X=this.getKeys([J])[0];if(X===""||W.indexOf(X)===-1){W.push(X);this.setProperty("selectedKeys",W,i.suppressInvalidate);}if(i.fireChangeEvent){this.fireSelectionChange({changedItem:i.item,changedItems:i.items,selectAll:i.selectAll,selected:true});}},this);if(!this.getProperty("hasSelection")&&this.getSelectedItems().length){this.setProperty("hasSelection",true);}this.setValue('');if(i.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()});}}};
F.prototype.removeSelection=function(i){var H,J,N;if(i.item&&!this.isItemSelected(i.item)){return;}if(!i.item){return;}if(!i.items||!i.items.length||i.selectAll){H=[i.item];}else{H=i.items;}H.forEach(function(U){this.removeAssociation("selectedItems",U,i.suppressInvalidate);J=this.getSelectedKeys();N=J.indexOf(U.getKey());J.splice(N,1);this.setProperty("selectedKeys",J,i.suppressInvalidate);if(!i.listItemUpdated&&n.getListItem(U)){var W=n.getListItem(U);this._getList().setSelectedItem(W,false);}if(!i.tokenUpdated){var X=u(U);U.data(n.CSS_CLASS+"Token",null);this.getAggregation("tokenizer").removeToken(X);}if(i.fireChangeEvent){this.fireSelectionChange({changedItem:i.item,changedItems:i.items,selectAll:i.selectAll,selected:false});}},this);if(this.getProperty("hasSelection")&&!this.getSelectedItems().length){this.setProperty("hasSelection",false);}if(i.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()});}}};
F.prototype._synchronizeSelectedItemAndKey=function(){var H=this.getSelectedKeys();var J=this.getKeys(this.getSelectedItems());if(!H.length){x.info("Info: _synchronizeSelectedItemAndKey() the MultiComboBox control does not contain any item on ",this);return;}for(var i=0,N=null,U=null,W=H.length;i<W;i++){N=H[i];if(J.indexOf(N)>-1){continue;}U=this.getItemByKey(""+N);if(U){this.setSelection({item:U,id:U.getId(),key:U.getKey(),fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:false});}}};
F.prototype.updateItems=function(i){var H=function(X){return X&&X.getKey&&X.getKey();},J,N=this.getSelectedItems().map(H),U=this.getSelectedKeys();var W=a.prototype.updateItems.apply(this,arguments);N=this.getSelectedItems().map(H).filter(function(X){return N.indexOf(X)>-1;});J=U.concat(N);this.setSelectedKeys(J);return W;};
F.prototype._getSelectedItemsOf=function(H){for(var i=0,J=H.length,N=[];i<J;i++){if(n.getListItem(H[i]).isSelected()){N.push(H[i]);}}return N;};
F.prototype._getLastSelectedItem=function(){var i=this.getAggregation("tokenizer").getTokens();var H=i.length?i[i.length-1]:null;if(!H){return null;}return this._getItemByToken(H);};
F.prototype._getFocusedListItem=function(){if(!document.activeElement){return null;}var i=y.byId(document.activeElement.id);if(this._getList()&&j(this._getList().getFocusDomRef(),i.getFocusDomRef())){return i;}return null;};
F.prototype._getFocusedItem=function(){return n.getItemByListItem(this.getItems(),this._getFocusedListItem());};
F.prototype._hasTokens=function(){return this.getAggregation("tokenizer").getTokens().length>0;};
F.prototype._decorateListItem=function(i){i.addDelegate({onkeydown:function(H){if((H.ctrlKey||H.metaKey)&&H.which==K.A){H.setMarked();H.preventDefault();var J=n.getSelectableItems(this.getItems());var N=this._getSelectedItemsOf(J);if(N.length!==J.length){J.forEach(function(U){this.setSelection({item:U,items:J,selectAll:true,id:U.getId(),key:U.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}else{J.forEach(function(U){this.removeSelection({item:U,items:J,selectAll:true,id:U.getId(),key:U.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}}},onmousedown:function(H){this._setIsClick(true);},onkeyup:function(H){var J=null;if(H.which==K.SPACE&&this.isOpen()&&this._isListInSuggestMode()){this.open();J=this._getLastSelectedItem();if(J){n.getListItem(J).focus();}return;}}},true,this);i.addEventDelegate({onsapbackspace:function(H){H.preventDefault();},onsapshow:function(H){H.setMarked();this.close();},onsaphide:function(H){this.onsapshow(H);},onsapenter:function(H){H.setMarked();this.close();},onsaphome:this.handleHomeEvent.bind(this),onsapend:this.handleEndEvent.bind(this),onsapup:function(H){H.setMarked();H.preventDefault();var J=n.getVisibleItems(this.getItems());var N=J[0];var U=Q(document.activeElement).control()[0];if(U!==n.getListItem(N)){return;}if(this.getShowSelectAll()){this.focusSelectAll();}else if(this.getValueState()!==V.None){this._handleFormattedTextNav();}else{this.focus();}H.stopPropagation(true);},onfocusin:function(H){this.addStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused");},onfocusout:function(H){this.removeStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused");},onsapfocusleave:function(H){var J=this.getAggregation("picker");var N=y.byId(H.relatedControlId);if(J&&N&&v(J.getFocusDomRef(),N.getFocusDomRef())){if(H.srcControl){H.srcControl.focus();}}},onsaptabnext:function(){this.getPicker().close();},onsaptabprevious:function(){this.getPicker().close();}},this);if(D.support.touch){i.addEventDelegate({ontouchstart:function(H){H.setMark("cancelAutoClose");}});}};
F.prototype._handleInputFocusOut=function(){var i=this.isPickerDialog()?this.getPickerTextField():this,U=this._sOldInput||this._sOldValue||"";i.updateDomValue(U);this._bIsPasteEvent=null;};
F.prototype.onItemChange=function(i){var H=a.prototype.onItemChange.call(this,i,this.getShowSecondaryValues());var J=i.getParameters();r({item:i.getSource(),propName:J.name,propValue:J.newValue});return H;};
F.prototype._handleIndicatorPress=function(){var i,H=this.getAggregation("tokenizer");if(this.getEditable()){this.syncPickerContent();this._filterSelectedItems({},true);this.focus();i=this.getPicker();i.open();}else{H._togglePopup(H.getTokensPopup());}if(this.isPickerDialog()){this.getFilterSelectedButton().setPressed(true);this.bOpenedByKeyboardOrButton=true;}};
F.prototype._togglePopover=function(){var i=this.getPicker();if(!i){i=this.syncPickerContent(true);}if(i.isOpen()){i.close();}else{i.open();}};
F.prototype._createTokenizer=function(){var i=new T({renderMode:B.Narrow}).attachTokenDelete(this._handleTokenDelete,this);i.getTokensPopup().attachAfterOpen(function(){if(i.hasOneTruncatedToken()){i.setFirstTokenTruncated(false);}}).attachAfterClose(function(){var H=i.getTokens();if(H.length===1&&!H[0].getTruncated()){i.setFirstTokenTruncated(true);}});i.addEventDelegate({onAfterRendering:this._onAfterRenderingTokenizer},this);return i;};
F.prototype._onAfterRenderingTokenizer=function(){var i=this.getAggregation("tokenizer");if(this.getEditable()){i.addStyleClass("sapMTokenizerIndicatorDisabled");}else{i.removeStyleClass("sapMTokenizerIndicatorDisabled");}setTimeout(this._syncInputWidth.bind(this,i),0);setTimeout(this._handleNMoreAccessibility.bind(this),0);setTimeout(i["scrollToEnd"].bind(i),0);};
F.prototype._handleTokenDelete=function(i){var H=i.getParameter("tokens");var J=this.getSelectedItems();this._removeSelection(H);if(J.length!==n.getSelectableItems(this.getItems())){!this.isPickerDialog()&&!this.isFocusInTokenizer()&&this.focus();this.fireChangeEvent("");}};
F.prototype._removeSelection=function(i){var H=this.getAggregation("tokenizer");i.forEach(function(J){var N=(J&&this._getItemByToken(J));if(!this.getEditable()||!this.getEnabled()||!N||!this.isItemSelected(N)||!N.getEnabled()||!J.getEditable()){return;}this.removeSelection({item:N,id:N.getId(),key:N.getKey(),tokenUpdated:true,fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true});J.destroy();if(this.getSelectedItems().length>0){var i=H.getTokens();i[i.length-1].focus();}else{this.focus();}},this);};
F.prototype.onAfterRenderingList=function(){var i=document.activeElement===this.getFocusDomRef();var H=this._getList();var J=H?H.getVisibleItems():[];if(this.getEditable()&&!i&&J[this._iFocusedIndex]){J[this._iFocusedIndex].focus();this._iFocusedIndex=null;}this.manageSelectAllCheckBoxState();};
F.prototype.onFocusinList=function(){var i=this._getList();if(this._bListItemNavigationInvalidated&&this._getList().getItemNavigation()){i.getItemNavigation().setSelectedIndex(this._iInitialItemFocus);this._bListItemNavigationInvalidated=false;}this._getSuggestionsPopover().updateListDataAttributes(i);};
F.prototype.onAfterRendering=function(){var i=this.getAggregation("tokenizer");a.prototype.onAfterRendering.apply(this,arguments);this._registerResizeHandler();setTimeout(function(){i.setMaxWidth(this._calculateSpaceForTokenizer());}.bind(this),0);};
F.prototype.onfocusout=function(i){this.isOpen()&&this._handleInputFocusOut();this.removeStyleClass("sapMFocus");if(this.getValueState()===V.Error&&this.getValueStateText()===this._oRb.getText("VALUE_STATE_ERROR_ALREADY_SELECTED")){this.setValueState(this._sInitialValueState);this.setValueStateText(this._sInitialValueStateText);}a.prototype.onfocusout.apply(this,arguments);};
F.prototype.onpaste=function(i){var H;var J=false;var N=this.getSelectedItems();if(window.clipboardData){H=window.clipboardData.getData("Text");}else{H=i.originalEvent.clipboardData.getData('text/plain');}var U=H.split(/\r\n|\r|\n/g);if(U&&U.length>0){n.getSelectableItems(this.getItems()).filter(function(W){return N.indexOf(W)===-1;}).forEach(function(W){if(U.indexOf(W.getText())>-1){J=true;this.setSelection({item:W,id:W.getId(),key:W.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false});}},this);}if(J){i.stopPropagation();i.preventDefault();}};
F.prototype.onsapbackspace=function(i){var H=this.getAggregation("tokenizer");var J=H.getTokens();var N=J.filter(function(U){return U.getSelected();});if(!this.getEnabled()||!this.getEditable()){i.preventDefault();return;}if(this.getCursorPosition()>0||this.getValue().length>0){return;}if(N.length>0){this._removeAllTokens();return;}if(document.activeElement===this.getFocusDomRef()){J[J.length-1]&&J[J.length-1].focus();}i.preventDefault();};
F.prototype._removeAllTokens=function(){var i=this.getAggregation("tokenizer");var H=i.getTokens().filter(function(J){return J.getSelected();});if(!H.length){return;}this._removeSelection(H);this.fireChangeEvent("");this.invalidate();};
F.prototype.onsapdelete=F.prototype.onsapbackspace;
F.prototype.onsapnext=function(i){var H=this.getAggregation("tokenizer");if(i.isMarked()){return;}var J=Q(document.activeElement).control()[0];if(!J){return;}if(J===H||H.$().find(J.$()).length>0&&this.getEditable()){H.scrollToEnd();this.focus();}};
F.prototype.onsapprevious=function(i){if(this.getCursorPosition()===0&&!k(this.getFocusDomRef())){if(i.srcControl===this){T.prototype.onsapprevious.apply(this.getAggregation("tokenizer"),arguments);}}};
F.prototype.onclick=function(i){var H=this.getEditable(),J=this.getEnabled(),N=i.target.className.indexOf("sapMTokenizerIndicator")>-1;if(H&&J&&N){i.preventDefault();this._handleIndicatorPress();}};
F.prototype.ontap=function(i){a.prototype.ontap.apply(this,arguments);var H=this.getOpenArea();if(!this.getEnabled()||!this.getEditable()){return;}i.setMarked();if(this.isPickerDialog()&&H.contains(i.target)){this.open();}};
F.prototype.getOpenArea=function(){if(this.isPickerDialog()){return this.getDomRef();}else{return a.prototype.getOpenArea.apply(this,arguments);}};
F.prototype._getItemsStartingWithPerTerm=function(i,H){var J=[],N=H?n.getEnabledItems(this.getItems()):n.getSelectableItems(this.getItems()),U=this.fnFilter?this.fnFilter:m;N.forEach(function(W){if(U(i,W)){J.push(W);}},this);return J;};
F.prototype._getItemsStartingWith=function(i,H){var J=[],N=H?n.getEnabledItems(this.getItems()):n.getSelectableItems(this.getItems());N.forEach(function(U){if(typeof i==="string"&&i!==""&&U.getText().toLowerCase().startsWith(i.toLowerCase())){J.push(U);}},this);return J;};
F.prototype._getUnselectedItemsStartingText=function(i){var H=[];this._getUnselectedItems().forEach(function(J){if(typeof i==="string"&&i!==""&&J.getText().toLowerCase().startsWith(i.toLowerCase())){H.push(J);}},this);return H;};
F.prototype.getCursorPosition=function(){return this._$input.cursorPos();};
F.prototype._selectPreviousItemsOf=function(i){var H;do{H=true;var J=this._getPreviousVisibleItemOf(i);if(J){var N=n.getListItem(J);if(N){H=n.getListItem(J).getSelected();}}this.setSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true});i=J;}while(!H);};
F.prototype._getNextVisibleItemOf=function(i){var H=n.getSelectableItems(this.getItems());var J=H.indexOf(i)+1;if(J<=0||J>H.length-1){return null;}return H[J];};
F.prototype._getPreviousVisibleItemOf=function(i){var H=n.getSelectableItems(this.getItems());var J=H.indexOf(i)-1;if(J<0){return null;}return H[J];};
F.prototype._getNextUnselectedItemOf=function(i){var H=this._getUnselectedItems();var J=H.indexOf(i)+1;if(J<=0||J>H.length-1){return null;}return H[J];};
F.prototype._getPreviousUnselectedItemOf=function(i){var H=this._getUnselectedItems();var J=H.indexOf(i)-1;if(J<0){return null;}return H[J];};
F.prototype._getNextTraversalItem=function(){var i=this.getValue();var H=i?this._getItemsStartingWithPerTerm(i):[];var J=this._getUnselectedItems();if(H.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getNextUnselectedItemOf(this._oTraversalItem);}if(H.length&&H[0].getText()===this.getValue()){return this._getNextUnselectedItemOf(H[0]);}return H.length?H[0]:J[0];};
F.prototype._getPreviousTraversalItem=function(){var i=this.getValue();var H=i?this._getItemsStartingWithPerTerm(i):[];if(H.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getPreviousUnselectedItemOf(this._oTraversalItem);}if(H.length&&H[H.length-1].getText()===this.getValue()){return this._getPreviousUnselectedItemOf(H[H.length-1]);}if(H.length){return H[H.length-1];}else{var J=this._getUnselectedItems();if(J.length>0){return J[J.length-1];}else{return null;}}};
F.prototype.setSelectedItems=function(i){this.removeAllSelectedItems();if(!i||!i.length){return this;}if(!Array.isArray(i)){x.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return this;}i.forEach(function(H){if(!(H instanceof g)&&(typeof H!=="string")){x.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return;}if(typeof H==="string"){H=y.byId(H);}this.setSelection({item:H?H:null,id:H?H.getId():"",key:H?H.getKey():"",suppressInvalidate:true});},this);return this;};
F.prototype.addSelectedItem=function(i){if(!i){return this;}if(typeof i==="string"){i=y.byId(i);}this.setSelection({item:i?i:null,id:i?i.getId():"",key:i?i.getKey():"",fireChangeEvent:false,suppressInvalidate:true});return this;};
F.prototype.removeSelectedItem=function(i){if(!i){return null;}if(typeof i==="string"){i=y.byId(i);}if(!this.isItemSelected(i)){return null;}this.removeSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:false,suppressInvalidate:true});return i;};
F.prototype.removeAllSelectedItems=function(){var i=[];var H=this.getAssociation("selectedItems",[]);H.forEach(function(J){var N=this.removeSelectedItem(J);if(N){i.push(N.getId());}},this);return i;};
F.prototype.removeSelectedKeys=function(i){var H,J=[];if(!i||!i.length||!Array.isArray(i)){return J;}i.forEach(function(N){H=this.getItemByKey(N);if(H){this.removeSelection({item:H?H:null,id:H?H.getId():"",key:H?H.getKey():"",fireChangeEvent:false,suppressInvalidate:true});J.push(H);}},this);return J;};
F.prototype.setSelectedKeys=function(i){if(this._bInitialSelectedKeysSettersCompleted){this.setProperty("selectedKeys",[],true);this.removeAllSelectedItems();}this.addSelectedKeys(i);this._bInitialSelectedKeysSettersCompleted=true;return this;};
F.prototype.addSelectedKeys=function(i){var H,J=[];i=this.validateProperty("selectedKeys",i);i.forEach(function(N){var U=this.getItemByKey(N);if(U){this.addSelectedItem(U);}else if(N!=null){J.push(N);}},this);if(J.length>0){H=this.getProperty("selectedKeys").filter(function(N){return J.indexOf(N)===-1;});J=H.concat(J);this.setProperty("selectedKeys",J,true);}return this;};
F.prototype._getUnselectedItems=function(){var i=Q(n.getSelectableItems(this.getItems())).not(this.getSelectedItems()).get();if(!this.isOpen()){return i.filter(function(H){return!H.isA("sap.ui.core.SeparatorItem");});}return i;};
F.prototype.getSelectedItems=function(){var i=[],H=this.getAssociation("selectedItems")||[];H.forEach(function(J){var N=y.byId(J);if(N){i.push(N);}},this);return i;};
F.prototype.getWidth=function(){return this.getProperty("width")||"100%";};
F.prototype._updatePopoverBasedOnEditMode=function(i){var H=this._getList(),J=this._getSuggestionsPopover();if(H&&i!==this._bPrevEditable&&i){J.addContent(H);}this._bPrevEditable=i;};
F.prototype._mapItemToListItem=function(i){var H,J,N,U=this.getRenderer();if(!i){return null;}H=n.createListItemFromCoreItem(i,this.getShowSecondaryValues());this._decorateListItem(H);if(i.isA("sap.ui.core.SeparatorItem")){return H;}J=U.CSS_CLASS_MULTICOMBOBOX+"Item";N=(this.isItemSelected(i))?J+"Selected":"";H.addStyleClass(J+" "+N);if(N){var W=new b({key:i.getKey()});W.setText(i.getText());i.data(n.CSS_CLASS+"Token",W);this.getAggregation("tokenizer").addToken(W,true);}this.setSelectable(i,i.getEnabled());return H;};
F.prototype.setSelectable=function(i,H){a.prototype.setSelectable.call(this,i,H);var J=u(i);if(J){J.setVisible(H);}};
F.prototype._fillList=function(){var H=this._getList();var J=this.getEditable()?this.getItems():this.getSelectedItems();if(!H){return;}H.destroyItems();if(!this._oListItemEnterEventDelegate){this._oListItemEnterEventDelegate={onsapenter:function(W){if(W.srcControl.isSelected()){W.setMarked();}}};}for(var i=0,N,U=J.length;i<U;i++){N=this._mapItemToListItem(J[i]);N.addDelegate(this._oListItemEnterEventDelegate,true,this,true);this._getList().addItem(N);if(this.isItemSelected(J[i])){this._getList().setSelectedItem(N,true);}}};
F.prototype.handleInputValidation=function(i,H){var J=i.target.value,N=this.isValueValid(J),U,W,X;var Y=i.srcControl;if(!N&&J!==""&&!H){this._handleFieldValidationState(Y);return;}X=this._getItemsStartingWith(J,true);if(!H||this._bIsPasteEvent){this._handleTypeAhead(J,X,Y);}U=this.getItems();if(this.isPickerDialog()){W=this.getFilterSelectedButton();if(W!=null&&W.getPressed()){W.setPressed(false);}}p(this.getItems(),this.filterItems({value:J,items:U}));this.manageSelectAllCheckBoxState();this._sOldInput=J;if((!this.getValue()||!N)&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){this.close();}else{this.open();}};
F.prototype.isValueValid=function(i){var H=this._getItemsStartingWith(i,true);var J=this._getItemsStartingWithPerTerm(i,true);return H.length||J.length;};
F.prototype._handleTypeAhead=function(i,H,J){var N,U;if(!this._bDoTypeAhead){return;}N=this.getSelectedItems();U=H.filter(function(W){return N.indexOf(W)===-1;});t(i,J,U);};
F.prototype._handleFieldValidationState=function(i){if(this._sOldInput&&this.isValueValid(this._sOldInput)){i.updateDomValue(this._sOldInput);}else if(this._sOldValue&&this.isValueValid(this._sOldValue)){i.updateDomValue(this._sOldValue);}else{i.updateDomValue("");i.setProperty("effectiveShowClearIcon",false);}if(this._iOldCursorPos){Q(i.getFocusDomRef()).cursorPos(this._iOldCursorPos);}this._showWrongValueVisualEffect();};
F.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=false;this._bListItemNavigationInvalidated=false;this._iInitialItemFocus=-1;this._bCheckBoxClicked=true;this._bPreventValueRemove=false;this._oTokenizer=this._createTokenizer();this.setAggregation("tokenizer",this._oTokenizer);this._aInitiallySelectedItems=[];this._oRbC=y.getLibraryResourceBundle("sap.ui.core");this._fillList();};
F.prototype.handleItemRemoval=function(i){this.removeSelection({item:i,id:i?i.getId():"",key:i?i.getKey():"",fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:true});};
F.prototype.isItemSelected=function(i){return this.getSelectedItems().indexOf(i)>-1;};
F.prototype._clearTokenizer=function(){this.getAggregation("tokenizer").destroyTokens();};
F.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._deregisterResizeHandler();if(this._oTokenizer){this._oTokenizer.destroy();this._oTokenizer=null;}this._oRbC=null;this._oListItemEnterEventDelegate=null;this.oValueStateNavDelegate=null;this._sInitialValueState=null;};
F.prototype.destroyItems=function(){this.setProperty("selectedKeys",[]);this._clearTokenizer();return this.destroyAggregation("items");};
F.prototype._getItemByToken=function(i){return n.getItemBy(this.getItems(),i,"Token");};
F.prototype._getItemByValue=function(H){var J=n.getSelectableItems(this.getItems());for(var i=0;i<J.length;i++){if(J[i].getText().toLowerCase()===H.toLowerCase()){return J[i];}}};
F.prototype._handleItemToFocus=function(){if(this.isOpen()){return;}this.syncPickerContent();var i,H,J=y.byId(document.activeElement.id),N=this.getSelectedItems(),U=n.getSelectableItems(this.getItems()),W=this._getList(),X=W&&W.getItemNavigation(),Y=this.getValue(),Z=this.getPicker();if(J&&J.isA("sap.m.Token")){H=this._getItemByToken(J);}else if(Y){H=this._getItemByValue(Y);}if(!H){H=N.length?n.getItemByListItem(this.getItems(),this._getList().getSelectedItems()[0]):U[0];}i=n.getVisibleItems(this.getItems()).indexOf(H);if(X){X.setSelectedIndex(i);}else{this._bListItemNavigationInvalidated=true;this._iInitialItemFocus=i;}if(!H){Z.setInitialFocus(this);}else{Z.setInitialFocus(W);}};
F.prototype.getAccessibilityInfo=function(){var i=this.getSelectedItems().map(function(J){return J.getText();}).join(" ");var H=a.prototype.getAccessibilityInfo.apply(this,arguments);H.type=y.getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_MULTICOMBO");H.description=(this.getValueDescriptionInfo()+" "+i).trim();return H;};
F.prototype.getValueDescriptionInfo=function(){if(this.getValue()){return this.getValue();}return this._hasTokens()?"":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("INPUTBASE_VALUE_EMPTY");};
F.prototype._setIsClick=function(i){this._bIsClick=i;};
F.prototype._getIsClick=function(){return this._bIsClick;};
F.prototype._calculateSpaceForTokenizer=function(){if(this.getDomRef()){var i,H=this.getDomRef().getBoundingClientRect().width,J=this._calculateIconsSpace(),N=this.$().find(".sapMInputBaseInner"),U=["min-width","padding-right","padding-left"],W=U.reduce(function(X,Y){return X+(parseInt(N.css(Y))||0);},0);i=H-(J+W);i=i<0?0:i;return i+"px";}else{return null;}};
F.prototype._syncInputWidth=function(i){var H=this.getDomRef('inner'),J,N;if(!H||(i&&!i.getDomRef())){return;}N=parseFloat(i.getDomRef().getBoundingClientRect().width.toFixed(2));J=this._calculateIconsSpace();H.style.width='calc(100% - '+parseFloat(J+N)+"px)";};
F.prototype._handleNMoreAccessibility=function(){var i=z.getStaticId("sap.m","MULTICOMBOBOX_OPEN_NMORE_POPOVER"),H=this.getAggregation("tokenizer"),J=this.getFocusDomRef(),N=(J&&J.getAttribute("aria-describedby")),U=N?N.split(" "):[],W=U.indexOf(i),X=this.getEnabled(),Y=!this.getEditable()&&H&&H.getHiddenTokensCount();if(Y&&W===-1){U.push(i);X&&this.getFocusDomRef().setAttribute("aria-keyshortcuts","Enter");}else if(W!==-1&&!Y){U.splice(W,1);this.getFocusDomRef().removeAttribute("aria-keyshortcuts");}if(J&&U.length){J.setAttribute("aria-describedby",U.join(" ").trim());}};
F.prototype.applyShowItemsFilters=function(){this.syncPickerContent();p(this.getItems(),this.filterItems({value:this.getValue()||"_",items:this.getItems()}));this.manageSelectAllCheckBoxState();};
F.prototype.showItems=function(i){var H=true,J=this.fnFilter;if(typeof i==="function"){this.syncPickerContent();this.setFilterFunction(i||function(){return true;});H=this.filterItems({value:this.getValue()||"_",items:this.getItems()}).items.length>0;this.setFilterFunction(J);}if(H){a.prototype.showItems.apply(this,arguments);}};
F.prototype.createSelectAllHeaderToolbar=function(i){i=i||this._getList();if(!i||i.getHeaderToolbar()){return;}var H=new c({select:function(J){var N=J.getSource(),U=n.getSelectableItems(this.getItems()),W=this._getSelectedItemsOf(U);if(J.getParameter("selected")){var X=U.filter(function(Y){return W.indexOf(Y)===-1;});X.forEach(function(Y){this.setSelection({item:Y,items:X,selectAll:true,id:Y.getId(),key:Y.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}else{W.forEach(function(Y){this.removeSelection({item:Y,items:W,selectAll:true,id:Y.getId(),key:Y.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}N.focus();}.bind(this)});H.addEventDelegate(this._selectAllDelegate(),this);i.setHeaderToolbar(new d({content:H}).addStyleClass("sapMMultiComboBoxSelectAll")).setSticky(["HeaderToolbar"]);this.attachSelectionChange(this.manageSelectAllCheckBoxState.bind(this));};
F.prototype.manageSelectAllCheckBoxState=function(){var i=this.getSelectAllCheckbox();if(!i){return;}var H=this.getItems(),J=this.getSelectedItems(),N=n.getSelectableItems(H).filter(function(U){return J.indexOf(U)>-1;}).length===n.getSelectableItems(H).length;i.setText(this._oRb.getText("MULTICOMBOBOX_SELECT_ALL_CHECKBOX",[J.length,n.getAllSelectableItems(H).length])).setSelected(N);};
F.prototype.getSelectAllToolbar=function(){var i=this._getList();return i&&i.getHeaderToolbar();};
F.prototype.getSelectAllCheckbox=function(){var i=this.getSelectAllToolbar();return i&&i.getContent()[0];};
F.prototype._selectAllDelegate=function(){return{onsapdown:this.handleDownEvent,onsapup:function(i){i.preventDefault();if(this.getValueState()!==V.None){this._handleFormattedTextNav();return;}this.getFocusDomRef().focus();},onsaphome:this.handleHomeEvent,onsapend:this.handleEndEvent,onfocusin:function(){var i=this.getRenderer(),H=this.getSelectAllToolbar();H&&H.addStyleClass(i.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused");},onfocusout:function(){var i=this.getRenderer(),H=this.getSelectAllToolbar();H&&H.removeStyleClass(i.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused");},onsapshow:this.close,onsaphide:this.close};};
F.prototype.focusSelectAll=function(){var i=this.getSelectAllCheckbox();i&&i.focus();};
F.prototype.toggleSelectAllVisibility=function(i){var H=this.getSelectAllToolbar();if(H){H.setVisible(i);return;}i&&this.createSelectAllHeaderToolbar();};
F.prototype.handleClearIconPress=function(){if(!(this.getEnabled()&&this.getEditable())){return;}if(this.getValue()!==""){this.setValue("");this._sOldInput="";this.bOpenedByKeyboardOrButton?this.clearFilter():this.close();this.setProperty("effectiveShowClearIcon",false);}};
return F;});
sap.ui.predefine('sap/m/MultiComboBoxRenderer',['./ComboBoxBaseRenderer','./ComboBoxTextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/Core'],function(C,a,R,b){"use strict";var M=R.extend(C);M.apiVersion=2;M.CSS_CLASS_MULTICOMBOBOX="sapMMultiComboBox";
M.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.class(M.CSS_CLASS_MULTICOMBOBOX);if(c.getProperty("hasSelection")){r.class("sapMMultiComboBoxHasToken");}};
M.getAriaDescribedBy=function(c){var A=a.getAriaDescribedBy.apply(this,arguments),t=c.getAggregation("tokenizer"),i=t&&t.getTokensInfoId();return(A||"")+" "+i;};
M.getAccessibilityState=function(c){var A=C.getAccessibilityState.apply(this,arguments),r=b.getLibraryResourceBundle("sap.m");A.roledescription=r.getText("MULTICOMBOBOX_ARIA_ROLE_DESCRIPTION");return A;};
M.prependInnerContent=function(r,c){r.renderControl(c.getAggregation("tokenizer"));};
return M;},true);
sap.ui.predefine('sap/m/MultiInput',['./Input','./Tokenizer','./Token','./library','sap/ui/core/EnabledPropagator','sap/ui/base/ManagedObject','sap/ui/base/ManagedObjectMetadata','sap/ui/base/ManagedObjectObserver','sap/ui/Device','./Popover','./List','./Title','./Bar','./Toolbar','./StandardListItem','sap/ui/core/ResizeHandler','sap/ui/core/IconPool','./MultiInputRenderer',"sap/ui/dom/containsOrEquals","sap/m/inputUtils/completeTextSelected","sap/ui/events/KeyCodes",'sap/ui/core/InvisibleText',"sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos","sap/ui/dom/jquery/control"],function(I,T,a,l,E,M,b,c,D,P,L,d,B,f,S,R,g,h,j,k,K,m,q){"use strict";var n=l.TokenizerRenderMode;
var o=I.extend("sap.m.MultiInput",{metadata:{interfaces:["sap.ui.core.ISemanticFormContent"],library:"sap.m",designtime:"sap/m/designtime/MultiInput.designtime",properties:{enableMultiLineMode:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:true},maxTokens:{type:"int",group:"Behavior"},_semanticFormValue:{type:"string",group:"Behavior",defaultValue:"",visibility:"hidden"}},aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"},tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"}},events:{tokenChange:{parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}},deprecated:true},tokenUpdate:{allowPreventDefault:true,parameters:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}}},dnd:{draggable:false,droppable:true}}});
E.apply(o.prototype,[true]);var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");
o.prototype.init=function(){var t=this;this._bShowListWithTokens=false;I.prototype.init.call(this);this._getClearIcon();this._bIsValidating=false;var e=new T({renderMode:n.Narrow,tokenDelete:this._tokenDelete.bind(this)});e.updateTokens=function(){this.destroyTokens();this.updateAggregation("tokens");};this.setAggregation("tokenizer",e);e.getTokensPopup().attachBeforeOpen(this._onBeforeOpenTokensPicker.bind(this)).attachAfterClose(this._onAfterCloseTokensPicker.bind(this))._getPopup().setExtraContent([e,this]);this.setAggregation("tokenizer",e);this._oTokenizerObserver=new c(function(C){var s=C.mutation;var i=C.child;switch(s){case"insert":i.attachEvent("_change",this.invalidate,this);this.fireTokenChange({type:T.TokenChangeType.Added,token:i,tokens:[i],removedTokens:[]});break;case"remove":var p=C.object.getTokens().length?T.TokenChangeType.Removed:T.TokenChangeType.RemovedAll;i.detachEvent("_change",this.invalidate,this);this.fireTokenChange({type:p,token:i,removedTokens:[i]});break;default:break;}this.updateFormValueProperty();this.invalidate();}.bind(this));this._oTokenizerObserver.observe(e,{aggregations:["tokens"]});this._bShowListWithTokens=false;this._bIsValidating=false;e.addEventDelegate({onThemeChanged:this._handleInnerVisibility.bind(this),onAfterRendering:function(){if(this.isMobileDevice()&&this.getEditable()){e.addStyleClass("sapMTokenizerIndicatorDisabled");}else{e.removeStyleClass("sapMTokenizerIndicatorDisabled");}this._syncInputWidth(e);if(this.getTokens().length){this._handleInnerVisibility();this._handleNMoreAccessibility();this._registerTokenizerResizeHandler();}}.bind(this)},this);this._aTokenValidators=[];this.setShowValueHelp(true);this.setShowSuggestion(true);this._getSuggestionsPopover().getPopover().attachBeforeOpen(function(){if(t.isMobileDevice()!==true){return;}var i=e._getTokensList();e._fillTokensList(i);this.addContent(i);t._manageListsVisibility(!!e.getTokens().length);}).attachAfterOpen(function(){var N=t.getTokens().length?r.getText("MULTIINPUT_NAVIGATION_POPUP_AND_TOKENS"):r.getText("MULTIINPUT_NAVIGATION_POPUP");t._oInvisibleMessage.announce(N);});this.attachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.attachLiveChange(this._onLiveChange,this);this.attachValueHelpRequest(this._onValueHelpRequested,this);this._getValueHelpIcon().setProperty("visible",true,true);this._onResize=this._onResize.bind(this);};
o.prototype.exit=function(){this._deregisterResizeHandler();this._deregisterTokenizerResizeHandler();this._oTokenizerObserver.disconnect();this._oTokenizerObserver.destroy();this._oTokenizerObserver=null;I.prototype.exit.call(this);};
o.prototype.onAfterRendering=function(){var t=this.getAggregation("tokenizer");this._bTokenIsValidated=false;t.setMaxWidth(this._calculateSpaceForTokenizer());t.scrollToEnd();this._registerResizeHandler();I.prototype.onAfterRendering.apply(this,arguments);};
o.prototype._tokenDelete=function(e){if(!this.getEditable()||!this.getEnabled()){return;}this._deleteTokens(e.getParameter("tokens"),e.getParameters());};
o.prototype._deleteTokens=function(e,O){var t=this.getAggregation("tokenizer");var i=0;var p=O.keyCode===K.BACKSPACE;var s=e[e.length-1];var F=e[0];i=this.getTokens().indexOf(p?F:s);t.focusToken(i,O,function(){this.focus();}.bind(this));this.fireTokenUpdate({type:T.TokenUpdateType.Removed,addedTokens:[],removedTokens:e});e.filter(function(u){return this.getEditable()&&this.getEnabled()&&u.getEditable();}.bind(this)).forEach(function(u){u.destroy();});if(this.getTokens().length===0){t.getTokensPopup().close();}if(!O.keyCode){this.focus();}};
o.prototype._handleInnerVisibility=function(){var H=!!this.getAggregation("tokenizer").getHiddenTokensCount();this._setValueVisible(!H);};
o.prototype.oninput=function(e){this.setProperty("selectedKey",'',true);I.prototype.oninput.call(this,e);if(e.isMarked("invalid")||!this.getEditable()){return;}this._setValueVisible(true);this._manageListsVisibility(false);this.getAggregation("tokenizer").getTokensPopup().close();};
o.prototype._registerResizeHandler=function(){if(!this._iResizeHandlerId){this._iResizeHandlerId=R.register(this,this._onResize);}};
o.prototype._deregisterResizeHandler=function(){if(this._iResizeHandlerId){R.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null;}};
o.prototype._registerTokenizerResizeHandler=function(){if(!this._iTokenizerResizeHandler){this._iTokenizerResizeHandler=R.register(this.getAggregation("tokenizer"),this._onResize);}};
o.prototype._deregisterTokenizerResizeHandler=function(){if(this._iTokenizerResizeHandler){R.deregister(this._iTokenizerResizeHandler);this._iTokenizerResizeHandler=null;}};
o.prototype._onResize=function(){this.getAggregation("tokenizer").setMaxWidth(this._calculateSpaceForTokenizer());};
o.prototype._onSuggestionItemSelected=function(e){var t=this.getAggregation("tokenizer"),i=null,p=null,O=t.getTokens().length;if(this.getMaxTokens()&&O>=this.getMaxTokens()||this._bValueHelpOpen){return;}if(this._hasTabularSuggestions()){i=e.getParameter("selectedRow");}else{i=e.getParameter("selectedItem");if(i){p=new a({text:M.escapeSettingsValue(i.getText()),key:M.escapeSettingsValue(i.getKey())});}}if(i&&!this._bTokenIsAdded){var s=this.getValue();this.addValidateToken({text:s,token:p,suggestionObject:i,validationCallback:this._validationCallback.bind(this,O)});}if(this.isMobileDevice()){var N=t.getTokens().length;if(O<N){this.setValue("");}if(this._getSuggestionsList().isA("sap.m.Table")){this._getSuggestionsList().addStyleClass("sapMInputSuggestionTableHidden");}else{this._getSuggestionsList().destroyItems();}var u=this.getAggregation("tokenizer").getScrollDelegate();if(u){u.scrollTo(0,0,0);}this._getSuggestionsPopover().getInput().focus();}this._bTokenIsAdded=false;};
o.prototype._onValueHelpRequested=function(){this._bValueHelpOpen=true;};
o.prototype._onLiveChange=function(e){var C=this.getAggregation("tokenizer").getTokens().every(function(t){return t.getSelected();});if(!C){return;}this.removeAllTokens();};
o.prototype._setValueVisible=function(v){var V=v?"1":"0";this.$("inner").css("opacity",V);};
o.prototype.onmousedown=function(e){if(e.target==this.getDomRef('content')){e.preventDefault();e.stopPropagation();}};
o.prototype.openMultiLine=function(){};
o.prototype.closeMultiLine=function(){};
o.prototype.showItems=function(){I.prototype.showItems.apply(this,arguments);this._manageListsVisibility(false);};
o.prototype.onBeforeRendering=function(){var t=this.getAggregation("tokenizer");var e=t._getTokensList();I.prototype.onBeforeRendering.apply(this,arguments);this._hideTokensOverLimit();t.setEnabled(this.getEnabled());t._fillTokensList(e);};
o.prototype._hideTokensOverLimit=function(){if(!this.getMaxTokens()){return;}this.getTokens().forEach(function(t,i){if(i>=this.getMaxTokens()){return t.setVisible(false);}return t.setVisible(true);},this);};
o.prototype.onsapnext=function(e){var t=this.getAggregation("tokenizer");if(e.isMarked()){return;}var F=q(document.activeElement).control()[0];if(!F){return;}if(t===F||t.$().find(F.$()).length>0){t.scrollToEnd();this.$().find("input").trigger("focus");}};
o.prototype.onsapbackspace=function(e){var v=this.getValue();var i=this.getFocusDomRef()===document.activeElement;var t=this.getTokens();var p=t[t.length-1];if(!this.getEnabled()||!this.getEditable()){e.preventDefault();return;}if(v===""&&i&&p&&e.srcControl===this){var A=t.filter(function(s){return s.getSelected();}).length===t.length;if(A){return this._deleteTokens(t,{keyCode:K.BACKSPACE});}p.focus();e.preventDefault();}};
o.prototype.onsapdelete=function(e){if(!this.getEditable()){return;}if(this.getValue()&&!k(this.getFocusDomRef())){return;}if(e.isMarked("forwardFocusToParent")){this.focus();}};
o.prototype.onkeydown=function(e){var t=this.getAggregation("tokenizer");I.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()){return;}if(e.which===K.TAB){t.selectAllTokens(false);}if((e.ctrlKey||e.metaKey)&&e.which===K.A&&t.getTokens().length>0){t.focus();t.selectAllTokens(true);e.preventDefault();}if((e.ctrlKey||e.metaKey)&&(e.which===K.C||e.which===K.INSERT)){t._copy();}if(((e.ctrlKey||e.metaKey)&&e.which===K.X)||(e.shiftKey&&e.which===K.DELETE)){if(this.getEditable()){t._cut();}else{t._copy();}}if((e.ctrlKey||e.metaKey)&&e.which===K.I&&t.getTokens().length){t._togglePopup(t.getTokensPopup());e.preventDefault();}};
o.prototype.onpaste=function(e){var O,i,s,A=[];if(this.getValueHelpOnly()){return;}O=e.originalEvent.clipboardData.getData('text/plain');if(O.length&&O.endsWith("\r\n")){O=O.substring(0,O.lastIndexOf("\r\n"));}s=O.split(/\r\n|\r|\n|\t/g);if(s.length<=1){return;}setTimeout(function(){if(s){if(this.fireEvent("_validateOnPaste",{texts:s},true)){var p="";for(i=0;i<s.length;i++){if(s[i]){var t=this._convertTextToToken(s[i],true);if(this._addUniqueToken(t)){A.push(t);}else{p=s[i];}}}this.updateDomValue(p);if(A.length>0){this.fireTokenUpdate({addedTokens:A,removedTokens:[],type:T.TokenUpdateType.Added});this.fireTokenChange({addedTokens:A,removedTokens:[],type:T.TokenChangeType.TokensChanged});}}if(A.length){this.cancelPendingSuggest();}}}.bind(this),0);};
o.prototype._validationCallback=function(O,v){var N=this.getAggregation("tokenizer").getTokens().length;var s=this._getSuggestionsPopover();this._bIsValidating=false;if(v){this.setValue("");this._bTokenIsValidated=true;if(this.isMobileDevice()&&s&&s.getInput()&&(O<N)){s.getInput().setValue("");}}};
o.prototype.onsapprevious=function(e){if(this._getIsSuggestionPopupOpen()){return;}if(this._$input.cursorPos()===0){if(e.srcControl===this){T.prototype.onsapprevious.apply(this.getAggregation("tokenizer"),arguments);}}if(e.keyCode===K.ARROW_UP){e.preventDefault();}};
o.prototype.onsaphome=function(e){if(!this.getFocusDomRef().selectionStart){T.prototype.onsaphome.apply(this.getAggregation("tokenizer"),arguments);}I.prototype.onsaphome.apply(this,arguments);};
o.prototype.onsapend=function(e){if(e.isMarked("forwardFocusToParent")){this.focus();}I.prototype.onsapend.apply(this,arguments);};
o.prototype.onsapenter=function(e){var s=this.getDOMValue();I.prototype.onsapenter.apply(this,arguments);var v=true,t=this.getAggregation("tokenizer");if(this._getIsSuggestionPopupOpen()){if(this._hasTabularSuggestions()){v=!this._getSuggestionsTable().getSelectedItem();}else{v=!this._getSuggestionsList().getSelectedItem();}}if(v){this._validateCurrentText();}if(e&&e.setMarked&&(this._bTokenIsValidated||s)){e.setMarked();}if(!this.getEditable()&&t.getHiddenTokensCount()&&e.target===this.getFocusDomRef()){t._togglePopup(t.getTokensPopup());}this.focus();};
o.prototype.onsapfocusleave=function(e){var p=this._getSuggestionsPopoverPopup(),t=this.getAggregation("tokenizer"),s=t.getTokensPopup(),N=false,i=false,u=this.getDomRef()&&j(this.getDomRef(),document.activeElement),v,F;if(p&&p.isA("sap.m.Popover")){if(e.relatedControlId){v=sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef();N=j(p.getFocusDomRef(),v);i=j(t.getFocusDomRef(),v);if(s){F=j(s.getFocusDomRef(),v);}}}I.prototype.onsapfocusleave.apply(this,arguments);if(this._bIsValidating||this._bValueHelpOpen){return;}if(!this.isMobileDevice()&&!N&&e.relatedControlId!==this.getId()&&!i){this._validateCurrentText(true);}if(!this.isMobileDevice()&&this.getEditable()){if(u||N){return;}}if(!F&&!i){s.isOpen()&&!this.isMobileDevice()&&t._togglePopup(s);t.setRenderMode(n.Narrow);}this._handleInnerVisibility();};
o.prototype.ontap=function(e){var t=this.getAggregation("tokenizer");if(document.activeElement===this._$input[0]||document.activeElement===t.getDomRef()){t.selectAllTokens(false);}if(e&&e.isMarked("tokenDeletePress")){return;}I.prototype.ontap.apply(this,arguments);};
o.prototype.onfocusin=function(e){var t=this.getAggregation("tokenizer");this._deregisterTokenizerResizeHandler();this._bValueHelpOpen=false;if(e.target===this.getFocusDomRef()){I.prototype.onfocusin.apply(this,arguments);if(t.hasOneTruncatedToken()&&this.getEnabled()&&this.getEditable()){t.getTokens()[0].setSelected(false);!this.isMobileDevice()&&t.setFirstTokenTruncated(false);}}if(!this.isMobileDevice()&&this.getEditable()&&e.target===this.getDomRef("inner")&&!(this._getIsSuggestionPopupOpen())){t.setRenderMode(n.Loose);this._setValueVisible(true);}this._registerResizeHandler();};
o.prototype.onsapescape=function(e){var t=this.getAggregation("tokenizer"),p=t.getTokensPopup();this.getAggregation("tokenizer").selectAllTokens(false);this.selectText(0,0);if(p.isOpen()){t._togglePopup(p);}I.prototype.onsapescape.apply(this,arguments);};
o.prototype._getIsSuggestionPopupOpen=function(){var s=this._getSuggestionsPopover(),e=this._getSuggestionsPopoverPopup();return s&&e&&e.isOpen();};
o.prototype.setEditable=function(e){var t=this.getAggregation("tokenizer");e=this.validateProperty("editable",e);if(e===this.getEditable()){return this;}if(I.prototype.setEditable){I.prototype.setEditable.apply(this,arguments);}t.setEditable(e);return this;};
o.prototype._findItem=function(t,e,p,G){if(!t){return;}if(!(e&&e.length)){return;}t=t.toLowerCase();var s=e.length;for(var i=0;i<s;i++){var u=e[i];var v=G(u);if(!v){continue;}v=v.toLowerCase();if(v===t){return u;}if(!p&&v.indexOf(t)===0){return u;}}};
o.prototype._getSuggestionItem=function(t,e){var p=null;var s=null;if(this._hasTabularSuggestions()){p=this.getSuggestionRows();s=this._findItem(t,p,e,function(u){var v=u.getCells();var w=null;if(v){var i;for(i=0;i<v.length;i++){if(v[i].getText){w=v[i].getText();break;}}}return w;});}else{p=this.getSuggestionItems();s=this._findItem(t,p,e,function(s){return s.getText();});}return s;};
o.prototype.clone=function(){var C;this.detachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.detachLiveChange(this._onLiveChange,this);this.detachValueHelpRequest(this._onValueHelpRequested,this);C=I.prototype.clone.apply(this,arguments);this.attachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.attachLiveChange(this._onLiveChange,this);this.attachValueHelpRequest(this._onValueHelpRequested,this);return C;};
o.getMetadata().forwardAggregation("tokens",{getter:function(){return this.getAggregation("tokenizer");},aggregation:"tokens",forwardBinding:true});
o.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("content");};
o.prototype.setTokens=function(t){if(!Array.isArray(t)){return;}this.removeAllTokens();t.forEach(function(e){b.addAPIParentInfoBegin(e,this,"tokens");},this);t.forEach(function(e){this.addToken(e);},this);t.forEach(function(e){b.addAPIParentInfoEnd(e);},this);this.fireTokenChange({type:T.TokenChangeType.TokensChanged,addedTokens:t,removedTokens:[]});return this;};
o.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};o.WaitForAsyncValidation="sap.m.MultiInput.WaitForAsyncValidation";o.prototype.getDomRefForValueStateMessage=o.prototype.getPopupAnchorDomRef;
o.prototype.updateInputField=function(N){I.prototype.updateInputField.call(this,N);var s=this._getSuggestionsPopover();this.setDOMValue('');if(s.getInput()){s.getInput().setDOMValue('');}};
o.prototype.onChange=function(e,p,N){p=p||this.getChangeEventParams();if(!this.getEditable()||!this.getEnabled()){return;}var v=this._getInputValue(N);if(v===this.getLastValue()){this._bCheckDomValue=false;return;}if(!this._bTokenIsValidated){this.setValue(v);v=this.getValue();this.setLastValue(v);}this.fireChangeEvent(v,p);return true;};
o.prototype.getAccessibilityInfo=function(){var t=this.getTokens().map(function(e){return e.getText();}).join(" ");var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_MULTIINPUT");i.description=(this.getValueDescriptionInfo()+" "+t).trim();return i;};
o.prototype.getValueDescriptionInfo=function(){var t=this.getTokens().length;var s=this.getDescription()||"";var v=this.getValue();if(v){return v;}if(t>0){return s;}else{return s?s:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("INPUTBASE_VALUE_EMPTY");}};
o.prototype._decoratePopupInput=function(p){I.prototype._decoratePopupInput.apply(this,arguments);if(!p){return;}if(!this._oPopupInputDelegate){this._oPopupInputDelegate={oninput:this._manageListsVisibility.bind(this,false),onsapenter:this._handleConfirmation.bind(this,false)};}p.addEventDelegate(this._oPopupInputDelegate,this);return p;};
o.prototype._hasShowSelectedButton=function(){return true;};
o.prototype.forwardEventHandlersToSuggPopover=function(s){s.setShowSelectedPressHandler(this._handleShowSelectedPress.bind(this));s.setOkPressHandler(this._handleConfirmation.bind(this,true));s.setCancelPressHandler(this._handleCancelPress.bind(this));};
o.prototype._handleConfirmation=function(O,e){var p=this._getSuggestionsPopover().getInput();if(O||(!O&&p.getValue())){this._closeSuggestionPopup();}this._validateCurrentText();this._setValueVisible(false);this.onChange(e,null,p.getValue());};
o.prototype._handleCancelPress=function(e){this._getSuggestionsPopover().getInput().setDOMValue(this.getLastValue());this._closeSuggestionPopup();};
o.prototype._handleShowSelectedPress=function(e){this._bShowListWithTokens=e.getSource().getPressed();this._manageListsVisibility(this._bShowListWithTokens);};
o.prototype._onBeforeOpenTokensPicker=function(){var t=this.getAggregation("tokenizer"),p=t.getTokensPopup(),e=this.getDomRef(),i=this.getEditable(),C,s;this._setValueVisible(false);this._manageListsVisibility(true);if(e&&p){C=parseInt(p.getContentWidth());s=isNaN(C)||e.offsetWidth>C?e.offsetWidth:C;s=((t.getTokens().length===1)||!i)?"auto":(s/parseFloat(l.BaseFontSize))+"rem";p.setContentWidth(s);}};
o.prototype._onAfterCloseTokensPicker=function(){if(document.activeElement!==this.getDomRef("inner")){this.getAggregation("tokenizer").setRenderMode(n.Narrow);}};
o.prototype.getDialogTitle=function(){var p=this._getSuggestionsPopoverPopup(),H=p&&p.getCustomHeader();if(H){return H.getContentMiddle()[0];}return null;};
o.prototype._updatePickerHeaderTitle=function(){var e,i;i=this.getLabels();if(i.length){e=i[0];if(e&&(typeof e.getText==="function")){this.getDialogTitle().setText(e.getText());}}else{this.getDialogTitle().setText(r.getText("COMBOBOX_PICKER_TITLE"));}};
o.prototype._getSuggestionsList=function(){var s=this._getSuggestionsPopover();return s&&s.getItemsContainer();};
o.prototype._getSuggestionsPopoverPopup=function(){return this._oSuggestionPopup;};
o.prototype._manageListsVisibility=function(s){if(!this.isMobileDevice()){return;}this.getAggregation("tokenizer")._getTokensList().setVisible(s);this._getSuggestionsList()&&this._getSuggestionsList().setVisible(!s);this._getSuggestionsPopover().getFilterSelectedButton().setPressed(s);};
o.prototype._handleNMoreAccessibility=function(){var i=m.getStaticId("sap.m","MULTICOMBOBOX_OPEN_NMORE_POPOVER"),F=this.getFocusDomRef(),A=(F&&F.getAttribute("aria-describedby")),e=A?A.split(" "):[],N=e.indexOf(i),p=this.getEnabled(),s=!this.getEditable()&&this.getAggregation("tokenizer").getHiddenTokensCount();if(s&&N===-1){e.push(i);p&&this.getFocusDomRef().setAttribute("aria-keyshortcuts","Enter");}else if(N!==-1&&!s){e.splice(N,1);this.getFocusDomRef().removeAttribute("aria-keyshortcuts");}if(F&&e.length){F.setAttribute("aria-describedby",e.join(" ").trim());}};
o.prototype._calculateSpaceForTokenizer=function(){var e=this.getDomRef();if(e){var s,i=this.$().find(".sapMInputDescriptionWrapper"),p=this.$().find(".sapMInputBaseInner"),C=e.offsetWidth||0,t=i.width()||0,u=this._calculateIconsSpace(),v=["min-width","padding-right","padding-left"],w=v.reduce(function(A,x){return A+(parseInt(p.css(x))||0);},0);s=C-(u+w+t);s=s<0?0:s;return s+"px";}else{return null;}};
o.prototype._syncInputWidth=function(t){var F=this.getDomRef('inner'),s,i;if(!F||(t&&!t.getDomRef())){return;}s=this._calculateIconsSpace();i=t.getDomRef().scrollWidth;F.style.width='calc(100% - '+Math.floor(s+i)+"px";};
o.prototype.isValueHelpOnlyOpener=function(t){return[this._$input[0],this._getValueHelpIcon().getDomRef()].indexOf(t)>-1;};
o.prototype._shouldTriggerSuggest=function(){var s=I.prototype._shouldTriggerSuggest.apply(this,arguments);return s&&!this._bShowListWithTokens;};
o.prototype.addValidator=function(v){if(typeof(v)==="function"){this._aTokenValidators.push(v);}};
o.prototype.removeValidator=function(v){var i=this._aTokenValidators.indexOf(v);if(i!==-1){this._aTokenValidators.splice(i,1);}};
o.prototype.removeAllValidators=function(){this._aTokenValidators=[];};
o.prototype.getValidators=function(){return this._aTokenValidators;};
o.prototype.addValidateToken=function(p,v){var t=this._validateToken(p,v),A=this._addUniqueToken(t,p.validationCallback);if(A){this.fireTokenUpdate({addedTokens:[t],removedTokens:[],type:T.TokenUpdateType.Added});this.fireTokenChange({addedTokens:[t],removedTokens:[],type:T.TokenChangeType.TokensChanged});}};
o.prototype._validateToken=function(p,v){var t=p.token,V=p.validationCallback,s=p.suggestionObject,e=t&&t.getText(),u=e?e:p.text,w;v=v?v:this._aTokenValidators;w=v.length;if(!w){if(!t&&V){V(false);}return t;}for(var i=0;i<w;i++){t=v[i]({text:u,suggestedToken:t,suggestionObject:s,asyncCallback:this._getAsyncValidationCallback(v,i,u,s,V)});if(!t){if(V){V(false);}return null;}if(t===o.WaitForAsyncValidation){return null;}}return t;};
o.prototype._addUniqueToken=function(t,v){if(!t){return false;}var e=!this._tokenExists(t);e&&this.addToken(t);if(v){v(e);}return e;};
o.prototype._tokenExists=function(t){var e=this.getTokens(),p=e.length,s=t&&t.getKey();if(!s){return false;}for(var i=0;i<p;i++){if(e[i].getKey()===s){return true;}}return false;};
o.prototype._convertTextToToken=function(t,C){var e=this.getAggregation("tokenizer"),O=e.getTokens().length,i=this._configureTokenOptions(t,false,C),v=i.text,p=i.item,s=i.token;if(!v){return null;}return this._validateToken({text:v,token:s,suggestionObject:p,validationCallback:this._validationCallback.bind(this,O)});};
o.prototype._validateCurrentText=function(e){var t=this.getAggregation("tokenizer"),O=t.getTokens().length,i=this._configureTokenOptions(this.getValue(),e),v=i.text,p=i.item,s=i.token;if(!v){return null;}if(p){this._bTokenIsAdded=true;}if(!this.getMaxTokens()||this.getTokens().length<this.getMaxTokens()){this._bIsValidating=true;this.addValidateToken({text:v,token:s,suggestionObject:p,validationCallback:this._validationCallback.bind(this,O)});}};
o.prototype._configureTokenOptions=function(v,e,p){var i,t;if(v&&this.getEditable()){v=v.trim();}if(v&&(e||p||this._getIsSuggestionPopupOpen())){if(this._hasTabularSuggestions()){i=this._getSuggestionsTable().getSelectedItem();}else{i=this._getSuggestionItem(v,e);}}if(i&&i.getText&&i.getKey){t=new a({text:M.escapeSettingsValue(i.getText()),key:i.getKey()});}return{text:v,item:i,token:t};};
o.prototype._getAsyncValidationCallback=function(v,V,i,s,e){var t=this;return function(p){if(p){p=t.addValidateToken({text:i,token:p,suggestionObject:s,validationCallback:e},v.slice(V+1));}else{e&&e(false);}};};
o.prototype.getFormFormattedValue=function(){return this.getTokens().map(function(t){return t.getText();}).join(", ");};
o.prototype.getFormValueProperty=function(){return"_semanticFormValue";};
o.prototype.updateFormValueProperty=function(){this.setProperty("_semanticFormValue",this.getFormFormattedValue(),true);};
return o;});
sap.ui.predefine('sap/m/MultiInputRenderer',['./InputRenderer','sap/ui/core/Renderer',"sap/ui/core/Core"],function(I,R,C){"use strict";var M=R.extend(I);M.apiVersion=2;
M.prependInnerContent=function(r,c){r.renderControl(c.getAggregation("tokenizer"));};
M.addOuterClasses=function(r,c){I.addOuterClasses.apply(this,arguments);r.class("sapMMultiInput");if(c.getTokens().length>0){r.class("sapMMultiInputHasTokens");}};
M.getAriaDescribedBy=function(c){var a=I.getAriaDescribedBy.apply(this,arguments),i=c.getAggregation("tokenizer")&&c.getAggregation("tokenizer").getTokensInfoId();if(a){a=a+" "+i;}else{a=i;}return a;};
M.getAccessibilityState=function(c){var a=I.getAccessibilityState.apply(this,arguments),r=C.getLibraryResourceBundle("sap.m");a.roledescription=r.getText("MULTIINPUT_ARIA_ROLE_DESCRIPTION");return a;};
return M;},true);
sap.ui.predefine('sap/m/Panel',['./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/Device','./PanelRenderer','sap/m/Button'],function(l,C,I,D,P,B){"use strict";var a=l.PanelAccessibleRole;var b=l.BackgroundDesign;var c=l.ButtonType;
var d=C.extend("sap.m.Panel",{metadata:{library:"sap.m",properties:{headerText:{type:"string",group:"Data",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"auto"},expandable:{type:"boolean",group:"Appearance",defaultValue:false},expanded:{type:"boolean",group:"Appearance",defaultValue:false},expandAnimation:{type:"boolean",group:"Behavior",defaultValue:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:b.Translucent},accessibleRole:{type:"sap.m.PanelAccessibleRole",group:"Accessibility",defaultValue:a.Form}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},headerToolbar:{type:"sap.m.Toolbar",multiple:false},infoToolbar:{type:"sap.m.Toolbar",multiple:false}},events:{expand:{parameters:{expand:{type:"boolean"},triggeredByInteraction:{type:"boolean"}}}},dnd:{draggable:true,droppable:true},designtime:"sap/m/designtime/Panel.designtime"}});
d.prototype.init=function(){this._bInteractiveExpand=false;this.data("sap-ui-fastnavgroup","true",true);};
d.prototype.onThemeChanged=function(){this._setContentHeight();};
d.prototype.setExpanded=function(e){var t=this;if(e===this.getExpanded()){return this;}this.setProperty("expanded",e,true);if(!this.getExpandable()){return this;}this._toggleExpandCollapse(function(){t.invalidate();});this._toggleButtonIcon(e);this.fireExpand({expand:e,triggeredByInteraction:this._bInteractiveExpand});this._bInteractiveExpand=false;return this;};
d.prototype.onBeforeRendering=function(){if(this.getExpandable()&&!this._oExpandButton){this._oExpandButton=this._createExpandButton();}if(sap.ui.getCore().getConfiguration().getAccessibility()){this.$().attr("role",this.getAccessibleRole().toLowerCase());}};
d.prototype.onAfterRendering=function(){var $=this.$(),p=this.getDomRef("content"),h,o=this.getDomRef();if(o){o.style.width=this.getWidth();h=this.getHeight();o.style.height=h;if(parseFloat(h)!=0){o.querySelector(".sapMPanelContent").style.height=h;}}this._setContentHeight();if(this.getExpandable()){this.getHeaderToolbar()&&p&&this._oExpandButton.$().attr("aria-controls",p.id);if(!this.getExpanded()){$.children(".sapMPanelExpandablePart").css("display","none");}}};
d.prototype.ontap=function(e){var o=this.getDomRef(),w=o&&o.querySelector(".sapMPanelWrappingDiv");if(!this.getExpandable()||this.getHeaderToolbar()||!w){return;}if(w.contains(e.target)){this._bInteractiveExpand=true;this.setExpanded(!this.getExpanded());}};
d.prototype.onsapspace=function(e){this.ontap(e);};
d.prototype.onsapenter=function(e){this.ontap(e);};
d.prototype.exit=function(){if(this._oExpandButton){this._oExpandButton.destroy();this._oExpandButton=null;}};
d.prototype._createExpandButton=function(){var t=this,i=this.getExpanded()?I.getIconURI("slim-arrow-down"):I.getIconURI("slim-arrow-right"),T=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PANEL_ICON"),o;if(!this.getHeaderToolbar()){return I.createControlByURI({src:i,tooltip:T});}o=new B(this.getId()+"-expandButton",{icon:i,tooltip:T,type:c.Transparent,press:function(){t._bInteractiveExpand=true;t.setExpanded(!t.getExpanded());}}).addEventDelegate({onAfterRendering:function(){o.$().attr("aria-expanded",this.getExpanded());}.bind(this)},this);this.addDependent(o);return o;};
d.prototype._toggleButtonIcon=function(i){var s=i?I.getIconURI("slim-arrow-down"):I.getIconURI("slim-arrow-right");if(!this._oExpandButton){return;}if(this.getHeaderToolbar()){this._oExpandButton.setIcon(s);}else{this._oExpandButton.setSrc(s);}};
d.prototype._setContentHeight=function(){var A,t=this.getDomRef(),p=t&&t.querySelector(".sapMPanelContent");if(this.getHeight()==="auto"||!p){return;}A='calc('+"100%"+' - '+p.offsetTop+'px)';p.style.height=A;};
d.prototype._toggleExpandCollapse=function(A){var o={complete:A};if(!this.getExpandAnimation()){o.duration=0;}this.$().children(".sapMPanelExpandablePart").slideToggle(o);};
d.prototype._getLabellingElementId=function(){var h=this.getHeaderToolbar(),H=this.getHeaderText(),i=null;if(h){i=h.getTitleId();}else if(H){i=this.getId()+"-header";}return i;};
return d;});
sap.ui.predefine('sap/m/PanelRenderer',["sap/m/library","sap/ui/Device"],function(l,D){"use strict";var T=l.ToolbarDesign;var P={apiVersion:2};
P.render=function(r,c){this.startPanel(r,c);this.renderHeader(r,c);this.renderContent(r,c);this.endPanel(r);};
P.startPanel=function(r,c){var i=c.getExpandable(),a={role:c.getAccessibleRole().toLowerCase()};r.openStart("div",c);r.class("sapMPanel");if(i){r.class("sapMPanelExpandable");}r.style("width",c.getWidth());r.style("height",c.getHeight());if(c.getHeaderToolbar()||!i){a.labelledby=c._getLabellingElementId();}r.accessibilityState(c,a);r.openEnd();};
P.renderHeader=function(r,c){var i=c.getExpandable(),I=c.getExpanded(),h=c.getHeaderToolbar(),H,s=h?"header":"div";if(i){r.openStart(s);if(h){H="sapMPanelWrappingDivTb";}else{H="sapMPanelWrappingDiv";this.writeHeaderAccessibility(r,c);}r.class(H);if(I){r.class(H+"Expanded");}r.openEnd();if(i){r.renderControl(c._oExpandButton);}}var a=c.getHeaderText();if(h){h.setDesign(T.Transparent,true);h.addStyleClass("sapMPanelHeaderTB");r.renderControl(h);}else if(a||i){r.openStart("h2",c.getId()+"-header");r.class("sapMPanelHdr");r.openEnd();r.text(a);r.close("h2");}if(i){r.close(s);}var o=c.getInfoToolbar();if(o){o.setDesign(T.Info,true);o.addStyleClass("sapMPanelInfoTB");if(i){r.openStart("div");r.class("sapMPanelExpandablePart");r.openEnd();r.renderControl(o);r.close("div");}else{r.renderControl(o);}}};
P.writeHeaderAccessibility=function(r,c){r.attr('tabindex',0);r.attr('role','button');r.attr('aria-expanded',c.getExpanded());r.attr('aria-controls',c.getId()+"-content");};
P.renderContent=function(r,c){this.startContent(r,c);this.renderChildren(r,c.getContent());this.endContent(r);};
P.startContent=function(r,c){r.openStart("div",c.getId()+"-content");r.class("sapMPanelContent");r.class("sapMPanelBG"+c.getBackgroundDesign());if(c.getExpandable()){r.class("sapMPanelExpandablePart");}if(D.browser.firefox){r.attr('tabindex','-1');}r.openEnd();};
P.renderChildren=function(r,c){c.forEach(r.renderControl,r);};
P.endContent=function(r){r.close("div");};
P.endPanel=function(r){r.close("div");};
return P;},true);
sap.ui.predefine('sap/m/ScrollContainer',["./library","sap/ui/core/Control","sap/ui/core/delegate/ScrollEnablement","sap/ui/core/Element","./ScrollContainerRenderer","sap/ui/dom/denormalizeScrollBeginRTL"],function(l,C,S,E,a,d){"use strict";
var b=C.extend("sap.m.ScrollContainer",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},horizontal:{type:"boolean",group:"Behavior",defaultValue:true},vertical:{type:"boolean",group:"Behavior",defaultValue:false},focusable:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/m/designtime/ScrollContainer.designtime"}});
b.prototype.init=function(){this._oScroller=new S(this,this.getId()+"-scroll",{horizontal:true,vertical:false});};
b.prototype.onBeforeRendering=function(){this._oScroller.setHorizontal(this.getHorizontal());this._oScroller.setVertical(this.getVertical());};
b.prototype.exit=function(){if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}};
b.prototype.getScrollDelegate=function(){return this._oScroller;};
b.prototype.scrollTo=function(x,y,t){if(this._oScroller){var D=this.getDomRef();if(D){if(sap.ui.getCore().getConfiguration().getRTL()){x=d(x,D);}this._oScroller.scrollTo(x,y,t);}else{this._oScroller._scrollX=x;this._oScroller._scrollY=y;}}return this;};
b.prototype.scrollToElement=function(e,t){if(e instanceof E){e=e.getDomRef();}if(this._oScroller){this._oScroller.scrollToElement(e,t);}return this;};
return b;});
sap.ui.predefine('sap/m/ScrollContainerRenderer',[],function(){"use strict";var S={apiVersion:2};
S.render=function(r,c){r.openStart("div",c).style("width",c.getWidth()).style("height",c.getHeight());if(c.getVertical()){if(!c.getHorizontal()){r.class("sapMScrollContV");}else{r.class("sapMScrollContVH");}}else{r.class("sapMScrollContH");}r.class("sapMScrollCont");var t=c.getTooltip_AsString();if(t){r.attr("title",t);}if(c.getFocusable()){r.attr("tabindex","0");}r.openEnd();r.openStart("div",c.getId()+"-scroll").class("sapMScrollContScroll").openEnd();var C=c.getContent(),l=C.length;for(var i=0;i<l;i++){r.renderControl(C[i]);}r.close("div");r.close("div");};
return S;},true);
sap.ui.predefine('sap/m/Switch',['./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/theming/Parameters','sap/ui/events/KeyCodes','./SwitchRenderer',"sap/base/assert"],function(l,C,E,I,P,K,S,a){"use strict";var t=l.touch;var c=l.SwitchType;
var d=C.extend("sap.m.Switch",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.m.IOverflowToolbarContent"],library:"sap.m",properties:{state:{type:"boolean",group:"Misc",defaultValue:false},customTextOn:{type:"string",group:"Misc",defaultValue:""},customTextOff:{type:"string",group:"Misc",defaultValue:""},enabled:{type:"boolean",group:"Data",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:""},type:{type:"sap.m.SwitchType",group:"Appearance",defaultValue:c.Default}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{state:{type:"boolean"}}}},designtime:"sap/m/designtime/Switch.designtime"}});
I.insertFontFaceStyle();E.apply(d.prototype,[true]);
d.prototype._slide=function(i){if(i>d._OFFPOSITION){i=d._OFFPOSITION;}else if(i<d._ONPOSITION){i=d._ONPOSITION;}if(i>this._iNoLabelFix){i=this._iNoLabelFix;}if(this._iCurrentPosition===i){return;}this._iCurrentPosition=i;this.getDomRef("inner").style[sap.ui.getCore().getConfiguration().getRTL()?"right":"left"]=i+"px";this._setTempState(Math.abs(i)<d._SWAPPOINT);};
d.prototype._resetSlide=function(){this.getDomRef("inner").style.cssText="";};
d.prototype._setTempState=function(b){if(this._bTempState===b){return;}this._bTempState=b;this.getDomRef("handle").setAttribute("data-sap-ui-swt",b?this._sOn:this._sOff);};
d.prototype._getInvisibleElement=function(){return this.$("invisible");};
d.prototype.getInvisibleElementId=function(){return this.getId()+"-invisible";};
d.prototype.getInvisibleElementText=function(s){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");var T="";switch(this.getType()){case c.Default:if(s){T=this.getCustomTextOn().trim()||b.getText("SWITCH_ON");}else{T=this.getCustomTextOff().trim()||b.getText("SWITCH_OFF");}break;case c.AcceptReject:if(s){T=b.getText("SWITCH_ARIA_ACCEPT");}else{T=b.getText("SWITCH_ARIA_REJECT");}break;}return T;};
var p=Object.assign({"_sap_m_Switch_OnPosition":-32,"_sap_m_Switch_OffPosition":0},P.get({name:["_sap_m_Switch_OnPosition","_sap_m_Switch_OffPosition"],callback:function(_){d._ONPOSITION=Number(_["_sap_m_Switch_OnPosition"]);d._OFFPOSITION=Number(_["_sap_m_Switch_OffPosition"]);d._SWAPPOINT=Math.abs((d._ONPOSITION-d._OFFPOSITION)/2);}}));d._ONPOSITION=Number(p["_sap_m_Switch_OnPosition"]);d._OFFPOSITION=Number(p["_sap_m_Switch_OffPosition"]);d._SWAPPOINT=Math.abs((d._ONPOSITION-d._OFFPOSITION)/2);
d.prototype.onBeforeRendering=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._sOn=this.getCustomTextOn()||r.getText("SWITCH_ON");this._sOff=this.getCustomTextOff()||r.getText("SWITCH_OFF");};
d.prototype.ontouchstart=function(e){var T=e.targetTouches[0],b=this.getRenderer().CSS_CLASS,s=this.$("inner");e.setMarked();if(t.countContained(e.touches,this.getId())>1||!this.getEnabled()||e.button){return;}this._iActiveTouchId=T.identifier;this._bTempState=this.getState();this._iStartPressPosX=T.pageX;this._iPosition=s.position().left;this._bDragging=false;setTimeout(this["focus"].bind(this),0);this.$("switch").addClass(b+"Pressed");this._iNoLabelFix=parseInt(getComputedStyle(this.getDomRef("switch")).outlineOffset);};
d.prototype.ontouchmove=function(e){e.setMarked();e.preventDefault();var T,i,f=t;if(!this.getEnabled()||e.button){return;}a(f.find(e.touches,this._iActiveTouchId),"missing touchend");T=f.find(e.changedTouches,this._iActiveTouchId);if(!T||Math.abs(T.pageX-this._iStartPressPosX)<6){return;}this._bDragging=true;i=((this._iStartPressPosX-T.pageX)*-1)+this._iPosition;if(sap.ui.getCore().getConfiguration().getRTL()){i=-i;}this._slide(i);};
d.prototype.ontouchend=function(e){e.setMarked();var T,f=t;if(!this.getEnabled()||e.button){return;}a(this._iActiveTouchId!==undefined,"expect to already be touching");T=f.find(e.changedTouches,this._iActiveTouchId);if(T){a(!f.find(e.touches,this._iActiveTouchId),"touchend still active");if(!this._updateStateAndNotify()){this.$("switch").removeClass(this.getRenderer().CSS_CLASS+"Pressed");this._resetSlide();}}};
d.prototype.ontouchcancel=d.prototype.ontouchend;
d.prototype._handleSpaceOrEnter=function(e){if(this.getEnabled()){e.setMarked();if(!this._bDragging){this._updateStateAndNotify();}}};
d.prototype.onsapspace=function(e){e.preventDefault();};
d.prototype.onkeyup=function(e){if(e.which===K.SPACE){this._handleSpaceOrEnter(e);}};
d.prototype.onsapenter=d.prototype._handleSpaceOrEnter;
d.prototype._updateStateAndNotify=function(){var s=this.getState(),b;this.setState(this._bDragging?this._bTempState:!s);b=s!==this.getState();if(b){this.fireChange({state:this.getState()});}this._bDragging=false;return b;};
d.prototype.getAccessibilityInfo=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s=this.getState(),D=this.getInvisibleElementText(s);return{role:"switch",type:b.getText("ACC_CTR_TYPE_SWITCH"),description:D,focusable:this.getEnabled(),enabled:this.getEnabled()};};
d.prototype.getOverflowToolbarConfig=function(){return{propsUnrelatedToSize:["enabled","state"]};};
return d;});
sap.ui.predefine('sap/m/SwitchRenderer',["sap/ui/Device","sap/m/library"],function(D,l){"use strict";var S=l.SwitchType;var a={apiVersion:2};a.CSS_CLASS="sapMSwt";
a.render=function(r,s){var b=s.getState(),c=b?s._sOn:s._sOff,t=s.getTooltip_AsString(),e=s.getEnabled(),n=s.getName(),A=sap.ui.getCore().getConfiguration().getAccessibility(),d=sap.ui.getCore().getConfiguration().getAnimation(),C=a.CSS_CLASS;r.openStart("div",s);r.class(C+"Cont");if(!e){r.class(C+"ContDisabled");}if(e){r.attr("tabindex","0");}if(t){r.attr("title",t);}if(A){this.writeAccessibilityState(r,s);}r.openEnd();r.openStart("div",s.getId()+"-switch");r.attr("aria-hidden","true");r.class(C);if(d){r.class(C+"Trans");}r.class(b?C+"On":C+"Off");r.class(C+s.getType());if(D.system.desktop&&e){r.class(C+"Hoverable");}if(!e){r.class(C+"Disabled");}if(s._sOn===" "&&s._sOff===" "){r.class(C+"NoLabel");}r.openEnd();r.openStart("div",s.getId()+"-inner");r.class(C+"Inner");r.openEnd();this.renderText(r,s);this.renderHandle(r,s,c);r.close("div");r.close("div");if(n){this.renderCheckbox(r,s,c);}if(A){this.renderInvisibleElement(r,s,{id:s.getInvisibleElementId(),text:s.getInvisibleElementText(b)});}r.close("div");};
a.renderText=function(r,s){var C=a.CSS_CLASS,d=s.getType()===S.Default;r.openStart("div",s.getId()+"-texton");r.class(C+"Text");r.class(C+"TextOn");r.openEnd();r.openStart("span");r.class(C+"Label");r.class(C+"LabelOn");r.openEnd();if(d){r.text(s._sOn);}r.close("span");r.close("div");r.openStart("div",s.getId()+"-textoff");r.class(C+"Text");r.class(C+"TextOff");r.openEnd();r.openStart("span");r.class(C+"Label");r.class(C+"LabelOff");r.openEnd();if(d){r.text(s._sOff);}r.close("span");r.close("div");};
a.renderHandle=function(r,s,b){var C=a.CSS_CLASS;r.openStart("div",s.getId()+"-handle");r.attr("data-sap-ui-swt",b);r.class(C+"Handle");r.openEnd();r.close("div");};
a.renderCheckbox=function(r,s,b){r.voidStart("input",s.getId()+"-input");r.attr("type","checkbox");r.attr("name",s.getName());r.attr("value",b);if(s.getState()){r.attr("checked","checked");}if(!s.getEnabled()){r.attr("disabled","disabled");}r.voidEnd();};
a.writeAccessibilityState=function(r,s){var A=s.getAriaLabelledBy(),m;if(A){A={value:s.getInvisibleElementId(),append:true};}m={role:"switch",checked:s.getState(),labelledby:A};r.accessibilityState(s,m);};
a.renderInvisibleElement=function(r,s,o){r.openStart("span",o.id);r.attr("aria-hidden","true");r.class("sapUiInvisibleText");r.openEnd();r.text(o.text);r.close("span");};
return a;},true);
sap.ui.predefine('sap/m/TextArea',['./InputBase','./Text','sap/ui/core/ResizeHandler','./library','sap/ui/core/library','sap/ui/events/KeyCodes','sap/ui/Device',"sap/base/security/encodeXML",'./TextAreaRenderer',"sap/ui/thirdparty/jquery"],function(I,T,R,l,c,K,D,a,b,q){"use strict";var W=c.Wrapping;
var d=I.extend("sap.m.TextArea",{metadata:{library:"sap.m",designtime:"sap/m/designtime/TextArea.designtime",properties:{rows:{type:"int",group:"Appearance",defaultValue:2},cols:{type:"int",group:"Appearance",defaultValue:20},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},maxLength:{type:"int",group:"Behavior",defaultValue:0},showExceededText:{type:"boolean",group:"Behavior",defaultValue:false},wrapping:{type:"sap.ui.core.Wrapping",group:"Behavior",defaultValue:W.None},valueLiveUpdate:{type:"boolean",group:"Behavior",defaultValue:false},growing:{type:"boolean",group:"Behavior",defaultValue:false},growingMaxLines:{type:"int",group:"Behavior",defaultValue:0}},aggregations:{_counter:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{liveChange:{parameters:{value:{type:"string"}}}},dnd:{draggable:false,droppable:true}}});
d.prototype.init=function(){var C;I.prototype.init.call(this);this.sResizeListenerId=null;this._bPasteIsTriggered=false;C=new T(this.getId()+'-counter',{}).addStyleClass("sapMTextAreaCounter").setVisible(false);this.setAggregation("_counter",C);};
d.prototype.setShowExceededText=function(v){var C=this.getAggregation("_counter"),V;if(v){if(this.getAriaLabelledBy().indexOf(C.getId())<0){this.addAriaLabelledBy(C.getId());}}else{C=this.getAggregation("_counter");C&&this.removeAriaLabelledBy(C.getId());V=this.getValue();if(this.getMaxLength()){V=V.substring(0,this.getMaxLength());this.setValue(V);}}C.setVisible(v);this.setProperty("showExceededText",v);this._updateMaxLengthAttribute();return this;};
d.prototype.exit=function(){I.prototype.exit.call(this);q(window).off("resize.sapMTextAreaGrowing");this._detachResizeHandler();this._deregisterEvents();};
d.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.call(this);var C=this.getAggregation("_counter");if((this.getMaxLength()<=0||!this.getShowExceededText())&&C.getVisible()){C.setVisible(false);}this._detachResizeHandler();if(this.getGrowing()){q(window).on("resize.sapMTextAreaGrowing",this._updateOverflow.bind(this));}else{q(window).off("resize.sapMTextAreaGrowing");}};
d.prototype.onAfterRendering=function(){I.prototype.onAfterRendering.call(this);if(this.getGrowing()){this._sResizeListenerId=R.register(this,this._resizeHandler.bind(this));if(this.getGrowingMaxLines()>0){this._setGrowingMaxHeight();}this._adjustContainerDimensions();}this._updateMaxLengthAttribute();if(!D.support.touch){return;}var t=this.$("inner");if(this._behaviour.INSIDE_SCROLLABLE_WITHOUT_FOCUS){t.on("touchstart",q.proxy(this._onTouchStart,this));t.on("touchmove",q.proxy(this._onTouchMove,this));}else if(this._behaviour.PAGE_NON_SCROLLABLE_AFTER_FOCUS){t.on("touchmove",function(e){if(t.is(":focus")){e.stopPropagation();}});}};
d.prototype._deregisterEvents=function(){this.$("inner").off("touchstart").off("touchmove");};
d.prototype._setGrowingMaxHeight=function(){var h=this.getDomRef('hidden'),C=sap.ui.getCore(),L=C.getLoadedLibraries(),f,m,s;if(!L||!L['sap.m']){C.attachThemeChanged(this._setGrowingMaxHeight.bind(this));return;}C.detachThemeChanged(this._setGrowingMaxHeight);s=window.getComputedStyle(h);f=this._getLineHeight();m=(f*this.getGrowingMaxLines())+parseFloat(s.getPropertyValue("padding-top"))+parseFloat(s.getPropertyValue("border-top-width"))+parseFloat(s.getPropertyValue("border-bottom-width"));if(D.browser.firefox){m+=parseFloat(s.getPropertyValue("padding-bottom"));}h.style.maxHeight=m+"px";};
d.prototype._getLineHeight=function(){var t=this.getFocusDomRef(),s;if(!t){return;}s=window.getComputedStyle(t);return isNaN(parseFloat(s.getPropertyValue("line-height")))?1.4*parseFloat(s.getPropertyValue("font-size")):parseFloat(s.getPropertyValue("line-height"));};
d.prototype._resizeHandler=function(e){this._adjustContainerDimensions();};
d.prototype._detachResizeHandler=function(){if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}};
d.prototype.onsapenter=function(e){e.setMarked();};
d.prototype.onValueRevertedByEscape=function(v){if(this.getValueLiveUpdate()){this.setProperty("value",v,true);v=this.getValue();}this.fireLiveChange({value:v,newValue:v});};
d.prototype.getValue=function(){var t=this.getFocusDomRef();return t?t.value:this.getProperty("value");};
d.prototype.setValue=function(v){I.prototype.setValue.call(this,v);this._handleShowExceededText();if(this.getGrowing()){this._adjustContainerDimensions();}return this;};
d.prototype.onsapnext=function(e){e.setMarked();};
d.prototype.onsapprevious=function(e){e.setMarked();};
d.prototype.oninput=function(e){I.prototype.oninput.call(this,e);if(this._bPasteIsTriggered){this._bPasteIsTriggered=false;this._selectExceededText();}if(e.isMarked("invalid")){return;}var t=this.getFocusDomRef(),v=t.value,s=this.getShowExceededText(),m=this.getMaxLength();if(!s&&m&&v.length>m){v=v.substring(0,m);t.value=v;}if(this.getValueLiveUpdate()){this.setProperty("value",v,true);v=this.getValue();}this._handleShowExceededText();if(this.getGrowing()){this._adjustContainerDimensions();}this.fireLiveChange({value:v,newValue:v});};
d.prototype.onpaste=function(e){if(this.getShowExceededText()){this._bPasteIsTriggered=true;}};
d.prototype._adjustContainerDimensions=function(){var t=this.getFocusDomRef(),h=this.getDomRef("hidden"),H,n;if(!t||!h){return;}h.style.width="";if(this.getGrowing()&&!this.getWidth()&&this.getCols()!==20){h.style.width=(this.getCols()*0.5)+"rem";}H=h.style["min-height"];n=this.getRows()*this._getLineHeight()+"px";if(!H||n!==H){h.style["min-height"]=n;}h.innerHTML=a(t.value)+'&nbsp;';this._updateOverflow();};
d.prototype._updateOverflow=function(){var t=this.getFocusDomRef(),h=this.getDomRef("hidden"),m;if(t){m=parseFloat(window.getComputedStyle(h)["max-height"]);t.style.overflowY=(h.scrollHeight>m)?"auto":"";}};
d.prototype._getInputValue=function(v){v=(v===undefined)?this.$("inner").val()||"":v.toString();if(this.getMaxLength()>0&&!this.getShowExceededText()){v=v.substring(0,this.getMaxLength());}return v.replace(/\r\n/g,"\n");};
d.prototype._selectExceededText=function(){var v=this.getValue().length;if(v>this.getMaxLength()){this.selectText(this.getMaxLength(),v);}};
d.prototype._updateMaxLengthAttribute=function(){var t=this.getFocusDomRef();if(!t){return;}if(this.getShowExceededText()){t.removeAttribute("maxlength");this._handleShowExceededText();}else{this.getMaxLength()&&t.setAttribute("maxlength",this.getMaxLength());}};
d.prototype._handleShowExceededText=function(){var C=this.getAggregation("_counter"),m=this.getMaxLength(),s;if(!this.getDomRef()||!this.getShowExceededText()||!m){return;}s=this._getCounterValue();C.setText(s);};
d.prototype._maxLengthIsExceeded=function(v){var r=false;if(this.getMaxLength()>0&&this.getShowExceededText()&&this.getValue().length>this.getMaxLength()){r=true;}return r;};
d.prototype._getCounterValue=function(){var B=sap.ui.getCore().getLibraryResourceBundle("sap.m"),C=this.getMaxLength()-this.getValue().length,e=(C<0?true:false),m="TEXTAREA_CHARACTER"+(Math.abs(C)===1?"":"S")+"_"+(e?"EXCEEDED":"LEFT");return B.getText(m,[Math.abs(C)]);};
d.prototype._behaviour=(function(o){return{INSIDE_SCROLLABLE_WITHOUT_FOCUS:o.os.ios||o.browser.chrome,PAGE_NON_SCROLLABLE_AFTER_FOCUS:o.os.android};}(D));
d.prototype._onTouchStart=function(e){var t=e.touches[0];this._iStartY=t.pageY;this._iStartX=t.pageX;this._bHorizontalScroll=undefined;e.setMarked("swipestartHandled");};
d.prototype._onTouchMove=function(e){var t=this.getFocusDomRef(),p=e.touches[0].pageY,s=t.scrollTop,f=s<=0,B=s+t.clientHeight>=t.scrollHeight,g=this._iStartY>p,G=this._iStartY<p,o=f&&G||B&&g;if(this._bHorizontalScroll===undefined){this._bHorizontalScroll=Math.abs(this._iStartY-p)<Math.abs(this._iStartX-e.touches[0].pageX);}if(this._bHorizontalScroll||!o){e.setMarked();}};
d.prototype.onkeyup=function(e){if(e.keyCode===K.ENTER){e.setMarked("enterKeyConsumedAsContent");}};
return d;});
sap.ui.predefine('sap/m/TextAreaRenderer',['sap/ui/core/Renderer','./InputBaseRenderer','sap/ui/Device','sap/ui/core/library'],function(R,I,D,c){"use strict";var W=c.Wrapping;var T=R.extend(I);T.apiVersion=2;
T.addOuterClasses=function(r,C){r.class("sapMTextArea");if(C.getShowExceededText()){r.class("sapMTextAreaWithCounter");}if(C.getHeight()){r.class("sapMTextAreaWithHeight");}};
T.addOuterStyles=function(r,C){C.getHeight()&&r.style("height",C.getHeight());};
T.writeDecorations=function(r,C){var o=C.getAggregation("_counter");r.renderControl(o);};
T.openInputTag=function(r,C){r.openStart("textarea",C.getId()+"-"+this.getInnerSuffix());};
T.endInputTag=function(r,C){r.openEnd();};
T.closeInputTag=function(r,C){r.close("textarea");};
T.prependInnerContent=function(r,C){if(C.getGrowing()){r.openStart("div",C.getId()+'-hidden');r.class("sapMTextAreaMirror");r.openEnd().close("div");}};
T.writeInnerValue=function(){};
T.writeInnerContent=function(r,C){var v=C.getValue();r.text(v);};
T.addInnerClasses=function(r,C){r.class("sapMTextAreaInner");if(C.getGrowing()){r.class("sapMTextAreaGrow");}};
T.getAriaRole=function(C){return"";};
T.writeInnerAttributes=function(r,C){if(C.getWrapping()!=W.None){r.attr("wrap",C.getWrapping());}r.attr("rows",C.getRows());r.attr("cols",C.getCols());};
return T;},true);
sap.ui.predefine('sap/m/Token',['./library','sap/ui/core/Control','sap/ui/core/library','sap/ui/core/Icon','./TokenRenderer','sap/ui/core/InvisibleText','sap/ui/events/KeyCodes','sap/ui/core/Core'],function(l,C,c,I,T,a,K,b){"use strict";var d=c.TextDirection;
var e=C.extend("sap.m.Token",{metadata:{library:"sap.m",properties:{selected:{type:"boolean",group:"Misc",defaultValue:false},key:{type:"string",group:"Misc",defaultValue:""},text:{type:"string",group:"Misc",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:d.Inherit},editableParent:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},truncated:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},posinset:{type:"int",visibility:"hidden"},setsize:{type:"int",visibility:"hidden"}},aggregations:{deleteIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{"delete":{enableEventBubbling:true},press:{},select:{},deselect:{}}}});
e.prototype.init=function(){var D=new I({id:this.getId()+"-icon",src:"sap-icon://decline",noTabStop:true,press:this._fireDeleteToken.bind(this)});D.addStyleClass("sapMTokenIcon");D.setUseIconTooltip(false);this.setAggregation("deleteIcon",D);};
e.prototype.ontouchstart=function(E){if(E.target.id===this.getId()+"-icon"){E.preventDefault();}};
e.prototype._getTooltip=function(o,E){var t=o.getTooltip_AsString(),D=b.getLibraryResourceBundle("sap.m").getText("TOKEN_ARIA_DELETABLE");if(E&&!t){return D;}return t;};
e.prototype._onTokenPress=function(E){var s=this.getSelected(),f=E.ctrlKey||E.metaKey,n=true;if(f||(E.which===K.SPACE)){n=!s;}this.setSelected(n);this.firePress();if(s!==n){if(n){this.fireSelect();}else{this.fireDeselect();}}if(this.getSelected()){this.focus();}};
e.prototype.ontap=function(E){var D=this.getAggregation("deleteIcon");if(D&&E.target.id===D.getId()){E.setMark("tokenDeletePress",true);return;}E.setMark("tokenTap",this);this._onTokenPress(E);};
e.prototype._fireDeleteToken=function(E,k,B){if(this.getEditable()&&this.getProperty("editableParent")){this.fireDelete({token:this,byKeyboard:k,backspace:B});}E.preventDefault();};
e.prototype.onsapspace=function(E){this._onTokenPress(E);if(E){E.preventDefault();E.stopPropagation();}};
e.prototype.onkeydown=function(E){if((E.ctrlKey||E.metaKey)&&E.which===K.SPACE){this.onsapspace(E);E.preventDefault();}};
e.prototype.getTruncated=function(){return this.getProperty("truncated");};
e.prototype.setTruncated=function(v){return this.setProperty("truncated",v);};
return e;});
sap.ui.predefine('sap/m/TokenRenderer',["sap/ui/core/library","sap/ui/core/InvisibleText"],function(c,I){"use strict";var T=c.TextDirection;var a={apiVersion:2};
a.render=function(r,C){var t=C._getTooltip(C,C.getEditable()&&C.getProperty("editableParent"));var d=C.getAggregation("deleteIcon");var A=[];var o={role:"option"};var p=C.getProperty("posinset");var s=C.getProperty("setsize");r.openStart("div",C).class("sapMToken");this._setAttributes(r,C);if(C.getSelected()){r.class("sapMTokenSelected");}if(p!==undefined){r.attr("aria-posinset",C.getProperty("posinset"));}if(s!==undefined){r.attr("aria-setsize",C.getProperty("setsize"));}if(!C.getEditable()){r.class("sapMTokenReadOnly");}if(C.getTruncated()){r.class("sapMTokenTruncated");}if(t){r.attr("title",t);}A.push(I.getStaticId("sap.m","TOKEN_ARIA_LABEL"));if(C.getEditable()&&C.getProperty("editableParent")){A.push(I.getStaticId("sap.m","TOKEN_ARIA_DELETABLE"));}r.attr("aria-selected",C.getSelected());o.describedby={value:A.join(" "),append:true};r.accessibilityState(C,o);r.openEnd();a._renderInnerControl(r,C);if(C.getEditable()&&d){r.renderControl(d);}r.close("div");};
a._renderInnerControl=function(r,C){var t=C.getTextDirection();r.openStart("span").class("sapMTokenText");if(t!==T.Inherit){r.attr("dir",t.toLowerCase());}r.openEnd();var b=C.getText();if(b){r.text(b);}r.close("span");};
a._setAttributes=function(r,C){r.attr("tabindex","-1");};
return a;},true);
sap.ui.predefine('sap/m/Tokenizer',['./library','sap/m/Button','sap/m/List','sap/m/StandardListItem','sap/m/ResponsivePopover','sap/ui/core/Core','sap/ui/core/Control','sap/ui/core/delegate/ScrollEnablement','sap/ui/Device','sap/ui/core/InvisibleText','sap/ui/core/ResizeHandler','./TokenizerRenderer',"sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/EnabledPropagator","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/control","sap/ui/dom/jquery/scrollLeftRTL"],function(l,B,L,S,R,C,c,d,D,I,e,T,f,K,g,E,P,q,s){"use strict";var h="sapUiNoContentPadding";var j=l.TokenizerRenderMode;var k=l.PlacementType;var m=l.ListMode;var n=l.ButtonType;
var o=c.extend("sap.m.Tokenizer",{metadata:{library:"sap.m",properties:{editable:{type:"boolean",group:"Misc",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},renderMode:{type:"string",group:"Misc",defaultValue:j.Loose},hiddenTokensCount:{type:"int",group:"Misc",defaultValue:0,visibility:"hidden"}},defaultAggregation:"tokens",aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"},_tokensInfo:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{tokenChange:{deprecated:true,parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenUpdate:{deprecated:true,allowPreventDefault:true,parameters:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenDelete:{parameters:{tokens:{type:"sap.m.Token[]"},keyCode:{type:"number"}}}}}});
var r=C.getLibraryResourceBundle("sap.m");E.apply(o.prototype,[true]);
o.prototype.init=function(){this.allowTextSelection(false);this._oTokensWidthMap={};this._oIndicator=null;this._oScroller=new d(this,this.getId()+"-scrollContainer",{horizontal:true,vertical:false,nonTouchScrolling:true});this._fFontSizeRatio=1.0;if(C.getConfiguration().getAccessibility()){var a=new I({text:r.getText("TOKENIZER_ARIA_NO_TOKENS")});this.setAggregation("_tokensInfo",a);}this.attachEvent("delete",function(b){var t=b.getSource();var i=this.getSelectedTokens();this.fireTokenChange({type:o.TokenChangeType.Removed,token:t,tokens:i.length?i:[t],addedTokens:[],removedTokens:i.length?i:[t]});this.fireTokenUpdate({type:o.TokenChangeType.Removed,addedTokens:[],removedTokens:i.length?i:[t]});this.fireEvent("tokenDelete",{tokens:[t]});},this);};
o.prototype._handleNMoreIndicatorPress=function(){this._togglePopup(this.getTokensPopup());};
o.prototype._getTokensList=function(){if(!this._oTokensList){this._oTokensList=new L({width:"auto",mode:m.Delete}).attachDelete(this._handleListItemDelete,this);}return this._oTokensList;};
o.prototype._setPopoverMode=function(M){var a={},p=this.getTokensPopup();switch(M){case m.Delete:a={showArrow:false,placement:k.VerticalPreferredBottom};break;default:a={showArrow:true,placement:k.Auto};break;}p.setShowArrow(a.showArrow);p.setPlacement(a.placement);this._getTokensList().setMode(M);};
o.prototype._fillTokensList=function(a,F){a.destroyItems();F=F?F:function(){return true;};this.getTokens().filter(F).forEach(function(t){a.addItem(this._mapTokenToListItem(t));},this);};
o.prototype._handleListItemDelete=function(a){var b=a.getParameter("listItem");var i=b&&b.data("tokenId");var t;t=this.getTokens().filter(function(p){return(p.getId()===i)&&p.getEditable();})[0];if(t){this.fireTokenUpdate({addedTokens:[],removedTokens:[t],type:o.TokenUpdateType.Removed});this.fireTokenDelete({tokens:[t]});this._adjustTokensVisibility();}};
o.prototype.getTokensPopup=function(){if(this._oPopup){return this._oPopup;}this._oPopup=new R({showArrow:false,showHeader:D.system.phone,placement:k.Auto,offsetX:0,offsetY:3,horizontalScrolling:false,title:this._getDialogTitle(),content:this._getTokensList()}).attachBeforeOpen(function(){var w=this.getEditable()?120:32,p=this._oPopup,G=function(){var a=this.getDomRef()&&this.getDomRef().parentElement;var b="Cozy";if(!a){return b;}if(a.closest(".sapUiSizeCompact")!==null||document.body.classList.contains("sapUiSizeCompact")){b="Compact";}return b;}.bind(this),i=new Promise(function(a){P.get({name:["_sap_m_Tokenizer_FontSizeRatio"+G()],callback:function(F){var b=parseFloat(F);if(isNaN(b)){a(this._fFontSizeRatio);return;}a(b);}.bind(this)});}.bind(this));if(p.getContent&&!p.getContent().length){p.addContent(this._getTokensList());}this._fillTokensList(this._getTokensList());w+=Object.keys(this._oTokensWidthMap).map(function(a){return this._oTokensWidthMap[a];},this).sort(function(a,b){return a-b;}).pop()||0;i.then(function(a){w+=Math.ceil(w*(1-a));p.setContentWidth(w+"px");});},this);this.addDependent(this._oPopup);this._oPopup.addStyleClass(h);this._oPopup.addStyleClass("sapMTokenizerTokensPopup");if(D.system.phone){this._oPopup.setEndButton(new B({text:r.getText("SUGGESTIONSPOPOVER_CLOSE_BUTTON"),type:n.Emphasized,press:function(){this._oPopup.close();}.bind(this)}));}return this._oPopup;};
o.prototype._getDialogTitle=function(){var a=C.getLibraryResourceBundle("sap.m");var b=this.getAriaLabelledBy().map(function(i){return C.byId(i);});return b.length?b[0].getText():a.getText("COMBOBOX_PICKER_TITLE");};
o.prototype._togglePopup=function(p){var O,a=this.getDomRef(),b=p.isOpen(),i=this.getEditable();this._setPopoverMode(i?m.Delete:m.None);if(b){p.close();}else{O=i||this.hasOneTruncatedToken()?a:this._oIndicator[0];O=O&&O.className.indexOf("sapUiHidden")===-1?O:a;p.openBy(O||a);}};
o.prototype._mapTokenToListItem=function(t){if(!t){return null;}var a=new S({selected:true}).data("tokenId",t.getId());a.setTitle(t.getText());return a;};
o.prototype._getPixelWidth=function(){var M=this.getMaxWidth(),t,a=this.getDomRef(),p;if(!a){return;}p=parseInt(this.$().css("padding-left"));if(M.indexOf("px")===-1){t=a.clientWidth;}else{t=parseInt(this.getMaxWidth());}return t-p;};
o.prototype._adjustTokensVisibility=function(){if(!this.getDomRef()){return;}var t=this._getPixelWidth(),a=this._getVisibleTokens().reverse(),i=a.length,b,F,p,u=-1;a.some(function(v,w){t=t-this._oTokensWidthMap[v.getId()];if(t<0){u=w;return true;}else{F=t;}},this);if(i===1&&u!==-1){this.setFirstTokenTruncated(true);return;}else if(i===1&&a[0].getTruncated()){this.setFirstTokenTruncated(false);}if(u>-1){for(p=0;p<i;p++){if(p>=u){a[p].addStyleClass("sapMHiddenToken");}else{a[p].removeStyleClass("sapMHiddenToken");}}this._handleNMoreIndicator(i-u);b=this._oIndicator.width();if(b>=F){u=u-1;this._handleNMoreIndicator(i-u);a[u].addStyleClass("sapMHiddenToken");}this._setHiddenTokensCount(i-u);}else{this._setHiddenTokensCount(0);this._showAllTokens();}};
o.prototype.setFirstTokenTruncated=function(v){var t=this.getTokens()[0];t&&t.setTruncated(v);if(v){this.addStyleClass("sapMTokenizerOneLongToken");}else{this.removeStyleClass("sapMTokenizerOneLongToken");this.scrollToEnd();}return this;};
o.prototype.hasOneTruncatedToken=function(){return this.getTokens().length===1&&this.getTokens()[0].getTruncated();};
o.prototype._handleNMoreIndicator=function(H){if(!this.getDomRef()){return this;}if(H){var a="MULTIINPUT_SHOW_MORE_TOKENS";if(H===this._getVisibleTokens().length){if(H===1){a="TOKENIZER_SHOW_ALL_ITEM";}else{a="TOKENIZER_SHOW_ALL_ITEMS";}}this._oIndicator.html(r.getText(a,H));}return this;};
o.prototype._getVisibleTokens=function(){return this.getTokens().filter(function(t){return t.getVisible();});};
o.prototype._showAllTokens=function(){this._getVisibleTokens().forEach(function(t){t.removeStyleClass("sapMHiddenToken");});};
o.prototype.getScrollDelegate=function(){return this._oScroller;};
o.prototype.scrollToEnd=function(){var a=this.getDomRef(),b=C.getConfiguration().getRTL(),i,p;if(!this.getDomRef()){return;}p=this.$().find(".sapMTokenizerScrollContainer")[0];i=p.scrollWidth;if(b){i*=-1;}a.scrollLeft=i;};
o.prototype._registerResizeHandler=function(){if(!this._sResizeHandlerId){this._sResizeHandlerId=e.register(this.getDomRef(),this._handleResize.bind(this));}};
o.prototype._handleResize=function(){this._useCollapsedMode(this.getRenderMode());this.scrollToEnd();};
o.prototype.setPixelWidth=function(a){if(typeof a!=="number"){g.warning("Tokenizer.setPixelWidth called with invalid parameter. Expected parameter of type number.");return;}this.setWidth(a+"px");if(this._oScroller){this._oScroller.refresh();}};
o.prototype.scrollToStart=function(){var a=this.getDomRef();if(!a){return;}a.scrollLeft=0;};
o.prototype.getScrollWidth=function(){if(!this.getDomRef()){return 0;}return this.$().children(".sapMTokenizerScrollContainer")[0].scrollWidth;};
o.prototype.onBeforeRendering=function(){var t=this.getTokens();if(t.length!==1){this.setFirstTokenTruncated(false);}t.forEach(function(a,i){a.setProperty("editableParent",this.getEditable()&&this.getEnabled(),true);a.setProperty("posinset",i+1,true);a.setProperty("setsize",t.length,true);},this);this._setTokensAria();};
o.prototype.onAfterRendering=function(){var a=this.getRenderMode();this._oIndicator=this.$().find(".sapMTokenizerIndicator");if(C.isThemeApplied()){this._storeTokensSizes();}this._useCollapsedMode(a);this._registerResizeHandler();if(a===j.Loose){this.scrollToEnd();}};
o.prototype.onThemeChanged=function(){this._storeTokensSizes();this._useCollapsedMode(this.getRenderMode());};
o.prototype._storeTokensSizes=function(){var t=this.getTokens();t.forEach(function(a){if(a.getDomRef()&&!a.$().hasClass("sapMHiddenToken")&&!a.getTruncated()){this._oTokensWidthMap[a.getId()]=a.$().outerWidth(true);}},this);};
o.prototype._useCollapsedMode=function(a){var t=this._getVisibleTokens();if(!t.length){this._setHiddenTokensCount(0);return;}if(a===j.Narrow){this._adjustTokensVisibility();}else{this._setHiddenTokensCount(0);this._showAllTokens();}};
o.prototype.onsapfocusleave=function(a){if(document.activeElement===this.getDomRef()||!this._checkFocus()){this._changeAllTokensSelection(false);this._oSelectionOrigin=null;}};
o.prototype.onsapbackspace=function(a){var b=this.getSelectedTokens();var F=this.getTokens().filter(function(t){return t.getFocusDomRef()===document.activeElement;})[0];var i=b.length?b:[F];a.preventDefault();return this.fireTokenDelete({tokens:i,keyCode:a.which});};
o.prototype.onsapdelete=o.prototype.onsapbackspace;
o.prototype.onkeydown=function(a){var b;if(!this.getEnabled()){return;}if(a.which===K.TAB){this._changeAllTokensSelection(false);}if((a.ctrlKey||a.metaKey)&&a.which===K.A){b=this.getSelectedTokens().length<this._getVisibleTokens().length;if(this._getVisibleTokens().length>0){this.focus();this._changeAllTokensSelection(b);a.preventDefault();a.stopPropagation();}}if((a.ctrlKey||a.metaKey)&&(a.which===K.C||a.which===K.INSERT)){this._copy();}if(((a.ctrlKey||a.metaKey)&&a.which===K.X)||(a.shiftKey&&a.which===K.DELETE)){if(this.getEditable()){this._cut();}else{this._copy();}}};
o.prototype._shouldPreventModifier=function(a){var b=D.os.macintosh&&a.metaKey;var i=D.os.windows&&a.altKey;return b||i;};
o.prototype.onsappreviousmodifiers=function(a){if(!this._shouldPreventModifier(a)){this.onsapprevious(a);}};
o.prototype.onsapnextmodifiers=function(a){if(!this._shouldPreventModifier(a)){this.onsapnext(a);}};
o.prototype.onsaphomemodifiers=function(a){this._selectRange(false);};
o.prototype.onsapendmodifiers=function(a){this._selectRange(true);};
o.prototype._selectRange=function(F){var a={},t=this._getVisibleTokens(),b=q(document.activeElement).control()[0],p=t.indexOf(b);if(!b||!b.isA("sap.m.Token")){return;}if(F){a.start=p;a.end=t.length-1;}else{a.start=0;a.end=p;}if(a.start<a.end){for(var i=a.start;i<=a.end;i++){t[i].setSelected(true);}}};
o.prototype._copy=function(){this._fillClipboard("copy");};
o.prototype._fillClipboard=function(a){var b=this.getSelectedTokens();var t=b.map(function(p){return p.getText();}).join("\r\n");var i=function(p){if(p.clipboardData){p.clipboardData.setData('text/plain',t);}else{p.originalEvent.clipboardData.setData('text/plain',t);}p.preventDefault();};document.addEventListener(a,i);document.execCommand(a);document.removeEventListener(a,i);};
o.prototype._cut=function(){var a=this.getSelectedTokens();this._fillClipboard("cut");this.fireTokenChange({type:o.TokenChangeType.Removed,token:a,tokens:a,addedTokens:[],removedTokens:a});this.fireTokenUpdate({type:o.TokenChangeType.Removed,addedTokens:[],removedTokens:a});this.fireTokenDelete({tokens:a});};
o.prototype._ensureTokenVisible=function(t){if(!t||!t.getDomRef()||!this.getDomRef()){return;}var i=this.$().offset().left,a=this.$().width(),b=t.$().offset().left,p=C.getConfiguration().getRTL(),u=p?parseInt(t.$().css("margin-left")):parseInt(t.$().css("margin-right")),v=parseInt(t.$().css("border-left-width"))+parseInt(t.$().css("border-right-width")),w=t.$().width()+u+v,x=p?this.$().scrollLeftRTL():this.$().scrollLeft(),y=x-i+b,z=x+(b-i+w-a);if(this._getVisibleTokens().indexOf(t)===0){this.$().scrollLeft(0);return;}if(b<i){p?this.$().scrollLeftRTL(y):this.$().scrollLeft(y);}if(b-i+w>a){p?this.$().scrollLeftRTL(z):this.$().scrollLeft(z);}};
o.prototype.ontap=function(a){var b=a.shiftKey,p=(a.ctrlKey||a.metaKey),t=a.getMark("tokenTap"),u=a.getMark("tokenDeletePress"),v=this._getVisibleTokens(),F,w,x,M,y;if(u||!t||(!b&&p)){this._oSelectionOrigin=null;return;}if(!b){this._oSelectionOrigin=t;this._changeAllTokensSelection(false,t,true);}F=t;if(this._oSelectionOrigin){F=this._oSelectionOrigin;}else{this._oSelectionOrigin=F;}if(t&&this.hasOneTruncatedToken()){this._handleNMoreIndicatorPress();return;}w=this.indexOfToken(F);x=this.indexOfToken(t);M=Math.min(w,x);y=Math.max(w,x);v.forEach(function(z,i){if(i>=M&&i<=y){z.setSelected(true);}else if(!p){z.setSelected(false);}});};
o.prototype.onsapprevious=function(a){var t=this._getVisibleTokens(),i=t.length;if(i===0){return;}var F=q(document.activeElement).control()[0];var b=F?t.indexOf(F):-1;if(b===0){a.setMarked("forwardFocusToParent");return;}var p,u;if(b>0){p=t[b-1];this._ensureTokenVisible(p);p.focus();}else{p=t[t.length-1];this._ensureTokenVisible(p);p.focus({preventScroll:true});}if(a.shiftKey){u=t[b];p.setSelected(true);u.setSelected(true);}a.setMarked();a.preventDefault();};
o.prototype.onsapnext=function(a){var t=this._getVisibleTokens(),i=t.length;if(i===0){return;}var F=q(document.activeElement).control()[0];var b=F?t.indexOf(F):-1;var N=t[b+1];this._ensureTokenVisible(N);if(b<i-1){var p=t[b];N.focus();if(a.shiftKey){N.setSelected(true);p.setSelected(true);}}else{a.setMarked("forwardFocusToParent");return;}a.setMarked();a.preventDefault();};
o.prototype.addValidator=function(v){g.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this);};
o.prototype.removeValidator=function(v){g.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this);};
o.prototype.removeAllValidators=function(){g.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this);};
o.prototype.addValidateToken=function(p){g.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this);};
o.prototype._parseString=function(a){return a.split(/\r\n|\r|\n/g);};
o.prototype._checkFocus=function(){return this.getDomRef()&&f(this.getDomRef(),document.activeElement);};
o.prototype.selectAllTokens=function(b){if(b===undefined){b=true;}this._changeAllTokensSelection(b);return this;};
o.prototype._changeAllTokensSelection=function(b,t,a){var i=this._getVisibleTokens();i.filter(function(p){return p!==t;}).forEach(function(p){p.setSelected(b);});if(!a){this._doSelect();}return this;};
o.prototype.getSelectedTokens=function(){return this._getVisibleTokens().filter(function(t){return t.getSelected();});};
o.prototype.onsaphome=function(a){var A=this.getTokens().filter(function(t){return t.getDomRef()&&!t.getDomRef().classList.contains("sapMHiddenToken");});A.length&&A[0].focus();this.scrollToStart();a.preventDefault();};
o.prototype.onsapend=function(a){var t=this._getVisibleTokens(),b=t[t.length-1];if(b.getDomRef()!==document.activeElement){b.focus();this.scrollToEnd();a.stopPropagation();}else{a.setMarked("forwardFocusToParent");}a.preventDefault();};
o.prototype.onclick=function(a){var F;if(!this.getEnabled()){return;}F=!this.hasStyleClass("sapMTokenizerIndicatorDisabled")&&a.target.classList.contains("sapMTokenizerIndicator");if(F){this._handleNMoreIndicatorPress();}};
o.prototype.ontouchstart=function(a){a.setMarked();if(D.browser.chrome&&window.getSelection()){window.getSelection().removeAllRanges();}};
o.prototype.exit=function(){this._deregisterResizeHandler();if(this._oTokensList){this._oTokensList.destroy();this._oTokensList=null;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this._oPopup){this._oPopup.destroy();this._oPopup=null;}this._oTokensWidthMap=null;this._oIndicator=null;this._aTokenValidators=null;};
o.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){e.deregister(this._sResizeHandlerId);delete this._sResizeHandlerId;}};
o.prototype._setTokensAria=function(){var t=this._getVisibleTokens().length;var i;var a="";var b="";var p={0:"TOKENIZER_ARIA_NO_TOKENS",1:"TOKENIZER_ARIA_CONTAIN_ONE_TOKEN"};if(C.getConfiguration().getAccessibility()){i=this.getAggregation("_tokensInfo");b=p[t]?p[t]:"TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS";a=r.getText(b,t);i.setText(a);}};
o.prototype._doSelect=function(){if(this._checkFocus()&&this._bCopyToClipboardSupport){var F=document.activeElement;var a=window.getSelection();a.removeAllRanges();if(this.getSelectedTokens().length){var b=document.createRange();b.selectNodeContents(this.getDomRef("clip"));a.addRange(b);}if(window.clipboardData&&F.id===this.getId()+"-clip"&&this.getDomRef()){this.getDomRef().focus();}}};
o.prototype._setHiddenTokensCount=function(i){i=this.validateProperty("hiddenTokensCount",i);return this.setProperty("hiddenTokensCount",i);};
o.prototype.getHiddenTokensCount=function(){return this.getProperty("hiddenTokensCount");};
o.prototype.getTokensInfoId=function(){return this.getAggregation("_tokensInfo").getId();};
o.prototype._handleBackspace=function(i,F){var t=this.getTokens();if(t[i-1]){return t[i-1].focus();}return F();};
o.prototype._handleDelete=function(i,F){var t=this.getTokens();if(t[i+1]){return t[i+1].focus();}return F();};
o.prototype.focusToken=function(i,O,F){var t=this.getTokens();var b=O.keyCode;var a=O.keyCode===K.BACKSPACE;if(t.length===0){return;}if(!b){return;}if(a){return this._handleBackspace(i,F);}return this._handleDelete(i,F);};
o.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};o.TokenUpdateType={Added:"added",Removed:"removed"};return o;});
sap.ui.predefine('sap/m/TokenizerRenderer',['sap/ui/Device','sap/ui/core/InvisibleText'],function(D,I){"use strict";var T={apiVersion:2};
T.render=function(r,c){if(c.getParent()&&c.getParent().isA(["sap.m.MultiInput","sap.m.MultiComboBox"])){r.openStart("div",c);}else{r.openStart("div",c);this._renderTabIndex(r,c);}r.class("sapMTokenizer");if(!c.getEditable()){r.class("sapMTokenizerReadonly");}if(!c.getEnabled()){r.class("sapMTokenizerDisabled");}var t=c.getTokens();if(!t.length){r.class("sapMTokenizerEmpty");r.attr("aria-hidden","true");}r.style("max-width",c.getMaxWidth());var p=c.getWidth();if(p){r.style("width",p);}var a={role:"listbox"};a.labelledby={value:I.getStaticId("sap.m","TOKENIZER_ARIA_LABEL"),append:true};r.accessibilityState(c,a);r.openEnd();r.renderControl(c.getAggregation("_tokensInfo"));c._bCopyToClipboardSupport=false;if((D.system.desktop||D.system.combi)&&t.length){r.openStart("div",c.getId()+"-clip").class("sapMTokenizerClip");if(window.clipboardData){r.attr("contenteditable","true");r.attr("tabindex","-1");}r.openEnd();r.unsafeHtml("&nbsp");r.close("div");c._bCopyToClipboardSupport=true;}r.openStart("div",c.getId()+"-scrollContainer");r.class("sapMTokenizerScrollContainer");if(c.getHiddenTokensCount()===c.getTokens().length){r.class("sapMTokenizerScrollContainerNoVisibleTokens");}r.openEnd();this._renderTokens(r,c);r.close("div");this._renderIndicator(r,c);r.close("div");};
T._renderTokens=function(r,c){var i=0,t=c.getTokens(),l=t.length;for(i=0;i<l;i++){r.renderControl(t[i]);}};
T._renderIndicator=function(r,c){r.openStart("span");r.class("sapMTokenizerIndicator");this._renderIndicatorTabIndex(r,c);if(c.getHiddenTokensCount()===0){r.class("sapUiHidden");}r.openEnd().close("span");};
T._renderTabIndex=function(r,c){r.attr("tabindex","0");};
T._renderIndicatorTabIndex=function(r,c){};
return T;},true);
sap.ui.predefine('sap/m/inputUtils/completeTextSelected',[],function(){"use strict";var c=function(i){var v=i&&i.value&&i.value.length;if(!i||!v||i.selectionStart!==0||i.selectionEnd!==v){return false;}return true;};return c;});
sap.ui.predefine('sap/m/inputUtils/forwardItemProperties',["sap/m/inputUtils/ListHelpers"],function(L){"use strict";var f=function(i,s){var I=i.item;var l=I.data(L.CSS_CLASS+"ListItem");var a;var p;var S;var d={text:"title",enabled:"visible",tooltip:"tooltip"};var b=i.propName;var c=i.propValue;if(!l){return;}if(d[b]){p=d[b];S="set"+p.charAt(0).toUpperCase()+p.slice(1);l[S](c);}if(b==="additionalText"){a=s?c:"";l.setInfo(a);}};return f;});
sap.ui.predefine('sap/m/inputUtils/forwardItemPropertiesToToken',["sap/m/inputUtils/ListHelpers","sap/m/inputUtils/getTokenByItem"],function(L,g){"use strict";var f=function(i){var I=i.item;var p=i.propName;var a=i.propValue;var t=g(I);if(!t){return;}if(p==="enabled"){t.setVisible(a);}else if(t.getMetadata().hasProperty(p)){t.setProperty(p,a);}};return f;});
sap.ui.predefine('sap/m/inputUtils/getTokenByItem',["sap/m/inputUtils/ListHelpers"],function(L){"use strict";var g=function(i){return i?i.data(L.CSS_CLASS+"Token"):null;};return g;});
sap.ui.predefine('sap/m/inputUtils/itemsVisibilityHandler',["sap/m/inputUtils/ListHelpers"],function(L){"use strict";return function(i,f){var F,g,l;if(!Array.isArray(i)||!i.length){return;}f=f||{};F=f.items||[];g=f.groups||[];i.forEach(function(I){l=L.getListItem(I);if(!I.isA("sap.ui.core.SeparatorItem")&&l){l.setVisible(F.indexOf(I)!==-1);}});g.forEach(function(G){l=L.getListItem(G.header);l&&l.setVisible(G.visible);});};});
sap.ui.predefine('sap/ui/core/dnd/DragAndDrop',["../library","sap/ui/Device","../UIArea","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/control"],function(l,D,U,q){"use strict";var R=l.dnd.RelativeDropPosition;var a={},d=null,o=null,v=null,V=[],b=[],c=null,$,g,C,t,L={},e;
function f(E,S){if(!E){return;}if(E.addStyleClass){E.addStyleClass(S);}else{E.$().addClass(S);}}
function r(E,S){if(!E){return;}if(E.removeStyleClass){E.removeStyleClass(S);}else{E.$().removeClass(S);}}
function h(E,i){var B=q(E.target).control(0,true);if(!B){return;}var N=q.Event(null,E);N.type=i;B.getUIArea()._handleEvent(N);}
function j(E){return!E.disabled&&/^(input|textarea)$/.test(E.localName);}
function s(d,E){if(!d||!d.getDragGhost){return;}var i=d.getDragGhost();if(!i){return;}if(!g){g=q('<div class="sapUiDnDGhostContainer"></div>');q(document.body).append(g);}g.append(i);window.setTimeout(function(){g.empty();},0);var O=E.originalEvent;O.dataTransfer.setDragImage(i,O.offsetX,O.offsetY);}
function k(E){var i={},I,B=E.originalEvent.dataTransfer,F=function(T,G){B.setData(T,G);};return{setData:function(K,G){G=""+G;i[K]=G;F(K,G);},getData:function(K){return i[K];},setTextData:function(G){G=""+G;i["text/plain"]=G;i["text"]=G;F("text/plain",G);F("text",G);},getTextData:function(){return i["text/plain"];},setComplexData:function(K,G){i[K]=G;},getComplexData:function(K){return i[K];},getIndicator:function(){return $&&$[0];},setIndicatorConfig:function(G){I=G;},getIndicatorConfig:function(G){return I;},getDragControl:function(){return d;},getDropControl:function(){return v;},setDropControl:function(G){v=G;},getDropInfo:function(){return b[0]||null;},getDropPosition:function(){return C;}};}
function m(E){d=o=v=c=null;C="";V=[];b=[];}
function n(){if($){return $;}$=q("<div class='sapUiDnDIndicator'></div>");q(sap.ui.getCore().getStaticAreaRef()).append($);return $;}
function p(){if($){$.removeAttr("style");$.hide();L={};}}
function u(E,i,B,F){if(!i){return;}var I=E.dragSession&&E.dragSession.getIndicatorConfig(),G=i.getBoundingClientRect(),P=window.pageYOffset,H=window.pageXOffset,J=n(),K,S={},M={top:G.top+P,bottom:G.bottom+P,left:G.left+H,right:G.right+H,width:G.width,height:G.height};if(!B||B=="On"){K=R.On;F="";}else if(F=="Horizontal"){var N=E.pageX-M.left;S.height=M.height;S.top=M.top;if(B=="Between"){S.width="";if(N<M.width*0.5){K=R.Before;S.left=M.left;}else{K=R.After;S.left=M.right;}}else if(B=="OnOrBetween"){if(N<M.width*0.25){K=R.Before;S.left=M.left;S.width="";}else if(N>M.width*0.75){K=R.After;S.left=M.right;S.width="";}else{K=R.On;}}if(K!=R.On&&sap.ui.getCore().getConfiguration().getRTL()){K=(K==R.After)?R.Before:R.After;}}else{var O=E.pageY-M.top;S.width=M.width;S.left=M.left;if(B=="Between"){S.height="";if(O<M.height*0.5){K=R.Before;S.top=M.top;}else{K=R.After;S.top=M.bottom;}}else if(B=="OnOrBetween"){if(O<M.height*0.25){K=R.Before;S.top=M.top;S.height="";}else if(O>M.height*0.75){K=R.After;S.top=M.bottom;S.height="";}else{K=R.On;}}}if(I&&I.display=="none"){return K;}if(K==R.On){S.top=M.top;S.left=M.left;S.width=M.width;S.height=M.height;B=K;}else{B="Between";}if(L.top!=S.top||L.left!=S.left||L.width!=S.width||L.height!=S.height){J.attr("data-drop-layout",F);J.attr("data-drop-position",B);J.css(Object.assign(S,I));J.show();L=S;}return K;}
function w(i){var P=i.getParent(),S=(i.getDragDropConfig)?i.getDragDropConfig():[],B=(P&&P.getDragDropConfig)?P.getDragDropConfig():[];return S.concat(B);}
function x(d){var i=w(d);return i.filter(function(B){return B.isDraggable(d);});}
function y(o,i,E){var B=w(o);i=i||[];return B.filter(function(F){return!F.isA("sap.ui.core.dnd.IDragInfo");}).concat(i).filter(function(F){if(!F.isDroppable(o,E)){return false;}var G=F.getGroupName();if(!G){return true;}return i.some(function(H){return H.getGroupName()==G;});});}
function z(E,i){E.preventDefault();if(d){var B=i.getDropEffect().toLowerCase();E.originalEvent.dataTransfer.dropEffect=B;}}
function A(E,i,v){var T=i.getTargetAggregation();if(!T){return u(E,v.getDomRef());}var B;if(E.getMark("DragWithin")==T){B=v.getDomRefForSetting(T);}B=B||v.getDomRef();return u(E,B,i.getDropPosition(true),i.getDropLayout(true));}
a.preprocessEvent=function(E){if(c&&E.type.indexOf("dr")==0){E.dragSession=c;}var i="onbefore"+E.type;if(a[i]){a[i](E);}};
a.postprocessEvent=function(E){var i="onafter"+E.type;if(a[i]){a[i](E);}};
a.onbeforemousedown=function(E){if((D.browser.firefox)&&j(E.target)){e=q(E.target).closest("[data-sap-ui-draggable=true]").prop("draggable",false)[0];}};
a.onbeforemouseup=function(E){if(e){e.draggable=true;e=null;}};
a.onbeforedragstart=function(E){if(!E.target.draggable){return;}if(j(document.activeElement)){E.target.getAttribute("data-sap-ui-draggable")&&E.preventDefault();return;}d=q(E.target).control(0,true);if(!d){return;}V=x(d);if(!V.length){return;}if(!D.system.desktop&&!E.originalEvent.dataTransfer.getData("text")){E.originalEvent.dataTransfer.setData("text"," ");}E.dragSession=c=k(E);};
a.onafterdragstart=function(E){if(!V.length||E.isDefaultPrevented()){m();return;}V=E.isMarked("NonDraggable")?[]:V.filter(function(i){return i.fireDragStart(E);});if(!V.length){E.preventDefault();m();return;}s(d,E);f(d,"sapUiDnDDragging");if(q(E.target).closest(".sapUiScrollDelegate")[0]){q("html").addClass("sapUiDnDNoScrolling");}};
a.onbeforedragenter=function(E){var B=q(E.target).control(0,true);if(B&&o===B){E.setMark("DragWithin","SameControl");}else{t=Date.now();o=B;}var F=[];v=B;for(var i=0;i<20&&v;i++,v=v.$&&v.$().parent().control(0,true)){F=y(v,V,E);if(F.length){break;}}if(E.getMark("DragWithin")!="SameControl"){b=F;if(c){c.setIndicatorConfig(null);}}if(!b.length){v=null;}else if(!c){E.dragSession=c=k(E);}};
a.onafterdragenter=function(E){if(!v||E.isMarked("NonDroppable")){b=[];}else if(E.getMark("DragWithin")!="SameControl"){b=b.filter(function(B){return B.fireDragEnter(E);});}var i=b[0];if(!i||i.getDropEffect()=="None"){p();C="";}else{z(E,i);C=A(E,i,v);}};
a.onbeforedragover=function(E){var i=Date.now();if(i-t>=1000){h(E,"longdragover");t=i;}};
a.onafterdragover=function(E){var i=b[0];if(!i||i.getDropEffect()=="None"){return;}b.forEach(function(B){B.fireDragOver(E);});z(E,i);if(i&&i.getDropPosition(true)=="On"){return;}C=A(E,i,v);};
a.onbeforedrop=function(E){if(b.length){E.preventDefault();}};
a.onafterdrop=function(E){b.forEach(function(i){i.fireDrop(E);});this.iDragEndTimer=window.requestAnimationFrame(this.onafterdragend.bind(this,E));};
a.onafterdragend=function(E){this.iDragEndTimer=window.cancelAnimationFrame(this.iDragEndTimer);V.forEach(function(i){i.fireDragEnd(E);});r(d,"sapUiDnDDragging");q("html").removeClass("sapUiDnDNoScrolling");p();m();};
U.addEventPreprocessor(a.preprocessEvent);U.addEventPostprocessor(a.postprocessEvent);return a;},true);
sap.ui.predefine('sap/ui/core/dnd/DragDropBase',['sap/base/Log','../Element','../library','./DragAndDrop'],function(L,E){"use strict";
var D=E.extend("sap.ui.core.dnd.DragDropBase",{metadata:{"abstract":true,library:"sap.ui.core",properties:{groupName:{type:"string",defaultValue:null,invalidate:false},enabled:{type:"boolean",defaultValue:true,invalidate:false}}}});
D.prototype.bIgnoreMetadataCheck=false;
D.prototype.isDraggable=function(c){return false;};
D.prototype.isDroppable=function(c,e){return false;};
D.prototype.checkMetadata=function(c,a,r){if(this.bIgnoreMetadataCheck){return true;}var m=c.getMetadata().getDragDropInfo(a);if(!m[r]){L.warning((a?a+" aggregation of ":"")+c+" is not configured to be "+r);return false;}return true;};
D.prototype.setProperty=function(p,v,s){s=(s==undefined)?(this.getMetadata().getProperty(p).appData||{}).invalidate===false:s;return E.prototype.setProperty.call(this,p,v,s);};
return D;});
sap.ui.predefine('sap/ui/core/dnd/DragInfo',["./DragDropBase"],function(D){"use strict";
var a=D.extend("sap.ui.core.dnd.DragInfo",{metadata:{library:"sap.ui.core",interfaces:["sap.ui.core.dnd.IDragInfo"],properties:{sourceAggregation:{type:"string",defaultValue:null}},events:{dragStart:{allowPreventDefault:true},dragEnd:{}}}});
a.Mixin=function(){this.isDraggable=function(c){if(!this.getEnabled()){return false;}var d=this.getParent();if(!d){return false;}var s=this.getSourceAggregation();if(!this.checkMetadata(d,s,"draggable")){return false;}if(d===c&&!s){return true;}if(c.getParent()===d&&s===c.sParentAggregationName){return true;}return false;};this.fireDragStart=function(e){if(!e||!e.dragSession){return;}var d=e.dragSession;return this.fireEvent("dragStart",{dragSession:d,browserEvent:e.originalEvent,target:d.getDragControl()},true);};this.fireDragEnd=function(e){if(!e||!e.dragSession){return;}var d=e.dragSession;return this.fireEvent("dragEnd",{dragSession:d,browserEvent:e.originalEvent,target:d.getDragControl()});};this.setEnabled=function(e){this.setProperty("enabled",e,false);this.invalidateDraggables();return this;};this.setParent=function(){D.prototype.setParent.apply(this,arguments);this.invalidateDraggables();return this;};this.setSourceAggregation=function(s){var o=this.getSourceAggregation();if(o==s){return this;}o&&this.invalidateDraggables();this.setProperty("sourceAggregation",s,false);this.invalidateDraggables();return this;};this.invalidateDraggables=function(){var p=this.getParent();if(p&&p.bOutput==true){var s=this.getSourceAggregation();if(s){[].concat(p.getAggregation(s)).forEach(function(A){if(A&&A.bOutput==true){A.invalidate();}});}else{p.invalidate();}}};};
a.Mixin.apply(a.prototype);return a;});
sap.ui.predefine('sap/ui/core/dnd/DropInfo',["./DragDropBase"],function(D){"use strict";
var a=D.extend("sap.ui.core.dnd.DropInfo",{metadata:{library:"sap.ui.core",interfaces:["sap.ui.core.dnd.IDropInfo"],properties:{targetAggregation:{type:"string",defaultValue:null,invalidate:false},dropEffect:{type:"sap.ui.core.dnd.DropEffect",defaultValue:"Move",invalidate:false},dropPosition:{type:"sap.ui.core.dnd.DropPosition",defaultValue:"On",invalidate:false},dropLayout:{type:"sap.ui.core.dnd.DropLayout",defaultValue:"Default",invalidate:false}},events:{dragEnter:{allowPreventDefault:true},dragOver:{},drop:{}}}});
a.prototype.getDropTarget=function(){return this.getParent();};
a.prototype.isDroppable=function(c,e){this.sTemporaryDropPosition="";if(!this.getEnabled()){return false;}var d=this.getDropTarget();if(!d){return false;}var t=this.getTargetAggregation();if(!this.checkMetadata(d,t,"droppable")){return false;}var t=this.getTargetAggregation();if(d===c&&!t){return true;}if(c.getParent()===d&&t===c.sParentAggregationName){return true;}if(e&&t&&d===c){var A=c.getDomRefForSetting(t);if(A&&A!=e.target&&A.contains(e.target)){e.setMark("DragWithin",t);this.sTemporaryDropPosition="On";return true;}}return false;};
a.prototype.getDropPosition=function(c){if(c&&this.sTemporaryDropPosition){return this.sTemporaryDropPosition;}return this.getProperty("dropPosition");};
a.prototype.getDropLayout=function(d){var s=this.getProperty("dropLayout");if(!d||s!="Default"){return s;}return this.getDropTarget().getMetadata().getDragDropInfo(this.getTargetAggregation()).layout;};
a.prototype.fireDragEnter=function(e){if(!e||!e.dragSession){return;}var d=e.dragSession;return this.fireEvent("dragEnter",{dragSession:e.dragSession,browserEvent:e.originalEvent,target:d.getDropControl()},true);};
a.prototype.fireDragOver=function(e){if(!e||!e.dragSession){return;}var d=e.dragSession;return this.fireEvent("dragOver",{dragSession:e.dragSession,browserEvent:e.originalEvent,target:d.getDropControl(),dropPosition:d.getDropPosition()});};
a.prototype.fireDrop=function(e){if(!e||!e.dragSession){return;}var d=e.dragSession;this.fireEvent("drop",{dragSession:e.dragSession,browserEvent:e.originalEvent,dropPosition:d.getDropPosition(),draggedControl:d.getDragControl(),droppedControl:d.getDropControl()});};
return a;});
sap.ui.predefine('sap/ui/dom/denormalizeScrollBeginRTL',["sap/ui/util/_FeatureDetection"],function(_){"use strict";var d;if(_.initialScrollPositionIsZero()){d=function(n,o){return-n;};}else{d=function(n,o){return o.scrollWidth-o.clientWidth-n;};}var D=function(n,o){if(o){return d(n,o);}};return D;});
sap.ui.predefine('sap/ui/dom/denormalizeScrollLeftRTL',["sap/ui/util/_FeatureDetection"],function(_){"use strict";var d;if(_.initialScrollPositionIsZero()){d=function(n,o){return o.clientWidth+n-o.scrollWidth;};}else{d=function(n,o){return n;};}var D=function(n,o){if(o){return d(n,o);}};return D;});
sap.ui.predefine('sap/ui/dom/jquery/scrollLeftRTL',["sap/ui/dom/denormalizeScrollLeftRTL","sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(d,_,q){"use strict";var s;if(_.initialScrollPositionIsZero()){s=function(D){return D.scrollWidth+D.scrollLeft-D.clientWidth;};}else{s=function(D){return D.scrollLeft;};}var S=function(p){var D=this.get(0);if(D){if(p===undefined){return s(D);}else{D.scrollLeft=d(p,D);return this;}}};q.fn.scrollLeftRTL=S;return q;});
sap.ui.predefine('sap/ui/integration/designtime/editor/CardEditor',["sap/ui/integration/editor/Editor","sap/ui/core/Core","sap/ui/integration/widgets/Card","sap/ui/integration/editor/Merger","sap/ui/model/json/JSONModel","sap/base/util/merge","sap/ui/model/resource/ResourceModel","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/LoaderExtensions","sap/ui/core/theming/Parameters","sap/ui/dom/includeStylesheet"],function(E,C,a,M,J,m,R,b,L,P,i){"use strict";var r=C.getLibraryResourceBundle("sap.ui.integration");
var c=E.extend("sap.ui.integration.designtime.editor.CardEditor",{
metadata:{library:"sap.ui.integration",properties:{card:{type:"any",defaultValue:null}},aggregations:{_extension:{type:"sap.ui.integration.Extension",multiple:false,visibility:"hidden"}}},
renderer:E.getMetadata().getRenderer().render
});
c.prototype.hasPreview=function(){var p=this.getAggregation("_preview");if(p&&p.getSettings()&&p.getSettings().preview&&p.getSettings().preview.modes==="None"){return false;}return true;};
c.prototype._updatePreview=function(){var p=this.getAggregation("_preview");if(p&&p.update&&p._getCurrentMode()!=="None"){p.update();}};
c.prototype.setCard=function(v,s){if(v===this.getProperty("card")){return this;}if(this._oEditorCard){this._oEditorCard.destroy();}this.setProperty("card",v,s);if(typeof v==="string"){try{v=JSON.parse(v);}catch(e){var d=C.byId(v);if(!d){var f=document.getElementById(v);if(f&&f.tagName&&f.tagName==="ui-integration-card"){d=f._getControl();}}v=d;}}if(v&&v.isA&&v.isA("sap.ui.integration.widgets.Card")){v={manifest:v.getManifest(),manifestChanges:v.getManifestChanges(),host:v.getHost(),baseUrl:v.getBaseUrl()};}if(typeof v==="object"){this._oEditorCard=new a(v);this._oEditorCard.onBeforeRendering();this._oEditorCard.attachEventOnce("_cardReady",function(){this.setJson(v,s);}.bind(this));}};
c.prototype.createManifest=function(I,s){this._isManifestReady=false;if(this._oEditorManifest){this._oEditorManifest.destroy();}this.destroyAggregation("_extension");var d=M.layers[this.getMode()];this._oEditorManifest=this._oEditorCard._oCardManifest;this._registerManifestModulePath();var o=this._oEditorManifest._oInitialJson;this._oInitialManifestModel=new J(o);this.setProperty("json",o,s);var e;if(this._beforeLayerManifestChanges){e=M.mergeDelta(o,[this._beforeLayerManifestChanges]);}else{e=o;}var _=m({},e);this._beforeManifestModel=new J(_);if(d<M.layers["translation"]&&this._currentLayerManifestChanges){e=M.mergeDelta(e,[this._currentLayerManifestChanges]);}this._manifestModel=new J(e);this._isManifestReady=true;this.fireManifestReady();var v=this._oEditorManifest.get("/sap.app/i18n");var f=this.getBaseUrl()+v;if(v&&b.getResourceBundleURL()!==f){b.setResourceBundleURL(f);}this._createContextModel();if(this._oEditorManifest&&this._oEditorManifest.getResourceBundle()){var r=this._oEditorManifest.getResourceBundle();var g=new R({bundle:r});this.setModel(g,"i18n");if(this._oResourceBundle){g.enhance(this._oResourceBundle);}this._oResourceBundle=g.getResourceBundle();}return this._loadExtension().then(function(){this._initInternal();}.bind(this));};
c.prototype._initPreview=function(){var s=this._oDesigntimeInstance.getSettings()||{};s.preview=s.preview||{};s.preview.position=this.getPreviewPosition();return new Promise(function(d,e){sap.ui.require(["sap/ui/integration/designtime/editor/CardPreview"],function(f){var p=new f({settings:s,card:this._oEditorCard});this.setAggregation("_preview",p);d();}.bind(this));}.bind(this));};
c.prototype._loadExtension=function(){return new Promise(function(d,e){var o=this._oEditorCard.getAggregation("_extension");this.setAggregation("_extension",o);d();}.bind(this));};
c.prototype._mergeContextData=function(o){var d={};d["empty"]=c._contextEntries.empty;for(var n in o){d[n]=o[n];}d["card.internal"]=c._contextEntries["card.internal"];return d;};
c._contextEntries={empty:{label:r.getText("CARDEDITOR_CONTEXT_EMPTY_VAL"),type:"string",description:r.getText("CARDEDITOR_CONTEXT_EMPTY_DESC"),placeholder:"",value:""},"card.internal":{label:r.getText("CARDEDITOR_CONTEXT_CARD_INTERNAL_VAL"),todayIso:{type:"string",label:r.getText("CARDEDITOR_CONTEXT_CARD_TODAY_VAL"),description:r.getText("CARDEDITOR_CONTEXT_CARD_TODAY_DESC"),tags:[],placeholder:r.getText("CARDEDITOR_CONTEXT_CARD_TODAY_VAL"),customize:["format.dataTime"],value:"{{parameters.TODAY_ISO}}"},nowIso:{type:"string",label:r.getText("CARDEDITOR_CONTEXT_CARD_NOW_VAL"),description:r.getText("CARDEDITOR_CONTEXT_CARD_NOW_DESC"),tags:[],placeholder:r.getText("CARDEDITOR_CONTEXT_CARD_NOW_VAL"),customize:["dateFormatters"],value:"{{parameters.NOW_ISO}}"},currentLanguage:{type:"string",label:r.getText("CARDEDITOR_CONTEXT_CARD_LANG_VAL"),description:r.getText("CARDEDITOR_CONTEXT_CARD_LANG_VAL"),tags:["technical"],customize:["languageFormatters"],placeholder:r.getText("CARDEDITOR_CONTEXT_CARD_LANG_VAL"),value:"{{parameters.LOCALE}}"}}};c._languages={};
c._appendThemeVars=function(){var v=["sapUiButtonHoverBackground","sapUiBaseBG","sapUiContentLabelColor","sapUiTileSeparatorColor","sapUiHighlight","sapUiListSelectionBackgroundColor","sapUiNegativeText","sapUiCriticalText","sapUiPositiveText","sapUiChartScrollbarBorderColor"];var p=P.get({name:v,callback:function(_){}});if(p){for(var n in p){document.body.style.setProperty("--"+n,p[n]);}}};
c.init=function(){this.init=function(){};c._appendThemeVars();C.attachThemeChanged(function(){c._appendThemeVars();});var s=sap.ui.require.toUrl("sap.ui.integration.editor.css.Editor".replace(/\./g,"/")+".css");i(s);L.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(o){c._languages=o;});};
c.init();return c;});
sap.ui.predefine('sap/ui/integration/designtime/editor/CardPreview',["sap/ui/core/Control","sap/m/HBox","sap/m/Image","sap/m/ToggleButton","sap/ui/integration/widgets/Card","sap/ui/core/Core","sap/ui/dom/includeStylesheet","sap/ui/integration/util/CardMerger"],function(C,H,I,T,a,c,i,d){"use strict";
var e=C.extend("sap.ui.integration.designtime.editor.CardPreview",{
metadata:{library:"sap.ui.integration",properties:{settings:{type:"any"},card:{type:"object"}},aggregations:{cardPreview:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},
renderer:function(r,o){if(o._getCurrentMode()==="None"){r.openStart("div",o);r.openEnd();return;}r.openStart("div",o);r.addClass("sapUiIntegrationDTPreview");if(f()){r.addClass("sapUiIntegrationDTPreviewDark");}if(o.getSettings().preview.position&&(o.getSettings().preview.position==="top"||o.getSettings().preview.position==="bottom")){var l=c.getConfiguration().getLanguage().replaceAll('_','-');if(l.startsWith("ar")||l.startsWith("he")){r.addClass("sapUiIntegrationDTPreviewMarginForAlignTopAndBottomSpec");}else{r.addClass("sapUiIntegrationDTPreviewMarginForAlignTopAndBottom");}}r.openEnd();r.openStart("div");r.addClass("before");r.writeAttribute("tabindex","-1");r.writeAttributeEscaped("id",o.getId()+"-before");r.addStyle("z-index",o.getParent()._iZIndex+1);r.openEnd();r.close("div");r.renderControl(o._getCardPreview());r.openStart("div");r.writeAttribute("tabindex","-1");r.writeAttributeEscaped("id",o.getId()+"-after");r.openEnd();r.close("div");if(o._getModes().indexOf("Live")>-1&&o._getModes().indexOf("Abstract")>-1){r.renderControl(o._getModeToggleButton());}}
});
e.prototype.init=function(){this._oResourceBundle=c.getLibraryResourceBundle("sap.ui.integration");c.attachThemeChanged(function(){if(this.getDomRef()){if(f()){this.getDomRef().classList.add("sapUiIntegrationDTPreviewDark");}else{this.getDomRef().classList.remove("sapUiIntegrationDTPreviewDark");}}else{this.update();}}.bind(this));};
e.prototype.destroy=function(){if(this._oModeToggleButton){this._oModeToggleButton.destroy();}if(this._oCardPreview){this._oCardPreview.destroy();}if(this._oImagePlaceholder){this._oImagePlaceholder.destroy();}if(this._oCardPlaceholder){this._oCardPlaceholder.destroy();}C.prototype.destroy.apply(this,arguments);};
e.prototype.onAfterRendering=function(){var p=this.getAggregation("cardPreview"),m=this._getModes();if(m.indexOf("Live")>-1&&p&&p.getDomRef()&&p.getDomRef().getElementsByClassName("sapVizFrame")){window.setTimeout(function(){try{var v=p.getDomRef().getElementsByClassName("sapVizFrame")[0].id;var V=c.byId(v);if(V.getVizProperties()&&V.getVizProperties().legendGroup.layout.position==="bottom"&&V.getVizProperties().legendGroup.layout.alignment==="center"){p.getDomRef().getElementsByClassName("v-m-legend")[0].transform.baseVal[0].matrix.e=110;}}catch(b){}},500);}};
e.prototype._getCardPreview=function(){var p=null;if(this._getCurrentMode()==="Abstract"){if(this.getSettings().preview.src){p=this._getImagePlaceholder();}else{p=this._getCardPlaceholderPreview();}}else if(this._getCurrentMode()==="Live"){p=this._getCardRealPreview();}if(p){this.setAggregation("cardPreview",p);if(!this.getSettings().preview||this.getSettings().preview.scaled!==false){p.removeStyleClass("sapUiIntegrationDTPreviewScale");p.removeStyleClass("sapUiIntegrationDTPreviewScaleSpec");var l=c.getConfiguration().getLanguage().replaceAll('_','-');if(l.startsWith("ar")||l.startsWith("he")){p.addStyleClass("sapUiIntegrationDTPreviewScaleSpec");}else{p.addStyleClass("sapUiIntegrationDTPreviewScale");}}else{p.addStyleClass("sapUiIntegrationDTPreviewNoScale");}}return p;};
e.prototype._getCardPlaceholderPreview=function(){var o=this.getCard(),p;function _(s,x){return o.getManifestEntry(s)?x||"{bound}":null;}var h=null;if(o.getManifestEntry("/sap.card/header")){var t=o.getManifestEntry("/sap.card/header/type");if(t&&t.toUpperCase()==="NUMERIC"){h={"title":_("/sap.card/header/title"),"type":"Numeric","subTitle":_("/sap.card/header/subTitle"),"unitOfMeasurement":_("/sap.card/header/unitOfMeasurement"),"mainIndicator":_("/sap.card/header/mainIndicator",{"number":"{bound}","unit":"{bound}","trend":"{bound}","state":"{bound}"}),"details":_("/sap.card/header/details"),"sideIndicators":[_("/sap.card/header/sideIndicators/0",{"title":"Deviation","number":"{bound}","unit":"{bound}"}),_("/sap.card/header/sideIndicators/1",{"title":"Target","number":"{bound}","unit":"{bound}"})]};}else{h={"title":_("/sap.card/header/title"),"subTitle":_("/sap.card/header/subTitle"),"status":_("/sap.card/header/status"),"icon":_("/sap.card/header/icon",{"src":"{bound}"})};}}var b=this.getParent().getCurrentSettings();p={"sap.app":{"type":"card","id":o.getManifestEntry("/sap.app/id")+".abstractPreview"},"sap.card":{"type":o.getManifestEntry("/sap.card/type")==="List"?"List":"Component","header":h,"content":{"maxItems":Math.min(b["/sap.card/content/maxItems"]||6,6),"item":{"title":{"value":_("/sap.card/content/item/value")},"icon":_("/sap.card/content/item/icon",{"src":"{bound}"}),"description":_("/sap.card/content/item/description"),"info":{"value":_("/sap.card/content/item/info")}}}}};if(!this._oCardPlaceholder){this._oCardPlaceholder=new a();this._oCardPlaceholder._setPreviewMode(true);}this._oCardPlaceholder.setManifest(p);this._oCardPlaceholder.refresh();return this._oCardPlaceholder;};
e.prototype.getTransformContentInfo=function(){return{transformStyle:"scale3d(0.4, 0.4, 1)",transformFactor:0.4,transformOriginStyle:"0 0",widthStyle:"500px",heightStyle:"600px",zIndex:this.getParent()._iZIndex};};
e.prototype._getCardRealPreview=function(){if(!this._oCardPreview){this._oCardPreview=new a();this._oCardPreview.setBaseUrl(this.getCard().getBaseUrl());}this._initalChanges=this._initalChanges||this._oCardPreview.getManifestChanges()||[];var b=this._initalChanges.concat([this.getParent().getCurrentSettings()]);this._oCardPreview.setManifestChanges(b);this._oCardPreview.setManifest(this.getCard()._oCardManifest._oManifest.getRawJson());this._oCardPreview.setHost(this.getCard().getHost());this._oCardPreview.refresh();this._oCardPreview.editor=this._oCardPreview.editor||{};this._oCardPreview.preview=this._oCardPreview.editor.preview=this;return this._oCardPreview;};
e.prototype._getImagePlaceholder=function(){var s=this.getSettings();if(s.preview.src){if(!this._oImagePlaceholder){var h=new H();h.addStyleClass("sapFCard");h.setWidth("500px");var b=this.getCard().getBaseUrl();if(!b&&typeof this.getCard().getManifest()==="string"){b=this.getCard().getManifest();b=b.substring(0,b.lastIndexOf("/")+1);}var g=b+"/"+s.preview.src;var o=new I({src:g});o.addStyleClass("sapUiIntegrationDTPreviewImg");o.setWidth("500px");o.setHeight("600px");h.addItem(o);this._oImagePlaceholder=h;}}return this._oImagePlaceholder;};
e.prototype._getModes=function(){var s=this.getSettings();s.preview=s.preview||{};s.preview.modes=s.preview.modes||"Abstract";return s.preview.modes;};
e.prototype._getCurrentMode=function(){var m=this._getModes();if(!this._currentMode){switch(m){case"AbstractLive":case"Abstract":this._currentMode="Abstract";break;case"LiveAbstract":case"Live":this._currentMode="Live";break;default:this._currentMode="None";}}return this._currentMode;};
e.prototype._toggleCurrentMode=function(){var m=this._getModes();if(m.indexOf("Live")>-1&&m.indexOf("Abstract")>-1){this._currentMode=this._getCurrentMode()==="Abstract"?"Live":"Abstract";}};
e.prototype._getModeToggleButton=function(){var b=c.getLibraryResourceBundle("sap.ui.integration");if(!this._oModeToggleButton){this._oModeToggleButton=new T();this._oModeToggleButton.setTooltip();this._oModeToggleButton.attachPress(function(){this._toggleCurrentMode();this.update();}.bind(this));}this._oModeToggleButton.removeStyleClass("sapUiIntegrationDTPreviewButton");this._oModeToggleButton.removeStyleClass("sapUiIntegrationDTPreviewButtonSpec");var l=c.getConfiguration().getLanguage().replaceAll('_','-');if(l.startsWith("ar")||l.startsWith("he")){this._oModeToggleButton.addStyleClass("sapUiIntegrationDTPreviewButtonSpec");}else{this._oModeToggleButton.addStyleClass("sapUiIntegrationDTPreviewButton");}var t=this._oModeToggleButton,g=this._getCurrentMode();if(g==="None"){t.setVisible(false);}if(g==="Abstract"){t.setIcon("sap-icon://media-play");t.setPressed(false);t.setTooltip(b.getText("CARDEDITOR_PREVIEW_BTN_LIVEPREVIEW"));}else if(g==="Live"){t.setIcon("sap-icon://media-pause");t.setPressed(true);t.setTooltip(b.getText("CARDEDITOR_PREVIEW_BTN_SAMPLEPREVIEW"));}return this._oModeToggleButton;};
e.prototype.update=function(){this.invalidate();};
function f(h){h=h||window.getComputedStyle(document.body).backgroundColor;var m=/rgb\((\d+).*?(\d+).*?(\d+)\)/.exec(h);if(!m){return false;}var r=parseInt(m[1]),g=parseInt(m[2]),b=parseInt(m[3]),y=(r*299+g*587+b*114)/1000;return(y<=128);}
e.prototype.onsaptabnext=function(E){if(E.target===this.getDomRef("before")){this.getDomRef("after").focus();}};
e.prototype.onsaptabprevious=function(E){if(E.target===this.getDomRef("after")){this.getDomRef("before").focus();}};
e.init=function(){var s=sap.ui.require.toUrl("sap.ui.integration.designtime.editor.css.CardPreview".replace(/\./g,"/")+".css");i(s);this.init=function(){};};
e.init();return e;});
sap.ui.predefine('sap/ui/integration/editor/Editor',["ui5loader","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/Manifest","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/merge","sap/ui/base/Interface","sap/ui/integration/Designtime","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataModel","sap/ui/integration/util/Utils","sap/ui/integration/util/Destinations","sap/ui/integration/util/DataProviderFactory","sap/m/Label","sap/m/Title","sap/m/Panel","sap/m/HBox","sap/m/VBox","sap/ui/core/Icon","sap/m/ResponsivePopover","sap/m/Popover","sap/m/Text","sap/base/Log","sap/ui/core/Popup","sap/base/i18n/ResourceBundle","sap/ui/integration/editor/EditorResourceBundles","sap/ui/thirdparty/URI","sap/ui/dom/includeStylesheet","sap/base/util/LoaderExtensions","sap/ui/core/theming/Parameters","sap/base/util/ObjectPath","sap/m/FormattedText","sap/m/MessageStrip","sap/m/ToolbarSpacer","sap/base/util/includes","sap/ui/model/resource/ResourceModel","./Manifest","./Merger","./Settings","sap/m/FlexItemData","sap/m/FlexBox","sap/m/Button","sap/m/OverflowToolbar","sap/m/IconTabBar","sap/m/IconTabFilter"],function(u,C,c,M,d,f,g,I,D,J,O,U,h,p,L,T,P,H,V,q,R,r,t,v,w,x,E,y,A,B,F,G,K,N,S,Q,W,X,Y,Z,$,_,a1,b1,c1,d1){"use strict";var e1=r.prototype.init;
r.prototype.init=function(){e1.apply(this,arguments);var a=this.oPopup._applyPosition,b=this;this.oPopup._applyPosition=function(){var e=b.close;b.close=function(){};a.apply(this,arguments);b.close=e;};};
function f1(s){if(s&&s.nodeType!==1){return 0;}var z=parseInt(window.getComputedStyle(s).getPropertyValue('z-index'));if(isNaN(z)){return f1(s.parentNode);}return z+1;}
var g1=/\{\{(?!parameters.)(?!destinations.)([^\}\}]+)\}\}/g,h1=/\{\{parameters\.([^\}\}]+)/g,i1=5000,j1=c.getLibraryResourceBundle("sap.ui.integration"),k1="__strip0";
var l1=C.extend("sap.ui.integration.editor.Editor",{
metadata:{library:"sap.ui.integration",properties:{mode:{type:"string",defaultValue:"admin"},language:{type:"string",defaultValue:""},allowDynamicValues:{type:"boolean",defaultValue:false},allowSettings:{type:"boolean",defaultValue:false},designtime:{type:"object"},section:{type:"string",defaultValue:"sap.card"},host:{type:"string",defaultValue:""},baseUrl:{type:"sap.ui.core.URI",defaultValue:null},json:{type:"object"},previewPosition:{type:"string",defaultValue:"right"},width:{type:"sap.ui.core.CSSSize",defaultValue:""},height:{type:"sap.ui.core.CSSSize",defaultValue:""}},aggregations:{_formContent:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_preview:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_messageStrip:{type:"sap.m.MessageStrip",multiple:false,visibility:"hidden"},_extension:{type:"sap.ui.integration.editor.Extension",multiple:false,visibility:"hidden"}},events:{ready:{},manifestReady:{}}},
renderer:function(o,a){var b=a.getAggregation("_preview");var s=a.getMode()!=="translation"&&a.hasPreview();var e=a.getPreviewPosition();if(s&&(e==="top"||e==="bottom")){o.openStart("div");o.writeElementData(a);o.openEnd();if(a.isReady()&&e==="top"){o.renderControl(b);o.close("div");}}o.openStart("div");o.addClass("sapUiIntegrationEditor");if(s&&e==="left"){o.writeElementData(a);o.openEnd();if(a.isReady()){o.renderControl(b);o.close("div");}}else if(s&&(e==="bottom"||e==="top")){o.openEnd();}else{o.writeElementData(a);o.openEnd();}if(a.isReady()){o.openStart("div");o.addClass("sapUiIntegrationEditorForm");if(a.getMode()!=="translation"){o.addClass("settingsButtonSpace");}o.openEnd();if(a.getMode()!=="translation"){o.renderControl(a.getAggregation("_messageStrip"));}var k=a.getAggregation("_formContent");if(k){var z;var m1;var n1;var o1;var p1=[];var q1=[];var r1;var s1=function(){if(p1.length>0){var m=2-p1.length;for(var n=0;n<m;n++){p1.push(new V());}z.addContent(new _({alignItems:"Start",justifyContent:"SpaceBetween",items:p1}));p1=[];}};var t1=function(){if(q1.length>0){var m=2-q1.length;for(var n=0;n<m;n++){q1.push(new V());}m1.addContent(new _({alignItems:"Start",justifyContent:"SpaceBetween",items:q1}));q1=[];}};var u1=function(z){if(z.getContent().length>0){var m=z.getContent();if(m.length===1&&m[0].isA("sap.m.MessageStrip")){return;}if(m[0].isA("sap.m.MessageStrip")){z.removeContent(0);z.addContent(m[0]);}o.renderControl(z);if(z._messageStrip){o.renderControl(z._messageStrip);}}};var v1=function(z,m1){if(z&&m1.getContent().length>0){var m=m1.getContent();if(m[0].isA("sap.m.MessageStrip")){m1.removeContent(0);m1.addContent(m[0]);}z.addContent(m1);if(m1._messageStrip){z.addContent(m1._messageStrip);}}else{m1=null;}};var w1=function(z,m1){var n=z.getContent(),X1;if(n.length>0){for(var m=0;m<n.length;m++){if(n[m].isA("sap.m.IconTabBar")){X1=n[m];}}}if(X1&&m1.getContent().length>0){X1.addItem(m1);}};for(var i=0;i<k.length;i++){var x1=k[i];if(a.getMode()!=="translation"){if(x1.isA("sap.m.Panel")||x1.isA("sap.m.IconTabBar")){if(m1){t1();if(x1.isA("sap.m.Panel")&&m1.isA("sap.m.Panel")){v1(z,m1);}else{w1(z,m1);}}var y1=0;if(x1.isA("sap.m.Panel")){y1=x1._level;}else if(x1.isA("sap.m.IconTabBar")){y1="1";}if(y1==="1"){if(p1.length>0){s1();}if(x1.isA("sap.m.IconTabBar")){var z1=z.getContent(),A1=false,B1;if(z1.length>0){for(var j=0;j<z1.length;j++){if(z1[j].isA("sap.m.IconTabBar")){A1=true;B1=z1[j];}}}if(!A1){m1=x1.getItems()[0];m1._subItems=[];x1.removeItem(x1.getItems()[0]);if(x1.isA("sap.m.IconTabBar")&&x1._messageStrip){z.addContent(x1._messageStrip);}x1.addStyleClass("sapUiIntegrationEditorSubTab");z.addContent(x1);}else{m1=x1.getItems()[0];m1._subItems=[];B1.addItem(x1.getItems()[0]);x1.destroy();}}else{m1=x1;m1._subItems=[];m1.addStyleClass("sapUiIntegrationEditorSubGroup");}}else{if(z){s1();u1(z);m1=null;}z=x1;z._subItems=[];z.addStyleClass("sapUiIntegrationEditorItem");}if(i===k.length-1){s1();u1(z);}continue;}if(x1.isA("sap.m.FormattedText")){if(m1){m1.addContent(x1.addStyleClass("sapUiIntegrationEditorHint"));}else{z.addContent(x1.addStyleClass("sapUiIntegrationEditorHint"));}if(i===k.length-1){if(m1){t1();v1(z,m1);}s1();u1(z);}continue;}var C1=x1._layout;if(x1.isA("sap.m.Label")){x1.addStyleClass("sapUiIntegrationEditorItemLabel");if(C1&&!f(C1,{})){if(C1.alignment&&C1.alignment.label==="end"){x1.setTextAlign("End");}o1=x1;}else{if(x1._cols===2){if(m1){t1();}else{s1();}}else if(q1.length===2){t1();}else if(p1.length===2){s1();}if(m1){m1.addContent(x1);}else{z.addContent(x1);}}}else if(x1.isA("sap.m.ToolbarSpacer")){if(x1._hasLine){x1.addStyleClass("sapUiIntegrationEditorSpacerWithLine");}else{x1.addStyleClass("sapUiIntegrationEditorSpacerWithoutLine");}if(m1){t1();m1.addContent(x1);}else{s1();z.addContent(x1);}}else{var D1=x1.getConfiguration(),E1=new H(),F1=0.1,G1=0,H1;if(x1._descriptionIcon){E1.addItem(x1._descriptionIcon);F1+=0.9;}var I1=c.byId(x1.getAssociation("_messageIcon"));if(x1.getAssociation("_messageIcon")&&I1){E1.addItem(I1);F1+=1.2;}if(x1._settingsButton){x1._settingsButton.addStyleClass("sapUiIntegrationEditorSettingsButton");G1=2;}var J1=new $({growFactor:10,maxWidth:"calc(100% - "+G1+"rem)"});var K1=new $({maxWidth:"calc(100% - "+F1+"rem)"});if(o1){var L1,M1,N1="50%";if(C1&&C1["label-width"]){N1=C1["label-width"];}var O1=parseInt(N1);var P1=100-O1;if(x1._cols===2){O1=O1-0.5;P1=P1-0.5;}if(C1.alignment&&C1.alignment.field==="end"){x1.addStyleClass("sapUiIntegrationEditorFieldAlignEnd");}if(C1.alignment&&C1.alignment.label==="end"){o1.setLayoutData(new $({maxWidth:"calc(100% - "+F1+"rem)",minWidth:"calc(100% - "+F1+"rem)"}));}else{o1.setLayoutData(K1);}if(E1.getItems().length>0){o1.addStyleClass("sapUiIntegrationEditorItemLabelWithInfo");H1=new H({items:[o1,E1]});}else{H1=o1;}if(C1&&C1.position&&C1.position==="field-label"){H1.setLayoutData(J1);M1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[H1,x1._settingsButton]});M1.setLayoutData(new $({growFactor:O1,maxWidth:O1+"%"}));x1.setLayoutData(new $({growFactor:P1,maxWidth:P1+"%"}));L1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[x1,M1]});}else{x1.setLayoutData(J1);M1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[x1,x1._settingsButton]});H1.setLayoutData(new $({growFactor:O1,maxWidth:O1+"%"}));M1.setLayoutData(new $({growFactor:P1,maxWidth:P1+"%"}));L1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[H1,M1]});}if(x1._cols===1){if(m1){if(q1.length===2){t1();}if(D1.hint){var Q1=a._createHint(D1.hint);var R1=new V({items:[L1,Q1.addStyleClass("sapUiIntegrationEditorHint")]});R1.addStyleClass("col1");q1.push(R1);}else{L1.addStyleClass("col1");q1.push(L1);}}else{if(p1.length===2){s1();}if(D1.hint){var Q1=a._createHint(D1.hint);var R1=new V({items:[L1,Q1.addStyleClass("sapUiIntegrationEditorHint")]});R1.addStyleClass("col1");p1.push(R1);}else{L1.addStyleClass("col1");p1.push(L1);}}}else if(m1){t1();m1.addContent(L1);}else{s1();z.addContent(L1);}o1=null;}else{var S1;if(m1){S1=m1.getContent().pop();}else{S1=z.getContent().pop();}S1.setLayoutData(K1);if(E1.getItems().length>0){S1.addStyleClass("sapUiIntegrationEditorItemLabelWithInfo");H1=new H({items:[S1,E1]});}else{H1=S1;}H1.setLayoutData(J1);var T1=new _({alignItems:"Start",justifyContent:"SpaceBetween",items:[H1,x1._settingsButton]});if(x1._cols===1){var R1=new V({items:[T1,x1]});if(D1.hint){var Q1=a._createHint(D1.hint);R1.addItem(Q1.addStyleClass("sapUiIntegrationEditorHint"));}R1.addStyleClass("col1");if(m1){q1.push(R1);}else{p1.push(R1);}}else if(m1){m1.addContent(T1);m1.addContent(x1);}else{z.addContent(T1);z.addContent(x1);}}if(m1){m1._subItems.push({"settingspath":x1.getConfiguration()._settingspath,"itemId":x1.getId()});}z._subItems.push({"settingspath":x1.getConfiguration()._settingspath,"itemId":x1.getId()});}if(i===k.length-1){if(m1){t1();if(m1.isA("sap.m.Panel")){v1(z,m1);}else{w1(z,m1);}}s1();u1(z);}}else{if(i===0){n1=x1;o.renderControl(n1);n1.addStyleClass("sapUiIntegrationEditorTranslationPanel");continue;}if(x1.isA("sap.m.Panel")||x1.isA("sap.m.IconTabBar")){if(m1){if(x1.isA("sap.m.Panel")&&m1.isA("sap.m.Panel")){v1(z,m1);}else{w1(z,m1);}}var U1=0;if(x1.isA("sap.m.Panel")){U1=x1._level;}else if(x1.isA("sap.m.IconTabBar")){if(x1.getItems().length>0&&x1.getItems()[0]._level){U1=x1.getItems()[0]._level;}}if(U1==="1"){if(x1.isA("sap.m.IconTabBar")){if(i!==k.length-1||(i<k.length&&(k[i].isA("sap.m.IconTabBar")||k[i].isA("sap.m.Panel")))){var V1=z.getContent(),W1=false;if(V1.length>0){for(var l=0;l<V1.length;l++){if(V1[l].isA("sap.m.IconTabBar")){W1=true;}}}if(!W1){m1=x1.getItems()[0];x1.removeItem(x1.getItems()[0]);z.addContent(x1);}else{m1=x1.getItems()[0];}}}else{m1=x1;m1.addStyleClass("sapUiIntegrationEditorSubGroup");}}else{m1=null;if(z&&z.getContent().length>0){n1.addContent(z);}z=x1;z.addStyleClass("sapUiIntegrationEditorSubGroup");}if(i===k.length-1){s1();u1(z);}continue;}if(x1.isA("sap.m.ToolbarSpacer")){continue;}if(x1.isA("sap.m.FormattedText")){continue;}if(x1.isA("sap.m.Label")){if(m1){m1.addContent(x1);}else{z.addContent(x1);}continue;}if(x1.isOrigLangField){r1=x1;continue;}r1.addStyleClass("sapUiIntegrationFieldTranslationText");var L1=new H({items:[r1,x1]}).addStyleClass("notWrappingRow");if(m1){m1.addContent(L1);}else{z.addContent(L1);}if(i===k.length-1){if(m1){if(m1.isA("sap.m.Panel")){v1(z,m1);}else{w1(z,m1);}}n1.addContent(z);}}}}o.close("div");if(s&&e==="right"){o.renderControl(b);}}o.close("div");if(a.isReady()&&s&&e==="bottom"){o.renderControl(b);o.close("div");}}
});
l1.prototype.init=function(){this._ready=false;this._aFieldReadyPromise=[];this._oResourceBundle=c.getLibraryResourceBundle("sap.ui.integration");this._appliedLayerManifestChanges=[];this._currentLayerManifestChanges={};this._mDestinationDataProviders={};var m=new N({showIcon:false});m.addStyleClass("sapUiIntegrationEditorFieldMessageStrip");this.setAggregation("_messageStrip",m);k1=m.getId();this.setLanguage(c.getConfiguration().getLanguage());this._oLimitedInterface=new I(this,["getParameters","resolveDestination","request","getModel"]);};
l1.prototype.getParameters=function(){if(!this._isManifestReady){v.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.editor.Editor");return null;}var o=this._oEditorManifest.getProcessedParameters(),a={},k;for(k in o){a[k]=o[k].value;}return a;};
l1.prototype.resolveDestination=function(k){return this._oDestinations.getUrl(k);};
l1.prototype.isReady=function(){return this._ready;};
l1.prototype.hasPreview=function(){var o=this.getAggregation("_preview");if(o&&o.visible!==false){return true;}return false;};
l1.prototype.flattenData=function(o,s,a,b){b=b||"";a=a||[];if(typeof o==="object"){if(!o[s]){for(var n in o){this.flattenData(o[n],s,a,b+"/"+n);}}else{if(o.type){a.push({path:o.pathvalue||b.substring(1),value:o.pathvalue||"{context>"+b.substring(1)+"/value}",object:o});}else{a.push({path:b.substring(1),object:o});for(var n in o){this.flattenData(o[n],s,a,b+"/"+n);}}}}return a;};
l1.prototype.setJson=function(i,s){this._ready=false;if(f(i,this._preIdOrSettings)){return this;}this._preIdOrSettings=d(i,500);if(typeof i==="string"){try{i=JSON.parse(i);}catch(e){}}if(typeof i==="object"){if(i.manifestChanges){this._filterManifestChangesByLayer(i);}if(this._manifestModel){return;}if(this._oDesigntimeInstance){this._oDesigntimeInstance.destroy();}if(i.host){this.setProperty("host",i.host);}if(i.baseUrl){this.setProperty("baseUrl",i.baseUrl);}this._appliedLayerManifestChanges=i.manifestChanges;this.createManifest(i,s);}};
l1.prototype.createManifest=function(i,s){var b=this.getBaseUrl();var o={},m=i.manifest;this._isManifestReady=false;if(typeof m==="string"){o.manifestUrl=m;m=null;}if(this._oEditorManifest){this._oEditorManifest.destroy();}this.destroyAggregation("_extension");var a=Y.layers[this.getMode()];this._oEditorManifest=new X(this.getSection(),m,b,i.manifestChanges);this._oEditorManifest.load(o).then(function(){this._registerManifestModulePath();this._oInitialManifestModel=new J(this._oEditorManifest._oInitialJson);this.setProperty("json",this._oEditorManifest._oInitialJson,s);var e=this._oEditorManifest.oJson;var j=g({},e);this._beforeManifestModel=new J(j);if(a<Y.layers["translation"]&&this._currentLayerManifestChanges){e=Y.mergeDelta(e,[this._currentLayerManifestChanges],this.getSection());}this._manifestModel=new J(e);this._isManifestReady=true;this.fireManifestReady();var k=this._oEditorManifest.get("/sap.app/i18n");var l=this.getBaseUrl()+k;if(k&&E.getResourceBundleURL()!==l){E.setResourceBundleURL(l);}this._loadDefaultTranslations();this._createContextModel();if(this._oEditorManifest.getResourceBundle()){this._enhanceI18nModel(this._oEditorManifest.getResourceBundle());}return this._loadExtension().then(function(){this._initInternal();}.bind(this));}.bind(this));};
l1.prototype._registerManifestModulePath=function(){if(!this._oEditorManifest){return;}this._sAppId=this._oEditorManifest.get("/sap.app/id");if(this._sAppId){B.registerResourcePath(this._sAppId.replace(/\./g,"/"),this._oEditorManifest.getUrl()||"/");}else{v.error("sap.app/id entry in the manifest is mandatory");}};
l1.prototype._loadDefaultTranslations=function(){if(this._defaultTranslationsLoaded){return;}var j1=c.getLibraryResourceBundle("sap.ui.integration");var o=new W({bundle:j1});this.setModel(o,"i18n");this._oResourceBundle=j1;this._defaultTranslationsLoaded=true;};
l1.prototype._enhanceI18nModel=function(j1){var o=this.getModel("i18n");if(o.getResourceBundle().oUrlInfo.url!==j1.oUrlInfo.url){o.enhance(j1);this._oResourceBundle=o.getResourceBundle();}};
l1.prototype._loadExtension=function(){var e=this._oEditorManifest.get(this.getConfigurationPath()+"/extension")||this._oEditorManifest.get("/"+this.getSection()+"/extension");if(!e){v.info("Extension is not defined in manifest, do not load it.");return new Promise(function(a,b){a();});}var s=this._sAppId.replace(/\./g,"/")+"/"+e;return new Promise(function(a,b){sap.ui.require([s],function(i){var o=new i();o._setEditor(this,this._oLimitedInterface);this.setAggregation("_extension",o);a();}.bind(this),function(i){v.error("Failed to load "+e+". Check if the path is correct. Reason: "+i);b(i);});}.bind(this));};
l1.prototype.request=function(o){return this._oDataProviderFactory.create({request:o}).setAllowCustomDataType(true).getData();};
l1.prototype.initDestinations=function(a){var o=this.getHostInstance();if(a&&!o){v.error("Host with id '"+a+"' is not available during editor initialization. It must be available for host specific features to work.","Make sure that the host already exists, before assigning it to the editor.","sap.ui.integration.editor.Editor");}if(this._oDestinations){this._oDestinations.setHost(o);}else{var s=this.getConfigurationPath();this._oDestinations=new h(o,this._manifestModel.getProperty(s+"/destinations"));}};
l1.prototype.initDataProviderFactory=function(){if(this._oDataProviderFactory){this._oDataProviderFactory.destroy();}var e=this.getAggregation("_extension");this._oDataProviderFactory=new p({destinations:this._oDestinations,extension:e,editor:this});};
l1.prototype.getRuntimeUrl=function(s){var a=this._sAppId,b,e=s&&s.trim().replace(/^\//,"");if(a===null){v.error("The manifest is not ready so the URL can not be resolved. Consider using the 'manifestReady' event.","sap.ui.integration.editor.Editor");return null;}if(!a||s.startsWith("http://")||s.startsWith("https://")||s.startsWith("//")){return s;}b=a.replace(/\./g,"/");return sap.ui.require.toUrl(b)+"/"+e;};
l1.prototype.getBindingNamespaces=function(){var n={},e=this.getAggregation("_extension");if(e){n.extension={formatters:e.getFormatters()};}return n;};
l1.prototype.getHostInstance=function(){var s=this.getHost();if(!s){return null;}return c.byId(s);};
l1.prototype.setLanguage=function(s,b){if(!s||typeof s!=="string"){return this;}this._language=s.replaceAll('_','-');if(this.getLanguage()!=s){this._loadDefaultTranslations();}this.setProperty("language",s,b);if(!l1._languages[this._language]){this._language=this._language.split("-")[0];}if(!l1._languages[this._language]){v.warning("The language: "+s+" is currently unknown, some UI controls might show "+s+" instead of the language name.");}return this;};
l1.prototype.onAfterRendering=function(){if(this.getDomRef()){this._iZIndex=f1(this.getDomRef());w.setInitialZIndex(this._iZIndex);}};
l1.prototype._filterManifestChangesByLayer=function(m){var a=[],b=this,o={},e={":layer":Y.layers[this.getMode()]},i=Y.layers[b.getMode()];m.manifestChanges.forEach(function(j){var l=j.hasOwnProperty(":layer")?j[":layer"]:1000;if(l===Y.layers["translation"]){var k=b._language;if(k===""){k=c.getConfiguration().getLanguage().replaceAll('_','-');}var n={"texts":{}};delete j.texts;n.texts[k]={};Object.keys(j).forEach(function(s){if(s.charAt(0)==="/"){n.texts[k][s]=j[s];}else{n[s]=j[s];}});j=n;}if(l<i){a.push(j);o=g(o,j);}else if(l===i){e=j;}});m.manifestChanges=a;this._currentLayerManifestChanges=e;this._beforeLayerManifestChanges=o;};
l1.prototype._initInternal=function(){var a=this;var s=a.getConfigurationPath();var b=a._oEditorManifest.get(s+"/editor");if(!b){b=a._oEditorManifest.get("/"+a.getSection()+"/designtime");}var o=a._manifestModel.getProperty(s),e,i=a.getDesigntime();if(i){if(typeof i==="function"){e=new Promise(function(j,k){var l=new i();a._applyDesigntimeDefaults(l.getSettings());j(l);});}else if(typeof i==="object"){e=new Promise(function(j,k){sap.ui.require(["sap/ui/integration/Designtime"],function(D){var l=D.extend("test.Designtime");l.prototype.create=function(){return i;};var m=new l();a._applyDesigntimeDefaults(m.getSettings());j(m);});});}}else if(b){e=a.loadDesigntime().then(function(j){a._applyDesigntimeDefaults(j.getSettings());return j;});}else{e=Promise.resolve(a._createParameterDesigntime(o));}e.then(function(j){a._oDesigntimeInstance=j;a.initDestinations();a.initDataProviderFactory();if(a.getMode()==="admin"||a.getMode()==="all"){a._addDestinationSettings(o,a._oDesigntimeInstance);}a._settingsModel=new J(a._oDesigntimeInstance.getSettings());a.setModel(a._settingsModel,"currentSettings");a.setModel(a._settingsModel,"items");return a._loadValueContextInDesigntime();}).then(function(){a._applyDesigntimeLayers();return a._requestExtensionData();}).then(function(){a._requireFields().then(function(){a._startEditor();});});};
l1.prototype.loadDesigntime=function(){if(this._oDesigntime){return Promise.resolve(this._oDesigntime);}if(!this._oEditorManifest){return new Promise(function(a,b){this.attachManifestReady(function(){this.loadDesigntime().then(a,b);}.bind(this));}.bind(this));}if(!this._sAppId){return Promise.reject("App id not maintained");}return new Promise(function(a,b){var s=this._oEditorManifest.get(this.getConfigurationPath()+"/editor");if(!s){s=this._oEditorManifest.get("/"+this.getSection()+"/designtime");}var e=this._sAppId.replace(/\./g,"/")+"/"+s;if(e){sap.ui.require([e],function(o){o=new o();o._readyPromise(this._oLimitedInterface,this).then(function(){this._oDesigntime=o;a(o);}.bind(this));}.bind(this),function(){b({error:e+" not found"});});}else{b();}}.bind(this));};
l1.prototype.getConfigurationPath=function(){return"/"+this.getSection()+"/configuration";};
l1.prototype.getCurrentSettings=function(){var s=this._settingsModel.getProperty("/"),m={},a;if(s&&s.form&&s.form.items){for(var n in s.form.items){var i=s.form.items[n];if(i.editable&&i.visible){if(this.getMode()!=="translation"){if(i.translatable&&!i._changed&&i._translatedPlaceholder&&!this._currentLayerManifestChanges[i.manifestpath]){}else{if(i.valueItems){m[i.manifestpath.substring(0,i.manifestpath.lastIndexOf("/"))+"/valueItems"]=i.valueItems;}if(i.valueTokens){m[i.manifestpath.substring(0,i.manifestpath.lastIndexOf("/"))+"/valueTokens"]=i.valueTokens;}switch(i.type){case"string":if(!i.translatable){m[i.manifestpath]=i.value;}else if(i._hasDynamicValue){m[i.manifestpath]=i.value;this.deleteAllTranslationValuesInTexts(i.manifestpath);}else if(i._beforeValue&&(i._beforeValue.indexOf("{context>")===0||i._beforeValue.indexOf("{{parameters")===0)){m[i.manifestpath]=i.value;}break;case"group":break;case"object":case"object[]":if(i.value&&i.value!==""){m[i.manifestpath]=i.value;}break;default:m[i.manifestpath]=i.value;}}}else if(i.translatable&&i.value){m[i.manifestpath]=i.value;}if(i._next&&(this.getAllowSettings())){var b=typeof(i.visibleToUser)==="undefined"?true:i.visibleToUser;var e=typeof(i.editableToUser)==="undefined"?true:i.editableToUser;if(i._next.visible===!b){a=a||{};a[i._settingspath+"/visible"]=i._next.visible;}if(i._next.editable===!e){a=a||{};a[i._settingspath+"/editable"]=i._next.editable;}if(i._next.pageAdminValues){a=a||{};a[i._settingspath+"/pageAdminValues"]=i._next.pageAdminValues;}if(typeof i._next.allowDynamicValues==="boolean"&&this.getAllowDynamicValues()){a=a||{};a[i._settingspath+"/allowDynamicValues"]=i._next.allowDynamicValues;}}}}}if(this.getMode()==="translation"){delete m.texts;}else if(s.texts){m.texts=d(s.texts,500)||{};for(var l in m.texts){for(var k in m.texts[l]){if(typeof m.texts[l][k]==="object"){var j=m[k];if(!j||typeof j!=="object"||f(j,{})||f(j,[])){delete m.texts[l][k];}else if(Array.isArray(j)){var o=j.map(function(o1){return o1._dt?o1._dt._uuid||"":"";});for(var z in m.texts[l][k]){if(!Q(o,z)){delete m.texts[l][k][z];}}}else{var m1=j._dt?j._dt._uuid||"":"";if(m1!==""){var n1=m.texts[l][k][m1];if(!n1){delete m.texts[l][k];}else{m.texts[l][k]={};m.texts[l][k][m1]=n1;}}else{delete m.texts[l][k];}}}}if(f(m.texts[l],{})){delete m.texts[l];}}if(f(m.texts,{})){delete m.texts;}}m[":layer"]=Y.layers[this.getMode()];m[":errors"]=this.checkCurrentSettings()[":errors"];if(a){m[":designtime"]=a;}if(s[":designtime"]){m[":designtime"]=g(m[":designtime"],s[":designtime"]);}return m;};
l1.prototype.checkCurrentSettings=function(){var s=this._settingsModel.getProperty("/"),m={};if(s&&s.form&&s.form.items){for(var n in s.form.items){var i=s.form.items[n];if(i.editable){if((i.isValid||i.required)&&!(this.getMode()==="translation"&&i.translatable)){if(i.isValid){m[i.manifestpath]=i.isValid(i);}m[i.manifestpath]=true;var a=i.value;var b=i.type;if(b==="string"&&a===""){m[i.manifestpath]=a;}if((b==="date"||b==="datetime")&&isNaN(Date.parse(a))){m[i.manifestpath]=a;}if(b==="integer"){if(isNaN(parseInt(a))){m[i.manifestpath]=a;}else if(a<i.min||a>i.max){m[i.manifestpath]=a;}}if(b==="number"){if(isNaN(parseFloat(a))){m[i.manifestpath]=a;}else if(a<i.min||a>i.max){m[i.manifestpath]=a;}}}}}m[":layer"]=Y.layers[this.getMode()];}m[":errors"]=Object.values(m).indexOf(false)>-1;return m;};
l1.prototype._createContextModel=function(){var b=this.getHostInstance(),e=new J({}),i=new J([]);this.setModel(e,"context");this.setModel(i,"contextflat");e._aPendingPromises=[];i._getPathObject=function(s){var a=this.getData().filter(function(o){if(o.path===s){return true;}});return a.length?a[0]:null;};i._getValueObject=function(s){var a=this.getData()||[];a=a.filter(function(o){if(o.value===s||o.object.value===s){return true;}});return a.length?a[0]:null;};var j=new Promise(function(a,k){if(b&&b.getContext){var l=false;setTimeout(function(){if(l){return;}v.error("Editor context could not be determined with "+i1+".");l=true;a({});},i1);b.getContext().then(function(o){if(l){v.error("Editor context returned after more than "+i1+". Context is ignored.");}l=true;a(o||{});});}else{a({});}});j.then(function(o){var a=this._mergeContextData(o);e.setData(a);i.setData(this.flattenData(a,"label"));}.bind(this));e.getProperty=function(s,o){if(s&&!s.startsWith("/")&&!o){s="/"+s;}var a=this.resolve(s,o),k;if(a.endsWith("/value")){this._mValues=this._mValues||{};if(this._mValues.hasOwnProperty(a)){return this._mValues[a];}this._mValues[a]=undefined;k=U.timeoutPromise(b.getContextValue(a.substring(1)));k=k.then(function(l){this._mValues[a]=l;this.checkUpdate();}.bind(this)).catch(function(l){this._mValues[a]=null;this.checkUpdate();v.error("Path "+a+" could not be resolved. Reason: "+l);}.bind(this));this._aPendingPromises.push(k);return undefined;}else{return J.prototype.getProperty.apply(this,arguments);}};};
l1.prototype._mergeContextData=function(o){var a={};a["empty"]=l1._contextEntries.empty;for(var n in o){a[n]=o[n];}a["editor.internal"]=l1._contextEntries["editor.internal"];return a;};
l1.prototype._loadValueContextInDesigntime=function(){var o=this.getModel("context");var s=this._oDesigntimeInstance.getSettings();var i;if(s&&s.form&&s.form.items){i=JSON.stringify(s.form.items);}if(i){var a=/\{context\>[\/?\w+.]+\}/g;var b=i.match(a);var e;if(b&&b.length>0){b=b.filter(function(j){return j.endsWith("value}");});e=b.map(function(j){return j.substring("{context>".length,j.length-1);});e.forEach(function(j){o.getProperty(j);});return Promise.all(o._aPendingPromises).then(function(){o._aPendingPromises=[];});}}return Promise.resolve();};
l1.fieldMap={"string":"sap/ui/integration/editor/fields/StringField","string[]":"sap/ui/integration/editor/fields/StringListField","integer":"sap/ui/integration/editor/fields/IntegerField","number":"sap/ui/integration/editor/fields/NumberField","boolean":"sap/ui/integration/editor/fields/BooleanField","date":"sap/ui/integration/editor/fields/DateField","datetime":"sap/ui/integration/editor/fields/DateTimeField","object":"sap/ui/integration/editor/fields/ObjectField","object[]":"sap/ui/integration/editor/fields/ObjectListField","destination":"sap/ui/integration/editor/fields/DestinationField"};l1.Fields=null;
l1.prototype._requireFields=function(){if(l1.Fields){return Promise.resolve();}return new Promise(function(a){sap.ui.require(Object.values(l1.fieldMap),function(){l1.Fields={};for(var n in l1.fieldMap){l1.Fields[n]=arguments[Object.keys(l1.fieldMap).indexOf(n)];}a();});});};
l1.prototype._createDescription=function(o){var a=new q({src:"sap-icon://message-information",color:"Marker",size:"12px",useIconTooltip:false,visible:o.visible,objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});a.addStyleClass("sapUiIntegrationEditorDescriptionIcon");a.onmouseover=function(a){this._getPopover().getContent()[0].applySettings({text:o.description});this._getPopover().openBy(a);a.addDependent(this._getPopover());}.bind(this,a);a.onmouseout=function(a){this._getPopover().close();a.removeDependent(this._getPopover());}.bind(this,a);return a;};
l1.prototype._createMessageIcon=function(o){var a=o.getConfiguration();var m=new q({src:"sap-icon://message-information",size:"12px",visible:a.visible,useIconTooltip:false,objectBindings:{currentSettings:{path:"currentSettings>"+a._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});m.onmouseover=function(o){o._showMessage();}.bind(this,o);m.onmouseout=function(o){o._hideMessage();}.bind(this,o);m.addStyleClass("sapUiIntegrationEditorMessageIcon");return m;};
l1.prototype._createLabel=function(o){var l=new L({text:o.label,tooltip:o.tooltip||o.label,required:o.required&&o.editable||false,visible:o.visible,objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});l._cols=o.cols||2;if(o.layout){l._layout=o.layout;}l._sOriginalType=o.type;return l;};
l1.prototype._createSettingsButton=function(o){var a=o.getConfiguration();var s=new a1({icon:"{= ${currentSettings>_hasDynamicValue} ? 'sap-icon://display-more' : 'sap-icon://enter-more'}",type:"Transparent",tooltip:this._oResourceBundle.getText("EDITOR_FIELD_MORE_SETTINGS"),press:function(e){this._openSettingsDialog(200,e.oSource,o);}.bind(this),visible:a.visible,objectBindings:{currentSettings:{path:"currentSettings>"+a._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});return s;};
l1.prototype._getSettingsPanel=function(o){if(!o._oSettingsPanel){o._oSettingsPanel=new Z();}return o._oSettingsPanel;};
l1.prototype._openSettingsDialog=function(i,s,o){var a=this._getSettingsPanel(o);window.setTimeout(function(){a.setConfiguration(o.getConfiguration());var b=this.getAggregation("_preview");a.open(s,s,b,o.getHost(),o,o._applySettings.bind(o),o._cancelSettings.bind(o));}.bind(this),i||600);};
l1.prototype._getPopover=function(){if(this._oPopover){return this._oPopover;}var o=new t({text:""});o.addStyleClass("sapUiTinyMargin sapUiIntegrationEditorDescriptionText");this._oPopover=new R({showHeader:false,content:[o]});this._oPopover.addStyleClass("sapUiIntegrationEditorPopover");return this._oPopover;};
l1.prototype._createField=function(o){var a=new l1.Fields[o.type]({configuration:o,mode:this.getMode(),host:this.getHostInstance(),objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},visible:o.visible});this._aFieldReadyPromise.push(a._readyPromise.then(function(){if(o.require||o.validation||(o.validations&&o.validations.length>0)||(o.values&&o.values.data&&!o.values.data.json)){var m=this._createMessageIcon(a);a.setAssociation("_messageIcon",m);}if(o.description&&this.getMode()!=="translation"){a._descriptionIcon=this._createDescription(o);}if(o._changeDynamicValues){a._settingsButton=this._createSettingsButton(a);a._applyButtonStyles();}}.bind(this)));a._oValueBinding=this._settingsModel.bindProperty(o._settingspath+"/value");a._oValueBinding.attachChange(function(){if(!this._bIgnoreUpdates){o._changed=true;if(o._dependentFields&&o._dependentFields.length>0){this._updateEditor(o._dependentFields);}this._updatePreview();}}.bind(this));if(a.isFilterBackend()){var s=this._settingsModel.bindProperty(o._settingspath+"/suggestValue");s.attachChange(function(){var b=g({},o);b._cancel=false;this._addValueListModel(b,a);}.bind(this));}if(o.values){if(o.values.metadata){this._addMetadataModel(o,a);}if(o.type==="string[]"&&a.isFilterBackend()&&o.visualization&&o.visualization.type==="MultiInput"){a.setModel(new J({}),undefined);}else{this._addValueListModel(o,a);}}this._createDependentFields(o,a);a._cols=o.cols||2;if(o.layout){a._layout=o.layout;}a._oDataProviderFactory=this._oDataProviderFactory;a.setAssociation("_messageStrip",k1);a._previewPosition=this.getPreviewPosition();return a;};
l1.prototype._updateEditor=function(a){if(this._ready){if(a.length===0){return;}for(var i=0;i<a.length;i++){var o=a[i];o.config._cancel=true;}if(!this._oDataProviderFactory){return;}this._bIgnoreUpdates=true;for(var i=0;i<a.length;i++){var o=a[i];o.config._cancel=false;this._addValueListModel(o.config,o.field,500*i);}this._bIgnoreUpdates=false;}};
l1.prototype._updatePreview=function(){var o=this.getAggregation("_preview");if(o&&o.update){o.update();}};
l1.prototype._requestData=function(o,a){var b=this._oDataProviderFactory.create(o.values.data);b.bindObject({path:"items>/form/items"});b.bindObject({path:"currentSettings>"+o._settingspath});b.bindObject({path:"context>/"});var e=b.getData();e.then(function(m){if(o._cancel){o._values=[];this._settingsModel.setProperty(o._settingspath+"/_loading",false);return;}var s=o.values.data.path,z,m1=[];if(s&&s!=="/"){if(s.startsWith("/")){s=s.substring(1);}if(s.endsWith("/")){s=s.substring(0,s.length-1);}z=s.split("/");m1=G.get(z,m);}else{m1=m;}if(o.type==="object"||o.type==="object[]"){m1.forEach(function(x1){x1._dt={_editable:false};});}if(this.getMode()==="content"&&o.pageAdminValues&&o.pageAdminValues.length>0){var n1=o.pageAdminValues,o1=o.value,p1=o.valueItems,q1=[],r1=[],s1=[];this.prepareFieldsInKey(o);if(n1.length>0){for(var i=0;i<n1.length;i++){for(var j=0;j<m1.length;j++){var t1=this.getKeyFromItem(m1[j]);if(n1[i]===t1){q1.push(m1[j]);}}if(Array.isArray(o1)){for(var k=0;k<o1.length;k++){if(n1[i]===o1[k]){r1.push(o1[k]);}}for(var l=0;l<p1.length;l++){var u1=this.getKeyFromItem(p1[l]);if(n1[i]===u1){s1.push(p1[l]);}}}}if(r1.length>0){o.value=[];o.value=r1;}if(s1.length>0){o.valueItems=[];o.valueItems=s1;}}if(o.values.data.path&&o.values.data.path!=="/"){delete m[z];G.set(z,q1,m);}else{m=[];m=q1;}}var v1=a.getConfiguration();if(o.type==="string[]"){var w1=o.values.data.path;if(w1&&w1!=="/"){if(w1.startsWith("/")){w1=w1.substring(1);}if(w1.endsWith("/")){w1=w1.substring(0,w1.length-1);}var z=w1.split("/");var x1=G.get(z,m);if(Array.isArray(x1)){for(var n in x1){var y1=a.getKeyFromItem(x1[n]);if(Array.isArray(v1.value)&&v1.value.length>0&&Q(v1.value,y1)){x1[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_SELECTED");}else{x1[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_UNSELECTED");}}G.set(z,x1,m);}}else if(Array.isArray(m)){for(var n in m){var y1=a.getKeyFromItem(m[n]);if(Array.isArray(v1.value)&&v1.value.length>0&&Q(v1.value,y1)){m[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_SELECTED");}else{m[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_UNSELECTED");}}}}o._values=m;var z1=a.getModel();z1.setData(m);z1.checkUpdate(true);z1.firePropertyChange();this._settingsModel.setProperty(o._settingspath+"/_loading",false);a._hideValueState(true,true);if(o.type==="object"||o.type==="object[]"){a.mergeValueWithRequestResult(m1);}}.bind(this)).catch(function(i){this._settingsModel.setProperty(o._settingspath+"/_loading",false);var s=this._oResourceBundle.getText("EDITOR_BAD_REQUEST");if(Array.isArray(i)&&i.length>0){s=i[0];var j=i[1];if(j){var k;if(j.responseJSON){k=j.responseJSON.error;}else if(j.responseText){if(U.isJson(j.responseText)){k=JSON.parse(j.responseText).error;}else{s=j.responseText;}}if(k){s=(k.code||k.errorCode||j.status)+": "+k.message;}}}else if(typeof(i)==="string"){s=i;}var l=a.getModel();l.firePropertyChange();if(o.type==="object"||o.type==="object[]"){a.mergeValueWithRequestResult();}a._showValueState("error",s,true);}.bind(this));};
l1.prototype._requestExtensionData=function(){var e=this.getAggregation("_extension");if(!e){v.info("Extension is not defined or created, do not load data of it.");return new Promise(function(k,l){k();});}var b=false;var o={};var a=this._oEditorManifest.get(this.getConfigurationPath()+"/data/extension");var s;if(a){b=true;s=this._oEditorManifest.get(this.getConfigurationPath()+"/data/path");o={"extension":a};if(s){o.path=s;}}else{a=this._oEditorManifest.get("/"+this.getSection()+"/data/extension");if(a){b=true;s=this._oEditorManifest.get("/"+this.getSection()+"/data/path");o={"extension":a};if(s){o.path=s;}}}if(!b){v.info("Extension data is not defined in manifest, do not load data of it.");return new Promise(function(k,l){k();});}var i=this._oDataProviderFactory.create(o);var j=i.getData();return j.then(function(k){var l=e.getModel();if(!l){l=new J(k||{});e.setModel(l,undefined);}else{l.setData(k);}l.checkUpdate(true);}).catch(function(k){var l=this._oResourceBundle.getText("EDITOR_BAD_REQUEST");if(Array.isArray(k)&&k.length>0){l=k[0];var m=k[1];if(m){var n;if(m.responseJSON){n=m.responseJSON.error;}else if(m.responseText){if(U.isJson(m.responseText)){n=JSON.parse(m.responseText).error;}else{l=m.responseText;}}if(n){l=(n.code||n.errorCode||m.status)+": "+n.message;}}}else if(typeof(k)==="string"){l=k;}v.error("Request extension data failed, "+l);}.bind(this));};
l1.prototype._addValueListModel=function(o,a,n){if(o.values){var b;if(o.values.data){if(this._oDataProviderFactory){b=a.getModel();if(!b){b=new J({});a.setModel(b,undefined);}this._settingsModel.setProperty(o._settingspath+"/_loading",true);if(!n){this._requestData(o,a);}else{setTimeout(function(){this._requestData(o,a);}.bind(this),n);}}a.bindObject({path:o.values.data.path||"/"});}else if(this.getAggregation("_extension")){b=this.getAggregation("_extension").getModel();if(b&&this.getMode()==="content"&&o.pageAdminValues&&o.pageAdminValues.length>0){this.prepareFieldsInKey(o);var e=o.values.path;if(e.length>1){e=e.substring(1);}var i=G.get([e],b.getData()),k=o.pageAdminValues,l=[];for(var m=0;m<k.length;m++){for(var j=0;j<i.length;j++){var s=this.getKeyFromItem(i[j]);if(k[m]===s){l.push(i[j]);}}}delete i[e];G.set(e,l,i);b.setData(i);}a.bindObject({path:o.values.path||"/"});a.setModel(b,undefined);}}};
l1.prototype._addMetadataModel=function(o,a){if(o.values&&o.values.metadata){var b={"synchronizationMode":"None"};b=g(b,o.values.metadata.request);var e={url:b.serviceUrl};var i=Promise.resolve(e);if(this._oDestinations){i=this._oDestinations.process(e);}i.then(function(j){if(!j.url.endsWith("/")){j.url=j.url+"/";}b.serviceUrl=j.url;var m=new O(b);m.oMetaModel.fetchData().then(function(k){a.setModel(new J(k),"meta");});});}};
l1.prototype._createDependentFields=function(o,a){if(o.values){var s=JSON.stringify(o.values.data);if(s){var b=/parameters\.([^\}\}]+)|destinations\.([^\}\}]+)|\{items\>[\/?\w+]+\}/g,e=s.match(b);if(e){for(var i=0;i<e.length;i++){var j="/value";var k=this.getConfigurationPath();if(e[i].indexOf("destinations.")===0||e[i].indexOf("parameters.")===0){if(e[i].indexOf("destinations.")===0){j="/name";}k=k+"/"+e[i].replace(".","/")+j;}else if(e[i].indexOf("{items>")===0){k=k+"/parameters/"+e[i].slice(7,-1);}var l=this._mItemsByPaths[k];if(l){if(l._settingspath===o._settingspath){o=g({},o);}l._dependentFields=l._dependentFields||[];l._dependentFields.push({field:a,config:o});}}}}}};
l1.prototype.getBeforeLayerChange=function(m){if(!this._beforeLayerManifestChanges){this._beforeLayerManifestChanges={};}return this._beforeLayerManifestChanges[m];};
l1.prototype.getTranslationValueInTexts=function(l,m){var s="/texts/"+l;var o=this._settingsModel.getProperty(s)||{};return o[m];};
l1.prototype.deleteAllTranslationValuesInTexts=function(m){var a=this;var o=a._settingsModel.getData();if(!o||!o.texts){return;}var s="/texts";var b=d(o.texts,500);for(var n in b){if(b[n][m]){delete b[n][m];}}this._settingsModel.setProperty(s,b);};
l1.prototype._handleITBValidation=function(e,i,s){var j1=e._oResourceBundle;if(i.getItems().length>0&&i._oExpandButton){var a=i._oExpandButton;var b=null;if(s==="Error"){b=j1.getText("EDITOR_GROUP_ERRORS");a.setIcon("sap-icon://message-error");a.addStyleClass("errorBTNImage");}else if(s==="Warning"){b=j1.getText("EDITOR_GROUP_WARNINGS");a.setIcon("sap-icon://message-warning");a.addStyleClass("warningBTNImage");}a.setTooltip(null);a.addEventDelegate({onAfterRendering:function(o){var k=document.getElementById(a.getId());k.setAttribute("aria-label","With validation errors");k.setAttribute("title","");}});a.setEnabled(false);a.addStyleClass("errorBTN").addStyleClass("errorBTNDisabled");var j=a.getParent().getParent().getParent();var m=c.byId(j.getId()+"_strip");a.addEventDelegate({onmouseover:function(){m.setVisible(true);m.setType(s);m.setText(b);},onmouseout:function(){m.setVisible(false);}},e);}};
l1.prototype._delayHandleITBValidation=function(e,i,s){var a=setInterval(function(){if(i._oExpandButton){e._handleITBValidation(e,i,s);clearInterval(a);}},50);};
l1.prototype._addItem=function(o){var m=this.getMode(),a=this;if(this.getAllowDynamicValues()===false||!o.allowDynamicValues){o.allowDynamicValues=false;}if(this.getAllowSettings()===false){o.allowSettings=false;}o.__cols=o.cols||2;if(o.visible===false||(!o.translatable&&m==="translation"&&o.type!=="group")){return;}if(o.type==="group"){o.expanded=o.expanded!==false;if(o.visualization&&o.visualization.type==="Tab"){var b=new c1({expandable:o.expandable!==false,visible:o.visible,expanded:"{currentSettings>expanded}",objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},select:function(v1){var w1=v1.getSource(),x1=w1.getSelectedKey(),y1=w1.getItems(),z1=w1.getExpanded(),A1=false;for(var n=0;n<y1.length;n++){if(!z1){A1=true;}else if(y1[n].getId()!==x1){A1=true;}else if(y1[n].getId()===x1){A1=false;}if(A1){var B1=false,C1="None";if(y1[n]._subItems&&y1[n]._subItems.length>0){var D1=y1[n].getModel("currentSettings");for(var i=0;i<y1[n]._subItems.length;i++){var E1=y1[n]._subItems[i].settingspath;var F1=c.byId(y1[n]._subItems[i].itemId);if(D1.getProperty(E1+"/hasError")===true&&F1.getVisible()){B1=true;var G1=D1.getProperty(E1+"/errorType");if(G1==="Error"){C1="Error";break;}else if(G1==="Warning"&&C1!=="Error"){C1="Warning";}}}D1.setProperty("hasError",B1,w1.getBindingContext("currentSettings"));D1.setProperty("errorType",C1,w1.getBindingContext("currentSettings"));}if(B1){var H1=new d1(),I1=y1[n];if(I1.getItems().length>0){I1.removeAllItems();}I1.addItem(H1);a._handleITBValidation(a,I1,C1);if(I1._oExpandButton===undefined){a._delayHandleITBValidation(a,I1,C1);}else{a._handleITBValidation(a,I1,C1);}}}else if(y1[n].getItems().length>0){y1[n].removeItem(y1[n].getItems()[0]);if(y1[n]._oExpandButton){y1[n]._oExpandButton.visible=false;}var J1=w1.getParent().getParent().getAggregation("_messageStrip");if(J1===null){J1=c.byId(k1);}y1[n].addContent(J1);}}}});var e=new d1({text:o.label,visible:o.visible,objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});b.addItem(e);b.setBackgroundDesign("Transparent");b.setHeaderBackgroundDesign("Transparent");b.addStyleClass("sapUiIntegrationEditorSubGroup");if(m!=="translation"){var j=new N({id:b.getId()+"_strip",showIcon:false,visible:false});j.addStyleClass("sapUiIntegrationEditorTabMessageStrip");b._messageStrip=j;}this.addAggregation("_formContent",b);e._level=o.level||0;if(o.hint){this._addHint(o.hint);}return;}else{var k=new P({headerText:o.label,visible:o.visible,expandable:o.expandable!==false,expanded:"{currentSettings>expanded}",width:"auto",backgroundDesign:"Transparent",objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},expand:function(n){var v1=n.getSource();var w1=n.getParameter("expand");var x1=v1._level==="1"?v1.getParent().getParent().getAggregation("_messageStrip"):v1.getParent().getAggregation("_messageStrip");if(x1===null){x1=c.byId(k1);}if(!w1&&v1._level==="1"){v1.getParent().addContent(x1);v1.getParent().focus();}else{v1.addContent(x1);v1.focus();}if(!w1&&v1._subItems&&v1._subItems.length>0){var y1=v1.getModel("currentSettings");var z1=false;var A1="None";for(var i=0;i<v1._subItems.length;i++){var B1=v1._subItems[i].settingspath;var C1=c.byId(v1._subItems[i].itemId);if(y1.getProperty(B1+"/hasError")===true&&C1.getVisible()){z1=true;var D1=y1.getProperty(B1+"/errorType");if(D1==="Error"){A1="Error";break;}else if(D1==="Warning"&&A1!=="Error"){A1="Warning";}}}y1.setProperty("hasError",z1,v1.getBindingContext("currentSettings"));y1.setProperty("errorType",A1,v1.getBindingContext("currentSettings"));}}});if(m!=="translation"){var j1=this._oResourceBundle;var l=new N({showIcon:false,visible:"{= !${currentSettings>expanded} && ${currentSettings>hasError} === true}",text:{path:'currentSettings>errorType',formatter:function(i){var n="";switch(i){case"Error":n=j1.getText("EDITOR_GROUP_ERRORS");break;case"Warning":n=j1.getText("EDITOR_GROUP_WARNINGS");break;default:}return n;}},type:"{currentSettings>errorType}",objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath}}});if(o.level!=="1"){l.setModel(this._settingsModel,"currentSettings");}l.addStyleClass("sapUiIntegrationEditorPanelMessageStrip");k._messageStrip=l;}this.addAggregation("_formContent",k);k._cols=o.cols||2;k._level=o.level||0;if(o.hint){this._addHint(o.hint);}var s={onAfterRendering:function(i){var n=document.getElementById(k.getId());n.setAttribute("aria-label",o.label);var v1=i.srcControl;var w1=v1._messageStrip;if(v1._level!=="1"&&w1){w1.rerender();}}};k.addEventDelegate(s);return;}}if(o.type==="separator"){var z=new S();this.addAggregation("_formContent",z);return;}var m1=null;var n1=c.getConfiguration().getLanguage().replaceAll('_','-');if(m==="translation"){if(o.type!=="string"){return;}if((typeof o.value==="string"&&o.value.indexOf("{")===0)||typeof o.values!=="undefined"){return;}o._language={value:o.value};o.cols=1;delete o.values;var o1=d(o,500);o1._settingspath+="/_language";o1.editable=false;o1.required=false;if(!l1._languages[n1]&&n1.indexOf("-")>-1){n1=n1.substring(0,n1.indexOf("-"));}if(l1._languages[n1]){var p1=this.getTranslationValueInTexts(n1,o.manifestpath);if(p1){o1.value=p1;}}if(!o1.value){o1.value="-";}var q1=this._createLabel(o1);this.addAggregation("_formContent",q1);var r1=this._createField(o1);r1.isOrigLangField=true;this.addAggregation("_formContent",r1);o.editable=o.visible=o.translatable;n1=this._language;if(!this.getBeforeLayerChange(o.manifestpath)){o.value=o._translatedValue||"";}var p1=this.getTranslationValueInTexts(n1,o.manifestpath);if(p1){o.value=p1;}o.label=o._translatedLabel||"";o.required=false;var s1=this._createField(o);this.addAggregation("_formContent",s1);}else{m1=this._createLabel(o);this.addAggregation("_formContent",m1);var t1=this.getBeforeLayerChange(o.manifestpath);if(t1){o._beforeLayerChange=t1;}if(this._currentLayerManifestChanges&&this._currentLayerManifestChanges[o.manifestpath]){o.value=this._currentLayerManifestChanges[o.manifestpath];o._beforeLayerChange=o.value;}if(o.type==="string"){n1=this._language;var p1=this.getTranslationValueInTexts(n1,o.manifestpath);if(p1){o.value=p1;}}var u1=this._createField(o);this.addAggregation("_formContent",u1);}if(o.hint&&(!o.cols||o.cols===2)){this._addHint(o.hint);}o.cols=o.__cols;delete o.__cols;};
l1.prototype._createHint=function(s){s=s.replace(/<a href/g,"<a target='blank' href");var o=new K({htmlText:s});return o;};
l1.prototype._addHint=function(s){var o=this._createHint(s);this.addAggregation("_formContent",o);};
l1.prototype._getCurrentLanguageSpecificText=function(k){var l=this._language;if(this._oTranslationBundle){var s=this._oTranslationBundle.getText(k,[],true);if(s===undefined){return"";}return s;}if(!l){return"";}var i=this._oEditorManifest.get("/sap.app/i18n");if(!i){return"";}if(typeof i==="string"){var a=[l];if(l.indexOf("-")>-1){a.push(l.substring(0,l.indexOf("-")));}if(!Q(a,"en")){a.push("en");}this._oTranslationBundle=x.create({url:this.getBaseUrl()+i,async:false,locale:l,supportedLocales:a,fallbackLocale:"en"});return this._getCurrentLanguageSpecificText(k);}};
l1.prototype._startEditor=function(){var o=this.getAggregation("_formContent");if(o&&o.length>0){this.destroyAggregation("_formContent");}var s=this._settingsModel.getData();var i;if(s.form&&s.form.items){i=s.form.items;var a=false;for(var m in i){var b=i[m];if(b.type==="group"&&b.level!=="1"){break;}else if(b.visible){a=true;break;}}if(a){i=g({generalPanel:{type:"group",translatable:true,expanded:true,label:this._oResourceBundle.getText("EDITOR_PARAMETERS_GENERALSETTINGS"),_settingspath:"/form/items/generalPanel"}},i);s.form.items=i;this._settingsModel.setData(s);}}var e=this._settingsModel.getProperty("/");this._mItemsByPaths={};if(e.form&&e.form.items){i=e.form.items;var l=this._language||this.getLanguage()||c.getConfiguration().getLanguage().replaceAll('_','-');if(this.getMode()==="translation"){this._addItem({type:"group",translatable:true,expandable:false,expanded:true,label:this._oResourceBundle.getText("EDITOR_ORIGINALLANG")+": "+l1._languages[l]});}for(var n in i){var b=i[n];if(b){b.label=b.label||n;var j;if(b.manifestpath){this._mItemsByPaths[b.manifestpath]=b;if(this.getMode()!=="translation"){j=this._currentLayerManifestChanges[b.manifestpath];}}b._changed=j!==undefined&&this.getMode()!=="translation";if(b.values){b.translatable=false;}b._beforeValue=this._getManifestBeforelValue(b.manifestpath);if(b.type==="string"){b._translatedDefaultPlaceholder=this._getManifestDefaultValue(b.manifestpath);var k=null,z=b._translatedDefaultPlaceholder;if(z){if(this._isValueWithParameterSyntax(z)){b.translatable=false;}if(this._isValueWithHandlebarsTranslation(z)){k=z.substring(2,z.length-2);}else if(z.startsWith("{i18n>")){k=z.substring(6,z.length-1);}if(k){b.translatable=true;}else if(b.translatable&&this.getMode()==="translation"&&!this.getBeforeLayerChange(b.manifestpath)){b._translatedValue=b._translatedDefaultPlaceholder;b.value=b._translatedValue;}}b._translatedPlaceholder=b._beforeValue;z=b._translatedPlaceholder;if(z){if(this._isValueWithParameterSyntax(z)){b.translatable=false;}if(this._isValueWithHandlebarsTranslation(z)){k=z.substring(2,z.length-2);}else if(z.startsWith("{i18n>")){k=z.substring(6,z.length-1);}}if(b.value&&(b.value.indexOf("{context>")===0||b.value.indexOf("{{parameters")===0)){this.deleteAllTranslationValuesInTexts(b.manifestpath);k=null;}var m1=this.getTranslationValueInTexts(l,b.manifestpath);if(k){b._translatedValue=this.getModel("i18n").getResourceBundle().getText(k);if(b._changed){b.value=j;}else if(b.value===b._translatedDefaultPlaceholder){b.value=b._translatedValue;}if(this.getMode()==="translation"){var n1=this._getCurrentLanguageSpecificText(k);if(n1!==""){b._translatedValue=n1;}}else if(m1){b.value=m1;}}else if(this.getMode()!=="translation"&&b.translatable&&m1){b.value=m1;}if(this.getMode()==="translation"){if(this._isValueWithHandlebarsTranslation(b.label)){b._translatedLabel=this._getCurrentLanguageSpecificText(b.label.substring(2,b.label.length-2),true);}else if(b.label&&b.label.startsWith("{i18n>")){b._translatedLabel=this._getCurrentLanguageSpecificText(b.label.substring(6,b.label.length-1),true);}}}else if(b.type==="string[]"){var o1=b.manifestpath.substring(0,b.manifestpath.lastIndexOf("/"))+"/valueItems";var p1=this._manifestModel.getProperty(o1);if(p1){b.valueItems=p1;}var q1=b.manifestpath.substring(0,b.manifestpath.lastIndexOf("/"))+"/valueTokens";var r1=this._manifestModel.getProperty(q1);if(r1){b.valueTokens=r1;}}else if(typeof b.value==="object"&&b.type==="object"){if(typeof b.value._editable==="boolean"){b.value._dt={"_editable":b.value._editable};delete b.value._editable;}}else if(Array.isArray(b.value)&&b.value.length>0&&b.type==="object[]"){b.value.forEach(function(v1){if(typeof v1._editable==="boolean"){v1._dt={"_editable":v1._editable};delete v1._editable;}});}if(b.label&&this._isValueWithHandlebarsTranslation(b.label)){var s1=b.label.substring(2,b.label.length-2);if(s1){b.label=this.getModel("i18n").getResourceBundle().getText(s1);}}}}}for(var n in i){var b=i[n];this._addItem(b);}var t1=this._settingsModel.getProperty("/form/height")!==undefined?this._settingsModel.getProperty("/form/height"):"350px",u1=this._settingsModel.getProperty("/form/width")!==undefined?this._settingsModel.getProperty("/form/width"):"100%";if(this.getProperty("height")===""){this.setProperty("height",t1);document.body.style.setProperty("--sapUiIntegrationEditorFormHeight",t1);}if(this.getProperty("width")===""){this.setProperty("width",u1);document.body.style.setProperty("--sapUiIntegrationEditorFormWidth",u1);}if(this.getMode()!=="translation"){Promise.resolve(this._initPreview()).then(function(){Promise.all(this._aFieldReadyPromise).then(function(){this._ready=true;this.fireReady();}.bind(this));}.bind(this));}else{Promise.all(this._aFieldReadyPromise).then(function(){this._ready=true;this.fireReady();}.bind(this));}};
l1.prototype.setHeight=function(s){if(s){this.setProperty("height",s);document.body.style.setProperty("--sapUiIntegrationEditorFormHeight",s);}};
l1.prototype.setWidth=function(s){if(s){this.setProperty("width",s);document.body.style.setProperty("--sapUiIntegrationEditorFormWidth",s);}};
l1.prototype.destroy=function(){if(this._oPopover){this._oPopover.destroy();}if(this._oDesigntimeInstance){this._oDesigntimeInstance.destroy();}var o=this.getAggregation("_preview");if(o&&o.destroy){o.destroy();}var m=c.byId(k1);if(m){m.destroy();}this._manifestModel=null;this._beforeManifestModel=null;this._oInitialManifestModel=null;this._settingsModel=null;C.prototype.destroy.apply(this,arguments);};
l1.prototype._initPreview=function(){return new Promise(function(a,b){a();});};
l1.prototype._applyDesigntimeDefaults=function(s){s=s||{};s.form=s.form||{};s.form.items=s.form.items||{};var i=s.form.items||s.form.items;for(var n in i){var o=i[n];if(o.manifestpath){o.value=this._manifestModel.getProperty(o.manifestpath);}if(o.visible===undefined||o.visible===null){o.visible=true;}if(o.editable===undefined||o.editable===null){o.editable=true;}if(this.getMode()!=="admin"){if(o.visibleToUser!==undefined){o.visible=o.visibleToUser;}if(o.editableToUser!==undefined){o.editable=o.editableToUser;}}if(typeof o.translatable!=="boolean"){o.translatable=false;}if(!o.label){o.label=n;}if(!o.type||o.type==="enum"){o.type="string";}if(o.value===undefined||o.value===null){switch(o.type){case"boolean":o.value=false;break;case"integer":case"number":o.value=0;break;case"string[]":o.value=[];break;case"object":o.value=undefined;break;case"object[]":o.value=undefined;break;default:o.value="";}}if(o.type==="group"){if(o.visible===undefined||o.value===null){o.visible=true;}}o._settingspath="/form/items/"+n;}};
l1.prototype._applyDesigntimeLayers=function(s){var o={};var a={};if(this._appliedLayerManifestChanges&&Array.isArray(this._appliedLayerManifestChanges)){for(var i=0;i<this._appliedLayerManifestChanges.length;i++){var b=this._appliedLayerManifestChanges[i][":designtime"];if(b){var k=Object.keys(b);for(var j=0;j<k.length;j++){var e=b[k[j]];if(typeof e==="object"){a[k[j]]=g(a[k[j]],e);continue;}this._settingsModel.setProperty(k[j],e);}}var l=this._appliedLayerManifestChanges[i]["texts"];if(l){o=g(o,l);}}}if(this._currentLayerManifestChanges){var b=this._currentLayerManifestChanges[":designtime"];if(b){var k=Object.keys(b);for(var j=0;j<k.length;j++){var m=k[j],e=b[m];n=m.substring(0,m.lastIndexOf("/")+1)+"_next";if(typeof e==="object"){a[m]=g(a[m],e);continue;}if(!this._settingsModel.getProperty(n)){this._settingsModel.setProperty(n,{});}var n=m.substring(0,m.lastIndexOf("/")+1)+"_next",z=m.substring(m.lastIndexOf("/")+1);this._settingsModel.setProperty(n+"/"+z,e);}}var m1=this._currentLayerManifestChanges["texts"];if(m1){o=g(o,m1);}}if(!f(o,{})){this._settingsModel.setProperty("/texts",o);}if(!f(a,{})){this._settingsModel.setProperty("/:designtime",a);}};
l1.prototype._createParameterDesigntime=function(o){var s={},b=this.getConfigurationPath()+"/parameters",m=this.getMode();if(o&&o.parameters){s.form=s.form||{};s.form.items=s.form.items||{};var i=s.form.items;Object.keys(o.parameters).forEach(function(n){i[n]=g({manifestpath:b+"/"+n+"/value",editable:(m!=="translation"),_settingspath:"/form/items/"+n},o.parameters[n]);var a=i[n];if(!a.type){a.type="string";}if(!a.hasOwnProperty("visible")){a.visible=true;}});}return new D(s);};
l1.prototype._addDestinationSettings=function(o){var s=this._oDesigntimeInstance.getSettings(),i=this.getConfigurationPath()+"/destinations";s.form=s.form||{};s.form.items=s.form.items||{};if(s&&o&&o.destinations){if(!s.form.items["destination.group"]){s.form.items["destination.group"]={label:this._oResourceBundle.getText("EDITOR_DESTINATIONS")||"Destinations",type:"group",expanded:true,visible:true,_settingspath:"/form/items/destination.group"};}var j=s.form.items,k=this.getHostInstance();Object.keys(o.destinations).forEach(function(n){j[n+".destinaton"]=g({manifestpath:i+"/"+n+"/name",visible:true,type:"destination",editable:true,allowDynamicValues:false,allowSettings:false,value:o.destinations[n].name,defaultValue:o.destinations[n].defaultUrl,_settingspath:"/form/items/"+[n+".destinaton"],_values:[],_destinationName:n},o.destinations[n]);if(typeof j[n+".destinaton"].label==="undefined"){j[n+".destinaton"].label=n;}if(k){j[n+".destinaton"]._loading=true;}});var l=false;if(k){this.getHostInstance().getDestinations().then(function(a){l=true;Object.keys(o.destinations).forEach(function(n){j[n+".destinaton"]._values=a;j[n+".destinaton"]._loading=false;this._settingsModel.checkUpdate(true);}.bind(this));}.bind(this)).catch(function(){return this.getHostInstance().getDestinations();}.bind(this)).then(function(b){if(l){return;}Object.keys(o.destinations).forEach(function(n){j[n+".destinaton"]._values=b;j[n+".destinaton"]._loading=false;this._settingsModel.checkUpdate(true);}.bind(this));}.bind(this)).catch(function(e){Object.keys(o.destinations).forEach(function(n){j[n+".destinaton"]._loading=false;this._settingsModel.checkUpdate(true);}.bind(this));v.error("Can not get destinations list from '"+k.getId()+"'.");}.bind(this));}}};
l1.prototype._getManifestDefaultValue=function(s){return this._oInitialManifestModel.getProperty(s);};
l1.prototype._getManifestBeforelValue=function(s){return this._beforeManifestModel.getProperty(s);};
l1.prototype._isValueWithHandlebarsTranslation=function(a){if(typeof a==="string"){return!!a.match(g1);}return false;};
l1.prototype._isValueWithParameterSyntax=function(a){if(typeof a==="string"){return!!a.match(h1);}return false;};
l1.prototype.prepareFieldsInKey=function(o){this._sKeySeparator=o.values.keySeparator;if(!this._sKeySeparator){this._sKeySeparator="#";}var k=o.values.item.key;this._aFields=k.split(this._sKeySeparator);for(var n in this._aFields){if(this._aFields[n].startsWith("{")){this._aFields[n]=this._aFields[n].substring(1);}if(this._aFields[n].endsWith("}")){this._aFields[n]=this._aFields[n].substring(0,this._aFields[n].length-1);}}};
l1.prototype.getKeyFromItem=function(i){var s="";this._aFields.forEach(function(a){s+=i[a].toString()+this._sKeySeparator;}.bind(this));if(s.endsWith(this._sKeySeparator)){s=s.substring(0,s.length-this._sKeySeparator.length);}return s;};
l1._contextEntries={empty:{label:j1.getText("EDITOR_CONTEXT_EMPTY_VAL"),type:"string",description:j1.getText("EDITOR_CONTEXT_EMPTY_DESC"),placeholder:"",value:""},"editor.internal":{label:j1.getText("EDITOR_CONTEXT_EDITOR_INTERNAL_VAL"),todayIso:{type:"string",label:j1.getText("EDITOR_CONTEXT_EDITOR_TODAY_VAL"),description:j1.getText("EDITOR_CONTEXT_EDITOR_TODAY_DESC"),tags:[],placeholder:j1.getText("EDITOR_CONTEXT_EDITOR_TODAY_VAL"),customize:["format.dataTime"],value:"{{parameters.TODAY_ISO}}"},nowIso:{type:"string",label:j1.getText("EDITOR_CONTEXT_EDITOR_NOW_VAL"),description:j1.getText("EDITOR_CONTEXT_EDITOR_NOW_DESC"),tags:[],placeholder:j1.getText("EDITOR_CONTEXT_EDITOR_NOW_VAL"),customize:["dateFormatters"],value:"{{parameters.NOW_ISO}}"},currentLanguage:{type:"string",label:j1.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),description:j1.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),tags:["technical"],customize:["languageFormatters"],placeholder:j1.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),value:"{{parameters.LOCALE}}"}}};l1._languages={};
l1._appendThemeVars=function(){var a=["sapUiButtonHoverBackground","sapUiBaseBG","sapUiContentLabelColor","sapUiTileSeparatorColor","sapUiHighlight","sapUiListSelectionBackgroundColor","sapUiNegativeText","sapUiCriticalText","sapUiPositiveText","sapUiChartScrollbarBorderColor"];var m=F.get({name:a,callback:function(b){}});if(m){for(var n in m){document.body.style.setProperty("--"+n,m[n]);}}};
l1.init=function(){this.init=function(){};l1._appendThemeVars();c.attachThemeChanged(function(){l1._appendThemeVars();});var s=sap.ui.require.toUrl("sap.ui.integration.editor.css.Editor".replace(/\./g,"/")+".css");A(s);B.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(o){l1._languages=o;});};
l1.init();return l1;});
sap.ui.predefine('sap/ui/integration/editor/EditorResourceBundles',["sap/base/util/LoaderExtensions","sap/base/i18n/ResourceBundle","sap/base/util/includes"],function(L,R,i){"use strict";var E=(function(){var _,a,b;L.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(o){a=o;});function c(){_=[];for(var p in a){var r;if(b){var f=[p];if(p.indexOf("-")>-1){f.push(p.substring(0,p.indexOf("-")));}if(!i(f,"en")){f.push("en");}r=R.create({url:b,async:false,locale:p,supportedLocales:f});}_[p]={"language":a[p],"resourceBundle":r};}return _;}return{getResourceBundleURL:function(){return b;},setResourceBundleURL:function(r){b=r;},getInstance:function(){if(!_){_=c();}return _;}};})();return E;});
sap.ui.predefine('sap/ui/integration/editor/Extension',["sap/ui/integration/library","sap/base/Log","sap/ui/base/ManagedObject"],function(l,L,M){"use strict";
var E=M.extend("sap.ui.integration.editor.Extension",{metadata:{library:"sap.ui.integration",properties:{formatters:{type:"object"}}}});
E.prototype.init=function(){this._oEditorInterface=null;this._oEditor=null;};
E.prototype.exit=function(){this._oEditorInterface=null;this._oEditor=null;};
E.prototype.setFormatters=function(f){this.setProperty("formatters",f);if(!this._oEditor){return;}if(this._oEditor.getAggregation("_extension")!==this){L.error("Extension formatters must be set before the initialization of the editor. Do this inside Extension#init().");}};
E.prototype.onEditorReady=function(){};
E.prototype.getEditor=function(){return this._oEditorInterface;};
E.prototype._setEditor=function(e,o){this._oEditor=e;this._oEditorInterface=o;};
return E;});
sap.ui.predefine('sap/ui/integration/editor/Manifest',["sap/ui/integration/util/Manifest","./Merger"],function(B,M){"use strict";
var a=B.extend("sap.ui.integration.editor.Manifest");
a.prototype.mergeDeltaChanges=function(m){return M.mergeDelta(m,this._aChanges,this._sSection);};
return a;});
sap.ui.predefine('sap/ui/integration/editor/Merger',["sap/base/util/merge","sap/ui/model/json/JSONModel","sap/ui/core/Core","sap/base/util/deepClone"],function(m,J,C,d){"use strict";var M={layers:{"admin":0,"content":5,"translation":10,"all":20},mergeManifestPathChanges:function(o,c){Object.keys(c).forEach(function(s){if(s.charAt(0)==="/"){var v=c[s];o.setProperty(s,v);}});},mergeDelta:function(o,c,s){var i=m({},o);if(typeof s==="undefined"){s="sap.card";}if(Array.isArray(c)&&c.length>0){var a;c.forEach(function(b){if(b.content){m(i[s],b.content);}else{a=a||new J(i);M.mergeManifestPathChanges(a,b);}});}return i;},mergeDesigntimeMetadata:function(D,c){var i=m({},D);c.forEach(function(o){var I=o.content.entityPropertyChange||[];I.forEach(function(a){var p=a.propertyPath;switch(a.operation){case"UPDATE":if(i.hasOwnProperty(p)){i[p]=a.propertyValue;}break;case"DELETE":delete i[p];break;case"INSERT":if(!i.hasOwnProperty(p)){i[p]=a.propertyValue;}break;default:break;}});});return i;}};return M;});
sap.ui.predefine('sap/ui/integration/editor/Settings',["sap/ui/core/Control","sap/m/ResponsivePopover","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/VBox","sap/m/HBox","sap/m/Select","sap/ui/core/ListItem","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/CheckBox","sap/m/Menu","sap/m/MenuItem","sap/m/Input","sap/ui/integration/util/ParameterMap","sap/base/util/merge","sap/ui/core/Core","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/ScrollContainer","sap/base/util/ObjectPath","sap/ui/integration/util/BindingHelper"],function(C,P,J,B,S,b,V,H,c,L,d,T,e,f,M,g,I,h,m,k,l,p,q,r,O,s){"use strict";
var t=C.extend("sap.ui.integration.editor.Settings",{
metadata:{library:"sap.ui.integration"},
renderer:null
});
var R=k.getLibraryResourceBundle("sap.ui.integration"),u,w,x=null,D,y,z,A,E,F,G,K,N,Q,U,W;
t.prototype.setConfiguration=function(o){this._originalConfig=o;o=m({},o);var a=new J(o);this.setModel(a,"currentSettings");this.bindElement({path:"currentSettings>/"});};
t.prototype.open=function(o,a,i,j,n,v,o1){var p1=this.getModel("currentSettings").getData();if(p1.values){this.prepareFieldsInKey(p1);}x=this;W=X(p1,n);this.addDependent(W);this.oHost=j;this.fnApply=v;this.fnCancel=o1;this._oOpener=n;w=true;o.addDependent(this);if(!p1.allowDynamicValues&&p1.values){k.byId("settings_scroll_container").setHeight("155px");}this.getModel("currentSettings").checkUpdate(true,true);l1(R.getText("EDITOR_SELECT_FROM_LIST"),[]);if(a){var q1=(!i||i.getDomRef()===null||i.getDomRef().offsetWidth===0)?270:i.getDomRef().offsetWidth;var r1=(!i||i.getDomRef()===null||i.getDomRef().offsetHeight===0)?350:i.getDomRef().offsetHeight;W.setContentWidth(q1+"px");W.setContentHeight((r1-50)+"px");if(i&&i.getSettings().preview.position==="right"){W.setPlacement("Right");}else{W.setPlacement("Left");}A.setValue(o._label);W.openBy(o);}else{W.open();}u=this.getModel("currentSettings");if(u.getProperty("/_hasDynamicValue")){b1();}else if(u.getProperty("/_hasSettings")){a1();}else if(u.getProperty("/allowDynamicValues")){b1();}else if(u.getProperty("/allowSettings")){a1();}};
t.prototype._applyCurrentSettings=function(){this.fnApply(u.getData());};
t.prototype._cancelCurrentSettings=function(){this.fnCancel(this._originalConfig);};
t.prototype.destroy=function(){this.removeDependent(W);return C.prototype.destroy.apply(this,arguments);};
function X(o,a){var n=$(),U=_(o),D=f1(),v=g1(),y=h1(o,a),W=new P({id:"settings_popover",showArrow:true,contentWidth:"400px",showHeader:false,horizontalScrolling:false,verticalScrolling:false,modal:false,endButton:new B({text:R.getText("EDITOR_MORE_CANCEL"),press:function(){W.close();}}),beginButton:new B({text:R.getText("EDITOR_MORE_OK"),type:"Emphasized",press:function(){if(o.values){var j=k.byId("settings_pav_table"),o1=j.getSelectedContexts(),p1=[];if(u.getProperty("/selectedValues")==="Partion"){for(var i=0;i<o1.length;i++){var q1=x.getKeyFromItem(o1[i].getObject());p1.push(q1);}c1("pageAdminValues",p1);}else{c1("pageAdminValues",[]);}}x._applyCurrentSettings();w=false;W.close();}}),afterClose:function(){if(w){x._cancelCurrentSettings();}w=true;W.destroy();},afterOpen:function(){var o1=this.getDomRef().querySelector("footer");var p1=U.getDomRef(),q1=o1.querySelector("button").parentNode;if(p1){q1.insertBefore(p1,q1.firstChild);}window.requestAnimationFrame(function(){W.getDomRef()&&(W.getDomRef().style.opacity="1");});if(o.values){var r1=k.byId("settings_pav_table"),s1=u.getProperty("/_next/pageAdminValues");if(s1!==undefined&&s1.length>0){r1.removeSelections();u.setProperty("/selectedValues","None");var t1=u.getProperty("/_next/pageAdminValues"),u1=r1.getItems();for(var i=0;i<t1.length;i++){for(var j=0;j<u1.length;j++){var v1=x.getKeyFromItem(u1[j].getBindingContext().getObject());if(t1[i]===v1){r1.setSelectedItem(u1[j]);}}}u.setProperty("/selectedValues","Partion");}else{r1.selectAll();u.setProperty("/selectedValues","All");}}}});W.setCustomHeader(n);W.addContent(U);W.addContent(D);W.addContent(v);W.addContent(y);W.addStyleClass("sapUiIntegrationFieldSettings");return W;}
function Y(){N=new b({text:R.getText("EDITOR_MORE_SETTINGS"),key:"settings",icon:"sap-icon://action-settings",width:"50%",press:a1}).addStyleClass("setbtn");return N;}
function Z(){N=Y();Q=new S("settings_Segment_btn",{width:"100%",visible:"{= ${currentSettings>allowDynamicValues} && ${currentSettings>allowSettings}}",items:[new b({text:R.getText("EDITOR_MORE_DYNAMICVALUES"),key:"dynamic",icon:"{= ${currentSettings>_hasDynamicValue} ? 'sap-icon://display-more' : 'sap-icon://enter-more'}",width:"50%",press:b1}).addStyleClass("dynbtn sel"),N]});return Q;}
function $(){Q=Z();var o=new T({text:R.getText("EDITOR_MORE_DYNAMICVALUES"),visible:"{= ${currentSettings>allowDynamicValues} && !${currentSettings>allowSettings}}"}).addStyleClass("sapUiTinyMagin");var a=new T({text:R.getText("EDITOR_MORE_SETTINGS"),visible:"{= !${currentSettings>allowDynamicValues} && ${currentSettings>allowSettings}}"}).addStyleClass("sapUiTinyMagin");var i=new H({width:"100%",items:[Q,o,a]}).addStyleClass("headertitle");return i;}
function _(o){U=new B("settings_reset_to_default_btn",{type:"Transparent",text:R.getText("EDITOR_MORE_RESET"),enabled:"{= ${currentSettings>_next/visible} === (typeof(${currentSettings>visibleToUser}) === 'undefined' ? false : !${currentSettings>visibleToUser}) || ${currentSettings>_next/editable} === (typeof(${currentSettings>editableToUser}) === 'undefined' ? false : !${currentSettings>editableToUser}) || ${currentSettings>_next/allowDynamicValues} === (typeof(${currentSettings>allowDynamicValues}) === 'undefined' ? false : !${currentSettings>allowDynamicValues}) || ${currentSettings>_beforeValue} !== ${currentSettings>value}}",tooltip:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_RESET"),press:function(){var v=typeof(u.getProperty("/visibleToUser"))==='undefined'?true:u.getProperty("/visibleToUser");var a=typeof(u.getProperty("/editableToUser"))==='undefined'?true:u.getProperty("/editableToUser");var n=typeof(u.getProperty("/allowDynamicValues"))==='undefined'?true:u.getProperty("/allowDynamicValues");var W=k.byId("settings_popover");c1("visible",v);c1("editable",a);c1("allowDynamicValues",n);if(u.getProperty("/translatable")){if(u.getProperty("/_translatedDefaultValue")&&u.getProperty("/_translatedDefaultValue")!==""){u.setProperty("/value",u.getProperty("/_translatedDefaultValue"));}else if(u.getProperty("/_translatedDefaultPlaceholder")&&u.getProperty("/_translatedDefaultPlaceholder")!==""){u.setProperty("/value",u.getProperty("/_translatedDefaultPlaceholder"));}u.setProperty("/_changed",false);}else{u.setProperty("/value",u.getProperty("/_beforeValue"));}if(o.values){var o1=k.byId("settings_pav_table"),p1=u.getProperty("/_next/pageAdminValues"),q1=o1.getItems();if(p1!==undefined&&p1.length>0&&p1.length<q1.length){o1.removeSelections();for(var i=0;i<p1.length;i++){for(var j=0;j<q1.length;j++){var r1=x.getKeyFromItem(q1[j].getBindingContext().getObject());if(p1[i]===r1){o1.setSelectedItem(q1[j]);}}}u.setProperty("/selectedValues","Partion");}else{o1.selectAll();u.setProperty("/selectedValues","All");}}W.getBeginButton().firePress();}}).addStyleClass("resetbutton");return U;}
function a1(){y.setVisible(true);D.setVisible(false);k.byId("settings_Segment_btn").setSelectedKey("settings");var o=k.byId("settings_current_value");o.setVisible(false);}
function b1(){y.setVisible(false);D.setVisible(true);k.byId("settings_Segment_btn").setSelectedKey("dynamic");var a=x.getModel("contextflat"),o=a._getValueObject(u.getProperty("/value"));if(o&&o.object.label){A.setValue(o.object.label);l1(o.object.description,o.object.tags);if(o.path==="empty"){A.setValue(o.object.label);}n1(o);}var i=k.byId("settings_current_value");i.setVisible(true);}
function c1(a,v){if(!u.getProperty("/_next")){u.setProperty("/_next",{});}u.setProperty("/_next/"+a,v);}
function d1(o,j){var a=[];for(var n in o){if(o[n]&&o[n].label){var v=new g({text:o[n].label});v.__data=o[n];o[n].pathvalue=(j+"/"+n).substring(1);a.push(v);var o1=d1(o[n],j+"/"+n);for(var i=0;i<o1.length;i++){v.addItem(o1[i]);}}}return a;}
var e1=[{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Relative date/datetime text of the value",description:"Should be applied to dynamic values of type date or datetime or string values that represent a datetime in the format 'yyyy-MM-ddZhh:mm:ss'",example:"4 weeks ago",syntax:"handlebars",binding:"{= format.dateTime('__|VALUE|__',{relative:true})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Short date/datetime text of the value",description:"Should be applied to dynamic values of type date, date-time or text values that represent a datetime in the format 'yyyy-MM-ddZhh:mm:ss.sss'",example:"9/18/20, 2:09 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'short'})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Medium date/datetime text of the value",description:"Should be applied to dynamic values of type date, date-time or text values that represent a datetime in the format 'yyyy-MM-ddThh:mm:ss.sssZ'",example:"Sep 18, 2020, 2:09:04 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'medium'})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Long date, date-time text of the value",description:"Should be applied to dynamic values of type date or date-time or string values that represent a datetime in the format 'yyyy-MM-ddThh:mm:ss.sssZ'",example:"Sep 18, 2020, 2:09:04 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'long'})}"}];
function f1(){D=new V({visible:true});D.addStyleClass("sapUiSmallMargin");A=new I({width:"100%",showValueHelp:true,valueHelpOnly:true,valueHelpRequest:function(){if(E){E.destroy();}E=new M({});F=d1(D.getModel("context").getData(),"");for(var i=0;i<F.length;i++){E.addItem(F[i]);}E.attachItemSelected(function(o){var a=o.getParameter("item").__data;l1(a.description||"",a.tags||[]);A.setValue(a.placeholder||a.label);var j=x.getModel("contextflat");n1(j._getPathObject(a.pathvalue));});A.addDependent(E);E.addStyleClass("sapUiIntegrationFieldSettingsMenu");E.openBy(A,false,null,null,"1 0");}});A.addStyleClass("selectvariable");var v=new V({items:[new d({text:"Select a dynamic value"}),A]});D.addItem(v);z=new T({text:"",maxLines:6,renderWhitespace:true});v=new V({width:"100%",items:[z]});z.addStyleClass("description");D.addItem(v);if(e1.length===-1){G=new c({width:"100%",enabled:true,change:function(){K.setText(G.getSelectedItem()._data.description);}});v=new V({visible:false,items:[new d({text:"Customize the value..."}),G]});D.addItem(v);K=new T({text:"",maxLines:4,renderWhitespace:true});K.addStyleClass("description");v=new V({width:"100%",items:[K]});D.addItem(v);D.getItems()[2].getItems()[0].addStyleClass("sapUiTinyMarginTop");}D.getItems()[0].getItems()[0].addStyleClass("sapUiTinyMarginTop");return D;}
function g1(){var o=new V("settings_current_value",{width:"100%",items:[new T({text:R.getText("EDITOR_ACTUAL_VALUE")}),new I({value:{path:"currentSettings>_currentContextValue"},editable:false})]});o.addStyleClass("currentval");return o;}
function h1(o,a){y=new V({visible:false});var j=new V().addStyleClass("commonSettings");y.addItem(j);j.addItem(new e({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN"),wrapping:true}).addStyleClass("stitle"));j.addItem(new H({items:[new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VISIBLE"),wrapping:true}),new f({selected:"{= ${currentSettings>_next/visible} !== false}",select:function(v1){c1("visible",v1.getParameter("selected"));}})]}).addStyleClass("cbrow"));j.addItem(new H({items:[new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_EDIT"),wrapping:true}),new f({selected:"{= ${currentSettings>_next/editable} !== false}",enabled:"{= ${currentSettings>_next/visible} !== false}",select:function(v1){c1("editable",v1.getParameter("selected"));}})]}).addStyleClass("cbrow"));j.addItem(new H({visible:"{= ${currentSettings>allowDynamicValues}!== false}",items:[new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_DYN"),wrapping:true}),new f({selected:"{= ${currentSettings>_next/allowDynamicValues} !== false}",enabled:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",select:function(v1){c1("allowDynamicValues",v1.getParameter("selected"));}})]}).addStyleClass("cbrow"));if(o.values){var v;if(o.values.data){var n=o.values.data.path,o1;if(n&&n!=="/"){if(n.startsWith("/")){n=n.substring(1);}if(n.endsWith("/")){n=n.substring(0,n.length-1);}o1=n.split("/");v=O.get(["_values",o1],o);}else{v=O.get(["_values"],o);}}else if(a.getParent().getParent().getAggregation("_extension")){var p1=o.values.path;if(p1.length>1){p1=p1.substring(1);}v=O.get([p1],a.getModel().getData());}j.addItem(new H({visible:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",items:[new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VALUES_LIST"),tooltip:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VALUES_LIST_TOOLTIPS"),wrapping:false}),new B({type:"Transparent",enabled:v!==undefined,icon:{path:"currentSettings>selectedValues",formatter:function(v1){if(v1==="All"){return"sap-icon://multiselect-all";}else if(v1==="Partion"){return"sap-icon://multi-select";}else if(v1==="None"){return"sap-icon://multiselect-none";}}},tooltip:{path:"currentSettings>selectedValues",formatter:function(v1){if(v1==="All"){return R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_DESELECT_ALL");}else{return R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_SELECT_ALL");}}},press:i1})]}).addStyleClass("cbrow"));var q1=new l({id:"settings_pav_table",mode:"MultiSelect",width:"84%",select:j1,columns:[new p()]}).addStyleClass("tableHdr");var r1=o.values.item.text,s1=new J(v);q1.setModel(s1);var t1=new q().addStyleClass("pavlistItem");if(v){for(var i=0;i<v.length;i++){t1.addCell(new H({items:[new T({text:s.createBindingInfos(r1)}).addStyleClass("pavTblCellText")]})).addStyleClass("pavlistItem");}}q1.bindItems("/",t1);var u1=new r({id:"settings_scroll_container",height:"125px",width:"94%",vertical:true,horizontal:false,visible:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",content:[q1]}).addStyleClass("SettingsPAVTable");y.addItem(u1);}return y;}
function i1(){var o=k.byId("settings_pav_table"),a=k.byId("settings_reset_to_default_btn"),i=u.getProperty("/selectedValues");if(i==="All"){o.removeSelections();u.setProperty("/selectedValues","None");}else{o.selectAll();u.setProperty("/selectedValues","All");}if(!a.getEnabled()){a.setEnabled(true);}}
function j1(o){var a=o.getSource(),i=a.getSelectedItems(),j=a.getItems(),n=k.byId("settings_reset_to_default_btn");if(i.length===j.length){u.setProperty("/selectedValues","All");}else if(i.length<j.length&&i.length>0){u.setProperty("/selectedValues","Partion");}else{u.setProperty("/selectedValues","None");}if(!n.getEnabled()){n.setEnabled(true);}}
function k1(a,j){a=a||[];G.removeAllItems();var n=[];G.addItem(new L({text:"No customizing needed",key:""}));for(var i=0;i<e1.length;i++){var o=e1[i],v=new L({text:o.label,key:"key"+i});v._data=o;if(o.sourceTypes.indexOf(j)>-1||a.indexOf(o.formatMethod)>-1){G.addItem(v);}else{n.push(v);}}for(var i=0;i<n.length;i++){G.addItem(n[i]);}}
function l1(a,i){i=i||[];if(i.indexOf("technical")>-1){a=a+"\n"+R.getText("EDITOR_MORE_DYNAMICVALUES_TECHHINT");}z.setText(a);}
function m1(o){if(e1.length===-1){if(!o){G.removeAllItems();G.addItem(new L({text:"No customizing available for this value"}));K.setText("");G.setEnabled(false);}else{k1(o.customize,o.type);G.setEnabled(true);}}}
function n1(o){if(o){u.setProperty("/_hasDynamicValue",true);var a=o.value;u.setProperty("/value",a);u.setProperty("/_contextpath",o.path);if(o.object&&o.object.value&&o.object.value.indexOf("{{")===0){u.setProperty("/_currentContextValue",h.processPredefinedParameter(o.object.value));m1(o.object);}else{if(o.path==="empty"){u.setProperty("/value","");u.setProperty("/_currentContextValue","");u.setProperty("/_hasDynamicValue",false);m1();}else{m1(o.object);if(o.object&&o.object.hasOwnProperty("value")){u.setProperty("/_currentContextValue",o.object.value);}else{x.oHost.getContextValue(o.path+"/value").then(function(v){if(v===null){u.setProperty("/_currentContextValue","(not available)");}else{u.setProperty("/_currentContextValue",v);}o.object&&(o.object.value=v);});}}}}}
t._private=function(){return{oPopover:W,oSegmentedButton:Q,oSettingsButton:N,oDynamicPanel:D,oSettingsPanel:y,oCurrentModel:u,updateCurrentValue:n1,oCurrentInstance:x,oDynamicValueField:A,oResetToDefaultButton:U,getMenuItems:function(){return F;},getMenu:function(){return E;}};};
t.prototype.prepareFieldsInKey=function(o){this._sKeySeparator=o.values.keySeparator;if(!this._sKeySeparator){this._sKeySeparator="#";}var a=o.values.item.key;this._aFields=a.split(this._sKeySeparator);for(var n in this._aFields){if(this._aFields[n].startsWith("{")){this._aFields[n]=this._aFields[n].substring(1);}if(this._aFields[n].endsWith("}")){this._aFields[n]=this._aFields[n].substring(0,this._aFields[n].length-1);}}};
t.prototype.getKeyFromItem=function(i){var a="";this._aFields.forEach(function(j){a+=i[j].toString()+this._sKeySeparator;}.bind(this));if(a.endsWith(this._sKeySeparator)){a=a.substring(0,a.length-this._sKeySeparator.length);}return a;};
return t;});
sap.ui.predefine('sap/ui/integration/editor/fields/BaseField',["sap/ui/core/Control","sap/m/MultiInput","sap/m/Token","sap/ui/core/Core","sap/ui/integration/util/BindingHelper","sap/ui/core/ListItem","sap/base/util/ObjectPath","sap/base/util/deepEqual","sap/base/util/deepClone"],function(C,M,T,a,B,L,O,d,c){"use strict";var s="sap/ui/integration/editor/fields/viz";
var e=C.extend("sap.ui.integration.editor.fields.BaseField",{
metadata:{library:"sap.ui.integration",properties:{configuration:{type:"object"},specialButton:{type:"object"},mode:{type:"string"},host:{type:"object"},visible:{type:"boolean",defaultValue:true}},aggregations:{_field:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_dynamicField:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{_messageIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_messageStrip:{type:"sap.m.MessageStrip",multiple:false,visibility:"hidden"}},events:{afterInit:{}}},
renderer:function(r,o){var f=o.getAggregation("_field"),D=o._getDynamicField();r.openStart("div");r.addClass("sapUiIntegrationEditorItemField");if(f&&f.getWidth){}if(!o.getVisible()){r.addStyle("display","none");}r.writeElementData(o);r.openEnd();if(o.getVisible()){r.openStart("span");r.openEnd();r.openStart("span");r.addClass("sapUiIntegrationEditorEditor");if(o._hasDynamicValue()){r.addStyle("width","1px");r.addStyle("opacity","0");}else{r.addStyle("width","100%");}r.openEnd();r.renderControl(f);r.close("span");r.close("span");if(o._hasDynamicValue()){r.openStart("span");r.addClass("sapUiIntegrationEditorSettings");r.openEnd();r.openStart("span");r.addClass("sapUiIntegrationEditorSettingsField");r.addStyle("width","100%");r.addStyle("opacity","1");r.openEnd();r.renderControl(D);r.close("span");}r.openStart("div");r.writeAttribute("id",o.getId()+"-ms");r.addStyle("height","0");r.openEnd();r.close("div");}r.close("div");}
});
e.prototype.init=function(){this._readyPromise=new Promise(function(r){this._fieldResolver=r;}.bind(this));};
e.prototype.getMessagestrip=function(){var m=this.getAssociation("_messageStrip");return a.byId(m);};
e.prototype.getMessageIcon=function(){var m=this.getAssociation("_messageIcon");return a.byId(m);};
e.prototype._removeValidationMessage=function(){var f=this.control,m=f.getParent().getMessageIcon();if(m){m.setVisible(false);}if(f.getEnabled()){f.setEnabled(false);}};
e.prototype.getResourceBundle=function(){return this.getModel("i18n").getResourceBundle();};
e.prototype.setConfiguration=function(o,S){if(o!==this.getConfiguration()){this._sanitizeValidationSettings(o);this.setProperty("configuration",o,S);if(o){Promise.resolve().then(function(){this.initEditor(o);}.bind(this));}}return this;};
e.prototype._sanitizeValidationSettings=function(o){o.validations=o.validations||[];if(o.validation&&o.validations&&Array.isArray(o.validations)){o.validations.push(o.validation);delete o.validation;}if(o.validation&&!o.validations){o.validations=[o.validation];delete o.validation;}if(o.required){o.validations.unshift({"required":true,"type":"error"});}};
e.prototype.deleteTranslationValuesInTexts=function(l){var t=this;var o=t.getConfiguration();var b="/texts";var D=this._settingsModel.getData();if(!D||!D.texts){return;}var f=c(D.texts,500);if(l){if(f[l]){delete f[l][o.manifestpath];if(d(f[l],{})){delete f[l];}if(d(f,{})){delete D.texts;this._settingsModel.setData(D);}else{this._settingsModel.setProperty(b,f);}}}else{for(var n in f){t.deleteTranslationValuesInTexts(n);}}};
e.prototype._triggerValidation=function(v){if(d(v,this._preChangedValue)&&this._messageFrom==="validation"){return;}this._preChangedValue=v;var o=this.getConfiguration();var b=false;if(o.required){b=true;}else if(o.type==="string"&&v){b=true;}else if((o.type==="integer"||o.type==="number")&&!isNaN(v)){if(v!==""){b=true;}}else if(o.type==="boolean"){b=true;}else if(o.type==="string[]"&&Array.isArray(v)){b=true;}if(o.validations&&Array.isArray(o.validations)&&b){for(var i=0;i<o.validations.length;i++){if(!this._handleValidation(o.validations[i],v)){return false;}}this._hideValueState();}return true;};
e.validations={string:{maxLength:function(v,m){return v.length<=m;},maxLengthTxt:"EDITOR_VAL_MAXLENGTH",minLength:function(v,m){return v.length>=m;},minLengthTxt:"EDITOR_VAL_MINLENGTH",pattern:function(v,b){var p=new RegExp(b);return p.test(v);},patternTxt:"EDITOR_VAL_NOMATCH",required:function(v,b){return b&&!!v;},requiredTxt:"EDITOR_VAL_TEXTREQ",validateTxt:"EDITOR_VAL_NOMATCH"},"string[]":{maxLength:function(v,m){return Array.isArray(v)&&v.length<=m;},maxLengthTxt:"EDITOR_VAL_LISTMAXLENGTH",minLength:function(v,m){return Array.isArray(v)&&v.length>=m;},minLengthTxt:"EDITOR_VAL_LISTMINLENGTH",required:function(v,b){return Array.isArray(v)&&v.length>0;},requiredTxt:"EDITOR_VAL_LISTREQ"},integer:{maximum:function(v,b,f){if(f.exclusiveMaximum){f._txt="maximumExclusiveTxt";return v<b;}return v<=b;},maximumTxt:"EDITOR_VAL_MAX",maximumExclusiveTxt:"EDITOR_VAL_MAX_E",minimum:function(v,b,f){if(f.exclusiveMinimum){f._txt="minimumExclusiveTxt";return v>b;}return v>=b;},minimumTxt:"EDITOR_VAL_MIN",minimumExclusiveTxt:"EDITOR_VAL_MIN_E",multipleOf:function(v,b){return(v%b)===0;},multipleOfTxt:"EDITOR_VAL_MULTIPLE",required:function(v,b){return!isNaN(v)&&v!=="";},requiredTxt:"EDITOR_VAL_NUMBERREQ",validateTxt:"EDITOR_VAL_NOMATCH"},number:{maximum:function(v,b,f){if(f.exclusiveMaximum){f._txt="maximumExclusiveTxt";return v<b;}return v<=b;},maximumTxt:"EDITOR_VAL_MAX",maximumExclusiveTxt:"EDITOR_VAL_MAX_E",minimum:function(v,b,f){if(f.exclusiveMinimum){f._txt="minimumExclusiveTxt";return v>b;}return v>=b;},minimumTxt:"EDITOR_VAL_MIN",minimumExclusiveTxt:"EDITOR_VAL_MAX_E",multipleOf:function(v,b){return(v%b)===0;},multipleOfTxt:"EDITOR_VAL_MULTIPLE",required:function(v,b){return!isNaN(v)&&v!=="";},requiredTxt:"EDITOR_VAL_NUMBERREQ",validateTxt:"EDITOR_VAL_NOMATCH"}};
e.prototype._requestData=function(r){var f=this.control.getParent();var o=f.getConfiguration();var D=f._oDataProviderFactory.create(r.data);f.getModel("currentSettings").setProperty(o._settingspath+"/_loading",true);var p=D.getData();return p.then(function(b){f.getModel("currentSettings").setProperty(o._settingspath+"/_loading",false);var P=r.data.path||"/";if(P.startsWith("/")){P=P.substring(1);}if(P.endsWith("/")){P=P.substring(0,P.length-1);}var g=P.split("/");var R=O.get(g,b);return R;});};
e.prototype._handleValidation=function(S,v){var o=this.getConfiguration(),V=e.validations[o.type];var f=function(n,D){var E;if(typeof S.message==="function"){E=S.message(v,o,D);}else{E=S.message;}if(!E){if(S._txt){E=this.getResourceBundle().getText(V[S._txt],[S[n]]);}else{E=this.getResourceBundle().getText(V[n+"Txt"],[S[n]]);}}this._showValueState(S.type||"error",E);}.bind(this);if(S["validate"]){var b={control:this.getAggregation("_field"),requestData:this._requestData,removeValidationMessage:this._removeValidationMessage};var g=S["validate"];Promise.resolve(g(v,o,b)).then(function(r){var i=r.isValid;if(typeof i==="undefined"){i=r;}var D=r.data?r.data:undefined;if(!i){f("validate",D);return false;}else{this._hideValueState(true,false);return true;}}.bind(this));}else{for(var n in S){if(V){var h=V[n];S._txt="";if(h){if(!h(v,S[n],S)){f(n);return false;}}}}}return true;};
e.prototype.onAfterRendering=function(){this._applyMessage();var m=this.getMessagestrip();if(m&&m.getDomRef()){m.getDomRef().style.opacity="0";}};
e.prototype._applyMessage=function(){var i=a.byId(this.getAssociation("_messageIcon"));if(this.getAssociation("_messageIcon")&&i){var I=i.getDomRef();if(I){I.classList.remove("error");I.classList.remove("warning");I.classList.remove("success");if(this._message){I.classList.add(this._message.type);}}}if(this._message&&(this._message.type==="error"||this._message.type==="warning")){var E=this._message.type==="error"?"Error":"Warning";this._setCurrentProperty("hasError",true);this._setCurrentProperty("errorType",E);}else{this._setCurrentProperty("hasError",false);this._setCurrentProperty("errorType","None");}};
e.prototype._showValueState=function(t,m,f){var F=this.getAggregation("_field"),E=t.substring(0,1).toUpperCase()+t.substring(1);this._message={"enum":E,"type":t,"message":m,"atControl":false};this._messageFrom="validation";if(f){this._messageFrom="request";}var o=this.getMessagestrip();if(F&&F.setValueState){this._message.atControl=true;if(F.setShowValueStateMessage){F.setShowValueStateMessage(false);}F.setValueState(E);F.setValueStateText(m);}else if(o&&o.getVisible()&&F.getMetadata().getName()!=="sap.m.Switch"){this._showMessage();}this._applyMessage();};
e.prototype._hideValueState=function(f,t){if(!this.getParent()){return;}var m=this.getMessagestrip();if(this._message){if((f&&this._messageFrom==="request")||(!f&&this._messageFrom==="validation")){var F=this.getAggregation("_field");this._message={"enum":"Success","type":"success","message":"Corrected","atControl":this._message.atControl};this._messageFrom="validation";if(f){this._messageFrom="request";}if(this._messageto){clearTimeout(this._messageto);}this._messageto=setTimeout(function(){this._messageto=null;this._applyMessage();if(!this._message&&F.setValueState){F.setValueState("None");}}.bind(this),1500);this._applyMessage();if(m){if(m.getDomRef()){m.getDomRef().style.opacity="0";}m.onAfterRendering=null;}if(F.setValueState){F.setValueState("Success");}if(F.setValueStateText){F.setValueStateText("");}this._message=null;}if(!this._message&&f&&t){this._triggerValidation(this.getConfiguration().value);}}};
e.prototype.onfocusin=function(E){if(E&&E.target.classList.contains("sapMBtn")){return;}this._showMessage();};
e.prototype.onfocusout=function(E){this._hideMessage();};
e.prototype._showMessage=function(){if(!this.getParent()){return;}var m=this.getMessagestrip();if(this._message&&m){m.applySettings({type:this._message.enum,text:this._message.message});var t=this;m.onAfterRendering=function(){m.getDomRef().style.zIndex="1";m.getDomRef().style.opacity="1";t.getDomRef("ms")&&t.getDomRef("ms").appendChild(m.getDomRef());var f=t.getAggregation("_field");if(t._message&&!t._message.atControl){m.getDomRef().style.marginTop="0";m.getDomRef().style.marginLeft="0";}var w=f.getDomRef()?f.getDomRef().offsetWidth-5:100;if(w<=100){w=f.getParent().getDomRef()?f.getParent().getDomRef().offsetWidth-35:100;}m.getDomRef().style.width=w+"px";};m.rerender();}};
e.prototype._hideMessage=function(){var m=this.getMessagestrip();var f=this.getAggregation("_field"),F=f.getDomRef()&&f.getDomRef().contains(window.document.activeElement);if(m){if(!F&&m.getDomRef()){m.getDomRef().style.opacity="0";m.getDomRef().style.zIndex="-1";}m.onAfterRendering=null;}};
e.prototype.initEditor=function(o){var b;this._settingsModel=this.getModel("currentSettings");this.initVisualization&&this.initVisualization(o);if(this._visualization.editor){b=this._visualization.editor;}else if(this._visualization.type){if(typeof this._visualization.type==="string"){if(this._visualization.type.indexOf("/")===-1){this._visualization.type=s+"/"+this._visualization.type;this._visualization.settings=this._visualization.settings||{value:"{currentSettings>value}",editable:o.editable};}sap.ui.require([this._visualization.type],function(f){this._visualization.type=f;this.initEditor(o);}.bind(this));return;}b=new this._visualization.type(this._visualization.settings||{});}if(b instanceof C){this.setAggregation("_field",b);if(b.attachChange){b.attachChange(function(E){if(E.mParameters.value===""){var o=this.getConfiguration();if(o.type==="string[]"){this._triggerValidation(o.value);}else{this._triggerValidation(E.getParameter("value"));}}}.bind(this));}var g=this.getModel("currentSettings").bindProperty("value",this.getBindingContext("currentSettings"));g.attachChange(function(){this._triggerValidation(o.value);}.bind(this));this._triggerValidation(o.value);}var m=this.getMode();o.allowSettings=o.allowSettings||o.allowSettings!==false&&m==="admin";o.allowDynamicValues=o.allowDynamicValues||o.allowDynamicValues!==false;o._changeDynamicValues=o.visible&&o.editable&&(o.allowDynamicValues||o.allowSettings)&&m!=="translation";if(o._changeDynamicValues){this._getDynamicField();}this._applySettings(o);this.fireAfterInit();};
e.prototype.initVisualization=function(){};
e.prototype._hasDynamicValue=function(){var v=this._getCurrentProperty("value");var D=typeof v==="string"&&(v.indexOf("{context>")===0||v.indexOf("{{parameters")===0);this._setCurrentProperty("_hasDynamicValue",D);return D;};
e.prototype._hasSettings=function(){var o=this.getConfiguration();if(o._next){var v=o.hasOwnProperty("visibleToUser")?o.visibleToUser:true;var E=o.hasOwnProperty("editableToUser")?o.editableToUser:true;var b=o._next.visible===false?false:o._next.editable;var A=o.hasOwnProperty("allowDynamicValues")?o.allowDynamicValues:true;o._hasSettings=(o._next.visible===!v||b===!E||o._next.allowDynamicValues===!A);}else{o._hasSettings=false;if(o.hasOwnProperty("editableToUser")||o.hasOwnProperty("visibleToUser")){o._next={};}if(o.hasOwnProperty("editableToUser")){o._next.editable=o.editableToUser;}if(o.hasOwnProperty("visibleToUser")){o._next.visible=o.visibleToUser;}}return o._hasSettings;};
e.prototype._getDynamicField=function(){var f=this.getAggregation("_dynamicField");if(!f){var f=new M({showValueHelp:false});this.setAggregation("_dynamicField",f);}return f;};
e.prototype._hideDynamicField=function(){var D=this._getDynamicField(),f=this.getAggregation("_field");if(D.getDomRef()){var S=D.getDomRef().parentNode.style;S.width="1px";S.opacity=0;S=f.getDomRef().parentNode.style;f.getDomRef().style.visibility="visible";S.width="100%";S.opacity=1;}};
e.prototype._showDynamicField=function(){var D=this._getDynamicField(),f=this.getAggregation("_field");if(D.getDomRef()){var S=D.getDomRef().parentNode.style;S.width="100%";S.opacity=1;S=f.getDomRef().parentNode.style;f.getDomRef().style.visibility="hidden";S.width="1px";S.opacity=0;}};
e.prototype._setCurrentProperty=function(p,v){if(this._getCurrentProperty(p)!==v){this.getModel("currentSettings").setProperty(p,v,this.getBindingContext("currentSettings"));}};
e.prototype._getCurrentProperty=function(p){return this.getModel("currentSettings").getProperty(p,this.getBindingContext("currentSettings"));};
e.prototype._applySettings=function(D){var b=this._getDynamicField(),o=this.getModel("contextflat")._getValueObject(D.value);b.removeAllTokens();if(!this._getCurrentProperty("_changeDynamicValues")){b.setEnabled(false);}if(o&&o.path!=="empty"){if(o.object.value&&o.object.value.indexOf("{{")==0){this._setCurrentProperty("value",o.object.value);}else{this._setCurrentProperty("value",o.value);}b.addToken(new T({text:o.object.label,"delete":function(){this._setCurrentProperty("value","");var i=this.getAggregation("_field");i.setValue("");i.fireChange();if(!this._hasDynamicValue()){this._hideDynamicField();}this._applyButtonStyles();window.setTimeout(function(){this.getAggregation("_field").focus();}.bind(this),100);}.bind(this)}));var f=this.getConfiguration();if(f.type==="string"&&f.translatable){this.deleteTranslationValuesInTexts();}}else{this._setCurrentProperty("value",D.value);this._setCurrentProperty("_changed",D._changed);this._hideDynamicField();}this._setCurrentProperty("_next",D._next);this._applyButtonStyles();if(!this._hasDynamicValue()){this._hideDynamicField();}else{this._showDynamicField();}this._fieldResolver&&this._fieldResolver();this._fieldResolver=null;};
e.prototype._cancelSettings=function(){this._applyButtonStyles();if(!this._hasDynamicValue()){this._hideDynamicField();}};
e.prototype._applyButtonStyles=function(){if(!this._settingsButton){return;}if(!this._hasDynamicValue()){this._settingsButton.removeStyleClass("dynamicvalue");}else{this._settingsButton.addStyleClass("dynamicvalue");}if(!this._hasSettings()){this._settingsButton.removeStyleClass("settings");}else{this._settingsButton.addStyleClass("settings");}};
e.prototype.isFilterBackend=function(){var o=this.getConfiguration();var i=false;if(o&&o.values&&o.values.data){if(o.values.data.request&&o.values.data.request.parameters&&o.values.data.request.parameters.$filter&&o.values.data.request.parameters.$filter.indexOf("{currentSettings>suggestValue}")>-1){i=true;}else if(o.values.data.request&&o.values.data.request.url&&o.values.data.request.url.indexOf("{currentSettings>suggestValue}")>-1){i=true;}}return i;};
e.prototype.formatListItem=function(i){var I=new L();for(var k in i){I.bindProperty(k,B.createBindingInfos(i[k]));}return I;};
return e;});
sap.ui.predefine('sap/ui/integration/editor/fields/BooleanField',["sap/ui/integration/editor/fields/BaseField","sap/m/CheckBox"],function(B,C){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.BooleanField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;if(!v){v={type:C,settings:{selected:{path:'currentSettings>value'},editable:c.editable}};c.withLabel=true;}else if(v.type==="Switch"){v.type="sap/m/Switch";}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/DateField',["sap/ui/integration/editor/fields/BaseField","sap/m/DatePicker"],function(B,D){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.DateField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;var o=c.formatter;if(c.value!==""){c.value=new Date(c.value);}if(!v){v={type:D,settings:{value:{path:"currentSettings>value",type:'sap.ui.model.type.Date',formatOptions:o},editable:c.editable,width:"100%",change:function(e){if(e.getParameters().valid){var s=e.getSource();s.getBinding("value").setValue(s.getDateValue());s.getBinding("value").checkUpdate();}else{var s=e.getSource();s.getBinding("value").setValue("");}}}};}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/DateTimeField',["sap/ui/integration/editor/fields/BaseField","sap/m/DateTimePicker"],function(B,D){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.DateTimeField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;var o=c.formatter;if(c.value!==""){c.value=new Date(c.value);}if(!v){v={type:D,settings:{value:{path:"currentSettings>value",type:'sap.ui.model.type.DateTime',formatOptions:o},editable:c.editable,width:"100%",change:function(e){if(e.getParameters().valid){var s=e.getSource();s.getBinding("value").setValue(s.getDateValue().toISOString());s.getBinding("value").checkUpdate();}else{var s=e.getSource();s.getBinding("value").setValue("");s.getBinding("value").checkUpdate(true);}}}};}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/DestinationField',["sap/ui/integration/editor/fields/BaseField","sap/m/Select","sap/ui/core/ListItem"],function(B,S,L){"use strict";
var D=B.extend("sap.ui.integration.editor.fields.DestinationField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
D.prototype.initVisualization=function(c){var v=c.visualization;if(!v){v={type:S,settings:{busy:{path:'currentSettings>_loading'},selectedKey:{path:'currentSettings>value'},forceSelection:false,width:"100%",items:{path:"currentSettings>_values",template:new L({text:"{currentSettings>name}",key:"{currentSettings>name}"})}}};}this._visualization=v;};
return D;});
sap.ui.predefine('sap/ui/integration/editor/fields/IntegerField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input"],function(B,I){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.IntegerField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;var f=c.formatter;if(!v){v={type:I,settings:{value:{path:'currentSettings>value',type:'sap.ui.model.type.Integer',formatOptions:f},editable:c.editable,type:"Number",parseError:function(e){var C=e.getSource(),b=null;if(C.getValue()!==""){if(e.getParameters()&&e.getParameters().exception&&e.getParameters().exception.message){b=e.getParameters().exception.message;}else{b=e.getId();}C.getParent()._showValueState("error",b);}else{C.getParent()._showValueState("none","");}}}};}else if(v.type==="Slider"){v.type="sap/m/Slider";}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/NumberField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input"],function(B,I){"use strict";
var N=B.extend("sap.ui.integration.editor.fields.NumberField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
N.prototype.initVisualization=function(c){var v=c.visualization;var f=c.formatter;if(!v){v={type:I,settings:{value:{path:'currentSettings>value',type:'sap.ui.model.type.Float',formatOptions:f},editable:c.editable,type:"Number"}};}this._visualization=v;};
return N;});
sap.ui.predefine('sap/ui/integration/editor/fields/ObjectField',["sap/ui/integration/editor/fields/BaseField","sap/m/Text","sap/m/TextArea","sap/m/Input","sap/m/NavContainer","sap/m/Page","sap/m/Popover","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/table/Table","sap/ui/table/Column","sap/m/Label","sap/m/VBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/util/deepEqual","sap/ui/core/Icon","sap/m/Switch","sap/m/CheckBox","sap/m/MessageBox","sap/m/MessageToast","sap/base/util/deepClone","sap/m/Link","sap/ui/layout/form/SimpleForm","sap/base/util/merge","sap/m/List","sap/m/CustomListItem","sap/ui/model/Sorter","sap/ui/core/CustomData","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/includes","sap/ui/integration/util/Utils"],function(B,T,a,I,N,P,b,O,c,d,J,f,C,L,V,F,g,h,j,S,k,M,l,o,q,r,t,u,v,w,x,E,y,U){"use strict";var R=/\{\{(?!parameters.)(?!destinations.)([^\}\}]+)\}\}/g;
var z=B.extend("sap.ui.integration.editor.fields.ObjectField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
z.prototype.initVisualization=function(e){var i=this;i._newObjectTemplate={"_dt":{"_selected":true,"_uuid":""}};var m=e.visualization;if(!m){if(e.value&&!e.properties&&(!e.values||(e.values&&!e.values.metadata))){i.parseValueProperties();}if(e.values){m=i.createTableVisualization(e);}else if(e.properties){m=i.createSimpleFormVisualization(e);}else{m=i.createTextAreaVisualization(e);}e.withLabel=true;}this._visualization=m;this.attachAfterInit(this._afterInit);};
z.prototype._afterInit=function(){var e=this;var i=this.getAggregation("_field");if(i instanceof r){i.addStyleClass("sapUiIntegrationEditorItemObjectFieldForm");var m=o(e.getConfiguration().value,500)||{};i.setModel(new J({value:m,editMode:"Properties"}));}else if(i instanceof f){i.addStyleClass("sapUiIntegrationEditorItemObjectFieldTable");}};
z.prototype.parseValueProperties=function(){var e=this;var i=e.getConfiguration();if(typeof i.value==="object"&&!h(i.value,{})&&!Array.isArray(i.value)&&!i.properties){var p={};for(var n in i.value){if(n!=="_dt"){var s=typeof i.value[n];var m=s==="string"?{}:{"type":s};p[n]=m;}}if(!h(p,{})){i.properties=p;i._propertiesParsedFromValue=true;}}};
z.prototype.createTableVisualization=function(e){var i=this;var m=i.createTableToolbar(e);var n=[];var p=e.values?e.values.data.path||"/":"/value";if(e.values&&e.values.metadata){n={path:'meta>/'+e.values.metadata.namespace+'.'+e.values.metadata.entityTypeName,filters:new F({path:"$kind",operator:g.EQ,value1:"Property"}),factory:i.columnFactory.bind(i)};}else{n=i.buildTableColumns();}var s={type:f,settings:{rows:"{"+p+"}",visibleRowCount:5,busy:"{currentSettings>_loading}",columns:n,selectionBehavior:"RowOnly",rowSelectionChange:i.onTableSelectionChange.bind(i),toolbar:m,filter:i.onFilter.bind(i)}};return s;};
z.prototype.createSimpleFormVisualization=function(e){var i=this;var m=i.getResourceBundle();var n=function(){var G=this.getAggregation("_field").getModel();G.checkUpdate(true);var H=G.getProperty("/value");if(!H._dt){H._dt={_uuid:U.generateUuidV4()};}else if(!H._dt._uuid){H._dt._uuid=U.generateUuidV4();}H=o(H,500);this.setValue(H);}.bind(i);var p=i.createFormContents(n,"/value/",false,i.openTranslationPopup);var s=new d({icon:{path:'/editMode',formatter:function(G){if(G==="Properties"){return"sap-icon://syntax";}else{return"sap-icon://form";}}},tooltip:{path:'/editMode',formatter:function(G){if(G==="Properties"){return m.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_JSON");}else{return m.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_PROPERTIES");}}},press:function(){var G=i.getAggregation("_field").getModel();var H=G.getProperty("/editMode");if(H==="Properties"){G.setProperty("/editMode","Json");}else{G.setProperty("/editMode","Properties");}}});var D=new d({icon:"sap-icon://delete",tooltip:m.getText("EDITOR_FIELD_OBJECT_DELETE"),visible:e.enabled,enabled:{path:'currentSettings>value',formatter:function(G){if(!G||G===""){return false;}return true;}},press:function(G){i.setValue(undefined);var H=i.getAggregation("_field").getModel();var K=H.getProperty("/value");if(K&&K._dt&&K._dt._uuid){i.deleteTranslationValueInTexts(undefined,K._dt._uuid);}H.setProperty("/value",{});H.checkUpdate(true);}});var A={type:r,settings:{layout:"ResponsiveGridLayout",visible:e.visible,labelSpanXL:2,labelSpanL:2,labelSpanM:2,labelSpanS:12,emptySpanXL:1,emptySpanL:1,emptySpanM:1,emptySpanS:0,columnsXL:1,columnsL:1,columnsM:1,toolbar:new O({content:[new c(),s,D]}).addStyleClass("sapMTB"),content:p}};return A;};
z.prototype.createTextAreaVisualization=function(e){var i=this;var m={type:a,settings:{value:{path:'currentSettings>value',formatter:function(n){if(!n||n===""){return undefined;}n=JSON.stringify(n,null,"\t");if(typeof n==="object"&&!n.length){n=n.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(s){return s.substring(3,s.length-3);});}return n;}},editable:"{config/editable}",width:"100%",enabled:"{config/enabled}",placeholder:"{config/placeholder}",visible:e.visible,change:this.onChangeOfTextArea.bind(i),rows:7}};return m;};
z.prototype.buildSelectionColumnLables=function(){var e=this;var i=e.getConfiguration();var m=e.getResourceBundle();return new d({icon:"sap-icon://clear-all",type:"Transparent",enabled:typeof i.values==="undefined"?false:"{/_hasSelected}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_TOOLTIP_REMOVE"),press:e.onUnSelectAll.bind(e)});};
z.prototype.buildTableColumns=function(){var e=this;var i=e.getConfiguration();var m=[];var K=Object.keys(i.properties);if(K.length>0){var p=e.getResourceBundle();var s=e.buildSelectionColumnLables();var A=new C({width:"3.2rem",hAlign:"Center",multiLabels:[s],template:new k({selected:"{_dt/_selected}",enabled:typeof i.values==="undefined"?false:true,tooltip:{path:'_dt/_selected',formatter:function(c1){if(c1){if(i.type==="object"){return p.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_UNSELECT");}else{return p.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_REMOVE");}}else if(i.type==="object"){return p.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_SELECT");}else{return p.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_ADD");}}},select:e.onSelectionChange.bind(e)})});m.push(A);for(var n in i.properties){var D=i.properties[n];var G=D.label||n;var H="{"+n+"}";if(D.defaultValue){e._newObjectTemplate[n]=D.defaultValue;}var Q={"width":"7rem","label":G};if(D.column){Q=t(Q,D.column);}if(Q.label.match(R)){Q.label="{i18n>"+Q.label.substring(2,Q.label.length-1);}Q.tooltip=Q.label;var W=D.cell&&D.cell.type?D.cell.type:D.type||"Text";var X;var Y;var Z=o(D.cell)||{};delete Z.type;switch(W){case"int":case"number":Y={text:H,wrapping:false};Y=t(Y,Z);X=new T(Y);break;case"string":case"Text":Y={text:H,wrapping:false};Y=t(Y,Z);var $=Y.text;var _=new J({translatable:D.translatable||false,property:n});if(typeof $==="string"){var a1=e.getTranslationKey($);if(a1){Y.text=p.getText(a1);}else if($.startsWith('{')&&$.endsWith('}')){Y.text={path:$.substring(1,$.length-1),formatter:function(c1){var d1=this.getBindingContext(),e1,f1=this.getModel("settings").getData(),g1=e.getTranslationKey(c1);if(f1.translatable||g1){if(d1&&d1.getObject()&&d1.getObject()._dt){e1=e.getTranslationValueInTexts(p.sLocale.replaceAll('_','-'),d1.getObject()._dt._uuid,f1.property);if(e1){return e1;}}if(g1){c1=p.getText(g1);return c1;}}return c1;}};}}Y.tooltip=Z.tooltip||Y.text;X=new T(Y);X.setModel(_,"settings");break;case"Icon":Y={src:H};Y=t(Y,Z);X=new j(Y);break;case"boolean":Y={selected:H,enabled:false};Y=t(Y,Z);X=new k(Y);break;case"Switch":Y={state:H,enabled:false};Y=t(Y,Z);X=new S(Y);break;case"Link":Y={text:H,target:"_blank",href:H};Y=t(Y,Z);X=new q(Y);break;default:X=new T({text:H,wrapping:false});break;}Q.template=X;var b1=new C(Q);m.push(b1);}}return m;};
z.prototype.checkHasFilterDefined=function(e){var H=true;if(e._propertiesParsedFromValue===true){H=false;}else{var p=JSON.stringify(e.properties,null,"\t");H=p.indexOf("filterProperty")>-1?true:false;}return H;};
z.prototype.createTableToolbar=function(e){var i=this;var m=i.getResourceBundle();var H=i.checkHasFilterDefined(e);var A=e.enabled!==false;var s=e.addButtonText||m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_ADD_TOOLTIP");if(A&&e.values){A=e.values.allowAdd===true;}return new O({content:[new c(),new d({icon:"sap-icon://add",visible:A,tooltip:s,press:i.addNewObject.bind(i)}),new d({icon:"sap-icon://edit",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_EDIT_TOOLTIP"),enabled:"{= !!${/_hasTableSelected}}",press:i.onEditOrViewDetail.bind(i)}),new d({icon:"sap-icon://delete",tooltip:m.getText("EDITOR_FIELD_OBJECT_DELETE"),enabled:"{= !!${/_canDelete}}",press:i.onDelete.bind(i)}),new j({src:"sap-icon://vertical-grip"}),new d({icon:"sap-icon://clear-filter",visible:H,enabled:"{= !!${/_hasFilter}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_CLEAR_ALL_FILTERS_TOOLTIP"),press:i.clearAllFilters.bind(i)}),new d({icon:"sap-icon://multiselect-all",enabled:"{= !${/_hasTableAllSelected}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_SELECT_ALL_SELETIONS_TOOLTIP"),press:i.selectAllTableSelections.bind(i)}),new d({icon:"sap-icon://multiselect-none",enabled:"{= !!${/_hasTableSelected}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_CLEAR_ALL_SELETIONS_TOOLTIP"),press:i.clearAllTableSelections.bind(i)})]});};
z.prototype.onUnSelectAll=function(e){var i=this;var m=i.getAggregation("_field");var p=m.getBindingContext().getPath();var n=m.getModel();var D=n.getProperty(p);D.forEach(function(s){s._dt=s._dt||{};s._dt._selected=false;});n.setProperty("/_hasSelected",false);n.checkUpdate(true);i.setValue(undefined);};
z.prototype.onEditOrViewDetail=function(e){var i=this;var m=i.getAggregation("_field");var s=m.getSelectedIndex();var n=m.getBinding("rows").getContexts();var p=n[s].getObject();var A=m.getFirstVisibleRow();var D=m.getRows()[s-A];var G=D.getCells()[0];i.openObjectDetailsPopover(p,G,!p._dt||p._dt._editable!==false?"update":"view");};
z.prototype.onFilter=function(e){var i=this;var m=i.getAggregation("_field");m.detachEvent("rowsUpdated",i.updateTable,i);m.attachEventOnce("rowsUpdated",i.updateTable,i);};
z.prototype.updateTable=function(e){var i=this;i.updateSelectionColumn();i.updateToolbar();};
z.prototype.updateSelectionColumn=function(){var e=this;var m=e.getAggregation("_field");var n=m.getBinding("rows").getContexts();var H=false;for(var i=0;i<n.length;i++){var p=n[i].getObject();if(p._dt&&p._dt._selected){H=true;break;}}m.getModel().setProperty("/_hasSelected",H);};
z.prototype.updateToolbar=function(){var e=this;var m=e.getAggregation("_field");var n=m.getColumns();var H=false;for(var i=0;i<n.length;i++){var p=n[i].getMenu();var s=p.getItems();if(s.length>0){var A=s[0];var D=A.getValue();if(D&&D!==""){H=true;break;}}}m.getModel().setProperty("/_hasFilter",H);};
z.prototype.columnFactory=function(i,e){var p=e.getPath();var n=p.substring(e.getPath().lastIndexOf("/")+1);var s=e.getProperty("$Type");var m=e.getProperty("$MaxLength");var A="7rem";m=m?parseInt(m):10;m=m<7?7:m;if(m>50){A="15rem";}else if(m>9){A="10rem";}return new C(i,{visible:true,filterProperty:s&&s.indexOf("String")>=0?n:null,width:A,label:new L({text:n}),hAlign:s&&s.indexOf("Decimal")>=0?"End":"Begin",template:new T({text:{path:n},wrapping:false})});};
z.prototype.onTableSelectionChange=function(e){var i=this;var m=i.getAggregation("_field");var n=m.getModel();var s=m.getSelectedIndices();if(s.length>0){n.setProperty("/_hasTableSelected",true);}else{n.setProperty("/_hasTableSelected",false);n.setProperty("/_canDelete",false);return;}if(s.length===m.getBinding("rows").getContexts().length){n.setProperty("/_hasTableAllSelected",true);}else{n.setProperty("/_hasTableAllSelected",false);}var p=[];var A=m.getBinding("rows").getContexts();s.forEach(function(D){var G=A[D].getObject();if(G._dt&&G._dt._editable!==false){var H=A[D].getPath();p.push(H);}});if(p.length===0){n.setProperty("/_canDelete",false);}else{n.setProperty("/_canDelete",true);}};
z.prototype.selectAllTableSelections=function(e){var i=this;var m=i.getAggregation("_field");m.selectAll();m.getModel().setProperty("/_hasTableAllSelected",true);};
z.prototype.clearAllTableSelections=function(e){var i=this;var m=i.getAggregation("_field");var n=m.getModel();m.clearSelection();n.setProperty("/_hasTableSelected",false);n.setProperty("/_canDelete",false);n.setProperty("/_hasTableAllSelected",false);};
z.prototype.onSelectionChange=function(e){var i=this;var m=e.getSource();var s=e.getParameter("selected");var n=i.getAggregation("_field");var p=n.getBindingContext().getPath();var A=n.getModel();if(s){var D=A.getProperty(p);D.forEach(function(K){K._dt=K._dt||{};K._dt._selected=false;});var G=m.getBindingContext().getObject();G._dt._selected=true;var H=o(G);A.setProperty("/_hasSelected",true);i.setValue(H);}else{A.setProperty("/_hasSelected",false);i.setValue(undefined);}};
z.prototype.addNewObject=function(e){var i=this;var m=e.getSource();i._newObjectTemplate._dt._uuid=U.generateUuidV4();i.openObjectDetailsPopover(i._newObjectTemplate,m,"add");};
z.prototype.mergeValueWithRequestResult=function(e){var i=this;var m=i.getConfiguration();var n=i.getAggregation("_field");var p=n.getModel();if(m.value&&(typeof m.value==="object")&&!h(m.value,{})){var s=o(m.value,500),A=n.getBinding("rows").getPath();if(Array.isArray(e)&&e.length>0){if(s._dt&&s._dt._editable===false){var D=s._dt._uuid||U.generateUuidV4();delete s._dt._uuid;e.forEach(function(G){if(h(G,s)){G._dt._selected=true;G._dt._uuid=D;}else{G._dt._uuid=U.generateUuidV4();}});}else{e.forEach(function(G){G._dt._uuid=U.generateUuidV4();});s._dt=s._dt||{};s._dt._selected=true;s._dt._uuid=s._dt._uuid||U.generateUuidV4();e.unshift(s);}}else{s._dt=s._dt||{};s._dt._selected=true;s._dt._uuid=s._dt._uuid||U.generateUuidV4();e=[s];}p.setProperty("/_hasSelected",true);p.setProperty(A,e);}else{if(Array.isArray(e)&&e.length>0){e.forEach(function(G){G._dt._uuid=U.generateUuidV4();});}p.setProperty("/_hasSelected",false);}p.checkUpdate();};
z.prototype.onChangeOfTextArea=function(i){var m=this;var n=m.getResourceBundle();var p=i.getSource();var s=p.getValue();if(!s||s===""){m.saveValue(undefined,p);}else{try{var A=JSON.parse(s);if(A instanceof Array){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_SINGLE_JSONOBJECT"));return;}m.saveValue(A,p);}catch(e){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_JSONOBJECT"));}}};
z.prototype.onChangeOfTextAreaInPopover=function(i){var m=this;var n=m.getResourceBundle();var p=i.getSource();var s=p.getValue();if(!s||s===""){m.saveValue(undefined,p,true);}else{try{var A=JSON.parse(s);if(A instanceof Array){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_SINGLE_JSONOBJECT"));return;}m.saveValue(A,p,true);}catch(e){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_JSONOBJECT"));}}};
z.prototype.createFormContents=function(e,p,i,n){var m=this;var A=m.getConfiguration();var D=m.createPropertyContents(e,p,n);D.push(new L({visible:false}).addStyleClass("sapFormLabel"));D.push(new a({value:{path:p,formatter:function(G){if(!G||G===""){return undefined;}if(h(G,{})&&!i&&!m._getCurrentProperty("value")){return undefined;}G=JSON.stringify(G,null,"\t");if(typeof G==="object"&&!G.length){G=G.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(s){return s.substring(3,s.length-3);});}return G;}},editable:A.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",width:"100%",placeholder:"{config/placeholder}",visible:"{= ${/editMode} === 'Json'}",change:i===true?this.onChangeOfTextAreaInPopover.bind(m):this.onChangeOfTextArea.bind(m),rows:i===true?11:7}));return D;};
z.prototype.createPropertyContents=function(e,p,i){var A=this;var D=A.getConfiguration();var G=[];if(!p){p="currentSettings>value/";}var H={};if(D.values&&D.values.metadata){var K=A.getModel("meta");var Q="/"+D.values.metadata.namespace+'.'+D.values.metadata.entityTypeName;var W=K.getProperty(Q);for(var m in W){var X=W[m];var Y=X['$Type'];if(X['$kind']==="Property"&&Y){if(Y.indexOf("Int")>=0){H[m]={type:"int"};}else if(Y.indexOf("Boolean")>=0){H[m]={type:"boolean"};}else if(Y.indexOf("Decimal")>=0){H[m]={type:"number"};}else{H[m]={type:"string"};}}}}if(h(H,{})){H=D.properties;}for(var n in H){var Z=H[n];var $=Z.label||n;if($.match(R)){var _=$.substring(2,$.length-2);$="{i18n>"+_+"}";}var a1=new L({text:$,visible:"{= ${/editMode} === 'Properties'}",required:Z.required||false});G.push(a1);var b1;var c1=o(Z,500);delete c1.type;delete c1.label;delete c1.translatable;delete c1.defaultValue;delete c1.formatter;delete c1.column;delete c1.cell;var d1;switch(Z.type){case"boolean":if(Z.cell&&Z.cell.type==="Switch"){d1={state:"{"+p+n+"}",visible:"{= ${/editMode} === 'Properties'}",enabled:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",change:e};if(Z.cell.customTextOn){d1.customTextOn=Z.cell.customTextOn;}if(Z.cell.customTextOff){d1.customTextOff=Z.cell.customTextOff;}d1=t(d1,c1);b1=new S(d1);}else{d1={selected:"{"+p+n+"}",visible:"{= ${/editMode} === 'Properties'}",enabled:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",select:e};d1=t(d1,c1);b1=new k(d1);}break;case"int":case"integer":d1={value:{path:p+n,type:"sap.ui.model.type.Integer",formatOptions:Z.formatter},visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",type:"Number",change:e};d1=t(d1,c1);b1=new I(d1);break;case"number":d1={value:{path:p+n,type:"sap.ui.model.type.Float",formatOptions:Z.formatter},visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",type:"Number",change:e};d1=t(d1,c1);b1=new I(d1);break;case"object":d1={value:{path:p+n,formatter:function(f1){if(!f1||f1===""){return undefined;}f1=JSON.stringify(f1,null,"\t");if(typeof f1==="object"&&!f1.length){f1=f1.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(s){return s.substring(3,s.length-3);});}return f1;}},visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",change:e,rows:3};d1=t(d1,c1);b1=new a(d1);break;default:var e1=new J({translatable:Z.translatable||false,uuidPath:p+"_dt/_uuid",property:n});d1={value:"{"+p+n+"}",visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",change:function(s){var f1=s.getSource();var g1=s.getParameter("value");if(g1&&g1.match(R)){var h1=g1.substring(2,g1.length-2);g1="{i18n>"+h1+"}";f1.setValue(g1);f1.fireChange();}else if(e){e(s);}}};d1=t(d1,c1);if(i){d1.valueHelpIconSrc="sap-icon://translate";d1.valueHelpRequest=i.bind(A,n);if(Z.translatable){d1.showValueHelp=true;}else{d1.showValueHelp={path:p+n,formatter:function(s){var d1=this.getModel("settings").getData();var f1=this.getModel().getProperty(d1.uuidPath);var g1="translatable";if(A.getTranslationKey(s)){if(!this.getShowValueHelp()&&A.getObjectPropertyConfigValueInDesigntime(f1,d1.property,g1)===false){A.setObjectPropertyConfigValueInDesigntime(f1,d1.property,g1,true);}return true;}if(this.getShowValueHelp()){A.deleteTranslationValueInTexts(undefined,f1,d1.property);A.setObjectPropertyConfigValueInDesigntime(f1,d1.property,g1,false);A._oUpdatedTranslations={};}return false;}};}}b1=new I(d1);b1.setModel(e1,"settings");}G.push(b1);}return G;};
z.prototype.saveValue=function(e,i,m){var n=this;var p;if(!m){n.setValue(e);p=n.getAggregation("_field").getModel();if(p){e=o(e,500);p.setProperty("/value",e||{});}i.setValueState("None");i.setValueStateText("");if(n.getConfiguration()._propertiesParsedFromValue){n.refreshSimpleForm();}}else{p=i.getModel();p.setProperty("/value",e);i.setValueState("None");i.setValueStateText("");}};
z.prototype.refreshSimpleForm=function(){var e=this;var i=e.getConfiguration();var m=e.getAggregation("_field");var n=m.removeAllContent().slice(-2);delete i.properties;e.parseValueProperties();var p=function(){var A=m.getModel();A.checkUpdate(true);var D=A.getProperty("/value");D=o(D,500);e.setValue(D);};var s=e.createPropertyContents(p,"/value/");s=s.concat(n);s.forEach(function(A){m.addContent(A);});};
z.prototype.getOriginTranslatedValues=function(K){var e=[];var i=E.getInstance();for(var p in i){var m=i[p];var s="";var n="";if(K&&m){var A=m.resourceBundle&&m.resourceBundle.getText(K);s=A;n=A;}else{s="";n="";}var D={"key":p,"desription":m.language,"value":s,"originValue":n,"editable":true};e.push(D);}return e;};
z.prototype.buildPropertyTranslationValues=function(K){var e=[];var i=E.getInstance();for(var p in i){e.push({"key":p,"desription":i[p].language,"value":K,"originValue":K,"editable":true});}return e;};
z.prototype.openObjectDetailsPopover=function(i,e,m){var n=this;var p=n.getResourceBundle();var s=o(i,500);var A;var D=m==="add"&&n._previewPosition!=="right"?"Left":"Right";if(!n._oObjectDetailsPopover){var G=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_ADD"),visible:m==="add",enabled:{path:'/value',formatter:function(c1){if(typeof c1!=="object"||h(c1,{})){return false;}else{var d1=o(c1);delete d1._dt;if(h(d1,{})){return false;}}return true;}},press:n.onAdd.bind(n)});var H=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_UPDATE"),visible:m==="update",enabled:{path:'/value',formatter:function(c1){if(!c1||c1===""||h(c1,{})){return false;}return true;}},press:n.onUpdate.bind(n)});var K=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_CANCEL"),visible:m!=="view",press:function(){if(m==="add"){var c1=n._oObjectDetailsPopover.getModel().getProperty("/value");n.deleteTranslationValueInTexts(undefined,c1._dt._uuid);}n._oObjectDetailsPopover.close();}});var Q=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_CLOSE"),visible:m==="view",press:function(){n._oObjectDetailsPopover.close();}});var W=new d({icon:{path:'/editMode',formatter:function(c1){if(c1==="Properties"){return"sap-icon://syntax";}else{return"sap-icon://form";}}},tooltip:{path:'/editMode',formatter:function(c1){if(c1==="Properties"){return p.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_JSON");}else{return p.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_PROPERTIES");}}},press:function(c1){var e=c1.getSource();var A=e.getModel();var d1=A.getProperty("/editMode");if(d1==="Properties"){A.setProperty("/editMode","Json");}else{A.setProperty("/editMode","Properties");}}});var X;n._oNavContainer=new N();n._oObjectDetailsPage=new P({title:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_TITLE"),headerContent:W,footer:new O({content:[new c(),G,H,K,Q]})});var Y=function(c1){n._oNavContainer.back();n._oObjectDetailsPage.focus();};var Z=n.buildTranslationsList();var $=n.buildTranslationsFooter(Z,false);n._oTranslationListPage=new P({title:p.getText("EDITOR_FIELD_OBJECT_TRANSLATION_LIST_TITLE","{languages>/property}"),showNavButton:true,navButtonPress:Y,content:Z,footer:$});var _=function(c1){var A=n._oObjectDetailsPopover.getModel();A.checkUpdate(true);var d1=A.getProperty("/value");if(d1&&d1!==""&&typeof d1==="object"&&!h(d1,{})){G.setEnabled(true);}else{G.setEnabled(false);}};var a1=function(){};if(i._dt&&i._dt._editable===false){X=n.createFormContents(a1,"/value/",true,n.navToTranslationPage);}else{X=n.createFormContents(_,"/value/",true,n.navToTranslationPage);}var b1=new r({layout:"ResponsiveGridLayout",labelSpanXL:4,labelSpanL:4,labelSpanM:4,labelSpanS:12,emptySpanXL:1,emptySpanL:1,emptySpanM:1,emptySpanS:0,columnsXL:1,columnsL:1,columnsM:1,content:X});n._oObjectDetailsPage.addContent(b1);n._oNavContainer.addPage(n._oObjectDetailsPage);n._oNavContainer.addPage(n._oTranslationListPage);n._oObjectDetailsPopover=new b({placement:D,showHeader:false,contentWidth:"300px",contentHeight:"345px",modal:true,content:n._oNavContainer}).addStyleClass("sapUiIntegrationEditorItemObjectFieldDetailsPopover");A=new J({"value":s,"editMode":"Properties"});n._oObjectDetailsPopover.setModel(A);n._oObjectDetailsPopover.setModel(n.getModel("i18n"),"i18n");n._oObjectDetailsPopover._oAddButton=G;n._oObjectDetailsPopover._oUpdateButton=H;n._oObjectDetailsPopover._oCancelButton=K;n._oObjectDetailsPopover._oCloseButton=Q;n._oObjectDetailsPopover._openBy=e;}else{A=n._oObjectDetailsPopover.getModel();A.setProperty("/value",s);A.checkUpdate(true);if(m==="add"){n._oObjectDetailsPopover._oAddButton.setVisible(true);n._oObjectDetailsPopover._oUpdateButton.setVisible(false);n._oObjectDetailsPopover._oCancelButton.setVisible(true);n._oObjectDetailsPopover._oCloseButton.setVisible(false);}else if(m==="update"){n._oObjectDetailsPopover._oAddButton.setVisible(false);n._oObjectDetailsPopover._oUpdateButton.setVisible(true);n._oObjectDetailsPopover._oCancelButton.setVisible(true);n._oObjectDetailsPopover._oCloseButton.setVisible(false);}else{n._oObjectDetailsPopover._oAddButton.setVisible(false);n._oObjectDetailsPopover._oUpdateButton.setVisible(false);n._oObjectDetailsPopover._oCancelButton.setVisible(false);n._oObjectDetailsPopover._oCloseButton.setVisible(true);}n._oObjectDetailsPopover._openBy=e;n._oObjectDetailsPopover.setPlacement(D);n._oNavContainer.back();}n._oObjectDetailsPopover.openBy(e);};
z.prototype.buildTranslationsData=function(K,s,e,p){var i=this;var m=i.getResourceBundle();i._oOriginTranslatedValues=i._oOriginTranslatedValues||{};i._oUpdatedTranslations=i._oUpdatedTranslations||{};var n=e+"_"+p;var A=K;if(s==="key"){if(!i._oOriginTranslatedValues[K]){i._oOriginTranslatedValues[K]=i.getOriginTranslatedValues(K);}}else if(s==="property"){A=n;i._oOriginTranslatedValues[A]=i.buildPropertyTranslationValues(K);}var D=[];i._oOriginTranslatedValues[A].forEach(function(H){var Q=o(H,500);Q.status=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var W=i.getTranslationValueInTexts(Q.key,e,p);if(W){Q.value=W;if(y(i._oUpdatedTranslations[A],Q.key)){Q.value=i.getTranslationValueInTexts(Q.key,e,p);Q.status=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");}else{Q.originValue=Q.value;}}if(Q.key===m.sLocale.replaceAll('_','-')){Q.desription+=" ("+m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_CURRENTLANGUAGE")+")";D.unshift(Q);}else{D.push(Q);}});var G={"isUpdated":false,"key":K,"translationKey":A,"translationType":s,"uuid":e,"property":p,"translatedLanguages":D};return G;};
z.prototype.getTranslationKey=function(s){var K;if(s&&s.match(R)){K=s.substring(2,s.length-2);}else if(s&&s.startsWith("{i18n>")&&s.endsWith('}')){K=s.substring(6,s.length-1);}return K;};
z.prototype.buildTranslationsModel=function(e){var i=this;var m=i.getResourceBundle();var n=new J(e);n.attachPropertyChange(function(p){var D=n.getData();var s=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");var A=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var G=false;D.translatedLanguages.forEach(function(H){if(H.value!==H.originValue){H.status=s;G=true;}else{H.status=A;}});D.isUpdated=G;n.setData(D);n.checkUpdate(true);});return n;};
z.prototype.buildTranslationsList=function(){return new u({items:{path:"languages>/translatedLanguages",template:new v({content:[new V({items:[new T({text:"{languages>desription}"}),new I({value:"{languages>value}",editable:"{languages>editable}"})]})],customData:[new x({key:"{languages>key}",value:"{languages>desription}"})]}),sorter:[new w({path:'status',descending:true,group:true})]}});};
z.prototype.buildTranslationsFooter=function(e,i){var m=this;var n=m.getResourceBundle();var s=n.sLocale.replaceAll('_','-');var p=new d({type:"Emphasized",text:n.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_SAVE"),enabled:"{languages>/isUpdated}",press:function(){var G=e.getModel("languages");var H=G.getData();var K=[];var Q=H.key;var W=H.translationKey;var X=H.translationType;var Y=H.uuid;var Z=H.property;H.translatedLanguages.forEach(function(_){if(_.value!==_.originValue){m.setTranslationValueInTexts(_.key,Y,Z,_.value);K.push(_.key);}});var $=false;if(K.length>0){m._oUpdatedTranslations=m._oUpdatedTranslations||{};m._oUpdatedTranslations[W]=K;if(y(K,s)){$=true;}}H=m.buildTranslationsData(Q,X,Y,Z);G.setData(H);G.checkUpdate(true);if(m.getModel()){m.getModel().checkUpdate(true);}if($&&m._oValueBinding){m._oValueBinding.fireEvent("change");}}});var A=new d({text:n.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_RESET"),enabled:"{languages>/isUpdated}",press:function(G){var H=e.getModel("languages");var K=H.getData();K.translatedLanguages.forEach(function(Q){Q.value=Q.originValue;Q.status=n.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");});K.isUpdated=false;H.setData(K);H.checkUpdate(true);}});var D=new d({text:n.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_CANCEL"),visible:i,press:function(){m._oTranslationPopover.close();}});return new O({content:[new c(),p,A,D]});};
z.prototype.openTranslationPopup=function(p,e){var i=this;var m=e.getSource();var n=i.getResourceBundle();var s=m.getModel().getProperty("/value");if(!s._dt){s._dt={_uuid:U.generateUuidV4()};}else if(!s._dt._uuid){s._dt._uuid=U.generateUuidV4();}var A=m.getValue();var K=i.getTranslationKey(A);var D="property";if(K&&K!==""){D="key";}else{K=A;}var G=i.buildTranslationsData(K,D,s._dt._uuid,p);var H;if(!i._oTranslationPopover){var Q=i.buildTranslationsList();var W=i.buildTranslationsFooter(Q,true);var X=i._previewPosition==="right"?"Right":"Left";i._oTranslationPopover=new b({placement:X,contentWidth:"300px",contentHeight:"345px",title:n.getText("EDITOR_FIELD_OBJECT_TRANSLATION_LIST_TITLE","{languages>/property}"),content:Q,footer:W}).addStyleClass("sapUiIntegrationFieldTranslation");H=i.buildTranslationsModel(G);i._oTranslationPopover.setModel(H,"languages");}else{H=i._oTranslationPopover.getModel("languages");H.setData(G);H.checkUpdate(true);}i._oTranslationPopover.openBy(m._oValueHelpIcon);};
z.prototype.navToTranslationPage=function(p,e){var i=this;var n=i._oObjectDetailsPopover.getModel().getProperty("/value");var s=n[p];var K=i.getTranslationKey(s);var m="property";if(K&&K!==""){m="key";}else{K=s;}var A=i.buildTranslationsData(K,m,n._dt._uuid,p);var D=i._oTranslationListPage.getModel("languages");if(!D){D=i.buildTranslationsModel(A);i._oTranslationListPage.setModel(D,"languages");}else{D.setData(A);}i._oNavContainer.to(i._oTranslationListPage);i._oTranslationListPage.focus();};
z.prototype.onAdd=function(e){var i=this;var m=i.getAggregation("_field");var n=m.getModel();var p=i._oObjectDetailsPopover.getModel().getProperty("/value");var s=m.getBinding("rows").getPath();var D=n.getProperty(s);D.forEach(function(A){if(A._dt._selected){A._dt._selected=false;}});D.push(p);n.setProperty("/_hasSelected",true);n.setProperty("/_hasTableAllSelected",false);n.setProperty("/_hasTableSelected",false);n.checkUpdate();i.refreshValue();i.updateTable();i._oObjectDetailsPopover.close();};
z.prototype.onUpdate=function(e){var i=this;var m=i.getAggregation("_field");var n=i._oObjectDetailsPopover.getModel().getProperty("/value");var p=m.getModel();var s=i._oObjectDetailsPopover._openBy.getParent();var A=s.getIndex();var D=m.getBinding("rows").getContexts();var G=D[A].getPath();p.setProperty(G,o(n,500));p.checkUpdate();if(n._dt&&n._dt._selected){i.refreshValue();}i.updateTable();i._oObjectDetailsPopover.close();};
z.prototype.onDelete=function(e){var m=this;var n=m.getAggregation("_field");var p=m.getResourceBundle();var s=n.getSelectedIndices();var A=[];var D=n.getBinding("rows").getContexts();s.forEach(function(i){var G=D[i].getObject();if(G._dt&&G._dt._editable!==false){var H=D[i].getPath();var K=H.substring(H.lastIndexOf("/")+1);A.push(K);}});if(A.length===0){M.error(p.getText("EDITOR_FIELD_OBJECT_DELETE_ERROR_MSG"));return;}M.confirm(p.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_MSG"),{title:p.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_TITLE"),onClose:function(G){if(G===M.Action.OK){var H=n.getBindingContext().getPath();var K=n.getModel();var Q=K.getProperty(H);var W=[];for(var i=0;i<Q.length;i++){if(y(A,i+"")){m.deleteTranslationValueInTexts(undefined,Q[i]._dt._uuid);}else{W.push(Q[i]);}}K.setProperty(H,W);K.checkUpdate(true);m.refreshValue();m.updateTable();}else{l.show(p.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_CANCLE"));}}});};
z.prototype.refreshValue=function(){var e=this;var m=e.getAggregation("_field");var n=m.getModel();var p=m.getBinding("rows").getPath();var D=n.getProperty(p);var s;for(var i=0;i<D.length;i++){var A=D[i];if(A._dt._selected){s=o(A);break;}}e.setValue(s);};
z.prototype.clearAllFilters=function(e){var m=this;var n=m.getAggregation("_field");var p=n.getColumns();for(var i=0;i<p.length;i++){var s=p[i];if(i<p.length-1){s._applySelection=false;}n.filter(s,undefined);}};
z.prototype.setValue=function(e){var i=this;i.cleanDT(e);i._setCurrentProperty("value",e);};
z.prototype.cleanDT=function(e){if(e&&e._dt&&e._dt._selected){delete e._dt._selected;}if(e&&e._dt&&h(e._dt,{})){delete e._dt;}};
z.prototype.getTranslationValueInTexts=function(s,e,p){var i=this;var m=i.getConfiguration();var n="/texts/"+s;var A=this._settingsModel.getProperty(n)||{};var D=A[m.manifestpath];var G;if(D&&D[e]){G=D[e][p];}return G;};
z.prototype.setObjectPropertyConfigValueInDesigntime=function(s,p,e,i){var m=this;var n=m.getConfiguration();var D="/:designtime";var A=this._settingsModel.getData();if(!A){return;}var G;if(!A.hasOwnProperty(":designtime")){G={};}else{G=o(A[":designtime"],500);}if(!G.hasOwnProperty(n.manifestpath)){G[n.manifestpath]={};}if(!G[n.manifestpath].hasOwnProperty(s)){G[n.manifestpath][s]={};}if(!G[n.manifestpath][s].hasOwnProperty(p)){G[n.manifestpath][s][p]={};}G[n.manifestpath][s][p][e]=i;this._settingsModel.setProperty(D,G);};
z.prototype.getObjectPropertyConfigValueInDesigntime=function(s,p,e){var i=this;var m;var n=i.getConfiguration();var D=this._settingsModel.getData();if(D&&D[":designtime"]&&D[":designtime"][n.manifestpath]&&D[":designtime"][n.manifestpath][s]&&D[":designtime"][n.manifestpath][s][p]&&D[":designtime"][n.manifestpath][s][p].hasOwnProperty(e)){m=D[":designtime"][n.manifestpath][s][p][e];}return m;};
z.prototype.setTranslationValueInTexts=function(s,e,p,i){var m=this;var n=m.getConfiguration();var A="/texts";var D=this._settingsModel.getData();if(!D){return;}var G;if(!D.hasOwnProperty("texts")){G={};}else{G=o(D.texts,500);}if(!G.hasOwnProperty(s)){G[s]={};}if(!G[s].hasOwnProperty(n.manifestpath)){G[s][n.manifestpath]={};}if(!G[s][n.manifestpath].hasOwnProperty(e)){G[s][n.manifestpath][e]={};}G[s][n.manifestpath][e][p]=i;this._settingsModel.setProperty(A,G);};
z.prototype.deleteTranslationValueInTexts=function(s,e,p){var i=this;var D=i._settingsModel.getData();if(!D||!D.texts||!e){return;}var m=i.getConfiguration();var A="/texts";var G=o(D.texts,500);if(s){if(G[s]&&G[s][m.manifestpath]&&G[s][m.manifestpath][e]){if(p){if(G[s][m.manifestpath][e].hasOwnProperty(p)){delete G[s][m.manifestpath][e][p];if(h(G[s][m.manifestpath][e],{})){delete G[s][m.manifestpath][e];}this._settingsModel.setProperty(A,G);}}else{delete G[s][m.manifestpath][e];if(h(G[s][m.manifestpath],{})){delete G[s][m.manifestpath];if(h(G[s],{})){delete G[s];}}this._settingsModel.setProperty(A,G);}}}else{for(var n in G){i.deleteTranslationValueInTexts(n,e,p);}}};
return z;});
sap.ui.predefine('sap/ui/integration/editor/fields/ObjectListField',["sap/ui/integration/editor/fields/ObjectField","sap/ui/model/json/JSONModel","sap/ui/table/Table","sap/m/CheckBox","sap/base/util/deepEqual","sap/base/util/deepClone","sap/ui/integration/util/Utils"],function(O,J,T,C,d,a,U){"use strict";
var b=O.extend("sap.ui.integration.editor.fields.ObjectListField",{
metadata:{library:"sap.ui.integration"},
renderer:O.getMetadata().getRenderer()
});
b.prototype.initVisualization=function(c){var t=this;t._newObjectTemplate={"_dt":{"_selected":true,"_uuid":""}};var v=c.visualization;if(!v){if(c.value&&!c.properties&&(!c.values||(c.values&&!c.values.metadata))){t.parseValueProperties();}if(c.values||c.properties){v=t.createTableVisualization(c);}else{v=t.createTextAreaVisualization(c);}c.withLabel=true;}this._visualization=v;this.attachAfterInit(this._afterInit);};
b.prototype._afterInit=function(){var t=this;var c=t.getAggregation("_field");if(c instanceof T){c.addStyleClass("sapUiIntegrationEditorItemObjectListFieldTable");var o=t.getConfiguration();if(!o.values){var v=a(o.value,500)||[];v.forEach(function(i){i._dt=i._dt||{};i._dt._selected=true;i._dt._uuid=i._dt._uuid||U.generateUuidV4();});t.setModel(new J({value:v,_allSelected:true}));t.bindObject({path:"/value"});}}};
b.prototype.parseValueProperties=function(){var t=this;var c=t.getConfiguration();if(Array.isArray(c.value)&&c.value.length>0&&!c.properties){var p={};c.value.forEach(function(o){for(var n in o){if(!p[n]&&n!=="_dt"){var s=typeof o[n];var P=s==="string"?{}:{"type":s};p[n]=P;}}});if(!d(p,{})){c.properties=p;c._propertiesParsedFromValue=true;}}};
b.prototype.buildSelectionColumnLables=function(){var t=this;var c=t.getConfiguration();var r=t.getResourceBundle();return new C({selected:"{/_allSelected}",visible:typeof c.values!=="undefined",tooltip:{path:'/_allSelected',formatter:function(A){if(!A){return r.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_TOOLTIP_ADDALL");}else{return r.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_TOOLTIP_REMOVEALL");}}},select:t.onSelectionColumnClick.bind(t)});};
b.prototype.onSelectionColumnClick=function(e){var t=this;var i=e.getParameter("selected");var o=t.getAggregation("_field");var r=o.getBinding("rows").getContexts();r.forEach(function(R){var I=R.getObject();I._dt=I._dt||{};I._dt._selected=i;});var m=o.getModel();var p=o.getBinding("rows").getPath();var D=m.getProperty(p);var v;D.forEach(function(c){if(c._dt&&c._dt._selected){var f=a(c,500);v=v||[];v.push(f);}});m.checkUpdate(true);t.setValue(v);};
b.prototype.updateSelectionColumn=function(){var t=this;var o=t.getAggregation("_field");var r=o.getBinding("rows").getContexts();var A=true;if(r.length===0){A=false;}else{for(var i=0;i<r.length;i++){var c=r[i].getObject();if(!c._dt||c._dt._selected!==true){A=false;break;}}}o.getModel().setProperty("/_allSelected",A);};
b.prototype.onAdd=function(e){var t=this;var c=t.getAggregation("_field");var n=t._oObjectDetailsPopover.getModel().getProperty("/value");var p=c.getBinding("rows").getPath();var m=c.getModel();var D=m.getProperty(p);D.push(n);m.setProperty("/_hasTableAllSelected",false);m.setProperty("/_hasTableSelected",false);m.checkUpdate();t.refreshValue();t._oObjectDetailsPopover.close();};
b.prototype.refreshValue=function(){var t=this;var o=t.getAggregation("_field");var m=o.getModel();var p=o.getBinding("rows").getPath();var D=m.getProperty(p);var v=[];D.forEach(function(i){if(i._dt._selected){var c=a(i);v.push(c);}});t.setValue(v);};
b.prototype.onSelectionChange=function(e){var t=this;var s=e.getParameter("selected");var v=this._getCurrentProperty("value");var o=t.getAggregation("_field");var m=o.getModel();if(s||v.length>1){t.refreshValue();t.updateSelectionColumn();}else{m.setProperty("/_allSelected",false);t.setValue(undefined);}};
b.prototype.mergeValueWithRequestResult=function(t){var c=this;var o=c.getConfiguration();var e=c.getAggregation("_field");var m=e.getModel();if(o.value&&Array.isArray(o.value)&&o.value.length>0){var v=a(o.value,500),p=e.getBinding("rows").getPath();if(Array.isArray(t)&&t.length>0){var u=[];v.forEach(function(f){var s;if(!f._dt){s=U.generateUuidV4();}else{s=f._dt._uuid||U.generateUuidV4();delete f._dt._uuid;}u.push(s);});var n=[];for(var i=0;i<t.length;i++){var r=t[i];var I=false;for(var j=0;j<v.length;j++){if(d(r,v[j])){I=true;break;}}if(!I){r._dt._uuid=U.generateUuidV4();n.push(r);}}for(var k=0;k<v.length;k++){var V=v[k];V._dt=V._dt||{};V._dt._selected=true;V._dt._uuid=u[k];}if(n.length>0){m.setProperty("/_allSelected",false);v=v.concat(n);}else{m.setProperty("/_allSelected",true);}}else{v.forEach(function(f){f._dt=f._dt||{};f._dt._selected=true;f._dt._uuid=f._dt._uuid||U.generateUuidV4();});m.setProperty("/_allSelected",true);}m.setProperty(p,v);}else{if(Array.isArray(t)&&t.length>0){t.forEach(function(R){R._dt._uuid=U.generateUuidV4();});}m.setProperty("/_allSelected",false);}m.checkUpdate();};
b.prototype.onChangeOfTextArea=function(E){var t=this;var r=t.getResourceBundle();var o=E.getSource();var v=o.getValue();if(!v||v===""){t.saveValue(undefined,o);}else{try{var V=JSON.parse(v);if(!(V instanceof Array)){o.setValueState("Error");o.setValueStateText(r.getText("EDITOR_VAL_NOT_AN_ARRAY_OF_JSONOBJECTS"));return;}t.saveValue(V,o);}catch(e){o.setValueState("Error");o.setValueStateText(r.getText("EDITOR_VAL_NOT_A_JSONOBJECT"));}}};
b.prototype.saveValue=function(v,t,i){var c=this;var V;if(!i){c.setValue(v);}else{V=t.getModel();V.setProperty("/value",v);}t.setValueState("None");t.setValueStateText("");};
b.prototype.cleanDT=function(v){if(v){v.forEach(function(i){if(i&&i._dt&&i._dt._selected){delete i._dt._selected;}if(i&&i._dt&&d(i._dt,{})){delete i._dt;}});}};
return b;});
sap.ui.predefine('sap/ui/integration/editor/fields/StringField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input","sap/m/Text","sap/m/Title","sap/m/Select","sap/m/ComboBox","sap/m/Popover","sap/m/Button","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/core/ListItem","sap/m/List","sap/m/CustomListItem","sap/m/VBox","sap/base/util/each","sap/base/util/restricted/_debounce","sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/deepClone","sap/ui/model/Sorter",'sap/m/GroupHeaderListItem',"sap/base/util/includes","sap/ui/core/CustomData"],function(B,I,T,a,S,C,P,b,O,c,L,d,e,V,f,_,g,J,E,h,j,G,k,l){"use strict";var R=/parameters\.([^\}\}]+)/g;var s=["TODAY_ISO","NOW_ISO","LOCALE"];
var m=B.extend("sap.ui.integration.editor.fields.StringField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
m.prototype.initVisualization=function(o){var v=o.visualization;if(!v){var r=o.value?o.value.match(R):undefined;var p,n,q;if(r&&r.length>0){r=r.filter(function(i){var u=i.substring(11);return!k(s,u);});}if(r&&r.length>0){p=r.map(function(i){if(this.isOrigLangField){return"items>"+i.substring(11)+"/_language/value";}return"items>"+i.substring(11)+"/value";}.bind(this));p.unshift("currentSettings>value");n={parts:p,formatter:function(u){var A=Array.prototype.slice.call(arguments,1);for(var i=0;i<A.length;i++){if(A[i]){u=u.replaceAll("{{"+r[i]+"}}",A[i]);}}return u;}};q=function(i){var u=i.getSource().getValue();var w=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(w+"/value",u);var x=this._settingsModel.getBindings();var y=w.substring(w.lastIndexOf("/")+1);f(x,function(z,A){if(A.sPath==="/form/items/"+y+"/value"){A.checkUpdate(true);}});}.bind(this);}if(this.getMode()==="translation"){if(o.editable){v={type:I,settings:{value:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,placeholder:o.placeholder}};}else{v={type:T,settings:{text:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},visible:o.visible,wrapping:false}};}}else if(o.enum){var t=new L({key:{path:"currentSettings>"},text:{path:"currentSettings>"}});v={type:S,settings:{selectedKey:{path:'currentSettings>value'},forceSelection:false,editable:o.editable,visible:o.visible,showSecondaryValues:false,width:"100%",items:{path:"currentSettings>enum",template:t}}};}else if(o.values){var t=this.formatListItem(o.values.item);if(!o.values.item.key){o.values.item.key=o.values.item.text;}v={type:C,settings:{busy:{path:'currentSettings>_loading'},selectedKey:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,showSecondaryValues:true,width:"100%",items:{path:"",template:t}}};if(this.isFilterBackend()){v.settings.selectedKey={parts:['currentSettings>value','currentSettings>suggestValue'],formatter:function(i,u){if((!i||i==="")&&u){return u.replaceAll('\'\'',"'");}else{return i;}}};}}else if(this.getMode()!=="translation"&&o.translatable){v={type:I,settings:{value:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,placeholder:o.placeholder,valueHelpIconSrc:"sap-icon://translate",showValueHelp:true,valueHelpRequest:this.openTranslationListPopup,change:function(i){var u=i.getSource();var w=u.getValue();var x=g.getConfiguration().getLanguage().replaceAll('_','-');u.getParent().setTranslationValueInTexts(x,o.manifestpath,w);}}};if(p){delete v.settings.tooltip;v.settings.value=n;v.settings.change=q;v.settings.showValueHelp=false;delete v.settings.valueHelpRequest;}}else{v={type:I,settings:{value:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,placeholder:o.placeholder}};if(p){delete v.settings.tooltip;v.settings.value=n;v.settings.change=q;}}}else if(v.type==="TextArea"){v.type="sap/m/TextArea";}this._visualization=v;this.attachAfterInit(this._afterInit);};
m.prototype._afterInit=function(){var o=this.getAggregation("_field");if(o instanceof C){if(this.isFilterBackend()){this.onInput=_(this.onInput,500);o.oninput=this.onInput.bind(this);o.attachSelectionChange(this.onSelectionChange.bind(this));}}};
m.prototype.onSelectionChange=function(o){var i=o.getParameter("selectedItem")||{};var K=i.getKey();var n=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(n+"/value",K);};
m.prototype.onInput=function(o){var t=o.target.value;var i=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(i+"/suggestValue",t.replaceAll("'","\'\'"));this._settingsModel.setProperty(i+"/_loading",true);this._settingsModel.setProperty(i+"/value","");var n=this._settingsModel.getBindings();var p=i.substring(i.lastIndexOf("/")+1);f(n,function(r,u){if(u.sPath==="/form/items/"+p+"/value"){u.checkUpdate(true);}});var q=o.srcControl;q.open();q.setValue(t);q.setSelection(null);};
m.prototype.getOriginTranslatedValues=function(o){var i=[];var n=E.getInstance();var K;if(o._translatedDefaultPlaceholder&&o._translatedDefaultPlaceholder.startsWith("{i18n>")&&o._translatedDefaultPlaceholder.endsWith("}")){K=o._translatedDefaultPlaceholder.substring(6,o._translatedDefaultPlaceholder.length-1);}else if(o._translatedDefaultPlaceholder&&o._translatedDefaultPlaceholder.startsWith("{{")&&o._translatedDefaultPlaceholder.endsWith("}}")){K=o._translatedDefaultPlaceholder.substring(2,o._translatedDefaultPlaceholder.length-2);}for(var p in n){var r=n[p];var t="";var q="";if(K&&r){var u=r.resourceBundle&&r.resourceBundle.getText(K,[],true);if(u!==undefined){t=u;q=u;}else{t=o._translatedValue||"";q=o._translatedValue||"";}}else{t=o._translatedDefaultPlaceholder||"";q=o._translatedDefaultPlaceholder||"";}var v={"key":p,"desription":r.language,"value":t,"originValue":q,"editable":true};i.push(v);}return i;};
m.prototype.getTranslationValueInTexts=function(i,M){var t="/texts/"+i;var p=this._settingsModel.getProperty(t)||{};return p[M];};
m.prototype.setTranslationValueInTexts=function(i,M,v){var t="/texts";var D=this._settingsModel.getData();if(!D){return;}if(!D.hasOwnProperty("texts")){var o={};o[i]={};o[i][M]=v;this._settingsModel.setProperty(t,o);}else{t="/texts/"+i;var n;if(!D.texts.hasOwnProperty(i)){n={};}else{n=D.texts[i];}n[M]=v;this._settingsModel.setProperty(t,n);}};
m.prototype.openTranslationListPopup=function(o){var t=this;var i=o.getSource();var F=i.getParent();var n=F.getConfiguration();if(!t._aOriginTranslatedValues){t._aOriginTranslatedValues=F.getOriginTranslatedValues(n);}var p=h(t._aOriginTranslatedValues,500);var r=F.getResourceBundle();p.forEach(function(w){var x=F.getTranslationValueInTexts(w.key,n.manifestpath);if(x){w.value=x;if(!k(t._aUpdatedLanguages,w.key)){w.originValue=w.value;}}else if(n._beforeLayerChange){w.value=n._beforeLayerChange;if(!k(t._aUpdatedLanguages,w.key)){w.originValue=w.value;}}w.status=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");if(w.key===r.sLocale.replaceAll('_','-')){w.editable=false;}});var q={"currentLanguage":{},"isUpdated":false,"translatedLanguages":[]};var M;if(p){p.forEach(function(w){if(k(t._aUpdatedLanguages,w.key)){w.value=F.getTranslationValueInTexts(w.key,n.manifestpath);w.status=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");}if(w.key===r.sLocale.replaceAll('_','-')){w.value=i.getValue();q.currentLanguage=w;}else{q.translatedLanguages.push(w);}});}if(!t._oTranslationPopover){var u=new d({items:{path:"languages>/translatedLanguages",template:new e({content:[new V({items:[new T({text:"{languages>desription}"}),new I({value:"{languages>value}",editable:"{languages>editable}"})]})],customData:[new l({key:"{languages>key}",value:"{languages>desription}"})]}),sorter:[new j({path:'status',descending:true,group:true})],groupHeaderFactory:F.getGroupHeader}});var v=F._previewPosition==="right"?"Right":"Left";t._oTranslationPopover=new P({placement:v,contentWidth:"300px",contentHeight:"345px",customHeader:new V({items:[new a({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_TITLE")}).addStyleClass("sapMPopoverTitle"),new a({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_CURRENTLANGUAGE")}).addStyleClass("sapMHeaderTitle"),new V({items:[new T({text:"{languages>/currentLanguage/desription}"}),new I({value:"{languages>/currentLanguage/value}",editable:false})]}).addStyleClass("sapMCurrentLanguageVBox"),new a({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_OTHERLANGUAGES")}).addStyleClass("sapMHeaderTitle")]}),content:u,footer:new O({content:[new c(),new b({type:"Emphasized",text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_SAVE"),enabled:"{languages>/isUpdated}",press:function(){var w=t._oTranslationPopover.getModel("languages").getData();var U=[];w.translatedLanguages.forEach(function(x){if(x.value!==x.originValue){F.setTranslationValueInTexts(x.key,n.manifestpath,x.value);U.push(x.key);}});if(w.currentLanguage.value!=w.currentLanguage.originValue){F.setTranslationValueInTexts(w.currentLanguage.key,n.manifestpath,w.currentLanguage.value);U.push(w.currentLanguage.key);}if(U.length>0){t._aUpdatedLanguages=U;}t._oTranslationPopover.close();}}),new b({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_CANCEL"),press:function(){t._oTranslationPopover.close();}})]})}).addStyleClass("sapUiIntegrationFieldTranslation");M=new J(q);M.attachPropertyChange(function(o){var D=M.getData();var U=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");var N=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var w=false;D.translatedLanguages.forEach(function(x){if(x.value!==x.originValue){x.status=U;w=true;}else{x.status=N;}});D.isUpdated=w;M.setData(D);M.checkUpdate(true);});t._oTranslationPopover.setModel(M,"languages");}else{M=t._oTranslationPopover.getModel("languages");M.setData(q);M.checkUpdate(true);}t._oTranslationPopover.openBy(i._oValueHelpIcon);};
m.prototype.getGroupHeader=function(o){return new G({title:o.key,upperCase:false});};
return m;});
sap.ui.predefine('sap/ui/integration/editor/fields/StringListField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input","sap/m/MultiComboBox","sap/m/MultiInput","sap/base/util/restricted/_debounce","sap/base/util/restricted/_isEqual","sap/base/util/ObjectPath","sap/base/util/includes","sap/base/util/merge","sap/ui/core/SeparatorItem","sap/ui/model/Sorter","sap/m/Token","sap/m/Tokenizer","sap/base/util/deepClone","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver"],function(B,I,M,b,_,c,O,i,m,S,d,T,e,f,J,g){"use strict";
var h=B.extend("sap.ui.integration.editor.fields.StringListField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
h.prototype.initVisualization=function(C){var t=this,o;var v=C.visualization;if(!v){if(C.values){o=this.formatListItem(C.values.item);v={type:M,settings:{selectedKeys:{path:'currentSettings>value'},busy:{path:'currentSettings>_loading'},editable:C.editable,visible:C.visible,showSecondaryValues:true,width:"100%",items:{path:"",template:o,sorter:[new d({path:'Selected',descending:false,group:true})],groupHeaderFactory:t.getGroupHeader}}};if(this.isFilterBackend()){v.settings.selectedKeys={parts:['currentSettings>value','currentSettings>suggestValue'],formatter:function(V,a){if(a){t.setSuggestValue();}return V;}};}}else{v={type:I,settings:{value:{path:'currentSettings>value',formatter:function(a){a=a||[];return a.join(",");}},change:function(E){var a=E.getSource();a.getBinding("value").setRawValue(a.getValue().split(","));},editable:C.editable,visible:C.visible,placeholder:C.placeholder}};}}else if(C.values&&this.isFilterBackend()&&v.type==="MultiInput"){o=this.formatListItem(C.values.item);var s={busy:{path:'currentSettings>_loading'},placeholder:C.placeholder,editable:C.editable,visible:C.visible,showSuggestion:true,autocomplete:false,showValueHelp:false,filterSuggests:false,width:"100%",suggestionItems:{path:"",template:o,sorter:[new d({path:'Selected',descending:false,group:true})],groupHeaderFactory:t.getGroupHeader}};if(v.settings){s=m(s,v.settings);}v={type:b,settings:s};}this._visualization=v;this.attachAfterInit(this._afterInit);};
h.prototype._afterInit=function(){var C=this.getAggregation("_field");var o=this.getModel();if(C instanceof M){if(this.isFilterBackend()){this.onInputForMultiComboBox=_(this.onInputForMultiComboBox,500);C.oninput=this.onInputForMultiComboBox;C.attachSelectionChange(this.onSelectionChangeForFilterBackend);C.attachSelectionFinish(this.onSelectionFinishForFilterBackend);o.attachPropertyChange(this.onPropertyChangeForFilterBackend,this);}else{C.attachSelectionChange(this.onSelectionChange);o.attachPropertyChange(this.onPropertyChange,this);}}else if(C instanceof b){this.initTokens();this.onInputForMultiInput=_(this.onInputForMultiInput,500);C.oninput=this.onInputForMultiInput;o.attachPropertyChange(this.onPropertyChangeForFilterBackend,this);o.attachPropertyChange(this.initTokens,this);C.attachTokenChange(this.onTokenChange);}};
h.prototype.initTokens=function(){var C=this.getAggregation("_field");var o=this.getConfiguration();var t=[];if(Array.isArray(o.valueTokens)&&o.valueTokens.length>0){o.valueTokens.forEach(function(v){var a=new T(v);t.push(a);});}else if(Array.isArray(o.value)&&o.value.length>0&&Array.isArray(o.valueItems)&&o.valueItems.length>0){o.valueTokens=[];o.valueItems.forEach(function(v){var a=new J();a.setData(v);var k=g.resolveValue(o.values.item.key,a);if(i(o.value,k)){var s=g.resolveValue(o.values.item.text,a);var j={key:k,text:s};var l=new T(j);t.push(l);o.valueTokens.push(j);}});}C.setTokens(t);};
h.prototype.getKeyFromItem=function(o){var C=this.getConfiguration();var a=new J();a.setData(o);return g.resolveValue(C.values.item.key,a);};
h.prototype.onPropertyChangeForFilterBackend=function(E){var C=this.getConfiguration();if(!C.valueItems){C.valueItems=[];}var p=C.values.data.path||"/";var v=this.getModel();var D=v.getData();if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}var P=p.split("/");var r=O.get(P,D);r=this.mergeSelectedItems(C,r);O.set(P,r,D);}else{D=this.mergeSelectedItems(C,D);}v.setData(D);this.setSuggestValue();};
h.prototype.onPropertyChange=function(E){var C=this.getAggregation("_field");var s=C.getSelectedItems().map(function(j){return j.getKey();});var a=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");o.setProperty(a+"/value",s);};
h.prototype.mergeSelectedItems=function(C,D){var t=this;var r=t.getResourceBundle();if(Array.isArray(D)){var s=C.valueItems.map(function(l){return this.getKeyFromItem(l);}.bind(this));var o=D.filter(function(l){var p=this.getKeyFromItem(l);return!i(s,p);}.bind(this));var a=o.filter(function(l){return l.Selected===r.getText("EDITOR_ITEM_SELECTED");});C.valueItems=C.valueItems.concat(a);var n=o.filter(function(l){return l.Selected!==r.getText("EDITOR_ITEM_SELECTED");});D=C.valueItems.concat(n);var j=this.getAggregation("_field");if(j.isOpen&&j.isOpen()){s=C.valueItems.map(function(l){return this.getKeyFromItem(l);}.bind(this));var k=j.getSelectedKeys();if(!c(s,k)){j.setSelectedKeys(s);}}}else{D=C.valueItems;}return D;};
h.prototype.setSuggestValue=function(){var C=this.getAggregation("_field");var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");var a=o.getProperty(s+"/suggestValue");if(a&&a!==""){C.setValue(a.replaceAll("\'\'","'"));}};
h.prototype.getSuggestValue=function(){var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");return o.getProperty(s+"/suggestValue");};
h.prototype.getGroupHeader=function(G){return new S({text:G.key});};
h.prototype.onSelectionChangeForFilterBackend=function(E){var F=E.getSource().getParent();var C=F.getConfiguration();var r=F.getResourceBundle();var l=E.getParameter("changedItem");var s=l.getKey();var a=E.getParameter("selected");var D=this.getModel().getData();var p=C.values.data.path||"/";var P,o;if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}P=p.split("/");o=O.get(P,D);}else{o=D;}if(o){if(!C.valueItems){C.valueItems=[];}var n=[];o.forEach(function(j){var N=f(j,500);var k=F.getKeyFromItem(N);if(k===s){if(a){N.Selected=r.getText("EDITOR_ITEM_SELECTED");C.valueItems=C.valueItems.concat([N]);}else{N.Selected=r.getText("EDITOR_ITEM_UNSELECTED");C.valueItems=C.valueItems.filter(function(q){var k=F.getKeyFromItem(q);return k!==s;});}}n.push(N);});if(P!==undefined){O.set(P,n,D);this.getModel().checkUpdate(true);}else{this.getModel().setData(n);}}};
h.prototype.onTokenChange=function(E){var F=this.getParent();var C=F.getConfiguration();var r=F.getResourceBundle();var s=F.getModel("currentSettings");var a=F.getBindingContext("currentSettings").sPath;var v=s.getProperty(a+"/value");var t=E.getParameter("token");if(t){var j=t.getKey();if(!C.valueTokens){C.valueTokens=[];}if(!v){v=[];}var k=E.getParameter("type");switch(k){case e.TokenChangeType.Removed:v=v.filter(function(n){return n!==j;});C.value=v;C.valueTokens=C.valueTokens.filter(function(n){return n.key!==j;});break;case e.TokenChangeType.Added:if(!i(v,j)){v=v.concat([j]);C.value=v;}var l=C.valueTokens.map(function(V){return V.key;});if(!i(l,j)){C.valueTokens=C.valueTokens.concat([{"key":j,"text":t.getText()}]);}break;case e.TokenChangeType.RemovedAll:C.value=[];C.valueItems=[];C.valueTokens=[];break;default:break;}var D=F.getModel().getData();var R;var p=C.values.data.path||"/";var P;if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}P=p.split("/");R=f(O.get(P,D),10);}else{R=f(D,10);}if(Array.isArray(R)){C.valueItems=[];R.forEach(function(o){var j=F.getKeyFromItem(o);if(i(C.value,j)){o.Selected=r.getText("EDITOR_ITEM_SELECTED");C.valueItems.push(o);}else{o.Selected=r.getText("EDITOR_ITEM_UNSELECTED");}});if(p!=="/"){O.set(P,R,D);}else{D=R;}F.getModel().setData(D);F.getModel().checkUpdate(true);}s.setProperty(a+"/value",C.value);s.setProperty(a+"/valueItems",C.valueItems);s.setProperty(a+"/valueTokens",C.valueTokens);}};
h.prototype.onSelectionChange=function(E){var F=E.oSource.getParent();var C=F.getConfiguration();var r=F.getResourceBundle();var l=E.getParameter("changedItem");var s=l.getKey();var a=E.getParameter("selected");var D=this.getModel().getData();var p=C.values.data.path||"/";if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}var P=p.split("/");var R=O.get(P,D);if(Array.isArray(R)){for(var n in R){var j=F.getKeyFromItem(R[n]);if(j===s){if(a){R[n].Selected=r.getText("EDITOR_ITEM_SELECTED");}else{R[n].Selected=r.getText("EDITOR_ITEM_UNSELECTED");}}}O.set(P,R,D);}}else if(Array.isArray(D)){for(var n in D){var j=F.getKeyFromItem(D[n]);if(j===s){if(a){D[n].Selected=r.getText("EDITOR_ITEM_SELECTED");}else{D[n].Selected=r.getText("EDITOR_ITEM_UNSELECTED");}}}}this.getModel().setData(D);this.getModel().checkUpdate(true);};
h.prototype.onSelectionFinishForFilterBackend=function(E){var F=this.getParent();var C=F.getConfiguration();var s=E.getParameter("selectedItems").map(function(k){return k.getKey();});var D=this.getModel().getData();var p=C.values.data.path||"/";if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}var P=p.split("/");D=O.get(P,D);}if(D){C.valueItems=D.filter(function(k){var l=F.getKeyFromItem(k);return i(s,l);});}var a=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");o.setProperty(a+"/value",s);var j=F.getSuggestValue();if(j&&j!==""){o.setProperty(a+"/suggestValue","");}};
h.prototype.onInputForMultiComboBox=function(E){var t=E.target.value;var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");o.setProperty(s+"/suggestValue",t.replaceAll("'","\'\'"));o.setProperty(s+"/_loading",true);E.srcControl.open();E.srcControl._getSuggestionsPopover()._sTypedInValue=t;};
h.prototype.onInputForMultiInput=function(E){var C=E.srcControl;b.prototype.oninput.apply(C,arguments);var t=E.target.value;if(t===""){return;}var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");var a=o.getProperty(s+"/suggestValue");if(a!==t.replaceAll("'","\'\'")){o.setProperty(s+"/suggestValue",t.replaceAll("'","\'\'"));o.setProperty(s+"/_loading",true);}};
return h;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/ColorSelect',["sap/ui/core/Control","sap/m/ColorPalettePopover","sap/m/Button","sap/ui/core/Core","sap/base/util/merge","sap/ui/core/theming/Parameters"],function(C,a,B,b,m,P){"use strict";
var c=C.extend("sap.ui.integration.editor.fields.viz.ColorSelect",{
metadata:{library:"sap.ui.integration",properties:{enumValue:{type:"string",defaultValue:""},colorValue:{type:"string",defaultValue:""},editable:{type:"boolean",defaultValue:true},colorEnum:{type:"string",defaultValue:"sap.m.AvatarColor"},background:{type:"boolean",defaultValue:true},allowCustomColors:{type:"boolean",defaultValue:false}},aggregations:{_colorpalette:{type:"sap.m.ColorPalettePopover",multiple:false,visibility:"hidden"},_button:{type:"sap.m.Button",multiple:false,visibility:"hidden"}}},
renderer:function(r,f){var g=f.getAggregation("_button");r.openStart("div");r.addClass("sapUiIntegrationColorSelect");if(!f._colorValue||f._colorValue==="transparent"){r.addClass("noColorValueOrTransparentValue");}else{r.addClass("hasColorValue");}if(f._colorValue){r.addStyle("--colorValue",f._colorValue);}r.writeElementData(f);r.openEnd();r.renderControl(g);r.close("div");}
});
var e={};
function s(){var v=["sapUiAccent1","sapUiAccent2","sapUiAccent3","sapUiAccent4","sapUiAccent5","sapUiAccent6","sapUiAccent7","sapUiAccent8","sapUiAccent9","sapUiAccent10","sapUiTileIconColor","sapUiContentImagePlaceholderBackground"];var p=P.get({name:v,callback:function(_){}});if(p){e={"sap.m.AvatarColor":{"Accent1":p["sapUiAccent1"],"Accent2":p["sapUiAccent2"],"Accent3":p["sapUiAccent3"],"Accent4":p["sapUiAccent4"],"Accent5":p["sapUiAccent5"],"Accent6":p["sapUiAccent6"],"Accent7":p["sapUiAccent7"],"Accent8":p["sapUiAccent8"],"Accent9":p["sapUiAccent9"],"Accent10":p["sapUiAccent10"],"TileIcon":p["sapUiTileIconColor"],"Transparent":"transparent","Placeholder":p["sapUiContentImagePlaceholderBackground"]}};}}
s();b.attachThemeChanged(s);var o,d=new a("oColorPalettePopoverFull",{colorSelect:function(E){var f=E.getParameter("value"),g=e[o.getColorEnum()],i=Object.values(g).indexOf(f);o.setEnumValue(Object.keys(g)[i]);o.setColorValue(f);o._colorValue=f;}});
c.prototype.init=function(){this._oButton=new B({icon:"sap-icon://color-fill",press:function(){this._openPalette();}.bind(this)});this._colorValue="transparent";this.setAggregation("_button",this._oButton);};
c.prototype._openPalette=function(){o=this;d.setShowDefaultColorButton(true);d.setShowMoreColorsButton(false);d.setDefaultColor("");var E=e[this.getColorEnum()];if(E){var f=[];for(var n in E){f.push(E[n]);}d.setColors(f);}d.openBy(this._oButton);};
c.prototype.setEnumValue=function(v){this.setProperty("enumValue",v,true);this._colorValue=e[this.getColorEnum()][v];this.rerender();};
c.prototype.bindProperty=function(p,f){C.prototype.bindProperty.apply(this,arguments);if(p==="editable"){var g=m({},f);this._oButton.bindProperty("enabled",g);}return this;};
return c;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/IconSelect',["sap/ui/core/Control","sap/m/Select","sap/ui/core/ListItem","sap/ui/model/json/JSONModel","sap/ui/core/IconPool","sap/base/util/merge","sap/ui/core/Core","sap/base/util/deepClone"],function(C,S,L,J,I,m,c,d){"use strict";var r=c.getLibraryResourceBundle("sap.ui.integration"),D;
var e=C.extend("sap.ui.integration.editor.fields.viz.IconSelect",{
metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:"sap-icon://accept"},editable:{type:"boolean",defaultValue:true},allowFile:{type:"boolean",defaultValue:true},allowNone:{type:"boolean",defaultValue:true}},aggregations:{_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}}},
renderer:function(R,o){var s=o.getAggregation("_select");R.openStart("div");R.addClass("sapUiIntegrationIconSelect");if(s&&o.getWidth){R.addStyle("width",s.getWidth());}R.writeElementData(o);R.openEnd();R.renderControl(s);R.close("div");}
});
e.prototype._initIconModel=function(){var i=I.getIconNames();i=i.sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase());});var f=[];if(!D){i.filter(function(s){var t=I.getIconInfo(s).text||("-"+s).replace(/-(.)/ig,function(M,a){return" "+a.toUpperCase();}).substring(1);f.push({icon:"sap-icon://"+s,key:"sap-icon://"+s,text:t,tooltip:t,enabled:true});});D=d(f,500);}else{f=d(D,500);}f=[{icon:"",text:r.getText("EDITOR_ICON_NONE"),tooltip:"",key:"empty",enabled:true},{icon:"sap-icon://upload",text:r.getText("EDITOR_ICON_CHOOSE"),tooltip:"",key:"file",enabled:true},{icon:"sap-icon://download",text:r.getText("EDITOR_ICON_SELECTED"),tooltip:"",key:"selected",enabled:false}].concat(f);this._oIconModel=new J(f);this._oIconModel.setSizeLimit(f.length);};
e.prototype.init=function(){if(r&&r.sLocale!==c.getConfiguration().getLanguage()){r=c.getLibraryResourceBundle("sap.ui.integration");}if(!this._oIconModel){this._initIconModel();}var i=new L({icon:"{iconlist>icon}",text:"{iconlist>text}",tooltip:"{iconlist>tooltip}",key:"{iconlist>key}",enabled:"{iconlist>enabled}"});this._oFileUpload=document.createElement("INPUT");this._oFileUpload.type="file";this._oFileUpload.accept=".png,.jpg,.jpeg,.svg";this._boundFileUploadChange=this._fileUploadChange.bind(this);this._oFileUpload.addEventListener("change",this._boundFileUploadChange);this._oSelect=new S({width:"100%",items:{path:"iconlist>/",template:i},change:function(E){var s=E.getSource(),a=E.getSource().getSelectedKey();if(a==="file"){s._customImage=null;this._oFileUpload.click();this._boundFocusBack=this._focusBack.bind(this);s.getDomRef("hiddenSelect").addEventListener("focus",this._boundFocusBack);}else{this.setValue(a);}}.bind(this)});this._oSelect.setModel(this._oIconModel,"iconlist");var o=this._oSelect.open;this._oSelect.open=function(){o&&o.apply(this,arguments);this.getPicker().addStyleClass("sapUiIntegrationIconSelectList");this.getPicker().setContentHeight("400px");};this._oSelect.addDelegate({onAfterRendering:function(){var a=this._oSelect.getDomRef("labelIcon");if(a){var s=this._oSelect._customImage;if(s){a.style.backgroundImage="url('"+s+"')";a.classList.add("sapMSelectListItemIconCustom");}else{a.style.backgroundImage="unset";a.classList.remove("sapMSelectListItemIconCustom");}}}.bind(this)});this._oSelect.addDelegate({onsappageup:function(){if(this._oSelect.isOpen()){var s=this._oSelect.getSelectedIndex();this._oSelect.setSelectedIndex(s-50);}}.bind(this),onsappagedown:function(){if(this._oSelect.isOpen()){var s=this._oSelect.getSelectedIndex();if(s<3){this._oSelect.setSelectedIndex(29);}else{this._oSelect.setSelectedIndex(s+50);}}}.bind(this),onsapup:function(){if(this._oSelect.isOpen()){var a=this.getAllowFile();var A=this.getAllowNone();var f=this._oIconModel.getProperty("/2/enabled");var s=this._oSelect.getSelectedIndex();if(s>11+2){this._oSelect.setSelectedIndex(s-11);}else if(s>=3){if(A&&!a){this._oSelect.setSelectedIndex(0);}else if(f){this._oSelect.setSelectedIndex(2);}else{this._oSelect.setSelectedIndex(3);}}}}.bind(this),onsapdown:function(){if(this._oSelect.isOpen()){var s=this._oSelect.getSelectedIndex();if(s>1){this._oSelect.setSelectedIndex(s+11);}}}.bind(this),onsapleft:function(){if(this._oSelect.isOpen()){this._oSelect.onsapup.apply(this._oSelect,arguments);}}.bind(this),onsapright:function(){if(this._oSelect.isOpen()){this._oSelect.onsapdown.apply(this._oSelect,arguments);}}.bind(this)},true);this.setAggregation("_select",this._oSelect);};
e.prototype._fileUploadChange=function(){var f=new window.FileReader();f.onload=function(){this.setValue(f.result);this._oSelect.invalidate();}.bind(this);if(this._oFileUpload.files.length===1){f.readAsDataURL(this._oFileUpload.files[0]);}};
e.prototype._focusBack=function(){this._oSelect.getDomRef("hiddenSelect").removeEventListener("focus",this._boundFocusBack);setTimeout(function(){this.setValue(this.getValue());}.bind(this),150);};
e.prototype.bindProperty=function(p,b){C.prototype.bindProperty.apply(this,arguments);if(p==="editable"){var s=m({},b);this._oSelect.bindProperty("editable",s);}return this;};
e.prototype.setValue=function(v){this.setProperty("value",v,true);if(v&&v.indexOf("data:image/")===0){this._oSelect._customImage=v;this._oIconModel.setProperty("/2/enabled",true);this._oSelect.setSelectedKey("selected");}else{this._oSelect._customImage=null;this._oIconModel.setProperty("/2/enabled",false);this._oSelect.setSelectedKey(v);}this._oSelect.invalidate();return this;};
e.prototype.setAllowFile=function(v){this.setProperty("allowFile",v,true);v=this.getAllowFile();this._oIconModel.setProperty("/1/enabled",v);return this;};
e.prototype.setAllowNone=function(v){this.setProperty("allowNone",v,true);v=this.getAllowNone();this._oIconModel.setProperty("/0/enabled",v);return this;};
return e;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/ShapeSelect',["sap/ui/core/Control","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/core/Core","sap/base/util/merge","sap/ui/core/theming/Parameters"],function(C,S,a,b,m,P){"use strict";
var c=C.extend("sap.ui.integration.editor.fields.viz.ShapeSelect",{
metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:"Circle"},editable:{type:"boolean",defaultValue:true}},aggregations:{_segmentedbutton:{type:"sap.m.SegmentedButton",multiple:false,visibility:"hidden"}}},
renderer:function(r,o){var s=o.getAggregation("_segmentedbutton");r.openStart("div");r.addClass("sapUiIntegrationShapeSelect");r.writeElementData(o);r.openEnd();r.renderControl(s);r.close("div");}
});
c.prototype.init=function(){this._oSegmentedButton=new S({items:[new a({icon:"sap-icon://circle-task",key:"Circle"}),new a({icon:"sap-icon://border",key:"Square"})]});this.setAggregation("_segmentedbutton",this._oSegmentedButton);};
c.prototype.bindProperty=function(p,B){C.prototype.bindProperty.apply(this,arguments);if(p==="editable"){var s=m({},B);this._oSegmentedButton.bindProperty("enabled",s);}if(p==="value"){var s=m({},B);this._oSegmentedButton.bindProperty("selectedKey",s);}return this;};
return c;});
sap.ui.predefine('sap/ui/layout/Grid',['sap/ui/core/Control','./library','sap/ui/Device','sap/ui/core/ResizeHandler','sap/ui/base/ManagedObjectObserver',"./GridRenderer","sap/ui/thirdparty/jquery"],function(C,l,D,R,M,G,q){"use strict";
var a=C.extend("sap.ui.layout.Grid",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},vSpacing:{type:"float",group:"Dimension",defaultValue:1},hSpacing:{type:"float",group:"Dimension",defaultValue:1},position:{type:"sap.ui.layout.GridPosition",group:"Dimension",defaultValue:"Left"},defaultSpan:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:"XL3 L3 M6 S12"},defaultIndent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:"XL0 L0 M0 S0"},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/Grid.designtime"}});
(function(){
a.prototype.init=function(){var c=l.GridHelper.getLibrarySpecificClass();if(c){this.addStyleClass(c);}this._iBreakPointTablet=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._indentXLChanged=false;this._spanXLChanged=false;this._oObserver=new M(a.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["content"]});};
a.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._sContainerResizeListener=R.register(this,q.proxy(this._onParentResize,this));this._onParentResize();}else{this._attachMediaContainerWidthChange(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD_EXTENDED);}};
a.prototype.onBeforeRendering=function(){this._cleanup();};
a.prototype.exit=function(){this._cleanup();if(this._oObserver){this._oObserver.disconnect();this._oObserver=null;}};
a.prototype._cleanup=function(){if(this._sContainerResizeListener){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}this._detachMediaContainerWidthChange(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD_EXTENDED);};
a.prototype._observeVisibility=function(c){this._oObserver.observe(c,{properties:["visible"]});};
a.prototype._unobserveVisibility=function(c){this._oObserver.unobserve(c,{properties:["visible"]});};
a.prototype._observeChanges=function(c){var o=c.object,s=c.name,m=c.mutation,b=c.child;if(o===this){if(m==="insert"){this._observeVisibility(b);}else if(m==="remove"){this._unobserveVisibility(b);}}else if(s==="visible"){var e=this.getContent().indexOf(o);q(this.$().children()[e]).toggleClass("sapUiRespGridSpanInvisible",!c.current);}};
a.prototype._handleMediaChange=function(p){this._toggleClass(p.name);};
a.prototype._setBreakPointTablet=function(b){this._iBreakPointTablet=b;};
a.prototype._setBreakPointDesktop=function(b){this._iBreakPointDesktop=b;};
a.prototype._setBreakPointLargeDesktop=function(b){this._iBreakPointLargeDesktop=b;};
a.prototype.setDefaultIndent=function(d){if(/XL/gi.test(d)){this._setIndentXLChanged(true);}return this.setProperty("defaultIndent",d);};
a.prototype._setIndentXLChanged=function(c){this._indentXLChanged=c;};
a.prototype._getIndentXLChanged=function(){return this._indentXLChanged;};
a.prototype.setDefaultSpan=function(d){if(/XL/gi.test(d)){this._setSpanXLChanged(true);}return this.setProperty("defaultSpan",d);};
a.prototype._setSpanXLChanged=function(c){this._spanXLChanged=c;};
a.prototype._getSpanXLChanged=function(){return this._spanXLChanged;};
a.prototype._onParentResize=function(){var d=this.getDomRef();if(!d){this._cleanup();return;}if(!q(d).is(":visible")){return;}var c=d.clientWidth;if(c<=this._iBreakPointTablet){this._toggleClass("Phone");}else if((c>this._iBreakPointTablet)&&(c<=this._iBreakPointDesktop)){this._toggleClass("Tablet");}else if((c>this._iBreakPointDesktop)&&(c<=this._iBreakPointLargeDesktop)){this._toggleClass("Desktop");}else{this._toggleClass("LargeDesktop");}};
a.prototype._toggleClass=function(m){var d=this.$();if(!d){return;}if(d.hasClass("sapUiRespGridMedia-Std-"+m)){return;}d.toggleClass("sapUiRespGridMedia-Std-"+m,true);if(m==="Phone"){d.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false);}else if(m==="Tablet"){d.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false);}else if(m==="LargeDesktop"){d.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false);}else{d.toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false);}this.fireEvent("mediaChanged",{media:m});};
a.prototype._getLayoutDataForControl=function(c){var L=c.getLayoutData();if(!L){return undefined;}else if(L instanceof sap.ui.layout.GridData){return L;}else if(L.isA("sap.ui.core.VariantLayoutData")){var b=L.getMultipleLayoutData();for(var i=0;i<b.length;i++){var o=b[i];if(o instanceof sap.ui.layout.GridData){return o;}}}};
a.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate();}};
a.prototype._getAccessibleRole=function(){return null;};
a.prototype.getAccessibilityInfo=function(){return{children:this.getContent().filter(function(c){return c.$().is(':visible');})};};
}());return a;});
sap.ui.predefine('sap/ui/layout/GridData',['sap/ui/core/LayoutData','./library',"sap/base/Log"],function(L,l,a){"use strict";
var G=L.extend("sap.ui.layout.GridData",{metadata:{library:"sap.ui.layout",properties:{span:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:null},spanXL:{type:"int",group:"Behavior",defaultValue:null},spanL:{type:"int",group:"Behavior",defaultValue:null},spanM:{type:"int",group:"Behavior",defaultValue:null},spanS:{type:"int",group:"Behavior",defaultValue:null},indent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:null},indentXL:{type:"int",group:"Behavior",defaultValue:null},indentL:{type:"int",group:"Behavior",defaultValue:null},indentM:{type:"int",group:"Behavior",defaultValue:null},indentS:{type:"int",group:"Behavior",defaultValue:null},visibleXL:{type:"boolean",group:"Behavior",defaultValue:true},visibleL:{type:"boolean",group:"Behavior",defaultValue:true},visibleM:{type:"boolean",group:"Behavior",defaultValue:true},visibleS:{type:"boolean",group:"Behavior",defaultValue:true},moveBackwards:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},moveForward:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},linebreak:{type:"boolean",group:"Misc",defaultValue:false},linebreakXL:{type:"boolean",group:"Misc",defaultValue:false},linebreakL:{type:"boolean",group:"Misc",defaultValue:false},linebreakM:{type:"boolean",group:"Misc",defaultValue:false},linebreakS:{type:"boolean",group:"Misc",defaultValue:false},spanLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},visibleOnLarge:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnMedium:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnSmall:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}}}});
(function(){
G.prototype._setStylesInternal=function(s){if(s&&s.length>0){this._sStylesInternal=s;}else{this._sStylesInternal=undefined;}};
G.prototype._getEffectiveSpanXLarge=function(){var s=this.getSpanXL();if(s&&(s>0)&&(s<13)){return s;}var S=/XL([1-9]|1[0-2])(?:\s|$)/i;var b=S.exec(this.getSpan());if(b){var c=b[0];if(c){c=c.toUpperCase();if(c.substr(0,2)==="XL"){return parseInt(c.substr(2));}}}return undefined;};
G.prototype._getEffectiveSpanLarge=function(){var s=this.getSpanL();if(s&&(s>0)&&(s<13)){return s;}var S=/\bL([1-9]|1[0-2])(?:\s|$)/i;var b=S.exec(this.getSpan());if(b){var c=b[0];if(c){c=c.toUpperCase();if(c.substr(0,1)==="L"){return parseInt(c.substr(1));}}}return undefined;};
G.prototype._getEffectiveSpanMedium=function(){var s=this.getSpanM();if(s&&(s>0)&&(s<13)){return s;}var S=/M([1-9]|1[0-2])(?:\s|$)/i;var b=S.exec(this.getSpan());if(b){var c=b[0];if(c){c=c.toUpperCase();if(c.substr(0,1)==="M"){return parseInt(c.substr(1));}}}return undefined;};
G.prototype._getEffectiveSpanSmall=function(){var s=this.getSpanS();if(s&&(s>0)&&(s<13)){return s;}var S=/S([1-9]|1[0-2])(?:\s|$)/i;var b=S.exec(this.getSpan());if(b){var c=b[0];if(c){c=c.toUpperCase();if(c.substr(0,1)==="S"){return parseInt(c.substr(1));}}}return undefined;};
G.prototype.init=function(){this._bLinebreakXLChanged=false;};
G.prototype.setLinebreakXL=function(b){this.setProperty("linebreakXL",b);this._bLinebreakXLChanged=true;return this;};
G.prototype._getLinebreakXLChanged=function(){return this._bLinebreakXLChanged;};
G.prototype.setSpanLarge=function(s){this.setSpanL(s);a.warning("Deprecated property spanLarge is used, please use spanL instead.");return this;};
G.prototype.setSpanMedium=function(s){a.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.setSpanM(s);};
G.prototype.setSpanSmall=function(s){a.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.setSpanS(s);};
G.prototype.setIndentLarge=function(i){a.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.setIndentL(i);};
G.prototype.setIndentMedium=function(i){a.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.setIndentM(i);};
G.prototype.setIndentSmall=function(i){a.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.setIndentS(i);};
G.prototype.setVisibleOnLarge=function(v){a.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.setVisibleL(v);};
G.prototype.setVisibleOnMedium=function(v){a.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.setVisibleM(v);};
G.prototype.setVisibleOnSmall=function(v){a.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.setVisibleS(v);};
G.prototype.getSpanLarge=function(){a.warning("Deprecated property spanLarge is used, please use spanL instead.");return this.getSpanL();};
G.prototype.getSpanMedium=function(){a.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.getSpanM();};
G.prototype.getSpanSmall=function(){a.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.getSpanS();};
G.prototype.getIndentLarge=function(){a.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.getIndentL();};
G.prototype.getIndentMedium=function(){a.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.getIndentM();};
G.prototype.getIndentSmall=function(){a.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.getIndentS();};
G.prototype.getVisibleOnLarge=function(){a.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.getVisibleL();};
G.prototype.getVisibleOnMedium=function(){a.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.getVisibleM();};
G.prototype.getVisibleOnSmall=function(){a.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.getVisibleS();};
}());return G;});
sap.ui.predefine('sap/ui/layout/GridRenderer',["sap/ui/Device","sap/ui/layout/library"],function(D,l){"use strict";var G=l.GridPosition;var a={apiVersion:2};
a.render=function(r,c){var I=/^([X][L](?:[0-9]|1[0-1]))? ?([L](?:[0-9]|1[0-1]))? ?([M](?:[0-9]|1[0-1]))? ?([S](?:[0-9]|1[0-1]))?$/i;var S=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;r.openStart("div",c);r.class("sapUiRespGrid");var m=c._getCurrentMediaContainerRange(D.media.RANGESETS.SAP_STANDARD_EXTENDED).name;r.class("sapUiRespGridMedia-Std-"+m);var h=c.getHSpacing();if(h===0.5){h="05";}else if((h!==0)&&(h!==1)&&(h!==2)){h=1;}r.class("sapUiRespGridHSpace"+h);var v=c.getVSpacing();if(v===0.5){v="05";}else if((v!==0)&&(v!==1)&&(v!==2)){v=1;}r.class("sapUiRespGridVSpace"+v);var p=c.getPosition();if(p){p=p.toUpperCase();if(p===G.Center.toUpperCase()){r.class("sapUiRespGridPosCenter");}else if(p===G.Right.toUpperCase()){r.class("sapUiRespGridPosRight");}}var w=c.getWidth();if(w!=="100%"&&w!=="auto"&&w!=="inherit"){if(h===0){r.style("width",w);}else{r.style("width","-webkit-calc("+w+" - "+h+"rem)");r.style("width","calc("+w+" - "+h+"rem)");}}var R=c._getAccessibleRole();var A;if(R){A={role:R};}r.accessibilityState(c,A);r.openEnd();var b=c.getContent();var d=c.getDefaultSpan();var e=["","XL3","L3","M6","S12"];var f=["","XL0","L0","M0","S0"];var g=S.exec(d);var k=c._getSpanXLChanged();var n=c._getIndentXLChanged();var s=c.getDefaultIndent();var o=I.exec(s);for(var i=0;i<b.length;i++){r.openStart("div",c.getId()+"-wrapperfor-"+b[i].getId());var L=c._getLayoutDataForControl(b[i]);var C=false;if(!b[i].getVisible()){r.class("sapUiRespGridSpanInvisible");}if(L){var B=false;if(L.getLinebreak()===true){r.class("sapUiRespGridBreak");}else{if(L.getLinebreakXL()===true){B=true;r.class("sapUiRespGridBreakXL");}if(L.getLinebreakL()===true){if(!B&&!L._getLinebreakXLChanged()){r.class("sapUiRespGridBreakXL");}r.class("sapUiRespGridBreakL");}if(L.getLinebreakM()===true){r.class("sapUiRespGridBreakM");}if(L.getLinebreakS()===true){r.class("sapUiRespGridBreakS");}}var q;var t;var u=L.getSpan();if(!u||!u.lenght==0){q=g;}else{q=S.exec(u);if(/XL/gi.test(u)){C=true;}}if(q){for(var j=1;j<q.length;j++){var x=q[j];if(!x){x=g[j];if(!x){x=e[j];}}if(x.substr(0,1)==="L"){t=x.substr(1,2);}var y=L.getSpanXL();var z=L.getSpanL();var E=L.getSpanM();var F=L.getSpanS();x=x.toUpperCase();if((x.substr(0,2)==="XL")&&(y>0)&&(y<13)){r.class("sapUiRespGridSpanXL"+y);C=true;}else if((x.substr(0,1)==="L")&&(z>0)&&(z<13)){r.class("sapUiRespGridSpanL"+z);t=z;}else if((x.substr(0,1)==="M")&&(E>0)&&(E<13)){r.class("sapUiRespGridSpanM"+E);}else if((x.substr(0,1)==="S")&&(F>0)&&(F<13)){r.class("sapUiRespGridSpanS"+F);}else{if((x.substr(0,2)!=="XL")||k||C){r.class("sapUiRespGridSpan"+x);}}}if(!k&&!C){r.class("sapUiRespGridSpanXL"+t);}}var H;var J;var K=L.getIndent();if(!K||K.length==0){H=o;}else{H=I.exec(K);if(/XL/gi.test(K)){n=true;}}if(!H){H=o;if(!H){H=undefined;}}var M=L.getIndentXL();var N=L.getIndentL();var O=L.getIndentM();var P=L.getIndentS();if(H){for(var j=1;j<H.length;j++){var Q=H[j];if(!Q){if(o&&o[j]){Q=o[j];}else{Q=f[j];}}if(Q){Q=Q.toUpperCase();if(Q.substr(0,1)==="L"){J=Q.substr(1,2);}if((Q.substr(0,2)==="XL")&&(M>0)&&(M<12)){r.class("sapUiRespGridIndentXL"+M);n=true;}else if((Q.substr(0,1)==="L")&&(N>0)&&(N<12)){r.class("sapUiRespGridIndentL"+N);J=N;}else if((Q.substr(0,1)==="M")&&(O>0)&&(O<12)){r.class("sapUiRespGridIndentM"+O);}else if((Q.substr(0,1)==="S")&&(P>0)&&(P<12)){r.class("sapUiRespGridIndentS"+P);}else{if(!(/^(XL0)? ?(L0)? ?(M0)? ?(S0)?$/.exec(Q))){r.class("sapUiRespGridIndent"+Q);}}}}if(!n){if(J&&J>0){r.class("sapUiRespGridIndentXL"+J);}}}if(!L.getVisibleXL()){r.class("sapUiRespGridHiddenXL");}if(!L.getVisibleL()){r.class("sapUiRespGridHiddenL");}if(!L.getVisibleM()){r.class("sapUiRespGridHiddenM");}if(!L.getVisibleS()){r.class("sapUiRespGridHiddenS");}var T=L.getMoveBackwards();if(T&&T.length>0){var U=I.exec(T);if(U){for(var j=1;j<U.length;j++){var V=U[j];if(V){r.class("sapUiRespGridBwd"+V.toUpperCase());}}}}var W=L.getMoveForward();if(W&&W.length>0){var X=I.exec(W);if(X){for(var j=1;j<X.length;j++){var Y=X[j];if(Y){r.class("sapUiRespGridFwd"+Y.toUpperCase());}}}}if(typeof L._sStylesInternal==="string"){var Z=L._sStylesInternal.split(" ");for(var $=0;$<Z.length;$++){r.class(Z[$]);}}}if(!L){var x="";if(g){for(var j=1;j<g.length;j++){x=g[j];if(!x){if((j===1)&&(g[j+1])){x="X"+g[j+1];}else{x=e[j];}}r.class("sapUiRespGridSpan"+x.toUpperCase());}}else{for(var j=1;j<e.length;j++){x=e[j];r.class("sapUiRespGridSpan"+x.toUpperCase());}}var Q="";if(o){for(var j=1;j<o.length;j++){Q=o[j];if(!Q){if((j===1)&&(o[j+1])){Q="X"+o[j+1];}else{Q=f[j];}}if(((Q.substr(0,1)!=="X")&&(Q.substr(1,1)!=="0"))||((Q.substr(0,1)=="X")&&(Q.substr(2,1)!=="0"))){r.class("sapUiRespGridIndent"+Q.toUpperCase());}}}}r.openEnd();r.renderControl(b[i]);r.close("div");}r.close("div");};
return a;},true);
sap.ui.predefine('sap/ui/layout/HorizontalLayout',['sap/ui/core/Control','./library',"./HorizontalLayoutRenderer"],function(C,l,H){"use strict";
var a=C.extend("sap.ui.layout.HorizontalLayout",{metadata:{library:"sap.ui.layout",properties:{allowWrapping:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designtime:"sap/ui/layout/designtime/HorizontalLayout.designtime",dnd:{draggable:false,droppable:true}}});
a.prototype.getAccessibilityInfo=function(){return{children:this.getContent()};};
return a;});
sap.ui.predefine('sap/ui/layout/HorizontalLayoutRenderer',[],function(){"use strict";var H={apiVersion:2};
H.render=function(r,c){var a=r;var n=!c.getAllowWrapping();a.openStart("div",c);a.class("sapUiHLayout");if(n){a.class("sapUiHLayoutNoWrap");}a.openEnd();var C=c.getContent();for(var i=0;i<C.length;i++){if(n){a.openStart("div");a.class("sapUiHLayoutChildWrapper");a.openEnd();}a.renderControl(C[i]);if(n){a.close("div");}}a.close("div");};
return H;},true);
sap.ui.predefine('sap/ui/layout/VerticalLayout',['sap/ui/core/Control','sap/ui/core/EnabledPropagator','./library',"./VerticalLayoutRenderer"],function(C,E,l,V){"use strict";
var a=C.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/ui/layout/designtime/VerticalLayout.designtime"}});
a.prototype.getAccessibilityInfo=function(){return{children:this.getContent()};};
E.call(a.prototype);return a;});
sap.ui.predefine('sap/ui/layout/VerticalLayoutRenderer',[],function(){"use strict";var V={apiVersion:2};
V.render=function(r,v){var a=r;a.openStart("div",v);a.class("sapUiVlt");a.class("sapuiVlt");if(v.getWidth()&&v.getWidth()!=''){a.style("width",v.getWidth());}a.openEnd();var c=v.getContent();for(var i=0;i<c.length;i++){a.openStart("div");a.class("sapUiVltCell");a.class("sapuiVltCell");a.openEnd();a.renderControl(c[i]);a.close("div");}a.close("div");};
return V;},true);
sap.ui.predefine('sap/ui/layout/form/Form',['sap/ui/core/Control','sap/ui/base/ManagedObjectObserver','sap/ui/layout/library','./FormRenderer'],function(C,M,l,F){"use strict";
var a=C.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/Form.designtime"}});
a.prototype.init=function(){this._oObserver=new M(b.bind(this));this._oObserver.observe(this,{properties:["editable"],aggregations:["formContainers"]});};
a.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined;};
a.prototype.toggleContainerExpanded=function(o){var L=this.getLayout();if(L){L.toggleContainerExpanded(o);}};
a.prototype.contentOnAfterRendering=function(f,o){var L=this.getLayout();if(L&&L.contentOnAfterRendering){L.contentOnAfterRendering(f,o);}};
a.prototype.onLayoutDataChange=function(e){var L=this.getLayout();if(L&&L.onLayoutDataChange){L.onLayoutDataChange(e);}};
a.prototype.onBeforeFastNavigationFocus=function(e){var L=this.getLayout();if(L&&L.onBeforeFastNavigationFocus){L.onBeforeFastNavigationFocus(e);}};
a.prototype.setEditable=function(e){this.setProperty("editable",e,true);return this;};
function _(e,o){if(e!=o&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly");}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true");}}var f=this.getFormContainers();for(var i=0;i<f.length;i++){var d=f[i];d._setEditable(e);}}
a.prototype.setToolbar=function(t){t=l.form.FormHelper.setToolbar.call(this,t);this.setAggregation("toolbar",t);return this;};
a.prototype.invalidate=function(o){if(!this._bNoInvalidate){C.prototype.invalidate.apply(this,arguments);}};
a.prototype.getContainerRenderedDomRef=function(o){var L=this.getLayout();if(L&&L.getContainerRenderedDomRef){return L.getContainerRenderedDomRef(o);}else{return null;}};
a.prototype.getElementRenderedDomRef=function(e){var L=this.getLayout();if(L&&L.getElementRenderedDomRef){return L.getElementRenderedDomRef(e);}else{return null;}};
a.prototype.getVisibleFormContainers=function(){var d=this.getFormContainers();var v=[];for(var i=0;i<d.length;i++){var o=d[i];if(o.isVisible()){v.push(o);}}return v;};
a.prototype._suggestTitleId=function(t){this._sSuggestedTitleId=t;if(this.getDomRef()){this.invalidate();}return this;};
function b(o){if(o.name==="editable"){_.call(this,o.current,o.old);}else if(o.name==="formContainers"){c.call(this,o.mutation,o.child);}}
function c(m,f){if(m==="insert"){f._setEditable(this.getEditable());}}
return a;});
sap.ui.predefine('sap/ui/layout/form/FormContainer',['sap/ui/core/Element','sap/ui/base/ManagedObjectObserver','sap/ui/core/theming/Parameters','sap/ui/layout/library',"sap/base/Log"],function(E,M,P,l,L){"use strict";
var F=E.extend("sap.ui.layout.form.FormContainer",{metadata:{library:"sap.ui.layout",properties:{expanded:{type:"boolean",group:"Misc",defaultValue:true},expandable:{type:"boolean",group:"Misc",defaultValue:false},visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"formElements",aggregations:{formElements:{type:"sap.ui.layout.form.FormElement",multiple:true,singularName:"formElement"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},_expandButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/FormContainer.designtime"}});
F.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");this._oObserver=new M(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["expanded","expandable"],aggregations:["formElements"]});};
F.prototype.exit=function(){if(this._oExpandButton){delete this._oExpandButton;}this._rb=undefined;this._oObserver.disconnect();this._oObserver=undefined;};
function _(f){if(f){if(!this._oExpandButton){if(!this._bExpandButtonRequired){this._bExpandButtonRequired=true;l.form.FormHelper.createButton.call(this,this.getId()+"--Exp",d,a);}}else{c.call(this);}}}
function a(B){if(!this._bIsBeingDestroyed){this._oExpandButton=B;this.setAggregation("_expandButton",this._oExpandButton);c.call(this);}}
function b(f){c.call(this);var o=this.getParent();if(o&&o.toggleContainerExpanded){o.toggleContainerExpanded(this);}}
F.prototype.setToolbar=function(t){t=l.form.FormHelper.setToolbar.call(this,t);this.setAggregation("toolbar",t);return this;};
F.prototype.contentOnAfterRendering=function(f,C){var p=this.getParent();if(p&&p.contentOnAfterRendering){p.contentOnAfterRendering(f,C);}};
F.prototype.onLayoutDataChange=function(o){var p=this.getParent();if(p&&p.onLayoutDataChange){p.onLayoutDataChange(o);}};
F.prototype._checkProperties=function(){var r=0;if(this.getExpandable()&&(!this.getTitle()||this.getToolbar())){L.warning("Expander only displayed if title is set",this.getId(),"FormContainer");r=1;}return r;};
F.prototype.getRenderedDomRef=function(){var t=this;var f=this.getParent();if(f&&f.getContainerRenderedDomRef){return f.getContainerRenderedDomRef(t);}else{return null;}};
F.prototype.getElementRenderedDomRef=function(o){var f=this.getParent();if(f&&f.getElementRenderedDomRef){return f.getElementRenderedDomRef(o);}else{return null;}};
F.prototype.getVisibleFormElements=function(){var f=this.getFormElements();var v=[];for(var i=0;i<f.length;i++){var o=f[i];if(o.isVisible()){v.push(o);}}return v;};
F.prototype._setEditable=function(f){var o=this.getProperty("_editable");this.setProperty("_editable",f,true);if(f!==o){var g=this.getFormElements();for(var i=0;i<g.length;i++){var h=g[i];h._setEditable(f);}}};
F.prototype.isVisible=function(){return this.getVisible();};
function c(){if(!this._oExpandButton){return;}var i,I,t,T;if(this.getExpanded()){i=P._getThemeImage('_sap_ui_layout_Form_FormContainerColImageURL');I=P._getThemeImage('_sap_ui_layout_Form_FormContainerColImageDownURL');t="-";T=this._rb.getText("FORM_COLLAPSE");}else{i=P._getThemeImage('_sap_ui_layout_Form_FormContainerExpImageURL');I=P._getThemeImage('_sap_ui_layout_Form_FormContainerExpImageDownURL');t="+";T=this._rb.getText("FORM_EXPAND");}if(i){t="";}l.form.FormHelper.setButtonContent(this._oExpandButton,t,T,i,I);}
function d(o){this.setExpanded(!this.getExpanded());}
F.prototype._observeChanges=function(C){if(C.name=="formElements"){e.call(this,C.mutation,C.child);}else if(C.name=="expanded"){b.call(this,C.current);}else if(C.name=="expandable"){_.call(this,C.current);}};
function e(m,f){if(m==="insert"){var g=this.getProperty("_editable");f._setEditable(g);}}
return F;});
sap.ui.predefine('sap/ui/layout/form/FormElement',['sap/ui/core/Element','sap/ui/core/Control','sap/ui/base/ManagedObjectObserver','sap/ui/layout/library',"sap/base/Log"],function(E,C,M,l,L){"use strict";
var F=E.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},_label:{type:"sap.ui.core.Label",multiple:false,visibility:"hidden"},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}},designtime:"sap/ui/layout/designtime/form/FormElement.designtime"}});
F.prototype.init=function(){this._oFieldDelegate={oElement:this,onAfterRendering:h};this._oObserver=new M(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["fields"]});};
F.prototype.exit=function(){if(this._oLabel){delete this._oLabel;}this._oFieldDelegate=undefined;this._oObserver.disconnect();this._oObserver=undefined;};
F.prototype.setLabel=function(A){if(!this._oLabel){var o=this.getLabel();if(o){if(o.setAlternativeLabelFor){o.setAlternativeLabelFor(null);}if(o.isRequired){o.isRequired=o._sapuiIsRequired;o._sapuiIsRequired=undefined;o.disableRequiredChangeCheck(false);}if(o.isDisplayOnly){o.isDisplayOnly=o._sapuiIsDisplayOnly;o._sapuiIsDisplayOnly=undefined;}if(o.isWrapping){o.isWrapping=o._sapuiIsWrapping;o._sapuiIsWrapping=undefined;}}}this.setAggregation("label",A);var i=A;if(typeof i==="string"){this._setInternalLabel(i);}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel;}if(i&&i.isRequired){i._sapuiIsRequired=i.isRequired;i.isRequired=b;i.disableRequiredChangeCheck(true);}if(i&&i.isDisplayOnly){i._sapuiIsDisplayOnly=i.isDisplayOnly;i.isDisplayOnly=c;}if(i&&i.isWrapping){i._sapuiIsWrapping=i.isWrapping;i.isWrapping=d;}e.call(this);}return this;};
F.prototype._setInternalLabel=function(t){if(!this._oLabel){this._oLabel=l.form.FormHelper.createLabel(t,this.getId()+"-label");this.setAggregation("_label",this._oLabel,true);this._oLabel.disableRequiredChangeCheck(true);if(this._oLabel.isRequired){this._oLabel.isRequired=b;}if(this._oLabel.isDisplayOnly){this._oLabel.isDisplayOnly=c;}if(this._oLabel.setWrapping){this._oLabel.setWrapping(true);}}else{this._oLabel.setText(t);}e.call(this);};
F.prototype.destroyLabel=function(){this.destroyAggregation("label");if(this._oLabel){this._oLabel.destroy();delete this._oLabel;}return this;};
F.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel;}else{return this.getLabel();}};
F.prototype.updateFields=function(){var j=this.getFields();var o;var i=0;for(i=0;i<j.length;i++){o=j[i];g.call(this,o);}this.updateAggregation("fields");j=this.getFields();for(i=0;i<j.length;i++){o=j[i];f.call(this,o);}e.call(this);return this;};
F.prototype.enhanceAccessibilityState=function(o,A){var i=this.getLabelControl();if(i&&i!=o){var s=A["labelledby"];if(!s){s=i.getId();}else{var j=s.split(" ");if(j.indexOf(i.getId())<0){j.splice(0,0,i.getId());s=j.join(" ");}}A["labelledby"]=s;}};
F.prototype.onLayoutDataChange=function(o){var p=this.getParent();if(p&&p.onLayoutDataChange){p.onLayoutDataChange(o);}};
F.prototype.getRenderedDomRef=function(){var t=this;var o=this.getParent();if(o&&o.getElementRenderedDomRef){return o.getElementRenderedDomRef(t);}else{return null;}};
F.prototype._setEditable=function(i){var o=this.getProperty("_editable");this.setProperty("_editable",i,true);if(i!==o){this.invalidateLabel();}};
F.prototype.invalidateLabel=function(){var o=this.getLabelControl();if(o&&o.getDomRef()){o.invalidate();}};
F.prototype.isVisible=function(){return this.getVisible();};
F.prototype.getFieldsForRendering=function(){return this.getFields();};
F.prototype._observeChanges=function(o){if(o.object==this){if(o.name=="fields"){_.call(this,o.child,o.mutation);}}else{a.call(this,o);}};
function _(o,m){if(m=="insert"){if(!o.isA("sap.ui.core.IFormContent")){L.warning(o+" is not valid Form content",this);}f.call(this,o);}else{g.call(this,o);}e.call(this);}
function a(o){if(o.name=="required"||o.name=="editable"){this.invalidateLabel();}}
function b(){if(this.getRequired&&this.getRequired()){return true;}var o=this.getParent();var j=o.getFields();for(var i=0;i<j.length;i++){var k=j[i];if(k.getRequired&&k.getRequired()===true&&(!k.getEditable||k.getEditable())){return true;}}return false;}
function c(){if(this.getDisplayOnly){if(!this.isPropertyInitial("displayOnly")){return this.getDisplayOnly();}var o=this.getParent();return!o.getProperty("_editable");}return false;}
function d(){if(this.getWrapping&&!this.isPropertyInitial("wrapping")){return this.getWrapping();}return true;}
function e(){var i=this.getFields();var o=i.length>0?i[0]:null;var j=this._oLabel;if(j){j.setLabelFor(o);}else{j=this.getLabel();if(j instanceof C){j.setAlternativeLabelFor(o);}}}
function f(o){o.addDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){if(o.getMetadata().getProperty("required")){this._oObserver.observe(o,{properties:["required"]});}if(o.getMetadata().getProperty("editable")){this._oObserver.observe(o,{properties:["editable"]});}}}
function g(o){o.removeDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){this._oObserver.unobserve(o);}}
function h(o){var p=this.oElement.getParent();if(p&&p.contentOnAfterRendering){p.contentOnAfterRendering(this.oElement,o.srcControl);}}
return F;});
sap.ui.predefine('sap/ui/layout/form/FormLayout',['sap/ui/core/Control','sap/ui/layout/library','./FormLayoutRenderer','sap/ui/core/theming/Parameters','sap/ui/thirdparty/jquery','sap/ui/dom/jquery/Selectors','sap/ui/dom/jquery/control'],function(C,l,F,P,q){"use strict";var B=l.BackgroundDesign;
var a=C.extend("sap.ui.layout.form.FormLayout",{metadata:{library:"sap.ui.layout",properties:{backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:B.Translucent}}}});
a.prototype.init=function(){this._sFormTitleSize="H4";this._sFormSubTitleSize="H5";};
a.prototype.onBeforeRendering=function(e){this.loadTitleSizes();};
a.prototype.contentOnAfterRendering=function(f,c){if(l.form.FormHelper.bArrowKeySupport){q(c.getFocusDomRef()).data("sap.InNavArea",true);}if(c.getWidth&&(!c.getWidth()||c.getWidth()=="auto")&&(!c.getFormDoNotAdjustWidth||!c.getFormDoNotAdjustWidth())){c.$().css("width","100%");}};
a.prototype.toggleContainerExpanded=function(c){var e=c.getExpanded();if(this.getDomRef()){if(e){c.$("content").css("display","");}else{c.$("content").css("display","none");}}};
a.prototype.getLayoutDataForElement=function(e,t){var L=e.getLayoutData();if(!L){return undefined;}else if(L.isA(t)){return L;}else if(L.isA("sap.ui.core.VariantLayoutData")){var b=L.getMultipleLayoutData();for(var i=0;i<b.length;i++){var o=b[i];if(o.isA(t)){return o;}}}};
a.prototype.onsapright=function(e){if(l.form.FormHelper.bArrowKeySupport){var r=sap.ui.getCore().getConfiguration().getRTL();if(!r){this.navigateForward(e);}else{this.navigateBack(e);}}};
a.prototype.onsapleft=function(e){if(l.form.FormHelper.bArrowKeySupport){var r=sap.ui.getCore().getConfiguration().getRTL();if(!r){this.navigateBack(e);}else{this.navigateForward(e);}}};
a.prototype.onsapdown=function(e){if(l.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E.isA("sap.ui.layout.form.FormElement")){n=this.findFieldBelow(c,E);}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(E,0);}if(n){n.focus();e.preventDefault();}}};
a.prototype.onsapup=function(e){if(l.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E.isA("sap.ui.layout.form.FormElement")){n=this.findFieldAbove(c,E);}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){var f=E.getParent();i=f.indexOfFormContainer(E);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1);}if(n){n.focus();e.preventDefault();}}};
a.prototype.onsaphome=function(e){if(l.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;var o=E.getParent();var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i);if(n){n.focus();e.preventDefault();}}};
a.prototype.onsaptop=function(e){if(l.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var n;var o;if(E&&E.isA("sap.ui.layout.form.FormElement")){o=E.getParent();}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){o=E;}var f=o.getParent();n=this.findFirstFieldOfForm(f);if(n){n.focus();e.preventDefault();}}};
a.prototype.onsapend=function(e){if(l.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;var o=E.getParent();var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findLastFieldOfLastElementInPrevContainer(f,i);if(n){n.focus();e.preventDefault();}}};
a.prototype.onsapbottom=function(e){if(l.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var n;var o;if(E&&E.isA("sap.ui.layout.form.FormElement")){o=E.getParent();}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){o=E;}var f=o.getParent();var b=f.getFormContainers();var L=b.length;n=this.findLastFieldOfLastElementInPrevContainer(f,L-1);if(n){n.focus();e.preventDefault();}}};
a.prototype.onsapexpand=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var o;if(E.isA("sap.ui.layout.form.FormContainer")){o=E;}else{o=E.getParent();}if(o.getExpandable()&&c===o._oExpandButton){o.setExpanded(true);}};
a.prototype.onsapcollapse=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var o;if(E.isA("sap.ui.layout.form.FormContainer")){o=E;}else{o=E.getParent();}if(o.getExpandable()&&c===o._oExpandButton){o.setExpanded(false);}};
a.prototype.onsapskipforward=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;c=r.rootControl;var n;var o;if(E&&E.isA("sap.ui.layout.form.FormElement")){o=E.getParent();}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){o=E;}var f=o.getParent();var i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1);if(n){n.focus();e.preventDefault();}};
a.prototype.onsapskipback=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;c=r.rootControl;var n;var o;if(E&&E.isA("sap.ui.layout.form.FormElement")){o=E.getParent();}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){o=E;}var f=o.getParent();var b=f.getFormContainers();var i=f.indexOfFormContainer(o);while(!n&&i>0){var p=b[i-1];if(!p.getExpandable()||p.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(f,i-1);}i=i-1;}if(n&&n!==c.getFocusDomRef()){n.focus();e.preventDefault();}};
a.prototype.onBeforeFastNavigationFocus=function(e){if(q.contains(this.getDomRef(),e.source)){e.srcControl=q(e.source).control(0);if(e.forward){this.onsapskipforward(e);}else{this.onsapskipback(e);}}else{var n=e.forward?this.findFirstFieldOfForm(this.getParent()):this.findFirstFieldOfLastContainerOfForm(this.getParent());if(n){n.focus();e.preventDefault();}}};
a.prototype.findElement=function(c){var e=c.getParent();var r=c;while(e&&!(e.isA("sap.ui.layout.form.FormElement"))&&!(e.isA("sap.ui.layout.form.FormContainer"))&&!(e.isA("sap.ui.layout.form.Form"))){r=e;e=e.getParent();}return({rootControl:r,element:e});};
a.prototype.navigateForward=function(e){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E.isA("sap.ui.layout.form.FormElement")){if(c==E.getLabelControl()){i=-1;}else{i=E.indexOfField(c);}n=this.findNextFieldOfElement(E,i+1);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findFirstFieldOfNextElement(o,i+1);if(!n){var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1);}}}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(E,0);}if(n){n.focus();e.preventDefault();}};
a.prototype.tabForward=function(e){var f;var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E.isA("sap.ui.layout.form.FormElement")){if(c==E.getLabelControl()){i=-1;}else{i=E.indexOfField(c);}n=this.findNextFieldOfElement(E,i+1,true);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findFirstFieldOfNextElement(o,i+1,true);if(!n){f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1,true);}}}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(E,0,true);if(!n){f=E.getParent();i=f.indexOfFormContainer(E);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1,true);}}if(n){n.focus();e.preventDefault();}};
a.prototype.findNextFieldOfElement=function(e,s,t){var f=e.getFieldsForRendering();var L=f.length;var n;for(var i=s;i<L;i++){var o=f[i];var d=this._getDomRef(o);if(t==true){if((!o.getEditable||o.getEditable())&&(!o.getEnabled||o.getEnabled())&&d){n=d;break;}}else{if((!o.getEnabled||o.getEnabled())&&d){n=d;break;}}}return n;};
a.prototype.findFirstFieldOfNextElement=function(c,s,t){var e=c.getFormElements();var L=e.length;var n;var i=s;while(!n&&i<L){var E=e[i];if(t==true){n=this.findNextFieldOfElement(E,0,true);}else{n=this.findNextFieldOfElement(E,0);}i++;}return n;};
a.prototype.findFirstFieldOfForm=function(f){var n=this.findFirstFieldOfFirstElementInNextContainer(f,0);return n;};
a.prototype.findFirstFieldOfLastContainerOfForm=function(f){var n;var c=f.getFormContainers();var i=c.length;while(!n&&i>0){var p=c[i-1];if(!p.getExpandable()||p.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(f,i-1);}i=i-1;}return n;};
a.prototype.findFirstFieldOfFirstElementInNextContainer=function(f,s,t){var c=f.getFormContainers();var L=c.length;var n;var i=s;while(!n&&i<L){var o=c[i];if(o.getExpandable()&&t){n=o._oExpandButton.getFocusDomRef();if(n){break;}}if(!o.getExpandable()||o.getExpanded()){if(t==true){n=this.findFirstFieldOfNextElement(o,0,true);}else{n=this.findFirstFieldOfNextElement(o,0);}}i++;}return n;};
a.prototype.findFirstFieldOfFirstElementInPrevContainer=function(f,s){var c=f.getFormContainers();var L=c.length;var n;var i=s;while(!n&&i<L&&i>=0){var o=c[i];if(!o.getExpandable()||o.getExpanded()){n=this.findFirstFieldOfNextElement(o,0);}i++;}return n;};
a.prototype.navigateBack=function(e){var f;var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E.isA("sap.ui.layout.form.FormElement")){if(c==E.getLabelControl()){i=0;}else{i=E.indexOfField(c);}n=this.findPrevFieldOfElement(E,i-1);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findLastFieldOfPrevElement(o,i-1);if(!n){f=o.getParent();i=f.indexOfFormContainer(o);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1);}}}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){f=E.getParent();i=f.indexOfFormContainer(E);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1);}if(n){n.focus();e.preventDefault();}};
a.prototype.tabBack=function(e){var f;var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E.isA("sap.ui.layout.form.FormElement")){if(c==E.getLabelControl()){i=0;}else{i=E.indexOfField(c);}n=this.findPrevFieldOfElement(E,i-1,true);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findLastFieldOfPrevElement(o,i-1,true);if(!n){f=o.getParent();i=f.indexOfFormContainer(o);if(o.getExpandable()){n=o._oExpandButton.getFocusDomRef();}if(!n){n=this.findLastFieldOfLastElementInPrevContainer(f,i-1,true);}}}}else if(E&&E.isA("sap.ui.layout.form.FormContainer")){f=E.getParent();i=f.indexOfFormContainer(E);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1,true);}if(n){n.focus();e.preventDefault();}};
a.prototype.findPrevFieldOfElement=function(e,s,t){var f=e.getFieldsForRendering();var n;for(var i=s;i>=0;i--){var o=f[i];var d=this._getDomRef(o);if(t==true){if((!o.getEditable||o.getEditable())&&(!o.getEnabled||o.getEnabled())&&d){n=d;break;}}else{if((!o.getEnabled||o.getEnabled())&&d){n=d;break;}}}return n;};
a.prototype.findLastFieldOfPrevElement=function(c,s,t){var e=c.getFormElements();var n;var i=s;while(!n&&i>=0){var E=e[i];var L=E.getFieldsForRendering().length;if(t==true){n=this.findPrevFieldOfElement(E,L-1,true);}else{n=this.findPrevFieldOfElement(E,L-1);}i--;}return n;};
a.prototype.findLastFieldOfLastElementInPrevContainer=function(f,s,t){var c=f.getFormContainers();var n;var i=s;while(!n&&i>=0){var o=c[i];if(o.getExpandable()&&!o.getExpanded()&&t){n=o._oExpandButton.getFocusDomRef();if(n){break;}}if(!o.getExpandable()||o.getExpanded()){var L=o.getFormElements().length;if(t==true){n=this.findLastFieldOfPrevElement(o,L-1,true);}else{n=this.findLastFieldOfPrevElement(o,L-1,0);}}i--;}return n;};
a.prototype.findFieldBelow=function(c,e){var o=e.getParent();var i=o.indexOfFormElement(e);var n=this.findFirstFieldOfNextElement(o,i+1);if(!n){var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1);}return n;};
a.prototype.findFieldAbove=function(c,e){var o=e.getParent();var b=o.indexOfFormElement(e);var E=o.getFormElements();var n;var i=b-1;while(!n&&i>=0){var m=E[i];n=this.findPrevFieldOfElement(m,0);i--;}if(!n){var f=o.getParent();b=f.indexOfFormContainer(o);n=this.findLastFieldOfLastElementInPrevContainer(f,b-1);}return n;};
a.prototype._getDomRef=function(c){var d=c.getFocusDomRef();if(!q(d).is(":sapFocusable")){d=undefined;}return d;};
a.prototype.getContainerRenderedDomRef=function(c){if(this.getDomRef()){return c.getDomRef();}else{return null;}};
a.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef();}else{return null;}};
a.prototype.getLayoutDataForDelimiter=function(){};
a.prototype.getLayoutDataForSemanticField=function(f,i,L){};
a.prototype.loadTitleSizes=function(){var s=P.get({name:['sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize','sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize'],callback:this.applyTitleSizes.bind(this)});if(s&&s.hasOwnProperty('sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize')){this.applyTitleSizes(s,true);}};
a.prototype.applyTitleSizes=function(s,S){if(s&&(this._sFormTitleSize!==s["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"]||this._sFormSubTitleSize!==s["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"])){this._sFormTitleSize=s["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"];this._sFormSubTitleSize=s["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"];if(!S){this.invalidate();}}};
return a;});
sap.ui.predefine('sap/ui/layout/form/FormLayoutRenderer',['sap/ui/core/library','sap/ui/layout/library','sap/ui/layout/form/Form','sap/ui/core/IconPool'],function(c,l,F){"use strict";var T=c.TitleLevel;var B=l.BackgroundDesign;var a={apiVersion:2};
a.render=function(r,L){var f=L.getParent();if(f&&f instanceof F){this.renderForm(r,L,f);}};
a.renderForm=function(r,L,f){var t=f.getToolbar();r.openStart("div",L);r.class(this.getMainClass());if(t){r.class("sapUiFormToolbar");}this.addBackgroundClass(r,L);r.openEnd();this.renderHeader(r,t,f.getTitle(),undefined,false,L._sFormTitleSize,f.getId());this.renderContainers(r,L,f);r.close("div");};
a.getMainClass=function(){return"sapUiFormLayout";};
a.addBackgroundClass=function(r,L){var b=L.getBackgroundDesign();if(b!=B.Transparent){r.class("sapUiFormBackgr"+b);}};
a.renderContainers=function(r,L,f){var C=f.getVisibleFormContainers();for(var i=0,b=C.length;i<b;i++){var o=C[i];this.renderContainer(r,L,o);}};
a.renderContainer=function(r,L,C){var e=C.getExpandable();var t=C.getToolbar();var o=C.getTitle();r.openStart("section",C);r.class("sapUiFormContainer");if(t){r.class("sapUiFormContainerToolbar");}else if(o){r.class("sapUiFormContainerTitle");}if(C.getTooltip_AsString()){r.attr('title',C.getTooltip_AsString());}this.writeAccessibilityStateContainer(r,C);r.openEnd();this.renderHeader(r,t,o,C._oExpandButton,e,L._sFormSubTitleSize,C.getId());if(e){r.openStart("div",C.getId()+"-content");if(!C.getExpanded()){r.style("display","none");}r.openEnd();}var E=C.getVisibleFormElements();for(var j=0,b=E.length;j<b;j++){var d=E[j];this.renderElement(r,L,d);}if(e){r.close("div");}r.close("section");};
a.renderElement=function(r,L,e){var o=e.getLabelControl();r.openStart("div",e);r.class("sapUiFormElement");if(o){r.class("sapUiFormElementLbl");}r.openEnd();if(o){r.renderControl(o);}var f=e.getFieldsForRendering();if(f&&f.length>0){for(var k=0,b=f.length;k<b;k++){var d=f[k];r.renderControl(d);}}r.close("div");};
a.renderTitle=function(r,t,e,E,L,C){if(t){if(typeof t!=="string"&&t.getLevel()!=T.Auto){L=t.getLevel();}if(!L){L="H5";}if(typeof t!=="string"){r.openStart(L.toLowerCase(),t);if(t.getTooltip_AsString()){r.attr('title',t.getTooltip_AsString());}if(t.getEmphasized()){r.class("sapUiFormTitleEmph");}}else{r.openStart(L.toLowerCase(),C+"--title");}r.class("sapUiFormTitle");r.class("sapUiFormTitle"+L);if(E&&e){r.class("sapUiFormTitleExpandable");}r.openEnd();if(E&&e){r.renderControl(e);}if(typeof t==="string"){t.split(/\n/).forEach(function(s,I){if(I>0){r.voidStart("br").voidEnd();}r.text(s);});}else{var i=t.getIcon();if(i){var b=[];var A={"title":null};A["id"]=t.getId()+"-ico";r.icon(i,b,A);}t.getText().split(/\n/).forEach(function(s,I){if(I>0){r.voidStart("br").voidEnd();}r.text(s);});}r.close(L.toLowerCase());}};
a.renderHeader=function(r,t,o,e,E,L,C){if(t){r.renderControl(t);}else{this.renderTitle(r,o,e,E,L,C);}};
a.writeAccessibilityStateContainer=function(r,C){var A={};var t=C.getTitle();var o=C.getToolbar();if(o){if(!C.getAriaLabelledBy()||C.getAriaLabelledBy().length==0){var s=l.form.FormHelper.getToolbarTitle(o);A["labelledby"]={value:s,append:true};}}else if(t){var i="";if(typeof t=="string"){i=C.getId()+"--title";}else{i=t.getId();}A["labelledby"]={value:i,append:true};}if(A["labelledby"]||C.getAriaLabelledBy().length>0){A["role"]="form";}r.accessibilityState(C,A);};
return a;},true);
sap.ui.predefine('sap/ui/layout/form/FormRenderer',['sap/ui/layout/library',"sap/base/Log"],function(l,L){"use strict";var F={apiVersion:2};
F.render=function(r,f){var o=f.getLayout();var a={role:"form"};r.openStart("div",f).class("sapUiForm").class("sapUiFormLblColon").attr("data-sap-ui-customfastnavgroup","true");var c=l.form.FormHelper.addFormClass();if(c){r.class(c);}if(f.getEditable()){r.class("sapUiFormEdit");r.class("sapUiFormEdit-CTX");}else{a.readonly="";}if(f.getWidth()){r.style("width",f.getWidth());}if(f.getTooltip_AsString()){r.attr('title',f.getTooltip_AsString());}var t=f.getTitle();var T=f.getToolbar();if(T){if(!f.getAriaLabelledBy()||f.getAriaLabelledBy().length==0){var s=l.form.FormHelper.getToolbarTitle(T);a["labelledby"]=s;}}else if(t){var i="";if(typeof t=="string"){i=f.getId()+"--title";}else{i=t.getId();}a["labelledby"]={value:i,append:true};}else if(f._sSuggestedTitleId){a["labelledby"]={value:f._sSuggestedTitleId,append:true};}r.accessibilityState(f,a);r.openEnd();if(o){r.renderControl(o);}else{L.warning("Form \""+f.getId()+"\" - Layout missing!","Renderer","Form");}r.close("div");};
return F;},true);
sap.ui.predefine('sap/ui/layout/form/SimpleForm',['sap/ui/core/Control','sap/ui/base/ManagedObjectObserver','sap/ui/core/ResizeHandler','sap/ui/layout/library','./Form','./FormContainer','./FormElement','./FormLayout','./SimpleFormRenderer',"sap/base/Log","sap/ui/thirdparty/jquery"],function(C,M,R,l,F,a,b,c,S,L,q){"use strict";var B=l.BackgroundDesign;var d=l.form.SimpleFormLayout;var e;var f;var g;var G;var h;var m;var n;
var o=C.extend("sap.ui.layout.form.SimpleForm",{metadata:{library:"sap.ui.layout",properties:{maxContainerCols:{type:"int",group:"Appearance",defaultValue:2},minWidth:{type:"int",group:"Appearance",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:null},labelMinWidth:{type:"int",group:"Misc",defaultValue:192},layout:{type:"sap.ui.layout.form.SimpleFormLayout",group:"Misc",defaultValue:d.ResponsiveLayout},labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600},backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:B.Translucent}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"},form:{type:"sap.ui.layout.form.Form",multiple:false,visibility:"hidden"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/SimpleForm.designtime"}});
o.prototype.init=function(){this._iMaxWeight=8;this._iLabelWeight=3;this._iCurrentWidth=0;var i=new F(this.getId()+"--Form");i.getTitle=function(){return this.getParent().getTitle();};i._origInvalidate=i.invalidate;i.invalidate=function(j){if(this.bOutput){this._origInvalidate(j);}if(this._bIsBeingDestroyed){return;}var k=this.getParent();if(k){k._formInvalidated(j);}};i.getAriaLabelledBy=function(){var j=this.getParent();if(j){return j.getAriaLabelledBy();}else{return null;}};i._origOnLayoutDataChange=i.onLayoutDataChange;i.onLayoutDataChange=function(j){this._origOnLayoutDataChange(j);var k=this.getParent();if(k){k._onLayoutDataChange(j);}};this.setAggregation("form",i);this._aElements=null;this._aLayouts=[];this._changedFormContainers=[];this._changedFormElements=[];this._oObserver=new M(W.bind(this));};
o.prototype.exit=function(){var j=this.getAggregation("form");j.invalidate=j._origInvalidate;U.call(this);for(var i=0;i<this._aLayouts.length;i++){var k=sap.ui.getCore().byId(this._aLayouts[i]);if(k&&k.destroy){k.destroy();}}this._aLayouts=[];this._aElements=null;this._changedFormContainers=[];this._changedFormElements=[];this._oObserver.disconnect();this._oObserver=undefined;};
o.prototype.onBeforeRendering=function(){U.call(this);var i=this.getAggregation("form");var j=this.getLayout();if((!this._bResponsiveLayoutRequested&&j===d.ResponsiveLayout)||(!this._bGridLayoutRequested&&j===d.GridLayout)||(!this._bResponsiveGridLayoutRequested&&j===d.ResponsiveGridLayout)||(!this._bColumnLayoutRequested&&j===d.ColumnLayout)){var k=true;if(!i.getLayout()){k=_.call(this);}if(k){x.call(this);}}};
o.prototype.onAfterRendering=function(){if(this.getLayout()==d.ResponsiveLayout){this._bChangedByMe=true;this.$().css("visibility","hidden");this._applyLinebreaks();this._sResizeListenerId=R.register(this.getDomRef(),q.proxy(this._resize,this));this._bChangedByMe=false;}};
o.prototype.setEditable=function(i){this._bChangedByMe=true;this.setProperty("editable",i,true);var j=this.getAggregation("form");j.setEditable(i);this._bChangedByMe=false;return this;};
o.prototype.setToolbar=function(i){this._bChangedByMe=true;var j=this.getAggregation("form");j.setToolbar(i);this._bChangedByMe=false;return this;};
o.prototype.getToolbar=function(){var i=this.getAggregation("form");return i.getToolbar();};
o.prototype.destroyToolbar=function(){this._bChangedByMe=true;var i=this.getAggregation("form");i.destroyToolbar();this._bChangedByMe=false;return this;};
o.prototype.setLabelMinWidth=function(j){this.setProperty("labelMinWidth",j,true);if(this.getLayout()==d.ResponsiveLayout){this._bLayoutDataChangedByMe=true;var k=this.getContent();for(var i=0;i<k.length;i++){var Y=k[i];if(Y.isA("sap.ui.core.Label")){var Z=A.call(this,Y);if(Z&&Z.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&y.call(this,Z)){Z.setMinWidth(j);}}}this._bLayoutDataChangedByMe=false;}return this;};
o.prototype.indexOfContent=function(j){var k=this._aElements;if(k){for(var i=0;i<k.length;i++){if(k[i]==j){return i;}}}return-1;};
o.prototype.addContent=function(i){i=this.validateAggregation("content",i,true);if(this.indexOfContent(i)>=0){L.warning("SimpleForm.addContent: Content element '"+i+"' already assigned. Please remove before adding!",this);this.removeContent(i);}if(!this._aElements){this._aElements=[];}this._bChangedByMe=true;var j=this._aElements.length;var k;var Y=this.getAggregation("form");var Z;var $;var a1;var b1;if(i.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){Z=P.call(this,i);Y.addFormContainer(Z);this._changedFormContainers.push(Z);}else if(i.isA("sap.ui.core.Label")){if(j>0){k=this._aElements[j-1];a1=k.getParent();if(a1 instanceof b){Z=a1.getParent();}else if(a1 instanceof a){Z=a1;}}if(!Z){Z=P.call(this);Y.addFormContainer(Z);this._changedFormContainers.push(Z);}$=K.call(this,Z,i);}else{if(j>0){k=this._aElements[j-1];a1=k.getParent();if(a1 instanceof b){Z=a1.getParent();$=a1;b1=A.call(this,i);if(b1&&b1.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!y.call(this,b1)&&b1.getLinebreak()){$=K.call(this,Z);}}else if(a1 instanceof a){Z=a1;$=K.call(this,Z);}}else{Z=P.call(this);Y.addFormContainer(Z);this._changedFormContainers.push(Z);$=K.call(this,Z);}E.call(this,i,5,false,true);$.addField(i);V(this._changedFormElements,$);}this._aElements.push(i);this._oObserver.observe(i,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this;};
o.prototype.insertContent=function(j,k){j=this.validateAggregation("content",j,true);if(this.indexOfContent(j)>=0){L.warning("SimpleForm.insertContent: Content element '"+j+"' already assigned. Please remove before insert!",this);this.removeContent(j);}if(!this._aElements){this._aElements=[];}var Y=this._aElements.length;var Z;if(k<0){Z=0;}else if(k>Y){Z=Y;}else{Z=k;}if(Z!==k){L.warning("SimpleForm.insertContent: index '"+k+"' out of range [0,"+Y+"], forced to "+Z);}if(Z==Y){this.addContent(j);return this;}this._bChangedByMe=true;var $=this._aElements[Z];var a1=this.getAggregation("form");var b1;var c1;var d1;var e1;var f1;var g1=0;var h1;var i1;var j1;var k1;var i=0;var l1;var m1;if(j.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){if(k==0&&!($.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"]))){b1=$.getParent().getParent();if(j.isA("sap.ui.core.Title")){b1.setTitle(j);}else{b1.setToolbar(j);}}else{b1=P.call(this,j);if($.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){d1=$.getParent();f1=a1.indexOfFormContainer(d1);}else{e1=$.getParent();d1=e1.getParent();f1=a1.indexOfFormContainer(d1)+1;g1=d1.indexOfFormElement(e1);if(!$.isA("sap.ui.core.Label")){h1=e1.indexOfField($);if(h1>0||e1.getLabel()){c1=K.call(this,b1);this._changedFormElements.push(c1);V(this._changedFormElements,e1);i1=e1.getFields();for(i=h1;i<i1.length;i++){l1=i1[i];c1.addField(l1);}g1++;}}j1=d1.getFormElements();for(i=g1;i<j1.length;i++){b1.addFormElement(j1[i]);}}a1.insertFormContainer(b1,f1);}this._changedFormContainers.push(b1);}else if(j.isA("sap.ui.core.Label")){if($.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){d1=$.getParent();f1=a1.indexOfFormContainer(d1);k1=a1.getFormContainers();if(f1==0){b1=P.call(this);a1.insertFormContainer(b1,f1);this._changedFormContainers.push(b1);}else{b1=k1[f1-1];}c1=K.call(this,b1,j);}else if($.isA("sap.ui.core.Label")){d1=$.getParent().getParent();g1=d1.indexOfFormElement($.getParent());c1=N.call(this,d1,j,g1);}else{e1=$.getParent();d1=e1.getParent();g1=d1.indexOfFormElement(e1)+1;h1=e1.indexOfField($);if(h1==0&&!e1.getLabel()){c1=e1;c1.setLabel(j);E.call(this,j,this._iLabelWeight,false,true,this.getLabelMinWidth());}else{c1=N.call(this,d1,j,g1);V(this._changedFormElements,e1);i1=e1.getFields();for(i=h1;i<i1.length;i++){l1=i1[i];c1.addField(l1);}}}this._changedFormElements.push(c1);}else{m1=A.call(this,j);if($.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){d1=$.getParent();f1=a1.indexOfFormContainer(d1);if(f1==0){b1=P.call(this);a1.insertFormContainer(b1,f1);this._changedFormContainers.push(b1);}else{k1=a1.getFormContainers();b1=k1[f1-1];}j1=b1.getFormElements();if(j1.length==0){c1=K.call(this,b1);}else if(m1&&m1.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!y.call(this,m1)&&m1.getLinebreak()){c1=K.call(this,b1);}else{c1=j1[j1.length-1];}c1.addField(j);}else if($.isA("sap.ui.core.Label")){e1=$.getParent();b1=e1.getParent();g1=b1.indexOfFormElement(e1);if(g1==0){c1=N.call(this,b1,null,0);}else if(m1&&m1.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!y.call(this,m1)&&m1.getLinebreak()){c1=N.call(this,b1,null,g1);}else{j1=b1.getFormElements();c1=j1[g1-1];}c1.addField(j);}else{c1=$.getParent();h1=c1.indexOfField($);if(m1&&m1.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!y.call(this,m1)&&m1.getLinebreak()&&h1>0){b1=c1.getParent();g1=b1.indexOfFormElement(c1);V(this._changedFormElements,c1);i1=c1.getFields();c1=N.call(this,b1,undefined,g1+1);c1.addField(j);for(i=h1;i<i1.length;i++){l1=i1[i];c1.addField(l1);}}else{c1.insertField(j,h1);}}V(this._changedFormElements,c1);E.call(this,j,5,false,true);}this._aElements.splice(Z,0,j);this._oObserver.observe(j,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this;};
o.prototype.removeContent=function(j){var k=null;var Y=-1;var i=0;if(this._aElements){if(typeof(j)=="string"){j=sap.ui.getCore().byId(j);}if(typeof(j)=="object"){for(i=0;i<this._aElements.length;i++){if(this._aElements[i]==j){j=i;break;}}}if(typeof(j)=="number"){if(j<0||j>=this._aElements.length){L.warning("Element.removeAggregation called with invalid index: Items, "+j);}else{Y=j;k=this._aElements[Y];}}}if(k){this._bChangedByMe=true;var Z=this.getAggregation("form");var $;var a1;var b1;var c1;if(k.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){$=k.getParent();$.setTitle(null);$.setToolbar(null);if(Y>0){b1=$.getFormElements();var d1=Z.indexOfFormContainer($);var e1=Z.getFormContainers()[d1-1];if(b1.length>0&&!b1[0].getLabel()){var f1=e1.getFormElements();var g1=f1[f1.length-1];c1=b1[0].getFields();for(i=0;i<c1.length;i++){g1.addField(c1[i]);}V(this._changedFormElements,g1);$.removeFormElement(b1[0]);b1[0].destroy();b1.splice(0,1);}for(i=0;i<b1.length;i++){e1.addFormElement(b1[i]);}V(this._changedFormContainers,e1);Z.removeFormContainer($);$.destroy();}else if($.getFormElements().length==0){Z.removeFormContainer($);$.destroy();}}else if(k.isA("sap.ui.core.Label")){a1=k.getParent();$=a1.getParent();a1.setLabel(null);var h1=$.indexOfFormElement(a1);if(h1==0){if(a1.getFields().length==0){$.removeFormElement(a1);a1.destroy();if($.getFormElements().length==0&&!$.getTitle()&&!$.getToolbar()){Z.removeFormContainer($);$.destroy();}}else{V(this._changedFormElements,a1);}}else{b1=$.getFormElements();var i1=b1[h1-1];c1=a1.getFields();for(i=0;i<c1.length;i++){i1.addField(c1[i]);}V(this._changedFormElements,i1);$.removeFormElement(a1);a1.destroy();}}else{a1=k.getParent();a1.removeField(k);if(a1.getFields().length==0&&!a1.getLabel()){$=a1.getParent();$.removeFormElement(a1);a1.destroy();if($.getFormElements().length==0&&!$.getTitle()&&!$.getToolbar()){Z.removeFormContainer($);$.destroy();}}else{V(this._changedFormElements,a1);}}this._aElements.splice(Y,1);k.setParent(null);this._oObserver.unobserve(k);J.call(this,k);this.invalidate();this._bChangedByMe=false;return k;}return null;};
o.prototype.removeAllContent=function(){var i=0;if(this._aElements){this._bChangedByMe=true;var k=this.getAggregation("form");var Y=k.getFormContainers();for(i=0;i<Y.length;i++){var Z=Y[i];Z.setTitle(null);Z.setToolbar(null);var $=Z.getFormElements();for(var j=0;j<$.length;j++){var a1=$[j];a1.setLabel(null);a1.removeAllFields();}Z.destroyFormElements();}k.destroyFormContainers();for(i=0;i<this._aElements.length;i++){var b1=this._aElements[i];J.call(this,b1);this._oObserver.unobserve(b1);}var c1=this._aElements;this._aElements=null;this.invalidate();this._bChangedByMe=false;return c1;}else{return[];}};
o.prototype.destroyContent=function(){var j=this.removeAllContent();if(j){this._bChangedByMe=true;for(var i=0;i<j.length;i++){j[i].destroy();}this.invalidate();this._bChangedByMe=false;}return this;};
o.prototype.getContent=function(){if(!this._aElements){this._aElements=this.getAggregation("content",[]);}return this._aElements.slice();};
o.prototype.setLayout=function(i){var j=this.getLayout();if(i!=j){v.call(this);}this.setProperty("layout",i);if(i!=j){var k=_.call(this);if(k){w.call(this);}}return this;};
o.prototype.clone=function(k){this._bChangedByMe=true;var Y=C.prototype.clone.apply(this,arguments);var Z=this.getContent();for(var i=0;i<Z.length;i++){var $=Z[i];var a1=$.getLayoutData();this._oObserver.unobserve($);var b1=$.clone(k);this._oObserver.observe($,{properties:["visible"]});if(a1){if(a1.isA("sap.ui.core.VariantLayoutData")){var c1=a1.getMultipleLayoutData();for(var j=0;j<c1.length;j++){if(y.call(this,c1[j])){Y._aLayouts.push(b1.getLayoutData().getMultipleLayoutData()[j].getId());}}}else if(y.call(this,a1)){Y._aLayouts.push(b1.getLayoutData().getId());}}Y.addContent(b1);}this._bChangedByMe=false;return Y;};
function _(){var i=this.getAggregation("form");if(i.getLayout()){this._bChangedByMe=true;i.destroyLayout();U.call(this);this._bChangedByMe=false;}var j;switch(this.getLayout()){case d.ResponsiveLayout:if((!e||!f)&&!this._bResponsiveLayoutRequested){e=sap.ui.require("sap/ui/layout/form/ResponsiveLayout");f=sap.ui.require("sap/ui/layout/ResponsiveFlowLayoutData");if(!e||!f){sap.ui.require(["sap/ui/layout/form/ResponsiveLayout","sap/ui/layout/ResponsiveFlowLayoutData"],p.bind(this));this._bResponsiveLayoutRequested=true;}}if(e&&f){j=new e(this.getId()+"--Layout");}break;case d.GridLayout:if((!G||!h||!m)&&!this._bGridLayoutRequested){G=sap.ui.require("sap/ui/layout/form/GridLayout");h=sap.ui.require("sap/ui/layout/form/GridContainerData");m=sap.ui.require("sap/ui/layout/form/GridElementData");if(!G||!h||!m){sap.ui.require(["sap/ui/layout/form/GridLayout","sap/ui/layout/form/GridContainerData","sap/ui/layout/form/GridElementData"],r.bind(this));this._bGridLayoutRequested=true;}}if(G&&h&&m){j=new G(this.getId()+"--Layout");}break;case d.ResponsiveGridLayout:if(!g&&!this._bResponsiveGridLayoutRequested){g=sap.ui.require("sap/ui/layout/form/ResponsiveGridLayout");if(!g){sap.ui.require(["sap/ui/layout/form/ResponsiveGridLayout"],s.bind(this));this._bResponsiveGridLayoutRequested=true;}}if(g){j=new g(this.getId()+"--Layout");}break;case d.ColumnLayout:if(!n&&!this._bColumnLayoutRequested){n=sap.ui.require("sap/ui/layout/form/ColumnLayout");if(!n){sap.ui.require(["sap/ui/layout/form/ColumnLayout"],t.bind(this));this._bColumnLayoutRequested=true;}}if(n){j=new n(this.getId()+"--Layout");}break;}if(j){this._bChangedByMe=true;i.setLayout(j);this._bChangedByMe=false;return true;}return false;}
function p(i,j){e=i;f=j;this._bResponsiveLayoutRequested=false;if(this.getLayout()==d.ResponsiveLayout){u.call(this);}}
function r(i,j,k){G=i;h=j;m=k;this._bGridLayoutRequested=false;if(this.getLayout()==d.GridLayout){u.call(this);}}
function s(i){g=i;this._bResponsiveGridLayoutRequested=false;if(this.getLayout()==d.ResponsiveGridLayout){u.call(this);}}
function t(i){n=i;this._bColumnLayoutRequested=false;if(this.getLayout()==d.ColumnLayout){u.call(this);}}
function u(){if(!this._bIsBeingDestroyed){_.call(this);w.call(this);if(this.getDomRef()){x.call(this);}}}
function v(){this._bChangedByMe=true;var Y=this.getAggregation("form");var Z=Y.getFormContainers();for(var i=0;i<Z.length;i++){var $=Z[i];V(this._changedFormContainers,$);if($.getLayoutData()){$.destroyLayoutData();}var a1=$.getFormElements();for(var j=0;j<a1.length;j++){var b1=a1[j];V(this._changedFormElements,b1);if(b1.getLayoutData()){b1.destroyLayoutData();}var c1=b1.getLabel();if(c1){J.call(this,c1);}var d1=b1.getFields();for(var k=0;k<d1.length;k++){var e1=d1[k];J.call(this,e1);}}}this._bChangedByMe=false;}
function w(){this._bChangedByMe=true;var Y=this.getAggregation("form");var Z=Y.getFormContainers();for(var i=0;i<Z.length;i++){var $=Z[i];V(this._changedFormContainers,$);I.call(this,$);var a1=$.getFormElements();for(var j=0;j<a1.length;j++){var b1=a1[j];V(this._changedFormElements,b1);H.call(this,b1);var c1=b1.getLabel();if(c1){E.call(this,c1,this._iLabelWeight,false,true,this.getLabelMinWidth());}var d1=b1.getFields();for(var k=0;k<d1.length;k++){var e1=d1[k];E.call(this,e1,5,false,true);}}}this._bChangedByMe=false;}
function x(){this._bChangedByMe=true;this._changedFormContainers=[];var j=this.getLayout();var k=this.getAggregation("form").getLayout();k.setBackgroundDesign(this.getBackgroundDesign());switch(j){case d.ResponsiveLayout:this._applyLinebreaks();for(var i=0;i<this._changedFormElements.length;i++){var Y=this._changedFormElements[i];Q.call(this,Y);}break;case d.GridLayout:T.call(this);break;case d.ResponsiveGridLayout:k.setLabelSpanXL(this.getLabelSpanXL());k.setLabelSpanL(this.getLabelSpanL());k.setLabelSpanM(this.getLabelSpanM());k.setLabelSpanS(this.getLabelSpanS());k.setAdjustLabelSpan(this.getAdjustLabelSpan());k.setEmptySpanXL(this.getEmptySpanXL());k.setEmptySpanL(this.getEmptySpanL());k.setEmptySpanM(this.getEmptySpanM());k.setEmptySpanS(this.getEmptySpanS());k.setColumnsXL(this.getColumnsXL());k.setColumnsL(this.getColumnsL());k.setColumnsM(this.getColumnsM());k.setSingleContainerFullSize(this.getSingleContainerFullSize());k.setBreakpointXL(this.getBreakpointXL());k.setBreakpointL(this.getBreakpointL());k.setBreakpointM(this.getBreakpointM());break;case d.ColumnLayout:k.setColumnsXL(this.getColumnsXL()>0?this.getColumnsXL():this.getColumnsL());k.setColumnsL(this.getColumnsL());k.setColumnsM(this.getColumnsM());k.setLabelCellsLarge(this.getLabelSpanL());k.setEmptyCellsLarge(this.getEmptySpanL());break;}this._changedFormElements=[];this._bChangedByMe=false;}
function y(i){var j=i.getId(),k=" "+this._aLayouts.join(" ")+" ";return k.indexOf(" "+j+" ")>-1;}
function z(i,j,k,Y){var Z=new f({weight:i,linebreak:j===true,linebreakable:k===true});if(Y){Z.setMinWidth(Y);}this._aLayouts.push(Z.getId());return Z;}
function A(i){var j;switch(this.getLayout()){case d.ResponsiveLayout:j=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.ResponsiveFlowLayoutData");break;case d.GridLayout:j=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.form.GridElementData");break;case d.ResponsiveGridLayout:j=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.GridData");break;case d.ColumnLayout:j=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.form.ColumnElementData");break;}return j;}
function D(){var i=this.getLayout();if((i===d.ResponsiveLayout&&this._bResponsiveLayoutRequested)||(i===d.GridLayout&&this._bGridLayoutRequested)||(i===d.ResponsiveGridLayout&&this._bResponsiveGridLayoutRequested)||(i===d.ColumnLayout&&this._bColumnLayoutRequested)){return false;}if(!this.getAggregation("form").getLayout()){var j=this._bChangedByMe;var k=_.call(this);this._bChangedByMe=j;if(!k){return false;}}return true;}
function E(i,j,k,Y,Z){if(this.getLayout()!=d.ResponsiveLayout){return;}if(!D.call(this)){return;}this._bLayoutDataChangedByMe=true;var $=A.call(this,i);if(!$||!y.call(this,$)){$=i.getLayoutData();if($&&$.isA("sap.ui.core.VariantLayoutData")){$.addMultipleLayoutData(z.call(this,j,k,Y,Z));}else if(!$){i.setLayoutData(z.call(this,j,k,Y,Z));}else{L.warning("ResponsiveFlowLayoutData can not be set on Field "+i.getId(),"_createFieldLayoutData","SimpleForm");}}this._bLayoutDataChangedByMe=false;}
function H(i){if(this.getLayout()!=d.ResponsiveLayout){return;}if(!D.call(this)){return;}this._bLayoutDataChangedByMe=true;i.setLayoutData(new f({linebreak:true,margin:false}));this._bLayoutDataChangedByMe=false;}
function I(i){var j=this.getLayout();if(j!=d.ResponsiveLayout&&j!=d.GridLayout){return;}if(!D.call(this)){return;}this._bLayoutDataChangedByMe=true;switch(j){case d.ResponsiveLayout:i.setLayoutData(new f({minWidth:280}));break;case d.GridLayout:if(this.getMaxContainerCols()>1){i.setLayoutData(new h({halfGrid:true}));}else{i.setLayoutData(new h({halfGrid:false}));}break;}this._bLayoutDataChangedByMe=false;}
function J(j){this._bLayoutDataChangedByMe=true;var k=A.call(this,j);if(k){var Y=k.getId();for(var i=0;i<this._aLayouts.length;i++){var Z=this._aLayouts[i];if(Y==Z){k.destroy();this._aLayouts.splice(i,1);break;}}}this._bLayoutDataChangedByMe=false;}
function K(i,j){var k=O.call(this,j);i.addFormElement(k);return k;}
function N(i,j,k){var Y=O.call(this,j);i.insertFormElement(Y,k);return Y;}
function O(j){var k=new b();H.call(this,k);if(j){j.addStyleClass("sapUiFormLabel-CTX");k.setLabel(j);if(!A.call(this,j)){E.call(this,j,this._iLabelWeight,false,true,this.getLabelMinWidth());}}k.isVisible=function(){var Y=this.getFields();var Z=false;for(var i=0;i<Y.length;i++){var $=Y[i];if($.getVisible()){Z=true;break;}}return Z;};return k;}
function P(i){var j=new a();I.call(this,j);j.getAriaLabelledBy=function(){var k=this.getToolbar();if(k){return k.getAriaLabelledBy();}else{return[];}};if(i){if(i.isA("sap.ui.core.Title")){j.setTitle(i);}else if(i.isA("sap.ui.core.Toolbar")){j.setToolbar(i);}}return j;}
function Q(j){var k=this._iMaxWeight;var Y=j.getFields();var Z;var $=Y.length;var a1=j.getLabel();var b1;var i=0;this._bLayoutDataChangedByMe=true;if(a1&&A.call(this,a1)){k=k-A.call(this,a1).getWeight();}for(i=0;i<Y.length;i++){Z=Y[i];b1=A.call(this,Z);if(b1&&b1.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!y.call(this,b1)){k=k-b1.getWeight();$--;}}var c1=Math.floor(k/$);var d1=k%$;for(i=0;i<Y.length;i++){Z=Y[i];b1=A.call(this,Z);var e1=c1;if(!b1){E.call(this,Z,e1,false,i==0);}else if(y.call(this,b1)&&b1.isA("sap.ui.layout.ResponsiveFlowLayoutData")){if(d1>0){e1++;d1--;}b1.setWeight(e1);}}this._bLayoutDataChangedByMe=false;}
o.prototype._applyLinebreaks=function(){if(!e||this._bResponsiveLayoutRequested){return;}this._bLayoutDataChangedByMe=true;var j=this.getAggregation("form"),k=j.getFormContainers();var Y=this.getDomRef();var Z=this.$();for(var i=1;i<k.length;i++){var $=k[i],a1=$.getLayoutData();if(!Y||Z.outerWidth(true)>this.getMinWidth()){if(i%this.getMaxContainerCols()==0){a1.setLinebreak(true);}else{a1.setLinebreak(false);}}else{a1.setLinebreak(true);}}if(Y&&Z.css("visibility")=="hidden"){var b1=this;setTimeout(function(){if(b1.getDomRef()){b1.$().css("visibility","");}},10);}this._bLayoutDataChangedByMe=false;};
function T(){this._bLayoutDataChangedByMe=true;var j=this.getAggregation("form");var k=j.getFormContainers();var Y=k.length;for(var i=0;i<Y;i++){var Z=k[i];if((this.getMaxContainerCols()<=1)||((i==Y-1)&&(Y%2>0))){Z.getLayoutData().setHalfGrid(false);}else if(!Z.getLayoutData().getHalfGrid()){Z.getLayoutData().setHalfGrid(true);}}this._bLayoutDataChangedByMe=false;}
o.prototype._resize=function(i){this._bChangedByMe=true;if(this._iCurrentWidth==i.size.width){return;}this._iCurrentWidth=i.size.width;this._applyLinebreaks();this._bChangedByMe=false;};
function U(){if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}}
function V(j,k){var Y=false;for(var i=0;i<j.length;i++){var Z=j[i];if(Z==k){Y=true;break;}}if(!Y){j.push(k);}}
function W(i){if(i.name=="visible"){var j=i.object.getParent();j.invalidate();}}
function X(Y){var Z=[];var $=Y.getFormContainers();for(var i=0;i<$.length;i++){var a1=$[i];var b1=a1.getTitle();if(b1){Z.push(b1);}else{var c1=a1.getToolbar();if(c1){Z.push(c1);}}var d1=a1.getFormElements();for(var j=0;j<d1.length;j++){var e1=d1[j];var f1=e1.getLabel();if(f1){Z.push(f1);}var g1=e1.getFields();for(var k=0;k<g1.length;k++){var h1=g1[k];Z.push(h1);}}}return Z;}
o.prototype._formInvalidated=function(k){if(!this._bChangedByMe){var Y=X(this.getAggregation("form"));var i=0;var j=0;var Z=false;if(!this._aElements||Y.length<this._aElements.length){Z=true;}else{for(i=0;i<Y.length;i++){var $=Y[i];var a1=this._aElements[j];if($===a1){j++;}else{var b1=Y[i+1];if(b1===a1){this.insertContent($,i);break;}b1=this._aElements[j+1];if(b1===$){Z=true;break;}break;}}}if(Z){this.removeAllContent();for(i=0;i<Y.length;i++){var c1=Y[i];this.addContent(c1);}}}};
o.prototype._onLayoutDataChange=function(i){if(!this._bLayoutDataChangedByMe&&!this._bIsBeingDestroyed){switch(this.getLayout()){case d.ResponsiveLayout:var j=i.srcControl;var k=j.getParent();if(k instanceof b){var Y=this.indexOfContent(j);this.removeContent(j);this.insertContent(j,Y);}break;}}};
o.prototype._suggestTitleId=function(i){var j=this.getAggregation("form");j._suggestTitleId(i);return this;};
return o;});
sap.ui.predefine('sap/ui/layout/form/SimpleFormRenderer',[],function(){"use strict";var S={apiVersion:2};
S.render=function(r,c){c._bChangedByMe=true;r.openStart("div",c).class("sapUiSimpleForm").style("width",c.getWidth()).openEnd();var f=c.getAggregation("form");r.renderControl(f);r.close("div");c._bChangedByMe=false;};
return S;},true);
sap.ui.predefine('sap/ui/model/MetaModel',['./Model'],function(M){"use strict";
var a=M.extend("sap.ui.model.MetaModel",{constructor:function(){M.apply(this,arguments);}});
a.prototype.createBindingContext=function(p,c,P,C){if(typeof c=="function"){C=c;c=null;}if(typeof P=="function"){C=P;P=null;}var s=this.resolve(p,c),n=(s==undefined)?undefined:this.getContext(s?s:"/");if(!n){n=null;}if(C){C(n);}return n;};
a.prototype.destroyBindingContext=function(){};
return a;});
sap.ui.predefine('sap/ui/model/odata/OperationMode',function(){"use strict";var O={Default:"Default",Server:"Server",Client:"Client",Auto:"Auto"};return O;},true);
sap.ui.predefine('sap/ui/model/odata/_AnnotationHelperBasics',["sap/base/Log","sap/base/util/extend","sap/ui/base/BindingParser","sap/ui/performance/Measurement"],function(L,a,B,M){'use strict';var A="sap.ui.model.odata.AnnotationHelper",r=/[\\\{\}:]/,b,d=/^(\/dataServices\/schema\/\d+\/entityContainer\/\d+\/entitySet\/\d+)(?:\/|$)/,p=[A],P=A+"/followPath",f=/^(\/dataServices\/schema\/\d+\/(?:complex|entity)Type\/\d+)(?:\/|$)/,u={"Edm.Boolean":"sap.ui.model.odata.type.Boolean","Edm.Byte":"sap.ui.model.odata.type.Byte","Edm.Date":"sap.ui.model.odata.type.Date","Edm.DateTime":"sap.ui.model.odata.type.DateTime","Edm.DateTimeOffset":"sap.ui.model.odata.type.DateTimeOffset","Edm.Decimal":"sap.ui.model.odata.type.Decimal","Edm.Double":"sap.ui.model.odata.type.Double","Edm.Float":"sap.ui.model.odata.type.Single","Edm.Guid":"sap.ui.model.odata.type.Guid","Edm.Int16":"sap.ui.model.odata.type.Int16","Edm.Int32":"sap.ui.model.odata.type.Int32","Edm.Int64":"sap.ui.model.odata.type.Int64","Edm.SByte":"sap.ui.model.odata.type.SByte","Edm.Single":"sap.ui.model.odata.type.Single","Edm.String":"sap.ui.model.odata.type.String","Edm.Stream":"sap.ui.model.odata.type.Stream","Edm.Time":"sap.ui.model.odata.type.Time","Edm.TimeOfDay":"sap.ui.model.odata.type.TimeOfDay"};b={descend:function(o,v,e){var t=a({},o);b.expectType(o,typeof v==="number"?"array":"object");t.path=o.path+"/"+v;t.value=o.value[v];if(e===true){t.asExpression=true;}else if(e){b.expectType(t,e);}return t;},error:function(o,m,c){m=o.path+": "+m;L.error(m,b.toErrorString(o.value),c||A);throw new SyntaxError(m);},expectType:function(o,e){var E,v=o.value;if(e==="array"){E=!Array.isArray(v);}else{E=typeof v!==e||v===null||Array.isArray(v);}if(E){b.error(o,"Expected "+e);}},followPath:function(i,R){var o,s,c,I,m=i.getModel(),e,g={associationSetEnd:undefined,navigationAfterMultiple:false,isMultiple:false,navigationProperties:[],resolvedPath:undefined},S,t;M.average(P,"",p);s=b.getPath(R);c=s!==undefined&&b.getStartingPoint(i,s);if(!c){M.end(P);return undefined;}e=s.split("/");if(s){while(e.length&&c){S=e[0];I=S.indexOf("@");if(I===0){c+="/"+S.slice(1);e.shift();continue;}t=m.getObject(c);o=m.getODataAssociationEnd(t,S);if(o){g.associationSetEnd=m.getODataAssociationSetEnd(t,S);g.navigationProperties.push(S);if(g.isMultiple){g.navigationAfterMultiple=true;}g.isMultiple=o.multiplicity==="*";c=m.getODataEntityType(o.type,true);e.shift();continue;}c=m.getODataProperty(t,e,true);}}g.resolvedPath=c;M.end(P);return g;},getPath:function(R){if(R){if(R.hasOwnProperty("AnnotationPath")){return R.AnnotationPath;}if(R.hasOwnProperty("Path")){return R.Path;}if(R.hasOwnProperty("PropertyPath")){return R.PropertyPath;}if(R.hasOwnProperty("NavigationPropertyPath")){return R.NavigationPropertyPath;}}return undefined;},getStartingPoint:function(i,s){var e,m=f.exec(i.getPath()),o;if(m){return m[1];}m=d.exec(i.getPath());if(m){if(!s){return m[1];}o=i.getModel();e=o.getObject(m[1]);return o.getODataEntityType(e.entityType,true);}return undefined;},property:function(o,v,e){return b.descend(o,v,e).value;},resultToString:function(R,e,w,c){var v=R.value;function g(i){var C,F,s=R.parameters&&b.toJSON(R.parameters),H=s&&s!=="{}",j,t=u[R.type];i=i&&!R.ignoreTypeInPath&&t;if(i||r.test(v)||H){j="{path:"+b.toJSON(v);if(i){j+=",type:'"+t+"'";C=b.toJSON(R.constraints);if(C&&C!=="{}"){j+=",constraints:"+C;}F=R.formatOptions&&b.toJSON(R.formatOptions);if(F&&F!=="{}"){j+=",formatOptions:"+F;}}if(H){j+=",parameters:"+s;}return j+"}";}return"{"+v+"}";}function h(R){switch(R.type){case"Edm.Boolean":case"Edm.Double":case"Edm.Int32":return String(R.value);default:return b.toJSON(R.value);}}switch(R.result){case"binding":if(e){return(c?"%":"$")+g(w);}return g(w);case"composite":if(e){throw new Error("Trying to embed a composite binding into an expression binding");}return v;case"constant":if(R.type==="edm:Null"){if(R.value===undefined){return e?"undefined":undefined;}return e?"null":null;}if(e){return h(R);}return typeof v==="string"?B.complexParser.escape(v):String(v);case"expression":return e?v:"{="+v+"}";default:return undefined;}},toErrorString:function(v){var j;if(typeof v!=="function"){try{j=b.toJSON(v);if(j!==undefined&&j!=="null"){return j;}}catch(e){}}return String(v);},toJSON:function(v){var s,e=false,R="",i,c;s=JSON.stringify(v);if(s===undefined){return undefined;}for(i=0;i<s.length;i+=1){switch(c=s.charAt(i)){case"'":R+="\\'";break;case'"':if(e){R+=c;e=false;}else{R+="'";}break;case"\\":if(e){R+="\\\\";}e=!e;break;default:if(e){R+="\\";e=false;}R+=c;}}return R;}};return b;});
sap.ui.predefine('sap/ui/model/odata/type/Boolean',["sap/base/Log","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/core/Core"],function(L,F,P,V,O){"use strict";
function g(){return a("EnterYesOrNo",[b(true),b(false)]);}
function a(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}
function b(v){return a(v?"YES":"NO");}
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}}
var E=O.extend("sap.ui.model.odata.type.Boolean",{constructor:function(f,c){O.apply(this,arguments);s(this,c);}});
E.prototype.formatValue=function(v,t){if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":case"boolean":return v;case"string":return b(v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
E.prototype.parseValue=function(v,S){var c;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"boolean":return v;case"string":c=v.trim().toLowerCase();if(c===b(true).toLowerCase()){return true;}if(c===b(false).toLowerCase()){return false;}throw new P(g());default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};
E.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g());}return;}if(typeof v!=="boolean"){throw new V("Illegal "+this.getName()+" value: "+v);}};
E.prototype.getName=function(){return"sap.ui.model.odata.type.Boolean";};
return E;});
sap.ui.predefine('sap/ui/model/odata/type/Byte',["sap/ui/model/odata/type/Int"],function(I){"use strict";var r={minimum:0,maximum:255};
var B=I.extend("sap.ui.model.odata.type.Byte",{constructor:function(){I.apply(this,arguments);}});
B.prototype.getName=function(){return"sap.ui.model.odata.type.Byte";};
B.prototype.getRange=function(){return r;};
return B;});
sap.ui.predefine('sap/ui/model/odata/type/Date',["sap/base/Log","sap/base/util/extend","sap/ui/core/CalendarType","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,e,C,D,F,P,V,O){"use strict";var r=/\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\d|3[01])/,d=new Date().getFullYear()+"-12-31",m;
function g(t){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterDate",[t.formatValue(d,"string")]);}
function a(t){var f;if(!t.oFormat){f=e({strictParsing:true},t.oFormatOptions);f.UTC=true;t.oFormat=D.getDateInstance(f);}return t.oFormat;}
function b(){if(!m){m=D.getDateInstance({calendarType:C.Gregorian,pattern:'yyyy-MM-dd',strictParsing:true,UTC:true});}return m;}
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}}
var E=O.extend("sap.ui.model.odata.type.Date",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});
E.prototype._handleLocalizationChange=function(){this.oFormat=null;};
E.prototype.formatValue=function(v,t){var o;if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"object":return v instanceof Date?new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()):b().parse(v,false);case"string":o=v instanceof Date?v:b().parse(v);return o?a(this).format(o):v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
E.prototype.getModelFormat=function(){return b();};
E.prototype.getName=function(){return"sap.ui.model.odata.type.Date";};
E.prototype.parseValue=function(v,S){var R;if(v===""||v===null){return null;}switch(this.getPrimitiveType(S)){case"object":return b().format(v,false);case"string":R=a(this).parse(v);if(!R){throw new P(g(this));}return b().format(R);default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};
E.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g(this));}}else if(typeof v!=="string"||!r.test(v)){throw new V("Illegal "+this.getName()+" value: "+v);}};
E._resetModelFormatter=function(){m=undefined;};
return E;});
sap.ui.predefine('sap/ui/model/odata/type/DateTimeOffset',["sap/base/Log","sap/ui/core/CalendarType","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/odata/type/DateTimeBase"],function(L,C,D,F,a){"use strict";
var b=a.extend("sap.ui.model.odata.type.DateTimeOffset",{constructor:function(f,c){var v;a.call(this,f,{nullable:c?c.nullable:undefined,precision:c?c.precision:undefined});this.rDateTimeOffset=undefined;this.oModelFormat=undefined;this.bV4=false;if(c){v=c.V4;if(v===true){this.bV4=true;}else if(v!==undefined&&v!==false){L.warning("Illegal V4: "+v,null,this.getName());}}}});
function g(t){var p="yyyy-MM-dd'T'HH:mm:ss",P;if(!t.oModelFormat){P=t.oConstraints&&t.oConstraints.precision;if(P){p+="."+"".padEnd(P,"S");}t.oModelFormat=D.getDateInstance({calendarType:C.Gregorian,pattern:p+"XXX",strictParsing:true,UTC:t.oFormatOptions&&t.oFormatOptions.UTC});}return t.oModelFormat;}
b.prototype._resetModelFormatter=function(){this.oModelFormat=undefined;};
b.prototype.formatValue=function(v,t){var d;if(v===undefined||v===null){return null;}if(this.getPrimitiveType(t)==="object"){if(v instanceof Date){return new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate(),v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds());}return g(this).parse(v);}if(typeof v==="string"&&this.getPrimitiveType(t)==="string"){d=g(this).parse(v);if(!d){throw new F("Illegal "+this.getName()+" value: "+v);}v=d;}return a.prototype.formatValue.call(this,v,t);};
b.prototype.getConstraints=function(){var c=a.prototype.getConstraints.call(this);if(this.bV4){c.V4=true;}return c;};
b.prototype.getModelFormat=function(){if(this.bV4){return g(this);}return a.prototype.getModelFormat.call(this);};
b.prototype.getName=function(){return"sap.ui.model.odata.type.DateTimeOffset";};
b.prototype.parseValue=function(v,s){var r=a.prototype.parseValue.call(this,v,s);return this.bV4&&r!==null?g(this).format(r):r;};
b.prototype.setV4=function(){this.bV4=true;return this;};
b.prototype.validateValue=function(v){var p;if(this.bV4){if(typeof v==="string"){if(!this.rDateTimeOffset){p=this.oConstraints&&this.oConstraints.precision;this.rDateTimeOffset=new RegExp("^"+"\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])"+"T"+"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d"+(p?"(\\.\\d{1,"+p+"})?":"")+")?"+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i");}if(this.rDateTimeOffset.test(v)){return;}}else if(v){v=v.toString();}}a.prototype.validateValue.call(this,v);};
return b;});
sap.ui.predefine('sap/ui/model/odata/type/Decimal',["sap/base/Log","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/type/ODataType"],function(L,N,F,P,V,B,O){"use strict";var r=/^[-+]?(\d+)(?:\.(\d+))?$/,a=/(?:(\.[0-9]*[1-9]+)0+|\.0*)$/;
function g(t){var f,S,T;if(!t.oFormat){f={groupingEnabled:true,maxIntegerDigits:Infinity};S=b(t);if(S!==Infinity){f.minFractionDigits=f.maxFractionDigits=S;}T=t.oFormatOptions||{};if(T.style!=="short"&&T.style!=="long"){f.preserveDecimals=true;}Object.assign(f,t.oFormatOptions);f.parseAsString=true;t.oFormat=N.getFloatInstance(f);}return t.oFormat;}
function b(t){return(t.oConstraints&&t.oConstraints.scale)||0;}
function c(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}
function d(v){if(v.indexOf(".")>=0){v=v.replace(a,"$1");}return v;}
function s(t,C){var n,p,v,S,e;function l(k,m){L.warning("Illegal "+m+": "+k,null,t.getName());}function f(k,m,M,o){var q=typeof k==="string"?parseInt(k):k;if(q===undefined){return m;}if(typeof q!=="number"||isNaN(q)||q<M){l(k,o);return m;}return q;}function h(k,m){if(k){if(k.match(r)){return k;}l(k,m);}return undefined;}function i(k,m){if(k===true||k==="true"){return true;}if(k!==undefined&&k!==false&&k!=="false"){l(k,m);}return undefined;}function j(k,m,o){if(m!==o){t.oConstraints=t.oConstraints||{};t.oConstraints[k]=m;}}t.oConstraints=undefined;if(C){n=C.nullable;v=C.precision;e=C.scale;S=e==="variable"?Infinity:f(e,0,0,"scale");p=f(v,Infinity,1,"precision");if(S!==Infinity&&p<S){L.warning("Illegal scale: must be less than or equal to precision (precision="+v+", scale="+e+")",null,t.getName());S=Infinity;}j("precision",p,Infinity);j("scale",S,0);if(n===false||n==="false"){j("nullable",false,true);}else if(n!==undefined&&n!==true&&n!=="true"){l(n,"nullable");}j("minimum",h(C.minimum,"minimum"));j("minimumExclusive",i(C.minimumExclusive,"minimumExclusive"));j("maximum",h(C.maximum,"maximum"));j("maximumExclusive",i(C.maximumExclusive,"maximumExclusive"));}t._handleLocalizationChange();}
var D=O.extend("sap.ui.model.odata.type.Decimal",{constructor:function(f,C){O.apply(this,arguments);this.oFormatOptions=f;s(this,C);}});
D.prototype.formatValue=function(v,t){if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"float":return parseFloat(v);case"int":return Math.floor(parseFloat(v));case"string":return g(this).format(d(String(v)));default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
D.prototype.parseValue=function(v,S){var R;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":R=g(this).parse(v);if(!R){throw new P(sap.ui.getCore().getLibraryResourceBundle().getText("EnterNumber"));}R=d(R);break;case"int":case"float":R=N.getFloatInstance({maxIntegerDigits:Infinity,decimalSeparator:".",groupingEnabled:false}).format(v);break;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}return R;};
D.prototype._handleLocalizationChange=function(){this.oFormat=null;};
D.prototype.validateValue=function(v){var f,i,m,M,e,h,j,p,S;if(v===null&&(!this.oConstraints||this.oConstraints.nullable!==false)){return;}if(typeof v!=="string"){throw new V(c("EnterNumber"));}m=r.exec(v);if(!m){throw new V(c("EnterNumber"));}i=m[1].length;f=(m[2]||"").length;S=b(this);p=(this.oConstraints&&this.oConstraints.precision)||Infinity;h=this.oConstraints&&this.oConstraints.minimum;M=this.oConstraints&&this.oConstraints.maximum;if(f>S){if(S===0){throw new V(c("EnterInt"));}else if(i+S>p){if(S!==p){throw new V(c("EnterNumberIntegerFraction",[p-S,S]));}if(m[1]!=="0"){throw new V(c("EnterNumberFractionOnly",[S]));}}throw new V(c("EnterNumberFraction",[S]));}if(S===Infinity){if(i+f>p){throw new V(c("EnterNumberPrecision",[p]));}}else if(i>p-S){if(S!==p){if(S){throw new V(c("EnterNumberInteger",[p-S]));}throw new V(c("EnterMaximumOfDigits",[p]));}if(m[1]!=="0"){throw new V(c("EnterNumberFractionOnly",[S]));}}if(h){j=this.oConstraints.minimumExclusive;if(B.compare(h,v,true)>=(j?0:1)){throw new V(c(j?"EnterNumberMinExclusive":"EnterNumberMin",[this.formatValue(h,"string")]));}}if(M){e=this.oConstraints.maximumExclusive;if(B.compare(M,v,true)<=(e?0:-1)){throw new V(c(e?"EnterNumberMaxExclusive":"EnterNumberMax",[this.formatValue(M,"string")]));}}};
D.prototype.getName=function(){return"sap.ui.model.odata.type.Decimal";};
return D;});
sap.ui.predefine('sap/ui/model/odata/type/Double',["sap/base/Log","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,N,F,P,V,O){"use strict";
function g(){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterNumber");}
function a(t){var f,T;if(!t.oFormat){f={groupingEnabled:true};T=t.oFormatOptions||{};if(T.style!=="short"&&T.style!=="long"){f.preserveDecimals=true;}Object.assign(f,t.oFormatOptions);t.oFormat=N.getFloatInstance(f);}return t.oFormat;}
function i(t){return!t.oConstraints||t.oConstraints.nullable!==false;}
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}t._handleLocalizationChange();}
var D=O.extend("sap.ui.model.odata.type.Double",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});
D.prototype.formatValue=function(v,t){var f,b;if(v===null||v===undefined){return null;}if(typeof v==="number"){b=v;}else if(typeof v==="string"){b=parseFloat(v);}else if(t!=="any"){throw new F("Illegal "+this.getName()+" value: "+v);}switch(this.getPrimitiveType(t)){case"any":return v;case"float":return b;case"int":return Math.floor(b);case"string":if(b&&(Math.abs(b)>=1e15||Math.abs(b)<1e-4)){f=a(this).oFormatOptions;return b.toExponential().replace("e","\u00a0E").replace(".",f.decimalSeparator).replace("+",f.plusSign).replace("-",f.minusSign);}return a(this).format(b);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
D.prototype.parseValue=function(v,S){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":r=a(this).parse(v);if(isNaN(r)){throw new P(g());}break;case"int":case"float":r=v;break;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}return r;};
D.prototype._handleLocalizationChange=function(){this.oFormat=null;};
D.prototype.validateValue=function(v){if(v===null&&i(this)){return;}if(typeof v==="number"){return;}throw new V(g());};
D.prototype.getName=function(){return"sap.ui.model.odata.type.Double";};
return D;});
sap.ui.predefine('sap/ui/model/odata/type/Guid',["sap/base/Log","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,F,P,V,O){"use strict";var r=/[-\s]/g,a=/^[A-F0-9]{8}-([A-F0-9]{4}-){3}[A-F0-9]{12}$/i;
function g(){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterGuid");}
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}}
var E=O.extend("sap.ui.model.odata.type.Guid",{constructor:function(f,c){O.apply(this,arguments);s(this,c);}});
E.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(t)){case"any":case"string":return v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
E.prototype.getName=function(){return"sap.ui.model.odata.type.Guid";};
E.prototype.parseValue=function(v,S){var R;if(v===""||v===null){return null;}if(this.getPrimitiveType(S)!=="string"){throw new P("Don't know how to parse "+this.getName()+" from "+S);}R=v.replace(r,'');if(R.length!==32){return v;}return R.slice(0,8)+'-'+R.slice(8,12)+'-'+R.slice(12,16)+'-'+R.slice(16,20)+'-'+R.slice(20);};
E.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g());}return;}if(typeof v!=="string"){throw new V("Illegal "+this.getName()+" value: "+v);}if(!a.test(v)){throw new V(g());}};
return E;});
sap.ui.predefine('sap/ui/model/odata/type/Int',["sap/base/Log","sap/base/util/extend","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,e,N,F,P,V,O){"use strict";
function g(t){var f;if(!t.oFormat){f=e({groupingEnabled:true},t.oFormatOptions);t.oFormat=N.getIntegerInstance(f);}return t.oFormat;}
function a(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}t._handleLocalizationChange();}
var I=O.extend("sap.ui.model.odata.type.Int",{
constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);},
metadata:{"abstract":true}
});
I.prototype._handleLocalizationChange=function(){this.oFormat=null;};
I.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}if(typeof v!=="number"&&t!=="any"){throw new F("Illegal "+this.getName()+" value: "+v);}switch(this.getPrimitiveType(t)){case"string":return g(this).format(v);case"int":return Math.floor(v);case"float":case"any":return v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
I.prototype.parseValue=function(v,S){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":r=g(this).parse(v);if(isNaN(r)){throw new P(a("EnterInt"));}return r;case"float":return Math.floor(v);case"int":return v;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};
I.prototype.validateValue=function(v){var r=this.getRange();if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(a("EnterInt"));}return;}if(typeof v!=="number"){throw new V(v+" (of type "+typeof v+") is not a valid "+this.getName()+" value");}if(Math.floor(v)!==v){throw new V(a("EnterInt"));}if(v<r.minimum){throw new V(a("EnterNumberMin",[this.formatValue(r.minimum,"string")]));}if(v>r.maximum){throw new V(a("EnterNumberMax",[this.formatValue(r.maximum,"string")]));}};
return I;});
sap.ui.predefine('sap/ui/model/odata/type/Int16',["sap/ui/model/odata/type/Int"],function(I){"use strict";var r={minimum:-32768,maximum:32767};
var a=I.extend("sap.ui.model.odata.type.Int16",{constructor:function(){I.apply(this,arguments);}});
a.prototype.getName=function(){return"sap.ui.model.odata.type.Int16";};
a.prototype.getRange=function(){return r;};
return a;});
sap.ui.predefine('sap/ui/model/odata/type/Int32',["sap/ui/model/odata/type/Int"],function(I){"use strict";var r={minimum:-2147483648,maximum:2147483647};
var a=I.extend("sap.ui.model.odata.type.Int32",{constructor:function(){I.apply(this,arguments);}});
a.prototype.getName=function(){return"sap.ui.model.odata.type.Int32";};
a.prototype.getRange=function(){return r;};
return a;});
sap.ui.predefine('sap/ui/model/odata/type/Int64',["sap/base/Log","sap/base/util/extend","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,e,N,F,P,V,O){"use strict";var r=/^[-+]?(\d+)$/,R={minimum:"-9223372036854775808",maximum:"9223372036854775807"},s={minimum:"-9007199254740991",maximum:"9007199254740991"};
function c(t,v,R){var A,m,n;m=r.exec(v);if(m){n=v.charAt(0)==='-';A=n?R.minimum.slice(1):R.maximum;if(m[1].length<A.length){return undefined;}if(m[1].length>A.length||m[1]>A){if(n){return a("EnterNumberMin",[t.formatValue(R.minimum,"string")]);}else{return a("EnterNumberMax",[t.formatValue(R.maximum,"string")]);}}return undefined;}return a("EnterInt");}
function g(t){var f;if(!t.oFormat){f=e({groupingEnabled:true},t.oFormatOptions);f.parseAsString=true;t.oFormat=N.getIntegerInstance(f);}return t.oFormat;}
function a(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}
function i(t){return!t.oConstraints||t.oConstraints.nullable!==false;}
function b(t,C){var n;t.oConstraints=undefined;if(C){n=C.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}t._handleLocalizationChange();}
var I=O.extend("sap.ui.model.odata.type.Int64",{constructor:function(f,C){O.apply(this,arguments);this.oFormatOptions=f;b(this,C);}});
I.prototype.formatValue=function(v,t){var E;if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"float":case"int":E=c(this,v,s);if(E){throw new F(E);}return parseInt(v);case"string":return g(this).format(v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
I.prototype.getName=function(){return"sap.ui.model.odata.type.Int64";};
I.prototype._handleLocalizationChange=function(){this.oFormat=null;};
I.prototype.parseValue=function(v,S){var d;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":d=g(this).parse(v);if(!d){throw new P(a("EnterInt"));}break;case"int":case"float":d=N.getIntegerInstance({maxIntegerDigits:Infinity,groupingEnabled:false}).format(v);break;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}return d;};
I.prototype.validateValue=function(v){var E;if(v===null&&i(this)){return;}if(typeof v==="string"){E=c(this,v,R);if(E){throw new V(E);}return;}throw new V(a("EnterInt"));};
return I;});
sap.ui.predefine('sap/ui/model/odata/type/Raw',["sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(F,P,V,O){"use strict";
var R=O.extend("sap.ui.model.odata.type.Raw",{constructor:function(f,c){O.apply(this,arguments);if(f!==undefined||c!==undefined||arguments.length>2){throw new Error("Unsupported arguments");}}});
R.prototype.formatValue=function(v,t){if(t==="any"){return v;}throw new F("Type 'sap.ui.model.odata.type.Raw' does not support formatting");};
R.prototype.getName=function(){return"sap.ui.model.odata.type.Raw";};
R.prototype.parseValue=function(){throw new P("Type 'sap.ui.model.odata.type.Raw' does not support parsing");};
R.prototype.validateValue=function(){throw new V("Type 'sap.ui.model.odata.type.Raw' does not support validating");};
return R;});
sap.ui.predefine('sap/ui/model/odata/type/SByte',["sap/ui/model/odata/type/Int"],function(I){"use strict";var r={minimum:-128,maximum:127};
var S=I.extend("sap.ui.model.odata.type.SByte",{constructor:function(){I.apply(this,arguments);}});
S.prototype.getName=function(){return"sap.ui.model.odata.type.SByte";};
S.prototype.getRange=function(){return r;};
return S;});
sap.ui.predefine('sap/ui/model/odata/type/Single',["sap/base/Log","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,N,F,P,V,O){"use strict";
function g(){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterNumber");}
function a(t){var f,T;if(!t.oFormat){f={groupingEnabled:true};T=t.oFormatOptions||{};if(T.style!=="short"&&T.style!=="long"){f.preserveDecimals=true;}Object.assign(f,t.oFormatOptions);t.oFormat=N.getFloatInstance(f);}return t.oFormat;}
function i(t){return!t.oConstraints||t.oConstraints.nullable!==false;}
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}t._handleLocalizationChange();}
var S=O.extend("sap.ui.model.odata.type.Single",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});
S.prototype.formatValue=function(v,t){var f;if(v===null||v===undefined){return null;}if(typeof v==="number"){f=v;}else if(typeof v==="string"){f=parseFloat(v);}else if(t!=="any"){throw new F("Illegal "+this.getName()+" value: "+v);}switch(this.getPrimitiveType(t)){case"any":return v;case"float":return f;case"int":return Math.floor(f);case"string":return a(this).format(parseFloat(f.toPrecision(7)));default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
S.prototype.parseValue=function(v,b){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(b)){case"string":r=a(this).parse(v);if(isNaN(r)){throw new P(g());}break;case"int":case"float":r=v;break;default:throw new P("Don't know how to parse "+this.getName()+" from "+b);}return Math.fround(r);};
S.prototype._handleLocalizationChange=function(){this.oFormat=null;};
S.prototype.validateValue=function(v){if(v===null&&i(this)){return;}if(typeof v==="number"){return;}throw new V(g());};
S.prototype.getName=function(){return"sap.ui.model.odata.type.Single";};
return S;});
sap.ui.predefine('sap/ui/model/odata/type/Stream',["sap/base/Log","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,F,P,V,O){"use strict";
function s(t,c){var n;t.oConstraints=undefined;if(c){n=c.nullable;if(n===false){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true){L.warning("Illegal nullable: "+n,null,t.getName());}}}
var S=O.extend("sap.ui.model.odata.type.Stream",{constructor:function(f,c){O.apply(this,arguments);if(f!==undefined){throw new Error("Unsupported arguments");}s(this,c);}});
S.prototype.formatValue=function(v,t){switch(this.getPrimitiveType(t)){case"any":case"string":return v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
S.prototype.getName=function(){return"sap.ui.model.odata.type.Stream";};
S.prototype.parseValue=function(){throw new P("Type 'sap.ui.model.odata.type.Stream' does not support parsing");};
S.prototype.validateValue=function(){throw new V("Type 'sap.ui.model.odata.type.Stream' does not support validating");};
return S;});
sap.ui.predefine('sap/ui/model/odata/type/String',["sap/base/Log","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/model/type/String"],function(L,V,O,S){"use strict";var r=/^\d+$/,a=/^0*(?=\d)/;
function i(v,c){return c&&c.isDigitSequence&&v&&v.match(r);}
function s(t,c){var I,m,n;t.oConstraints=undefined;if(c){m=c.maxLength;if(typeof m==="string"){m=parseInt(m);}if(typeof m==="number"&&!isNaN(m)&&m>0){t.oConstraints={maxLength:m};}else if(m!==undefined){L.warning("Illegal maxLength: "+c.maxLength,null,t.getName());}I=c.isDigitSequence;if(I===true||I==="true"){t.oConstraints=t.oConstraints||{};t.oConstraints.isDigitSequence=true;}else if(I!==undefined&&I!==false&&I!=="false"){L.warning("Illegal isDigitSequence: "+I,null,t.getName());}n=c.nullable;if(n===false||n==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false;}else if(n!==undefined&&n!==true&&n!=="true"){L.warning("Illegal nullable: "+n,null,t.getName());}}}
var E=O.extend("sap.ui.model.odata.type.String",{constructor:function(f,c){var p=f?f.parseKeepsEmptyString:undefined;O.apply(this,arguments);this.oFormatOptions=f;s(this,c);this._sParsedEmptyString=null;if(this.oConstraints&&this.oConstraints.nullable===false&&this.oConstraints.isDigitSequence){this._sParsedEmptyString="0";}else if(p!==undefined){if(p===true){this._sParsedEmptyString="";}else if(p!==false){L.warning("Illegal parseKeepsEmptyString: "+p,null,this.getName());}}}});
E.prototype.formatValue=function(v,t){if(v===null&&this.getPrimitiveType(t)==="string"){return"";}if(i(v,this.oConstraints)){v=v.replace(a,"");if(this.oConstraints.maxLength&&v==="0"&&this.getPrimitiveType(t)==="string"){return"";}}return S.prototype.formatValue.call(this,v,t);};
E.prototype.parseValue=function(v,b){var R;R=v===""?this._sParsedEmptyString:S.prototype.parseValue.apply(this,arguments);if(i(R,this.oConstraints)){R=R.replace(a,"");if(this.oConstraints.maxLength){R=R.padStart(this.oConstraints.maxLength,"0");}}return R;};
E.prototype.validateValue=function(v){var c=this.oConstraints||{},m=c.maxLength;if(v===null){if(c.nullable!==false){return;}}else if(v===""&&this._sParsedEmptyString===""){return;}else if(typeof v!=="string"){throw new V("Illegal "+this.getName()+" value: "+v);}else if(c.isDigitSequence){if(!v.match(r)){throw new V(sap.ui.getCore().getLibraryResourceBundle().getText("EnterDigitsOnly"));}if(m&&v.length>m){throw new V(sap.ui.getCore().getLibraryResourceBundle().getText("EnterMaximumOfDigits",[m]));}return;}else if(!m||v.length<=m){return;}throw new V(sap.ui.getCore().getLibraryResourceBundle().getText(m?"EnterTextMaxLength":"EnterText",[m]));};
E.prototype.getName=function(){return"sap.ui.model.odata.type.String";};
return E;});
sap.ui.predefine('sap/ui/model/odata/type/TimeOfDay',["sap/base/Log","sap/base/util/extend","sap/ui/core/CalendarType","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(L,e,C,D,F,P,V,O){"use strict";
function g(t){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterTime",[t.formatValue("23:59:58","string")]);}
function a(t){var f;if(!t.oUiFormat){f=e({strictParsing:true},t.oFormatOptions);f.UTC=true;t.oUiFormat=D.getTimeInstance(f);}return t.oUiFormat;}
function s(t,c){var n,p;t.oConstraints=undefined;if(c){n=c.nullable;p=c.precision;if(n===false){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true){L.warning("Illegal nullable: "+n,null,t.getName());}if(p===Math.floor(p)&&p>0&&p<=12){t.oConstraints=t.oConstraints||{};t.oConstraints.precision=p;}else if(p!==undefined&&p!==0){L.warning("Illegal precision: "+p,null,t.getName());}}}
var T=O.extend("sap.ui.model.odata.type.TimeOfDay",{constructor:function(f,c){O.apply(this,arguments);this.oModelFormat=undefined;this.rTimeOfDay=undefined;this.oUiFormat=undefined;s(this,c);this.oFormatOptions=f;}});
T.prototype._handleLocalizationChange=function(){this.oUiFormat=null;};
T.prototype._resetModelFormatter=function(){this.oModelFormat=undefined;};
T.prototype.formatValue=function(v,t){var d,i,p;if(v===undefined||v===null){return null;}p=this.getPrimitiveType(t);switch(p){case"any":return v;case"object":case"string":i=v.indexOf(".");if(i>=0){v=v.slice(0,i+4);}d=this.getModelFormat().parse(v);if(d){if(p==="object"){return new Date(1970,0,1,d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());}return a(this).format(d);}throw new F("Illegal "+this.getName()+" value: "+v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};
T.prototype.getModelFormat=function(){var p="HH:mm:ss",i;if(!this.oModelFormat){i=this.oConstraints&&this.oConstraints.precision;if(i){p+="."+"".padEnd(i,"S");}this.oModelFormat=D.getTimeInstance({calendarType:C.Gregorian,pattern:p,strictParsing:true,UTC:true});}return this.oModelFormat;};
T.prototype.getName=function(){return"sap.ui.model.odata.type.TimeOfDay";};
T.prototype.parseValue=function(v,S){var d;if(v===""||v===null){return null;}switch(this.getPrimitiveType(S)){case"object":return this.getModelFormat().format(v,false);case"string":d=a(this).parse(v);if(!d){throw new P(g(this));}return this.getModelFormat().format(d);default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};
T.prototype.validateValue=function(v){var p;if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g(this));}return;}if(!this.rTimeOfDay){p=this.oConstraints&&this.oConstraints.precision;this.rTimeOfDay=new RegExp("^(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d"+(p?"(\\.\\d{1,"+p+"})?":"")+")?$");}if(!this.rTimeOfDay.test(v)){throw new V("Illegal sap.ui.model.odata.type.TimeOfDay value: "+v);}};
return T;});
sap.ui.predefine('sap/ui/model/odata/v4/AnnotationHelper',["./_AnnotationHelperExpression"],function(E){"use strict";var r=/[\\{}:]/,a=/\/\$count$/,b=/\$(?:(?:Annotation)|(?:(?:Navigation)?Property))?Path/,c=/^(.+?\/(\$(?:Annotation)?Path))(\/?)(.*)$/,d=/\$(?:Navigation)?PropertyPath/,A={format:function(R,D){var m,M=D.context.getModel(),p=D.context.getPath();function g(P){if(p.endsWith("/")){p=p.slice(0,-1);}return E.getExpression({asExpression:false,complexBinding:true,formatOptions:D.arguments&&D.arguments[1],ignoreAsPrefix:D.overload&&D.overload.$IsBound&&!p.includes("/$Parameter/")?D.overload.$Parameter[0].$Name+"/":"",model:M,parameters:D.arguments&&D.arguments[0],path:p,prefix:P,value:R,$$valueAsPromise:true});}if(p.endsWith("/$Path")){p=p.slice(0,-6);R={$Path:R};}else if(p.endsWith("/$PropertyPath")){p=p.slice(0,-14);R={$PropertyPath:R};}m=d.exec(p);if(m){throw new Error("Unsupported path segment "+m[0]+" in "+p);}m=c.exec(p);if(m&&p.length>m[1].length){if(c.test(m[4])){throw new Error("Only one $Path or $AnnotationPath segment is supported: "+p);}return M.fetchObject(m[1]).then(function(P){var I=m[2]==="$AnnotationPath",s=I?P.split("@")[0]:P,i;if(!I&&m[3]){s+="/";}else if(!s.endsWith("/")){i=s.lastIndexOf("/");s=i<0?"":s.slice(0,i+1);}return g(s);});}return g("");},getNavigationBinding:function(p){p=A.getNavigationPath(p);if(r.test(p)){throw new Error("Invalid OData identifier: "+p);}return p?"{"+p+"}":p;},getNavigationPath:function(p){var i;if(!p||p[0]==="@"){return"";}if(a.test(p)){return p.slice(0,-7);}i=p.indexOf("@");if(i>-1){p=p.slice(0,i);}if(p[p.length-1]==="/"){p=p.slice(0,-1);}if(p.includes(".")){p=p.split("/").filter(function(s){return!s.includes(".");}).join("/");}return p;},getValueListType:function(R,D){var p=typeof R==="string"?"/"+D.schemaChildName+"/"+R:D.context.getPath();return D.$$valueAsPromise?D.context.getModel().fetchValueListType(p).unwrap():D.context.getModel().getValueListType(p);},isMultiple:function(p,D){var i;function e(v){return v===true;}if(!p||p[0]==="@"){return false;}if(a.test(p)){return true;}i=p.indexOf("@");if(i>-1){p=p.slice(0,i);}if(p[p.length-1]!=="/"){p+="/";}p="/"+D.schemaChildName+"/"+p+"$isCollection";return D.$$valueAsPromise?D.context.getModel().fetchObject(p).then(e).unwrap():D.context.getObject(p)===true;},label:function(R,D){var n;if(R.Label){return A.value(R.Label,{context:D.context.getModel().createBindingContext("Label",D.context)});}if(R.Value&&R.Value.$Path){n=D.context.getModel().createBindingContext("Value/$Path@com.sap.vocabularies.Common.v1.Label",D.context);if(D.$$valueAsPromise){return n.getModel().fetchObject("",n).then(function(o){return A.value(o,{context:n});}).unwrap();}return A.value(n.getObject(""),{context:n});}},resolve$Path:function(C){var e,i,I,l,m,p=C.getPath(),P,v;for(;;){m=p.match(b);if(!m){return p;}I=m.index;e=I+m[0].length;P=p.slice(0,e);v=C.getModel().getObject(P);if(typeof v!=="string"){throw new Error("Cannot resolve "+P+" due to unexpected value "+v);}P=p.slice(0,I);i=P.indexOf("@");l=P.lastIndexOf("/",i);if(l===0){P=P.slice(0,i);if(i>1&&v){P+="/";}}else{P=P.slice(0,l+1);}p=P+v+p.slice(e);}},value:function(R,D){var p=D.context.getPath();if(p.endsWith("/")){p=p.slice(0,-1);}else if(p.endsWith("/$Path")){p=p.slice(0,-6);R={$Path:R};}else if(p.endsWith("/$PropertyPath")){p=p.slice(0,-14);R={$PropertyPath:R};}return E.getExpression({asExpression:false,complexBinding:false,ignoreAsPrefix:D.overload&&D.overload.$IsBound&&!p.includes("/$Parameter/")?D.overload.$Parameter[0].$Name+"/":"",model:D.context.getModel(),parameters:D.arguments&&D.arguments[0],path:p,prefix:"",value:R,$$valueAsPromise:D.$$valueAsPromise});}};return A;},true);
sap.ui.predefine('sap/ui/model/odata/v4/Context',["./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/Context"],function(_,L,S,B){"use strict";var c="sap.ui.model.odata.v4.Context",g=0,m,v=-9007199254740991,C=B.extend("sap.ui.model.odata.v4.Context",{constructor:a});
function f(o,p,e,b){var E,P=[o.fetchValue(p,null,b)],r=o.oModel.resolve(p,o);if(e){P.push(o.oModel.getMetaModel().fetchUI5Type(r));}return S.all(P).then(function(R){var t=R[1],V=R[0];if(V&&typeof V==="object"){E=new Error("Accessed value is not primitive: "+r);E.isNotPrimitive=true;throw E;}return e?t.formatValue(V,"string"):V;});}
function a(M,b,p,i,o,G,I){if(p[0]!=="/"){throw new Error("Not an absolute path: "+p);}if(p.endsWith("/")){throw new Error("Unsupported trailing slash: "+p);}B.call(this,M,p);this.oBinding=b;this.oCreatedPromise=o&&Promise.resolve(o).then(function(){});this.oSyncCreatePromise=o;this.iGeneration=G||0;this.bInactive=I||undefined;this.iIndex=i;this.bKeepAlive=false;this.fnOnBeforeDestroy=undefined;}
C.prototype._delete=function(G,e,d){var t=this;if(!G){return this.oBinding._delete(null,"n/a",this,null,true);}return this.fetchCanonicalPath().then(function(s){return t.oBinding._delete(G,s.slice(1),t,e,d);});};
C.prototype.adjustPredicate=function(t,p,P){var T=this.sPath;this.sPath=T.replace(t,p);if(P){P(T,this.sPath);}this.oModel.getDependentBindings(this).forEach(function(d){d.adjustPredicate(t,p);});};
C.prototype.checkUpdate=function(){this.oModel.getDependentBindings(this).forEach(function(d){d.checkUpdate();});};
C.prototype.checkUpdateInternal=function(){return S.all(this.oModel.getDependentBindings(this).map(function(d){return d.checkUpdateInternal();}));};
C.prototype.collapse=function(){switch(this.getProperty("@$ui5.node.level")===0?undefined:this.isExpanded()){case true:this.oBinding.collapse(this);break;case false:throw new Error("Already collapsed: "+this);default:throw new Error("Not expandable: "+this);}};
C.prototype.created=function(){return this.oCreatedPromise;};
C.prototype.delete=function(G,d){var o=null,M=this.oModel,t=this;this.oBinding.checkSuspended();if(this.isTransient()){G=null;}else if(this.hasPendingChanges()){throw new Error("Cannot delete due to pending changes");}else if(G===null){if(!(this.bKeepAlive&&this.iIndex===undefined)){throw new Error("Cannot delete "+this);}}if(G===null){d=true;}else{M.checkGroupId(G);o=this.oBinding.lockGroup(G,true,true);G=o.getGroupId();if(this.oModel.isApiGroup(G)){throw new Error("Illegal update group ID: "+G);}}return this._delete(o,null,d).then(function(){var r=t.sPath.slice(1);M.getAllBindings().forEach(function(b){b.removeCachesAndMessages(r,true);});}).catch(function(e){if(o){o.unlock(true);}M.reportError("Failed to delete "+t,c,e);throw e;});};
C.prototype.destroy=function(){var o=this.fnOnBeforeDestroy;if(o){this.fnOnBeforeDestroy=undefined;o();}this.oModel.getDependentBindings(this).forEach(function(d){d.setContext(undefined);});this.oBinding=undefined;this.oCreatedPromise=undefined;this.oSyncCreatePromise=undefined;this.bInactive=undefined;this.bKeepAlive=undefined;this.oModel=undefined;B.prototype.destroy.call(this);};
C.prototype.doSetProperty=function(p,V,G,s){var M=this.oModel.getMetaModel(),P,o,t=this;if(G&&this.isTransient()&&!this.isInactive()){o=this.getValue();P=o&&_.getPrivateAnnotation(o,"transient");if(P instanceof Promise){G.unlock();G=G.getUnlockedCopy();this.doSetProperty(p,V,null,true).catch(this.oModel.getReporter());return P.then(function(b){return b&&t.created();}).then(function(){return t.doSetProperty(p,V,G,s);});}}if(this.oModel.bAutoExpandSelect){p=M.getReducedPath(this.oModel.resolve(p,this),this.oBinding.getBaseForPathReduction());}return this.withCache(function(b,d,e){return e.doSetProperty(d,V,G)||M.fetchUpdateData(p,t,!G).then(function(r){var E=_.getRelativePath(r.entityPath,e.oReturnValueContext?e.oReturnValueContext.getPath():e.getResolvedPath()),F=false;function h(k){t.oModel.reportError("Failed to update path "+t.oModel.resolve(p,t),c,k);i(false);}function i(k){if(F){e.firePatchCompleted(k);F=false;}}function j(){F=true;e.firePatchSent();}if(!G){return b.setProperty(r.propertyPath,V,E);}if(t.isInactive()){e.fireCreateActivate(t);t.bInactive=false;}return b.update(G,r.propertyPath,V,s?undefined:h,r.editUrl,E,M.getUnitOrCurrencyPath(t.oModel.resolve(p,t)),e.isPatchWithoutSideEffects(),j,t.isKeepAlive.bind(t)).then(function(){i(true);},function(k){i(false);throw k;});});},p,false,true);};
C.prototype.expand=function(){var t=this;switch(this.isExpanded()){case false:this.oBinding.expand(this).catch(function(e){t.oModel.reportError("Failed to expand "+t,c,e);});break;case true:throw new Error("Already expanded: "+this);default:throw new Error("Not expandable: "+this);}};
C.prototype.fetchCanonicalPath=function(){return this.oModel.getMetaModel().fetchCanonicalPath(this);};
C.prototype.fetchValue=function(p,l,b){var o=this.oBinding;if(this.iIndex===v){return S.resolve();}if(o.getHeaderContext&&o.getHeaderContext()===this){if(p&&p.startsWith(this.sPath)){p=p.slice(this.sPath.length+1);}if(!p){return o.fetchValue(this.sPath,l,b).then(function(e){return{$count:e.$count};});}else if(p!=="$count"){throw new Error("Invalid header path: "+p);}}if(!p||p[0]!=="/"){p=this.oModel.resolve(p,this);if(this.oModel.bAutoExpandSelect){p=this.oModel.getMetaModel().getReducedPath(p,this.oBinding.getBaseForPathReduction());}}return this.oBinding.fetchValue(p,l,b);};
C.prototype.getBinding=function(){return this.oBinding;};
C.prototype.getCanonicalPath=_.createGetMethod("fetchCanonicalPath",true);
C.prototype.getGeneration=function(o){if(this.iGeneration||o){return this.iGeneration;}return this.oBinding.getGeneration();};
C.prototype.getGroupId=function(){return this.oBinding.getGroupId();};
C.prototype.getIndex=function(){if(this.iIndex===undefined){return undefined;}if(this.oBinding.isFirstCreateAtEnd()){if(this.iIndex<0){return this.oBinding.bLengthFinal?this.oBinding.iMaxLength-this.iIndex-1:-this.iIndex-1;}return this.iIndex;}return this.getModelIndex();};
C.prototype.getModelIndex=function(){if(this.iIndex!==undefined&&this.oBinding.iCreatedContexts){return this.iIndex+this.oBinding.iCreatedContexts;}return this.iIndex;};
C.prototype.getObject=function(p){return _.publicClone(this.getValue(p));};
C.prototype.getProperty=function(p,e){var E,s;this.oBinding.checkSuspended();s=f(this,p,e,true);if(s.isRejected()){s.caught();E=s.getResult();if(E.isNotPrimitive){throw E;}else if(!E.$cached){L.warning(E.message,p,c);}}return s.isFulfilled()?s.getResult():undefined;};
C.prototype.getQueryOptionsForPath=function(p){return this.oBinding.getQueryOptionsForPath(p);};
C.prototype.getUpdateGroupId=function(){return this.oBinding.getUpdateGroupId();};
C.prototype.getValue=function(p){var s,t=this;this.oBinding.checkSuspended();s=this.fetchValue(p,null,true).catch(function(e){if(!e.$cached){t.oModel.reportError("Unexpected error",c,e);}});if(s.isFulfilled()){return s.getResult();}};
C.prototype.hasPendingChanges=function(){return this.isTransient()||this.oModel.getDependentBindings(this).some(function(d){return d.hasPendingChanges();})||this.oModel.withUnresolvedBindings("hasPendingChangesInCaches",this.sPath.slice(1));};
C.prototype.isExpanded=function(){return this.getProperty("@$ui5.node.isExpanded");};
C.prototype.isInactive=function(){return this.bInactive;};
C.prototype.isKeepAlive=function(){return this.bKeepAlive;};
C.prototype.isTransient=function(){return this.oSyncCreatePromise&&this.oSyncCreatePromise.isPending();};
C.prototype.patch=function(d){return this.withCache(function(o,p){o.patch(p,d);},"");};
C.prototype.refresh=function(G,A){this.requestRefresh.apply(this,arguments).catch(this.oModel.getReporter());};
C.prototype.refreshDependentBindings=function(r,G,b,k){return S.all(this.oModel.getDependentBindings(this).map(function(d){return d.refreshInternal(r,G,b,k);}));};
C.prototype.replaceWith=function(o){var e;this.oBinding.checkSuspended();if(this.isTransient()){throw new Error("Cannot replace "+this);}if(o.oBinding!==this.oBinding||o.iIndex!==undefined){throw new Error("Cannot replace with "+o);}e=o.getValue();this.oBinding.doReplaceWith(this,e,_.getPrivateAnnotation(e,"predicate"));};
C.prototype.requestCanonicalPath=_.createRequestMethod("fetchCanonicalPath");
C.prototype.requestObject=function(p){this.oBinding.checkSuspended();return Promise.resolve(this.fetchValue(p)).then(_.publicClone);};
C.prototype.requestProperty=function(p,e){var P=Array.isArray(p)?p:[p],t=this;this.oBinding.checkSuspended();return Promise.all(P.map(function(s){return t.oBinding.fetchIfChildCanUseCache(t,s,S.resolve({})).then(function(r){if(r){return f(t,r,e);}L.error("Not a valid property path: "+s,undefined,c);});})).then(function(V){return Array.isArray(p)?V:V[0];});};
C.prototype.requestRefresh=function(G,A){var p;this.oModel.checkGroupId(G);this.oBinding.checkSuspended();if(this.hasPendingChanges()){throw new Error("Cannot refresh entity due to pending changes: "+this);}if(this.oBinding.refreshSingle){p=this.oBinding.refreshSingle(this,this.oBinding.lockGroup(G,true),A);}else{if(arguments.length>1){throw new Error("Unsupported parameter bAllowRemoval: "+A);}p=this.oBinding.refreshReturnValueContext(this,G)||this.oBinding.requestRefresh(G);}this.oModel.withUnresolvedBindings("removeCachesAndMessages",this.sPath.slice(1));return Promise.resolve(p).then(function(){});};
C.prototype.requestSideEffects=function(p,G){var e,M=this.oModel.getMetaModel(),P=[],b=[],r,R,t=this;function i(s){if(!s){return false;}if(s==="*"){return true;}if(s.endsWith("/*")){s=s.slice(0,-2);}return!s.includes("*");}this.oBinding.checkSuspended();this.oModel.checkGroupId(G);if(this.isTransient()){throw new Error("Unsupported context: "+this);}if(!p||!p.length){throw new Error("Missing edm:(Navigation)PropertyPath expressions");}if(!this.oBinding.isResolved()){throw new Error("Cannot request side effects of unresolved binding's context: "+this);}e=M.getObject("/$EntityContainer");if(!e){throw new Error("Missing metadata");}e="/"+e+"/";p.map(function(d){if(d&&typeof d==="object"){if(i(d.$PropertyPath)){return d.$PropertyPath;}if(typeof d.$NavigationPropertyPath==="string"&&!d.$NavigationPropertyPath.includes("*")){return d.$NavigationPropertyPath;}}else if(typeof d==="string"&&(!d||i(d))){return d;}throw new Error("Not an edm:(Navigation)PropertyPath expression: "+JSON.stringify(d));}).forEach(function(s){if(s[0]==="/"){if(!s.startsWith(e)){throw new Error("Path must start with '"+e+"': "+s);}b.push(s.slice(e.length-1));}else{P.push(s);}});r=this.oBinding.getRootBinding();R=r.getResolvedPath();P=P.reduce(function(d,s){return d.concat(M.getAllPathReductions(_.buildPath(t.getPath(),s),R));},[]);P=_.filterPaths(b,P);G=G||this.getUpdateGroupId();return Promise.resolve(S.resolve(this.oModel.isAutoGroup(G)&&this.oModel.oRequestor.waitForRunningChangeRequests(G).then(function(){t.oModel.oRequestor.relocateAll("$parked."+G,G);})).then(function(){return S.all([t.oModel.requestSideEffects(G,b),t.requestSideEffectsInternal(P,G)]);})).then(function(){});};
C.prototype.requestSideEffectsInternal=function(A,G){var t=this,b,o=t,d,O=[],p,P=[],s,e=[];if(!A.length){return undefined;}for(;;){b=o.getBinding();s=b.getPath();p=b.getContext();if(b.oCache&&(!d||b.oCache.hasChangeListeners())){d=o;}if(d&&s){break;}if(!b.getBoundContext){throw new Error("Not a context binding: "+b);}o=p;}b=d.getBinding();A.forEach(function(h){var r=_.getRelativePath(h,d.getPath());if(r===undefined){P.push(h);}else{O.push(r);}});if(P.length){e.push(b.getContext().requestSideEffectsInternal(P,G));}if(O.length&&b.oCache!==undefined){e.push(b.requestSideEffects(G,O,d));}return S.all(e);};
C.prototype.resetKeepAlive=function(){this.bKeepAlive=false;};
C.prototype.setNewGeneration=function(){g+=1;this.iGeneration=g;};
C.prototype.setKeepAlive=function(k,o,r){var t=this;if(this.isTransient()){throw new Error("Unsupported transient context "+this);}this.oModel.getPredicateIndex(this.sPath);this.oBinding.checkKeepAlive(this);if(k&&r){if(!this.oModel.bAutoExpandSelect){throw new Error("Missing parameter autoExpandSelect at model");}this.bKeepAlive=k;this.oModel.getMetaModel().fetchObject(_.getMetaPath(this.sPath)+"/@com.sap.vocabularies.Common.v1.Messages/$Path").then(function(M){if(!M){throw new Error("Missing @com.sap.vocabularies.Common.v1.Messages");}return t.oBinding.fetchIfChildCanUseCache(t,M,{});}).then(function(R){return t.fetchValue(R);}).catch(this.oModel.getReporter());}this.bKeepAlive=k;this.fnOnBeforeDestroy=k?o:undefined;};
C.prototype.setProperty=function(p,V,G,r){var o=null,t=this;this.oBinding.checkSuspended();if(typeof V==="function"||(V&&typeof V==="object")){throw new Error("Not a primitive value");}if(G!==null){this.oModel.checkGroupId(G);o=this.oBinding.lockGroup(G,true,true);}return Promise.resolve(this.doSetProperty(p,V,o,!r)).catch(function(e){if(o){o.unlock(true);}t.oModel.reportError("Failed to update path "+t.oModel.resolve(p,t),c,e);throw e;});};
C.prototype.toString=function(){var i="";if(this.iIndex!==undefined){i="["+this.iIndex+(this.isTransient()?"|transient":"")+"]";}return this.sPath+i;};
C.prototype.withCache=function(p,P,s,w){if(this.iIndex===v){return S.resolve();}return this.oBinding.withCache(p,this.oModel.resolve(P,this),s,w);};
m={create:function(M,b,p,i,o,I){return new C(M,b,p,i,o,0,I);},createNewContext:function(M,b,p){g+=1;return new C(M,b,p,undefined,undefined,g);}};Object.defineProperty(m,"VIRTUAL",{value:v});return m;},false);
sap.ui.predefine('sap/ui/model/odata/v4/ODataBinding',["./lib/_Helper","sap/ui/base/SyncPromise","sap/ui/model/ChangeReason","sap/ui/model/odata/OperationMode","sap/ui/model/odata/v4/Context"],function(_,S,C,O,a){"use strict";var c=[C.Context,C.Change,C.Refresh,C.Sort,C.Filter],s="sap.ui.model.odata.v4.ODataBinding",r=/\/\d|\(\$uid=/;
function h(e,f){return c.indexOf(e)>c.indexOf(f);}
function b(){this.mCacheByResourcePath=undefined;this.oCache=null;this.oCachePromise=S.resolve(null);this.mCacheQueryOptions=undefined;this.oFetchCacheCallToken=undefined;this.mLateQueryOptions=undefined;this.sReducedPath=undefined;this.sResumeChangeReason=undefined;}
b.prototype.adjustPredicate=function(t,p){this.sReducedPath=this.sReducedPath.replace(t,p);};
b.prototype.assertSameCache=function(e){var E;if(this.oCache!==e){E=new Error(this+" is ignoring response from inactive cache: "+e);E.canceled=true;throw E;}};
b.prototype.checkBindingParameters=function(p,A){var t=this;Object.keys(p).forEach(function(k){var v=p[k];if(!k.startsWith("$$")){return;}if(A.indexOf(k)<0){throw new Error("Unsupported binding parameter: "+k);}switch(k){case"$$aggregation":break;case"$$groupId":case"$$updateGroupId":t.oModel.checkGroupId(v,false,"Unsupported value for binding parameter '"+k+"': ");break;case"$$ignoreMessages":if(v!==true&&v!==false){throw new Error("Unsupported value for binding parameter "+"'$$ignoreMessages': "+v);}break;case"$$inheritExpandSelect":if(v!==true&&v!==false){throw new Error("Unsupported value for binding parameter "+"'$$inheritExpandSelect': "+v);}if(!t.oOperation){throw new Error("Unsupported binding parameter $$inheritExpandSelect: "+"binding is not an operation binding");}if(p.$expand){throw new Error("Must not set parameter $$inheritExpandSelect on a binding "+"which has a $expand binding parameter");}break;case"$$operationMode":if(v!==O.Server){throw new Error("Unsupported operation mode: "+v);}break;case"$$getKeepAliveContext":if(t.isRelative()&&!p.$$ownRequest){throw new Error("$$getKeepAliveContext requires $$ownRequest in a relative binding");}["$$aggregation","$$canonicalPath","$$sharedRequest"].forEach(function(f){if(f in p){throw new Error("Cannot combine $$getKeepAliveContext and "+f);}});case"$$canonicalPath":case"$$noPatch":case"$$ownRequest":case"$$patchWithoutSideEffects":case"$$sharedRequest":if(v!==true){throw new Error("Unsupported value for binding parameter '"+k+"': "+v);}break;default:throw new Error("Unknown binding-specific parameter: "+k);}});};
b.prototype.checkSuspended=function(i){var R=this.getRootBinding();if(R&&R.isSuspended()&&(!i||this.isRoot()||this.getResumeChangeReason())){throw new Error("Must not call method when the binding's root binding is suspended: "+this);}};
b.prototype.checkUpdate=function(f){if(arguments.length>1){throw new Error("Only the parameter bForceUpdate is supported");}this.checkUpdateInternal(f).catch(this.oModel.getReporter());};
b.prototype.createAndSetCache=function(q,R,o,g,e){var f,D,G;this.mCacheQueryOptions=Object.assign({},this.oModel.mUriParameters,q);if(this.bRelative){if(o.isTransient&&o.isTransient()&&o.getProperty("@$ui5.context.isTransient")){this.oCache=null;return null;}f=this.mCacheByResourcePath&&this.mCacheByResourcePath[R];G=o.getGeneration&&o.getGeneration()||0;if(f&&f.$generation>=G){f.setActive(true);}else{D=this.oModel.resolve(this.sPath,o).slice(1);f=this.doCreateCache(R,this.mCacheQueryOptions,o,D,g,e);if(!(this.mParameters&&this.mParameters.$$sharedRequest)){this.mCacheByResourcePath=this.mCacheByResourcePath||{};this.mCacheByResourcePath[R]=f;}f.$deepResourcePath=D;f.$generation=G;}}else{f=this.doCreateCache(R,this.mCacheQueryOptions,undefined,undefined,g,e);}if(e&&e!==f){e.setActive(false);}if(this.mLateQueryOptions){f.setLateQueryOptions(this.mLateQueryOptions);}this.oCache=f;return f;};
b.prototype.destroy=function(){this.mCacheByResourcePath=undefined;this.oCachePromise.then(function(o){if(o){o.setActive(false);}},function(){});this.oCache=null;this.oCachePromise=S.resolve(null);this.mCacheQueryOptions=undefined;this.oContext=undefined;this.oFetchCacheCallToken=undefined;};
b.prototype.doDeregisterChangeListener=function(p,l){this.oCache.deregisterChange(p,l);};
b.prototype.fetchCache=function(o,i,k,g){var e=this.oCache,f={oOldCache:e===undefined?this.oFetchCacheCallToken.oOldCache:e},p,t=this;if(!this.bRelative){o=undefined;}if(!e&&k){if(e===undefined){throw new Error("Unsupported bKeepQueryOptions while oCachePromise is pending");}return;}this.oCache=undefined;this.oFetchCacheCallToken=f;if(k){this.oCachePromise=S.resolve(Promise.resolve()).then(function(){return t.createAndSetCache(t.mCacheQueryOptions,e.getResourcePath(),o,g,e);});return;}p=[this.fetchQueryOptionsForOwnCache(o,i),this.oModel.oRequestor.ready()];this.mCacheQueryOptions=undefined;this.oCachePromise=S.all(p).then(function(R){var q=R[0].mQueryOptions;t.sReducedPath=R[0].sReducedPath;if(q&&!(o&&o.iIndex===a.VIRTUAL)){return t.fetchResourcePath(o).then(function(j){var E;if(t.oFetchCacheCallToken!==f){E=new Error("Cache discarded as a new cache has been created");E.canceled=true;throw E;}return t.createAndSetCache(q,j,o,g,f.oOldCache);});}t.oCache=null;return null;});this.oCachePromise.catch(function(E){t.oModel.reportError("Failed to create cache for binding "+t,s,E);});};
b.prototype.fetchQueryOptionsForOwnCache=function(o,i){var H,q,R=this.oModel.resolve(this.sPath,o),t=this;function w(Q,e){return S.resolve(Q).then(function(m){return{mQueryOptions:m,sReducedPath:e||R};});}if(this.oOperation||this.bRelative&&!o||this.isMeta()){return w(undefined);}q=this.doFetchQueryOptions(o);if(this.oModel.bAutoExpandSelect&&this.aChildCanUseCachePromises&&!this.mParameters.$$aggregation){q=S.all([q,Promise.resolve().then(function(){return S.all(t.aChildCanUseCachePromises);})]).then(function(e){t.aChildCanUseCachePromises=[];t.updateAggregatedQueryOptions(e[0]);return t.mAggregatedQueryOptions;});}if(i||!this.bRelative||!o.fetchValue){return w(q);}if(this.oModel.bAutoExpandSelect){H=this.mParameters&&Object.keys(t.mParameters).some(function(k){return k[0]!=="$"||k[1]==="$";});if(H){return w(q);}return o.getBinding().fetchIfChildCanUseCache(o,t.sPath,q,!this.mParameters).then(function(e){return w(e?undefined:q,e);});}if(this.mParameters&&Object.keys(this.mParameters).length){return w(q);}return q.then(function(Q){return w(Object.keys(Q).length?Q:undefined);});};
b.prototype.fetchResourcePath=function(o){var e,f,g,t=this;if(!this.bRelative){return S.resolve(this.sPath.slice(1));}o=o||this.oContext;if(!o){return S.resolve();}f=o.getPath();e=o.fetchCanonicalPath&&(this.mParameters&&this.mParameters.$$canonicalPath||r.test(f));g=e?o.fetchCanonicalPath():S.resolve(f);return g.then(function(i){return _.buildPath(i,t.sPath).slice(1);});};
b.prototype.getGroupId=function(){return this.sGroupId||(this.bRelative&&this.oContext&&this.oContext.getGroupId&&this.oContext.getGroupId())||this.oModel.getGroupId();};
b.prototype.getRelativePath=function(p){var R;if(p[0]==="/"){R=_.getRelativePath(p,this.getResolvedPath());if(R===undefined&&this.oReturnValueContext){R=_.getRelativePath(p,this.oReturnValueContext.getPath());}return R;}return p;};
b.prototype.getResumeChangeReason=function(){var e=this.sResumeChangeReason;this.getDependentBindings().forEach(function(D){var f=D.getResumeChangeReason();if(f&&h(f,e)){e=f;}});return e;};
b.prototype.getRootBinding=function(){if(this.bRelative){if(!this.oContext){return undefined;}if(this.oContext.getBinding){return this.oContext.getBinding().getRootBinding();}}return this;};
b.prototype.getRootBindingResumePromise=function(){var R=this.getRootBinding();return R&&R.getResumePromise()||S.resolve();};
b.prototype.getUpdateGroupId=function(){return this.sUpdateGroupId||(this.bRelative&&this.oContext&&this.oContext.getUpdateGroupId&&this.oContext.getUpdateGroupId())||this.oModel.getUpdateGroupId();};
b.prototype.hasPendingChanges=function(i){return this.isResolved()&&(this.hasPendingChangesForPath("",i)||this.hasPendingChangesInDependents(i));};
b.prototype.hasPendingChangesForPath=function(p,i){return this.withCache(function(o,e,B){return o.hasPendingChangesForPath(e,i,i&&(B.isRoot()||B.mParameters.$$ownRequest));},p,true).unwrap();};
b.prototype.hasPendingChangesInCaches=function(R){var t=this;if(!this.mCacheByResourcePath){return false;}return Object.keys(this.mCacheByResourcePath).some(function(e){var o=t.mCacheByResourcePath[e];return o.$deepResourcePath.startsWith(R)&&o.hasPendingChangesForPath("");});};
b.prototype.isInitial=function(){throw new Error("Unsupported operation: isInitial");};
b.prototype.isRoot=function(){return!this.bRelative||this.oContext&&!this.oContext.getBinding;};
b.prototype.isRootBindingSuspended=function(){var R=this.getRootBinding();return R&&R.isSuspended();};
b.prototype.lockGroup=function(g,l,m,f){g=g||(m?this.getUpdateGroupId():this.getGroupId());return this.oModel.lockGroup(g,this,l,m,f);};
b.prototype.refresh=function(g){if(typeof g==="boolean"){throw new Error("Unsupported parameter bForceUpdate");}this.requestRefresh(g).catch(this.oModel.getReporter());};
b.prototype.refreshSuspended=function(g){if(g&&g!==this.getGroupId()){throw new Error(this+": Cannot refresh a suspended binding with group ID '"+g+"' (own group ID is '"+this.getGroupId()+"')");}this.setResumeChangeReason(C.Refresh);};
b.prototype.removeCachesAndMessages=function(R,e){var t=this;if(!e&&this.oCache){this.oCache.removeMessages();}if(this.mCacheByResourcePath){Object.keys(this.mCacheByResourcePath).forEach(function(f){var o=t.mCacheByResourcePath[f],D=o.$deepResourcePath;if(_.hasPathPrefix(D,R)){if(!e){o.removeMessages();}delete t.mCacheByResourcePath[f];}});}};
b.prototype.requestAbsoluteSideEffects=function(g,A){var p=[],m=_.getMetaPath(this.getResolvedPath());A.some(function(e){var R=_.getRelativePath(e,m);if(R!==undefined){p.push(R);}else if(_.hasPathPrefix(m,e)){p=[""];return true;}});if(p.length){if(this.requestSideEffects){return this.requestSideEffects(g,p);}return this.refreshInternal("",g,true,true);}};
b.prototype.requestRefresh=function(g){if(!this.isRoot()){throw new Error("Refresh on this binding is not supported");}if(this.hasPendingChanges(true)){throw new Error("Cannot refresh due to pending changes");}this.oModel.checkGroupId(g);return Promise.resolve(this.refreshInternal("",g,true)).then(function(){});};
b.prototype.resetChanges=function(){var p=[];this.checkSuspended();this.resetChangesForPath("",p);this.resetChangesInDependents(p);this.resetInvalidDataState();return Promise.all(p).then(function(){});};
b.prototype.resetChangesForPath=function(p,P){P.push(this.withCache(function(o,e){o.resetChangesForPath(e);},p).unwrap());};
b.prototype.resetInvalidDataState=function(){};
b.prototype.setResumeChangeReason=function(e){if(h(e,this.sResumeChangeReason)){this.sResumeChangeReason=e;}};
b.prototype.toString=function(){return this.getMetadata().getName()+": "+(this.bRelative?this.oContext+"|":"")+this.sPath;};
b.prototype.withCache=function(p,P,e,w){var o=e?S.resolve(this.oCache):this.oCachePromise,R,t=this;P=P||"";return o.then(function(f){if(f){R=t.getRelativePath(P);if(R!==undefined){return p(f,R,t);}}else if(f===undefined){return undefined;}else if(t.oOperation){return w?p(null,t.getRelativePath(P),t):undefined;}if(t.bRelative&&t.oContext&&t.oContext.withCache){return t.oContext.withCache(p,P[0]==="/"?P:_.buildPath(t.sPath,P),e,w);}return undefined;});};
function d(p){if(this){b.apply(this,arguments);}else{Object.assign(p,b.prototype);}}
["adjustPredicate","destroy","doDeregisterChangeListener","hasPendingChangesForPath"].forEach(function(m){d.prototype[m]=b.prototype[m];});return d;},false);
sap.ui.predefine('sap/ui/model/odata/v4/ODataContextBinding',["./Context","./ODataParentBinding","./lib/_Cache","./lib/_GroupLock","./lib/_Helper","sap/ui/base/SyncPromise","sap/ui/model/Binding","sap/ui/model/ChangeReason","sap/ui/model/ContextBinding"],function(C,a,_,b,c,S,B,d,f){"use strict";var s="sap.ui.model.odata.v4.ODataContextBinding",m={AggregatedDataStateChange:true,change:true,dataReceived:true,dataRequested:true,DataStateChange:true,patchCompleted:true,patchSent:true},O=f.extend("sap.ui.model.odata.v4.ODataContextBinding",{constructor:h});
function g(p,r){var e=p.slice(0,p.lastIndexOf("/")),i=e.indexOf("(");return(i<0?e:p.slice(0,i))+r;}
function h(M,p,o,P){var i=p.indexOf("(...)"),t=this;f.call(this,M,p);a.call(this);if(p.endsWith("/")){throw new Error("Invalid path: "+p);}this.oOperation=undefined;this.oParameterContext=null;this.oReturnValueContext=null;if(i>=0){if(i!==this.sPath.length-5){throw new Error("The path must not continue after a deferred operation: "+this.sPath);}this.oOperation={bAction:undefined,mChangeListeners:{},mParameters:{},sResourcePath:undefined};if(!this.bRelative){this.oParameterContext=C.create(this.oModel,this,this.sPath+"/$Parameter");}}P=c.clone(P)||{};this.checkBindingParameters(P,["$$canonicalPath","$$groupId","$$inheritExpandSelect","$$ownRequest","$$patchWithoutSideEffects","$$updateGroupId"]);this.sGroupId=P.$$groupId;this.bInheritExpandSelect=P.$$inheritExpandSelect;this.sUpdateGroupId=P.$$updateGroupId;this.applyParameters(P);this.oElementContext=this.bRelative?null:C.createNewContext(this.oModel,this,p);if(!this.oOperation&&(!this.bRelative||o&&!o.fetchValue)){this.createReadGroupLock(this.getGroupId(),true);}this.setContext(o);M.bindingCreated(this);Promise.resolve().then(function(){t.bInitial=false;});}
a(O.prototype);
O.prototype._delete=function(G,e,i,j,D){var E=this._findEmptyPathParentContext(this.oElementContext),o=E.getBinding();if(!o.execute){return this.fetchValue("",undefined,true).then(function(k){return E._delete(G,k,D);});}return this.deleteFromCache(G,e,"",null,D,function(){o._destroyContextAfterDelete();});};
O.prototype._destroyContextAfterDelete=function(){this.oElementContext.destroy();this.oElementContext=null;if(this.oReturnValueContext){this.oReturnValueContext.destroy();this.oReturnValueContext=null;}this._fireChange({reason:d.Remove});};
O.prototype._execute=function(G,p,i,o,r){var M=this.oModel.getMetaModel(),e,P,R=this.getResolvedPathWithReplacedTransientPredicates(),j=c.getMetaPath(R),t=this;function k(){t._fireChange({reason:d.Change});return t.refreshDependentBindings("",G.getGroupId(),true);}P=M.fetchObject(j+"/@$ui5.overload").then(function(l){var n,I,q;if(!l){e=M.getObject(j);if(!e||e.$kind!=="NavigationProperty"||!r){throw new Error("Unknown operation: "+R);}}else if(l.length!==1){throw new Error("Expected a single overload, but found "+l.length+" for "+R);}else{e=l[0];}if(t.bRelative&&t.oContext.getBinding){I=t.sPath.lastIndexOf("/");q=I>=0?t.sPath.slice(0,I):"";n=t.oContext.getValue.bind(t.oContext,q);}return t.createCacheAndRequest(G,R,e,p,n,i,o);}).then(function(l){return k().then(function(){var n,q,u,v;if(t.isReturnValueLikeBindingParameter(e)){q=t.oContext.getValue();n=q&&c.getPrivateAnnotation(q,"predicate");u=c.getPrivateAnnotation(l,"predicate");if(n===u){t.oContext.patch(l);}}if(t.hasReturnValueContext(e)){if(t.oReturnValueContext){t.oReturnValueContext.destroy();}if(r){t.oCache=null;t.oCachePromise=S.resolve(null);v=t.oContext.getBinding().doReplaceWith(t.oContext,l,u);v.setNewGeneration();return v;}t.oReturnValueContext=C.createNewContext(t.oModel,t,g(R,u));t.oCache.setResourcePath(t.oReturnValueContext.getPath().slice(1));return t.oReturnValueContext;}else if(r){throw new Error("Cannot replace w/o return value context");}});},function(E){c.adjustTargetsInError(E,e,t.oParameterContext.getPath(),t.bRelative?t.oContext.getPath():undefined);return k().then(function(){throw E;});}).catch(function(E){G.unlock(true);if(t.oReturnValueContext){t.oReturnValueContext.destroy();t.oReturnValueContext=null;}t.oModel.reportError("Failed to execute "+R,s,E);throw E;});return Promise.resolve(P);};
O.prototype.adjustPredicate=function(t,p){a.prototype.adjustPredicate.apply(this,arguments);if(this.mCacheQueryOptions){this.fetchCache(this.oContext,true);}if(this.oElementContext){this.oElementContext.adjustPredicate(t,p);}};
O.prototype.applyParameters=function(p,e){this.mQueryOptions=this.oModel.buildQueryOptions(p,true);this.mParameters=p;if(this.isRootBindingSuspended()){if(!this.oOperation){this.sResumeChangeReason=d.Change;}}else if(!this.oOperation){this.fetchCache(this.oContext);if(e){this.refreshInternal("",undefined,true).catch(this.oModel.getReporter());}}else if(this.oOperation.bAction===false){this.execute().catch(this.oModel.getReporter());}};
O.prototype.attachEvent=function(e,i,j,k){if(!(e in m)){throw new Error("Unsupported event '"+e+"': v4.ODataContextBinding#attachEvent");}return f.prototype.attachEvent.apply(this,arguments);};
O.prototype.computeOperationQueryOptions=function(){return Object.assign({},this.oModel.mUriParameters,this.getQueryOptionsFromParameters());};
O.prototype.checkKeepAlive=function(){throw new Error("Unsupported "+this);};
O.prototype.createCacheAndRequest=function(G,p,o,P,e,i,j){var A=o.$kind==="Action",k,E=e,M=this.oModel,l=c.getMetaPath(p),n=p.slice(1),r=M.oRequestor,t=this;function q(R){if(t.hasReturnValueContext(o)){return g(n,c.getPrivateAnnotation(R,"predicate"));}if(t.isReturnValueLikeBindingParameter(o)&&c.getPrivateAnnotation(E,"predicate")===c.getPrivateAnnotation(R,"predicate")){return n.slice(0,n.lastIndexOf("/"));}return n;}function u(v){var R;c.adjustTargetsInError(v,o,t.oParameterContext.getPath(),t.bRelative?t.oContext.getPath():undefined);v.error.$ignoreTopLevel=true;R=j(c.extractMessages(v).map(function(w){return t.oModel.createUI5Message(w);}));if(!(R instanceof Promise)){throw new Error("Not a promise: "+R);}return R;}if(j&&o.$kind!=="Action"){throw new Error("Not an action: "+p);}if(!A&&o.$kind!=="Function"&&o.$kind!=="NavigationProperty"){throw new Error("Not an operation: "+p);}if(A&&e){E=e();}if(i&&!(A&&o.$IsBound&&E)){throw new Error("Not a bound action: "+p);}if(this.bInheritExpandSelect&&!this.isReturnValueLikeBindingParameter(o)){throw new Error("Must not set parameter $$inheritExpandSelect on this binding");}if(o.$kind!=="NavigationProperty"){l+="/@$ui5.overload/0/$ReturnType";if(o.$ReturnType&&!o.$ReturnType.$Type.startsWith("Edm.")){l+="/$Type";}}else if(Object.keys(P).length){throw new Error("Unsupported parameters for navigation property");}this.oOperation.bAction=A;this.oOperation.mRefreshParameters=P;P=Object.assign({},P);this.mCacheQueryOptions=this.computeOperationQueryOptions();p=r.getPathAndAddQueryOptions(p,o,P,this.mCacheQueryOptions,E);k=_.createSingle(r,p,this.mCacheQueryOptions,M.bAutoExpandSelect,M.bSharedRequests,q,A,l);this.oCache=k;this.oCachePromise=S.resolve(k);return A?k.post(G,P,E,i,j&&u):k.fetchValue(G);};
O.prototype.destroy=function(){if(this.oElementContext){this.oElementContext.destroy();this.oElementContext=undefined;}if(this.oParameterContext){this.oParameterContext.destroy();this.oParameterContext=undefined;}if(this.oReturnValueContext){this.oReturnValueContext.destroy();this.oReturnValueContext=undefined;}this.oModel.bindingDestroyed(this);this.oOperation=undefined;this.mParameters=undefined;this.mQueryOptions=undefined;a.prototype.destroy.call(this);f.prototype.destroy.call(this);};
O.prototype.doCreateCache=function(r,q,e,D){return _.createSingle(this.oModel.oRequestor,r,q,this.oModel.bAutoExpandSelect,this.oModel.bSharedRequests,function(){return D;});};
O.prototype.doDeregisterChangeListener=function(p,l){if(this.oOperation&&(p==="$Parameter"||p.startsWith("$Parameter/"))){c.removeByPath(this.oOperation.mChangeListeners,p.slice(11),l);return;}a.prototype.doDeregisterChangeListener.apply(this,arguments);};
O.prototype.doFetchQueryOptions=function(o){return this.fetchResolvedQueryOptions(o);};
O.prototype.doSetProperty=function(p,v,G){if(this.oOperation&&(p==="$Parameter"||p.startsWith("$Parameter/"))){c.updateAll(this.oOperation.mChangeListeners,"",this.oOperation.mParameters,_.makeUpdateData(p.split("/").slice(1),v));this.oOperation.bAction=undefined;if(G){G.unlock();}return S.resolve();}};
O.prototype.doSuspend=function(){if(this.bInitial&&!this.oOperation){this.sResumeChangeReason=d.Change;}};
O.prototype.execute=function(G,i,o,r){var R=this.getResolvedPath();this.checkSuspended();this.oModel.checkGroupId(G);if(!this.oOperation){throw new Error("The binding must be deferred: "+this.sPath);}if(this.bRelative){if(!R){throw new Error("Unresolved binding: "+this.sPath);}if(this.oContext.isTransient&&this.oContext.isTransient()){throw new Error("Execute for transient context not allowed: "+R);}if(this.oContext.getPath().includes("(...)")){throw new Error("Nested deferred operation bindings not supported: "+R);}if(r){if(!this.oContext.getBinding){throw new Error("Cannot replace this parent context: "+this.oContext);}this.oContext.getBinding().checkKeepAlive(this.oContext);}}else if(r){throw new Error("Cannot replace when operation is not relative");}return this._execute(this.lockGroup(G,true),c.publicClone(this.oOperation.mParameters,true),i,o,r);};
O.prototype.fetchValue=function(p,l,e){var o=e&&this.oCache!==undefined?S.resolve(this.oCache):this.oCachePromise,E,r=this.getRootBinding(),t=this;if(r&&r.isSuspended()){E=new Error("Suspended binding provides no value");E.canceled="noDebugLog";throw E;}return o.then(function(i){var D=false,G,R=t.getResolvedPath(),j=i||t.oOperation?t.getRelativePath(p):undefined,k,v;if(t.oOperation){if(j===undefined){return t.oContext.fetchValue(p,l,e);}k=j.split("/");if(k[0]==="$Parameter"){if(k.length===1){return undefined;}c.addByPath(t.oOperation.mChangeListeners,j.slice(11),l);v=c.drillDown(t.oOperation.mParameters,k.slice(1));return v===undefined?null:v;}}if(i&&j!==undefined){if(e){G=b.$cached;}else{G=t.oReadGroupLock||t.lockGroup();t.oReadGroupLock=undefined;}return t.resolveRefreshPromise(i.fetchValue(G,j,function(){D=true;t.fireDataRequested();},l)).then(function(v){t.assertSameCache(i);return v;}).then(function(v){if(D){t.fireDataReceived({data:{}});}return v;},function(E){G.unlock(true);if(D){t.oModel.reportError("Failed to read path "+R,s,E);t.fireDataReceived(E.canceled?{data:{}}:{error:E});}throw E;});}if(!t.oOperation&&t.oContext){return t.oContext.fetchValue(p,l,e);}});};
O.prototype.getDependentBindings=function(){return this.oModel.getDependentBindings(this);};
O.prototype.getParameterContext=function(){if(!this.oOperation){throw new Error("Not a deferred operation binding: "+this);}return this.oParameterContext;};
O.prototype.getQueryOptionsFromParameters=function(){var i,q=this.mQueryOptions;if(this.bInheritExpandSelect){i=this.oContext.getBinding().getInheritableQueryOptions();q=Object.assign({},q);if("$select"in i){q.$select=q.$select&&q.$select.slice();c.addToSelect(q,i.$select);}if("$expand"in i){q.$expand=i.$expand;}}return q;};
O.prototype.getResolvedPathWithReplacedTransientPredicates=function(){var p="",r=this.getResolvedPath(),e,t=this;if(r&&r.includes("($uid=")){e=r.slice(1).split("/");r="";e.forEach(function(i){var E,P,T;p+="/"+i;T=i.indexOf("($uid=");if(T>=0){E=t.oContext.getValue(p);P=E&&c.getPrivateAnnotation(E,"predicate");if(!P){throw new Error("No key predicate known at "+p);}r+="/"+i.slice(0,T)+P;}else{r+="/"+i;}});}return r;};
O.prototype.hasReturnValueContext=function(M){var e;if(!this.isReturnValueLikeBindingParameter(M)){return false;}e=c.getMetaPath(this.getResolvedPath()).split("/");return e.length===3&&this.oModel.getMetaModel().getObject("/"+e[1]).$kind==="EntitySet";};
O.prototype.initialize=function(){this.bInitial=false;if(this.isResolved()&&!this.getRootBinding().isSuspended()){this._fireChange({reason:d.Change});}};
O.prototype.isReturnValueLikeBindingParameter=function(M){var p,P;if(!(this.bRelative&&this.oContext&&this.oContext.getBinding)){return false;}if(M.$kind==="NavigationProperty"){if(M.$isCollection||this.sPath.includes("/")){return false;}P=c.getMetaPath(this.oContext.getPath());if(P.lastIndexOf("/")>0){return false;}p=this.oModel.getMetaModel().getObject(P);return p.$kind==="EntitySet"&&p.$Type===M.$Type&&p.$NavigationPropertyBinding&&p.$NavigationPropertyBinding[this.sPath.slice(0,-5)]===P.slice(1);}return M.$IsBound&&M.$ReturnType&&!M.$ReturnType.$isCollection&&M.$EntitySetPath&&!M.$EntitySetPath.includes("/");};
O.prototype.refreshDependentBindings=function(r,G,e,k){return S.all(this.getDependentBindings().map(function(D){return D.refreshInternal(r,G,e,k);}));};
O.prototype.refreshInternal=function(r,G,e,k){var t=this;if(this.oOperation&&this.oOperation.bAction!==false){return S.resolve();}if(this.isRootBindingSuspended()){this.refreshSuspended(G);return this.refreshDependentBindings(r,G,e,k);}this.createReadGroupLock(G,this.isRoot());return this.oCachePromise.then(function(o){var H,p=t.oRefreshPromise,R=t.oReadGroupLock;if(!t.oElementContext){t.oElementContext=C.create(t.oModel,t,t.getResolvedPath());if(!o){t._fireChange({reason:d.Refresh});}}if(t.oOperation){t.oReadGroupLock=undefined;return t._execute(R,t.oOperation.mRefreshParameters);}if(o&&!p){H=o.hasChangeListeners();t.removeCachesAndMessages(r);t.fetchCache(t.oContext,false,false,k?G:undefined);p=H?t.createRefreshPromise():undefined;if(k&&p){p=p.catch(function(E){return t.fetchResourcePath(t.oContext).then(function(i){if(!t.bRelative||o.getResourcePath()===i){t.oCache=o;t.oCachePromise=S.resolve(o);o.setActive(true);return t.checkUpdateInternal();}}).then(function(){throw E;});});}if(!e){t.fetchValue("").catch(t.oModel.getReporter());}}return S.all([p,t.refreshDependentBindings(r,G,e,k)]);});};
O.prototype.refreshReturnValueContext=function(o,G,k){var e=this.oCache,i=this.mCacheQueryOptions,M=this.oModel,p,t=this;if(this.oReturnValueContext!==o){return null;}this.mCacheQueryOptions=this.computeOperationQueryOptions();if(this.mLateQueryOptions){c.aggregateExpandSelect(this.mCacheQueryOptions,this.mLateQueryOptions);}this.oCache=_.createSingle(M.oRequestor,o.getPath().slice(1),this.mCacheQueryOptions,true,M.bSharedRequests);this.oCachePromise=S.resolve(this.oCache);this.createReadGroupLock(G,true);p=o.refreshDependentBindings("",G,true,k);if(k){p=p.catch(function(E){t.oCache=e;t.oCachePromise=S.resolve(e);t.mCacheQueryOptions=i;e.setActive(true);return o.checkUpdateInternal().then(function(){throw E;});});}return p;};
O.prototype.requestSideEffects=function(G,p,o){var M=this.oModel,n={},P=[],t=this;function r(i){return i.catch(function(E){M.reportError("Failed to request side effects",s,E);if(!E.canceled){throw E;}});}if(p.indexOf("")<0){try{P.push(this.oCache.requestSideEffects(this.lockGroup(G),p,n,o&&o.getPath().slice(1)));this.visitSideEffects(G,p,o,n,P);return S.all(P.map(r)).then(function(){return t.refreshDependentListBindingsWithoutCache();});}catch(e){if(!e.message.startsWith("Unsupported collection-valued navigation property ")){throw e;}}}return o&&this.refreshReturnValueContext(o,G,true)||this.refreshInternal("",G,true,true);};
O.prototype.requestObject=function(p){return this.oElementContext?this.oElementContext.requestObject(p):Promise.resolve();};
O.prototype.resumeInternal=function(e,p){var r=this.sResumeChangeReason,t=this;function i(){t.getDependentBindings().forEach(function(D){D.resumeInternal(e,!!r);});}this.sResumeChangeReason=undefined;if(this.oOperation){i();return;}if(p||r){this.mAggregatedQueryOptions={};this.bAggregatedQueryOptionsInitial=true;this.removeCachesAndMessages("");this.fetchCache(this.oContext);}i();if(r){this._fireChange({reason:r});}};
O.prototype.setContext=function(o){if(this.oContext!==o){if(this.bRelative&&(this.oContext||o)){this.checkSuspended(true);if(this.oElementContext){this.oElementContext.destroy();this.oElementContext=null;}if(this.oReturnValueContext){this.oReturnValueContext.destroy();this.oReturnValueContext=null;}if(this.oParameterContext){this.oParameterContext.destroy();this.oParameterContext=null;}this.fetchCache(o);if(o){this.oElementContext=C.create(this.oModel,this,this.oModel.resolve(this.sPath,o));if(this.oOperation){this.oParameterContext=C.create(this.oModel,this,this.oModel.resolve(this.sPath+"/$Parameter",o));}}B.prototype.setContext.call(this,o);}else{this.oContext=o;}}};
O.prototype.setParameter=function(p,v){var o;if(!this.oOperation){throw new Error("The binding must be deferred: "+this.sPath);}if(!p){throw new Error("Missing parameter name");}if(v===undefined){throw new Error("Missing value for parameter: "+p);}o=this.oOperation.mParameters[p];this.oOperation.mParameters[p]=v;c.informAll(this.oOperation.mChangeListeners,p,o,v);this.oOperation.bAction=undefined;return this;};
return O;});
sap.ui.predefine('sap/ui/model/odata/v4/ODataListBinding',["./Context","./ODataParentBinding","./lib/_AggregationCache","./lib/_AggregationHelper","./lib/_Cache","./lib/_GroupLock","./lib/_Helper","./lib/_Parser","sap/base/Log","sap/base/util/uid","sap/ui/base/SyncPromise","sap/ui/model/Binding","sap/ui/model/ChangeReason","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterProcessor","sap/ui/model/FilterType","sap/ui/model/ListBinding","sap/ui/model/Sorter","sap/ui/model/odata/OperationMode"],function(C,a,_,b,c,d,e,f,L,u,S,B,g,F,h,j,k,l,m,O){"use strict";var s="sap.ui.model.odata.v4.ODataListBinding",n={AggregatedDataStateChange:true,change:true,createActivate:true,createCompleted:true,createSent:true,dataReceived:true,dataRequested:true,DataStateChange:true,patchCompleted:true,patchSent:true,refresh:true},o=l.extend("sap.ui.model.odata.v4.ODataListBinding",{constructor:p});
function p(M,P,i,v,q,r){l.call(this,M,P);a.call(this);if(P.endsWith("/")){throw new Error("Invalid path: "+P);}r=e.clone(r)||{};this.checkBindingParameters(r,["$$aggregation","$$canonicalPath","$$getKeepAliveContext","$$groupId","$$operationMode","$$ownRequest","$$patchWithoutSideEffects","$$sharedRequest","$$updateGroupId"]);this.iActiveContexts=0;this.aApplicationFilters=e.toArray(q);this.sChangeReason=M.bAutoExpandSelect&&!r.$$aggregation?"AddVirtualContext":undefined;this.iCreatedContexts=0;this.oDiff=undefined;this.aFilters=[];this.sGroupId=r.$$groupId;this.bHasAnalyticalInfo=false;this.oHeaderContext=this.bRelative?null:C.createNewContext(M,this,P);this.sOperationMode=r.$$operationMode||M.sOperationMode;this.mPreviousContextsByPath={};this.aPreviousData=[];this.bRefreshKeptElements=false;this.bSharedRequest=r.$$sharedRequest||M.bSharedRequests;this.aSorters=e.toArray(v);this.sUpdateGroupId=r.$$updateGroupId;if(!this.sOperationMode&&(this.aSorters.length||this.aApplicationFilters.length)){throw new Error("Unsupported operation mode: "+this.sOperationMode);}this.applyParameters(r);if(!this.bRelative||i&&!i.fetchValue){this.createReadGroupLock(this.getGroupId(),true);}this.setContext(i);M.bindingCreated(this);}
a(o.prototype);
o.prototype.attachCreateActivate=function(i,q){this.attachEvent("createActivate",i,q);};
o.prototype.detachCreateActivate=function(i,q){this.detachEvent("createActivate",i,q);};
o.prototype.attachCreateCompleted=function(i,q){this.attachEvent("createCompleted",i,q);};
o.prototype.detachCreateCompleted=function(i,q){this.detachEvent("createCompleted",i,q);};
o.prototype.attachCreateSent=function(i,q){this.attachEvent("createSent",i,q);};
o.prototype.detachCreateSent=function(i,q){this.detachEvent("createSent",i,q);};
o.prototype._delete=function(G,E,q,r,D){var t,v=false,P=q.iIndex===undefined?e.getRelativePath(q.getPath(),this.oHeaderContext.getPath()):String(q.iIndex),R=false,w=this;return this.deleteFromCache(G,E,P,r,D,function(I,x){var y,z,A,H,i;if(q.isKeepAlive()){q.resetKeepAlive();t=true;}if(q.created()){w.destroyCreated(q);v=true;}else if(I>=0){for(i=I;i<w.aContexts.length;i+=1){q=w.aContexts[i];if(q){w.mPreviousContextsByPath[q.getPath()]=q;}}A=w.getResolvedPath();w.aContexts.splice(I,1);for(i=I;i<w.aContexts.length;i+=1){if(w.aContexts[i]){H=i-w.iCreatedContexts;z=e.getPrivateAnnotation(x[i],"predicate");y=A+(z||"/"+H);q=w.mPreviousContextsByPath[y];if(q){delete w.mPreviousContextsByPath[y];if(q.iIndex===H){q.checkUpdate();}else{q.iIndex=H;}}else{q=C.create(w.oModel,w,y,H);}w.aContexts[i]=q;}}w.iMaxLength-=1;v=true;}else if(w.bLengthFinal){R=true;}}).then(function(){var i=w.iMaxLength;if(R){w.iMaxLength=w.fetchValue("$count",undefined,true).getResult()-w.iActiveContexts;v=i!==w.iMaxLength;}if(v){w._fireChange({reason:g.Remove});}else if(t){delete w.mPreviousContextsByPath[q.getPath()];q.destroy();}});};
o.prototype.adjustPredicate=function(t,P,i){var q=this;function r(v,N){var I=q.aPreviousData.indexOf(v);if(I>=0){q.aPreviousData[I]=N;}}if(i){i.adjustPredicate(t,P,r);}else{a.prototype.adjustPredicate.apply(this,arguments);if(this.mCacheQueryOptions){this.fetchCache(this.oContext,true);}this.oHeaderContext.adjustPredicate(t,P);this.aContexts.forEach(function(i){i.adjustPredicate(t,P,r);});}};
o.prototype.applyParameters=function(P,i){var A,q=this.mParameters&&this.mParameters.$$aggregation,r=this.mQueryOptions&&this.mQueryOptions.$apply;if("$$getKeepAliveContext"in P&&"$apply"in P){throw new Error("Cannot combine $$getKeepAliveContext and $apply");}if("$$aggregation"in P){if("$apply"in P){throw new Error("Cannot combine $$aggregation and $apply");}A=b.buildApply(P.$$aggregation).$apply;}this.mQueryOptions=this.oModel.buildQueryOptions(P,true);this.mParameters=P;if(A){this.mQueryOptions.$apply=A;}if(i===""){if(this.mQueryOptions.$apply===r&&(!this.mParameters.$$aggregation||!q||e.deepEqual(this.mParameters.$$aggregation,q))){return;}i=this.bHasAnalyticalInfo?g.Change:g.Filter;}if(this.isRootBindingSuspended()){this.setResumeChangeReason(i);return;}this.removeCachesAndMessages("");this.fetchCache(this.oContext);this.reset(i);if(this.oHeaderContext){this.oHeaderContext.checkUpdate();}};
o.prototype.attachEvent=function(E,i,q,r){if(!(E in n)){throw new Error("Unsupported event '"+E+"': v4.ODataListBinding#attachEvent");}return l.prototype.attachEvent.apply(this,arguments);};
o.prototype._checkDataStateMessages=function(D,r){if(r){D.setModelMessages(this.oModel.getMessagesByPath(r,true));}};
o.prototype.checkKeepAlive=function(i){if(this.isRelative()&&!this.mParameters.$$ownRequest){throw new Error("Missing $$ownRequest at "+this);}if(i===this.oHeaderContext){throw new Error("Unsupported header context "+i);}if(this.mParameters.$$aggregation){throw new Error("Unsupported $$aggregation at "+this);}if(this.bSharedRequest){throw new Error("Unsupported $$sharedRequest at "+this);}};
o.prototype.collapse=function(q){var r=this.aContexts,t=this.oCache.collapse(e.getRelativePath(q.getPath(),this.oHeaderContext.getPath())),M=q.getModelIndex(),i,v=this;if(t>0){r.splice(M+1,t).forEach(function(q){v.mPreviousContextsByPath[q.getPath()]=q;});for(i=M+1;i<r.length;i+=1){if(r[i]){r[i].iIndex=i;}}this.iMaxLength-=t;this._fireChange({reason:g.Change});}};
o.prototype.create=function(I,q,A,r){var t,v=this.fetchResourcePath(),w,G=this.getUpdateGroupId(),x,R=this.getResolvedPath(),T="($uid="+u()+")",y=R+T,i,z=this;if(!R){throw new Error("Binding is unresolved: "+this);}this.checkSuspended();A=!!A;if(A&&!(this.bLengthFinal||this.mParameters.$count)){throw new Error("Must know the final length to create at the end. Consider setting $count");}if(this.bFirstCreateAtEnd&&!A){throw new Error("Cannot create at the start after creation at end");}if(r){if(this.isRelative()&&!this.mParameters.$$ownRequest){throw new Error("Missing $$ownRequest at "+this);}G="$inactive."+G;}else{this.iActiveContexts+=1;}if(this.bFirstCreateAtEnd===undefined){this.bFirstCreateAtEnd=A;}x=this.lockGroup(G,true,true,function(){if(!z.aContexts.includes(t)){t.destroy();return;}z.destroyCreated(t);return Promise.resolve().then(function(){z._fireChange({reason:g.Remove});});});w=this.createInCache(x,v,R,T,I,this.bFirstCreateAtEnd!==A,function(E){z.oModel.reportError("POST on '"+v+"' failed; will be repeated automatically",s,E);z.fireEvent("createCompleted",{context:t,success:false});},function(){z.fireEvent("createSent",{context:t});}).then(function(D){var G,P;if(!(I&&I["@$ui5.keepTransientPath"])){P=e.getPrivateAnnotation(D,"predicate");if(P){z.adjustPredicate(T,P,t);z.oModel.checkMessages();}}z.fireEvent("createCompleted",{context:t,success:true});G=z.getGroupId();if(q){return t.refreshDependentBindings(t.getPath().slice(1),G,true);}if(z.oModel.isApiGroup(G)){G="$auto";}return z.refreshSingle(t,z.lockGroup(G));},function(E){x.unlock(true);throw E;});this.iCreatedContexts+=1;t=C.create(this.oModel,this,y,-this.iCreatedContexts,w,r);t.fetchValue().then(function(E){if(E){e.setPrivateAnnotation(E,"context",t);e.setPrivateAnnotation(E,"firstCreateAtEnd",z.bFirstCreateAtEnd);}});if(this.bFirstCreateAtEnd!==A){this.aContexts.splice(this.iCreatedContexts-1,0,t);for(i=this.iCreatedContexts-1;i>=0;i-=1){this.aContexts[i].iIndex=i-this.iCreatedContexts;}}else{this.aContexts.unshift(t);}this._fireChange({reason:g.Add});return t;};
o.prototype.createContexts=function(q,r){var t=false,v,w,x=r.$count,y,z=this.bLengthFinal,M=this.oModel,P=this.getResolvedPath(),A,D,E=q>this.aContexts.length,i,G=this;function H(){var N=G.iMaxLength+G.iCreatedContexts,i;if(N>=G.aContexts.length){return;}for(i=N;i<G.aContexts.length;i+=1){if(G.aContexts[i]){G.aContexts[i].destroy();}}while(N>0&&!G.aContexts[N-1]){N-=1;}G.aContexts.length=N;t=true;}for(i=0;i<r.length;i+=1){if(this.aContexts[q+i]===undefined&&r[i]){t=true;y=q+i-this.iCreatedContexts;A=e.getPrivateAnnotation(r[i],"predicate");w=P+(A||"/"+y);v=this.mPreviousContextsByPath[w];if(v&&(!v.created()||v.isKeepAlive())){delete this.mPreviousContextsByPath[w];v.iIndex=y;v.checkUpdate();}else{v=C.create(M,this,w,y);}this.aContexts[q+i]=v;}}D=Object.keys(this.mPreviousContextsByPath);if(D.length){M.addPrerenderingTask(this.destroyPreviousContexts.bind(this,D));}if(x!==undefined){this.bLengthFinal=true;this.iMaxLength=x-this.iActiveContexts;H();}else{if(!r.length){this.iMaxLength=q-this.iCreatedContexts;H();}else if(this.aContexts.length>this.iMaxLength+this.iCreatedContexts){this.iMaxLength=Infinity;}if(!(E&&r.length===0)){this.bLengthFinal=this.aContexts.length===this.iMaxLength+this.iCreatedContexts;}}if(this.bLengthFinal!==z){t=true;}return t;};
o.prototype.destroy=function(){if(this.bHasAnalyticalInfo&&this.aContexts===undefined){return;}this.aContexts.forEach(function(i){i.destroy();});this.destroyPreviousContexts();if(this.oHeaderContext){this.oHeaderContext.destroy();}this.oModel.bindingDestroyed(this);this.aApplicationFilters=undefined;this.aContexts=undefined;this.oDiff=undefined;this.aFilters=undefined;this.oHeaderContext=undefined;this.mPreviousContextsByPath=undefined;this.aPreviousData=undefined;this.mQueryOptions=undefined;this.aSorters=undefined;a.prototype.destroy.call(this);l.prototype.destroy.call(this);};
o.prototype.destroyCreated=function(q){var I=q.getModelIndex(),i;this.iCreatedContexts-=1;if(!q.isInactive()){this.iActiveContexts-=1;}for(i=0;i<I;i+=1){this.aContexts[i].iIndex+=1;}if(!this.iCreatedContexts){this.bFirstCreateAtEnd=undefined;}this.aContexts.splice(I,1);this.destroyLater(q);};
o.prototype.destroyLater=function(i){if(this.iCurrentEnd){this.mPreviousContextsByPath[i.getPath()]=i;}else{i.destroy();}};
o.prototype.destroyPreviousContexts=function(P){var i=this.mPreviousContextsByPath;if(i){(P||Object.keys(i)).forEach(function(q){var r=i[q];if(r){if(P&&r.isKeepAlive()){r.iIndex=undefined;}else{if(!r.isTransient()){r.destroy();}delete i[q];}}});}};
o.prototype.doCreateCache=function(r,q,i,D,G,t){var v,K,w=this;if(t&&t.getResourcePath()===r&&t.$deepResourcePath===D){v=this.oHeaderContext.getPath();K=Object.keys(this.mPreviousContextsByPath).filter(function(P){return w.mPreviousContextsByPath[P].isKeepAlive();});if(this.iCreatedContexts||K.length){t.reset(K.map(function(P){return e.getRelativePath(P,v);}),G);t.setQueryOptions(q,true);return t;}}q=this.inheritQueryOptions(q,i);return this.getCacheAndMoveKeepAliveContexts(r,q)||_.create(this.oModel.oRequestor,r,D,this.mParameters.$$aggregation,q,this.oModel.bAutoExpandSelect,this.bSharedRequest);};
o.prototype.doFetchQueryOptions=function(i){var t=this;return this.fetchResolvedQueryOptions(i).then(function(q){return t.fetchFilter(i,q.$filter).then(function(r){return e.mergeQueryOptions(q,t.getOrderby(q.$orderby),r);});});};
o.prototype.doReplaceWith=function(i,E,P){var I=i.iIndex,K=i.isKeepAlive(),N,q=i.fnOnBeforeDestroy,r,t=this.oHeaderContext.getPath()+P,R=this.mPreviousContextsByPath[t];if(R){if(R===i){return R;}if(R.iIndex!==undefined){throw new Error("Unexpected index: "+R);}R.iIndex=I;delete this.mPreviousContextsByPath[t];}else{R=C.create(this.oModel,this,t,I);N=true;}i.iIndex=undefined;if(I===undefined){this.mPreviousContextsByPath[t]=R;this.oCache.addKeptElement(E);}else{this.aContexts[I]=R;this.oCache.doReplaceWith(I,E);}if(K){this.mPreviousContextsByPath[i.getPath()]=i;if(N){if(q){r=(q.$original||q).bind(null,R);r.$original=q;}R.setKeepAlive(true,r);}}else{this.destroyLater(i);}this._fireChange({reason:g.Change});return R;};
o.prototype.doSetProperty=function(){};
o.prototype.expand=function(q){var D=false,t=this;this.checkSuspended();return this.oCache.expand(this.lockGroup(),e.getRelativePath(q.getPath(),this.oHeaderContext.getPath()),function(){D=true;t.fireDataRequested();}).then(function(r){var v=t.aContexts,M,w,i;if(r>0){M=q.getModelIndex();for(i=v.length-1;i>M;i-=1){w=v[i];if(w){w.iIndex+=r;v[i+r]=w;delete v[i];}}t.iMaxLength+=r;t._fireChange({reason:g.Change});}if(D){t.fireDataReceived({});}},function(E){if(D){t.fireDataReceived({error:E});}throw E;});};
o.prototype.fetchContexts=function(i,q,M,G,A,D){var P,t=this;if(this.bFirstCreateAtEnd){i+=this.iCreatedContexts;}G=G||this.lockGroup();P=this.fetchData(i,q,M,G,D);if(A){P=Promise.resolve(P);}return P.then(function(r){var E;if(!t.aContexts){E=new Error("Binding already destroyed");E.canceled=true;throw E;}return r&&t.createContexts(i,r.value);},function(E){G.unlock(true);throw E;});};
o.prototype.fetchData=function(i,q,M,G,D){var r=this.oContext,t=this;return this.oCachePromise.then(function(v){if(t.bRelative&&r!==t.oContext){return undefined;}if(v){return v.read(i,q,M,G,D).then(function(R){t.assertSameCache(v);return R;});}G.unlock();return r.fetchValue(t.sReducedPath).then(function(R){var w;R=R||[];w=R.$count;R=R.slice(i,i+q);R.$count=w;return{value:R};});});};
o.prototype.fetchDownloadUrl=function(){var U=this.oModel.mUriParameters;if(!this.isResolved()){throw new Error("Binding is unresolved");}return this.withCache(function(i,P){return i.getDownloadUrl(P,U);});};
o.prototype.fetchFilter=function(i,q){var r,t,M,v;function w(A,E,W){var D,G,T,V;function H(I){return T?"tolower("+I+")":I;}T=E==="Edm.String"&&A.bCaseSensitive===false;G=H(decodeURIComponent(A.sPath));V=H(e.formatLiteral(A.oValue1,E));switch(A.sOperator){case h.BT:D=G+" ge "+V+" and "+G+" le "+H(e.formatLiteral(A.oValue2,E));break;case h.NB:D=z(G+" lt "+V+" or "+G+" gt "+H(e.formatLiteral(A.oValue2,E)),W);break;case h.EQ:case h.GE:case h.GT:case h.LE:case h.LT:case h.NE:D=G+" "+A.sOperator.toLowerCase()+" "+V;break;case h.Contains:case h.EndsWith:case h.NotContains:case h.NotEndsWith:case h.NotStartsWith:case h.StartsWith:D=A.sOperator.toLowerCase().replace("not","not ")+"("+G+","+V+")";break;default:throw new Error("Unsupported operator: "+A.sOperator);}return D;}function x(A,D,W){var R;if(!A){return S.resolve();}if(A.aFilters){return S.all(A.aFilters.map(function(E){return x(E,D,A.bAnd);})).then(function(E){return z(E.join(A.bAnd?" and ":" or "),W&&!A.bAnd);});}R=M.resolve(y(A.sPath,D),v);return M.fetchObject(R).then(function(P){var E,G,H;if(!P){throw new Error("Type cannot be determined, no metadata for path: "+R);}H=A.sOperator;if(H===h.All||H===h.Any){E=A.oCondition;G=A.sVariable;if(H===h.Any&&!E){return A.sPath+"/any()";}D=Object.create(D);D[G]=y(A.sPath,D);return x(E,D).then(function(I){return A.sPath+"/"+A.sOperator.toLowerCase()+"("+G+":"+I+")";});}return w(A,P.$Type,W);});}function y(P,A){var D=P.split("/");D[0]=A[D[0]];return D[0]?D.join("/"):P;}function z(A,W){return W?"("+A+")":A;}r=j.combineFilters(this.aFilters,this.aApplicationFilters);if(!r){return S.resolve([q]);}t=b.splitFilter(r,this.mParameters.$$aggregation);M=this.oModel.getMetaModel();v=M.getMetaContext(this.oModel.resolve(this.sPath,i));return S.all([x(t[0],{},q).then(function(A){return A&&q?A+" and ("+q+")":A||q;}),x(t[1],{})]);};
o.prototype.fetchValue=function(P,i,q){var r=q&&this.oCache!==undefined?S.resolve(this.oCache):this.oCachePromise,t=this;return r.then(function(v){var G,R;if(v){G=q?d.$cached:t.lockGroup();R=t.getRelativePath(P);if(R!==undefined){return v.fetchValue(G,R,undefined,i);}}if(t.oContext){return t.oContext.fetchValue(P,i,q);}});};
o.prototype.filter=function(v,i){var q=e.toArray(v);if(this.sOperationMode!==O.Server){throw new Error("Operation mode has to be sap.ui.model.odata.OperationMode.Server");}if(i===k.Control&&e.deepEqual(q,this.aFilters)||e.deepEqual(q,this.aApplicationFilters)){return this;}if(this.hasPendingChanges(true)){throw new Error("Cannot filter due to pending changes");}if(i===k.Control){this.aFilters=q;}else{this.aApplicationFilters=q;}if(this.isRootBindingSuspended()){this.setResumeChangeReason(g.Filter);return this;}this.createReadGroupLock(this.getGroupId(),true);this.removeCachesAndMessages("");this.fetchCache(this.oContext);this.reset(g.Filter);if(this.oHeaderContext){this.oHeaderContext.checkUpdate();}return this;};
o.prototype.fireCreateActivate=function(i){this.iActiveContexts+=1;this.fireEvent("createActivate");};
o.prototype.getAllCurrentContexts=function(){var E=[];this.withCache(function(i,P){E=i.getAllElements(P);},"",true);if(this.createContexts(0,E)){this._fireChange({reason:g.Change});}return this.aContexts.filter(function(i){return i;}).concat(Object.values(this.mPreviousContextsByPath).filter(function(i){return i.isKeepAlive();}));};
o.prototype.getCacheAndMoveKeepAliveContexts=function(r,q){var i,t,v=this;if(!this.mParameters.$$getKeepAliveContext){return undefined;}i=this.oModel.releaseKeepAliveBinding("/"+r);if(!i){return undefined;}Object.keys(i.mParameters).concat(Object.keys(this.mParameters)).forEach(function(P){if((P[0]!=="$"||P==="$$patchWithoutSideEffects"||P==="$$updateGroupId")&&v.mParameters[P]!==i.mParameters[P]){throw new Error(v+": parameter does not match getKeepAliveContext: "+P);}});this.mLateQueryOptions=e.clone(q);e.aggregateExpandSelect(this.mLateQueryOptions,i.mLateQueryOptions);this.mPreviousContextsByPath=i.mPreviousContextsByPath;Object.values(this.mPreviousContextsByPath).forEach(function(w){w.oBinding=v;});t=i.oCache;t.setQueryOptions(q);i.oCache=null;i.oCachePromise=S.resolve(null);i.mPreviousContextsByPath={};i.destroy();return t;};
o.prototype.getContexts=function(i,q,M,K){var r,t,D=false,v=false,G,P,R=!!this.sChangeReason,w=this.getResolvedPath(),V,x=this;L.debug(this+"#getContexts("+i+", "+q+", "+M+")",undefined,s);this.checkSuspended();i=i||0;if(i!==0&&this.bUseExtendedChangeDetection){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" iStart must be 0 if extended change detection is enabled, but is "+i);}if(this.bUseExtendedChangeDetection){if(M!==undefined){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" iMaximumPrefetchSize must not be set if extended change detection is"+" enabled");}if(K){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" must not use bKeepCurrent if extended change detection is enabled");}}if(M&&K){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" must not use both iMaximumPrefetchSize and bKeepCurrent");}if(!this.isResolved()){this.aPreviousData=[];return[];}r=this.sChangeReason||g.Change;this.sChangeReason=undefined;if(r==="AddVirtualContext"){this.oModel.addPrerenderingTask(function(){var y=x.bUseExtendedChangeDetection;if(x.aContexts===undefined){V.destroy();return;}if(!x.isRootBindingSuspended()){x.bUseExtendedChangeDetection=false;x.getContexts(i,q,M);x.bUseExtendedChangeDetection=y;}x.oModel.addPrerenderingTask(function(){if(x.aContexts&&!x.isRootBindingSuspended()){x.sChangeReason="RemoveVirtualContext";x._fireChange({detailedReason:"RemoveVirtualContext",reason:g.Change});x.reset(g.Refresh);}V.destroy();});},true);V=C.create(this.oModel,this,w+"/"+C.VIRTUAL,C.VIRTUAL);return[V];}if(r==="RemoveVirtualContext"||(this.oContext&&this.oContext.iIndex===C.VIRTUAL)){return[];}q=q||this.oModel.iSizeLimit;if(!M||M<0){M=0;}G=this.oReadGroupLock;this.oReadGroupLock=undefined;if(!this.oDiff){P=this.fetchContexts(i,q,M,G,R,function(){D=true;x.fireDataRequested();});this.resolveRefreshPromise(P);P.then(function(y){if(x.bUseExtendedChangeDetection){x.oDiff={aDiff:x.getDiff(q),iLength:q};}if(v){if(y||(x.oDiff&&x.oDiff.aDiff.length)){x._fireChange({reason:r});}else{x.oDiff=undefined;}}if(D){x.fireDataReceived({data:{}});}},function(E){if(D){x.fireDataReceived(E.canceled?{data:{}}:{error:E});}throw E;}).catch(function(E){x.oModel.reportError("Failed to get contexts for "+x.oModel.sServiceUrl+w.slice(1)+" with start index "+i+" and length "+q,s,E);});v=true;}if(!K){this.iCurrentBegin=i;this.iCurrentEnd=i+q;}t=this.getContextsInViewOrder(i,q);if(this.bUseExtendedChangeDetection){if(this.oDiff&&q!==this.oDiff.iLength){throw new Error("Extended change detection protocol violation: Expected "+"getContexts(0,"+this.oDiff.iLength+"), but got getContexts(0,"+q+")");}t.dataRequested=!this.oDiff;t.diff=this.oDiff?this.oDiff.aDiff:[];}this.oDiff=undefined;return t;};
o.prototype.getContextsInViewOrder=function(q,r){var t,v,i;if(this.bFirstCreateAtEnd){t=[];v=Math.min(r,this.getLength()-q);for(i=0;i<v;i+=1){t[i]=this.aContexts[this.getModelIndex(q+i)];}}else{t=this.aContexts.slice(q,q+r);}return t;};
o.prototype.getCount=function(){var H=this.getHeaderContext();return H?H.getProperty("$count"):undefined;};
o.prototype.getCurrentContexts=function(){var i,q=Math.min(this.iCurrentEnd,this.iMaxLength+this.iCreatedContexts)-this.iCurrentBegin;i=this.getContextsInViewOrder(this.iCurrentBegin,q);if(q<Infinity){while(i.length<q){i.push(undefined);}}return i;};
o.prototype.getDependentBindings=function(){var t=this;return this.oModel.getDependentBindings(this).filter(function(D){return D.oContext.isKeepAlive()||!(D.oContext.getPath()in t.mPreviousContextsByPath);});};
o.prototype.getDiff=function(i){var P=this.aPreviousData,t=this;this.aPreviousData=this.getContextsInViewOrder(0,i).map(function(q){return t.getContextData(q);});return this.diffData(P,this.aPreviousData);};
o.prototype.getDistinctValues=function(i){throw new Error("Unsupported operation: v4.ODataListBinding#getDistinctValues");};
o.prototype.getDownloadUrl=e.createGetMethod("fetchDownloadUrl",true);
o.prototype.getEntryData=function(i){return JSON.stringify(i.getValue());};
o.prototype.getEntryKey=function(i){return i.getPath();};
o.prototype.getFilterInfo=function(i){var q=j.combineFilters(this.aFilters,this.aApplicationFilters),r=null,t;if(q){r=q.getAST(i);}if(this.mQueryOptions.$filter){t={expression:this.mQueryOptions.$filter,syntax:"OData "+this.oModel.getODataVersion(),type:"Custom"};if(r){r={left:r,op:"&&",right:t,type:"Logical"};}else{r=t;}}return r;};
o.prototype.getGeneration=function(){return this.oHeaderContext.getGeneration(true)||a.prototype.getGeneration.call(this);};
o.prototype.getHeaderContext=function(){return this.isResolved()?this.oHeaderContext:null;};
o.prototype.getModelIndex=function(v){if(!this.bFirstCreateAtEnd){return v;}if(!this.bLengthFinal){return this.aContexts.length-v-1;}return v<this.getLength()-this.iCreatedContexts?v+this.iCreatedContexts:this.getLength()-v-1;};
o.prototype.getKeepAliveContext=function(P,r,G){var i=this.mPreviousContextsByPath[P]||this.aContexts.find(function(t){return t&&t.getPath()===P;}),q=this.oModel.getPredicateIndex(P),R=this.getResolvedPath();this.checkSuspended();this.oModel.checkGroupId(G);if(!i){if(!R){throw new Error("Binding is unresolved: "+this);}if(P.slice(0,q)!==R){throw new Error(this+": Not a valid context path: "+P);}i=C.create(this.oModel,this,P);this.mPreviousContextsByPath[P]=i;this.oCachePromise.then(function(t){var E=t.createEmptyElement(P.slice(q));if(G){e.setPrivateAnnotation(E,"groupId",G);}});this.oModel.getMetaModel().requestObject(e.getMetaPath(R)+"/").then(function(t){return i.requestProperty(t.$Key.map(function(K){return typeof K==="object"?Object.values(K)[0]:K;}));}).catch(this.oModel.getReporter());}i.setKeepAlive(true,i.fnOnBeforeDestroy,r);return i;};
o.prototype.getLength=function(){if(this.bLengthFinal){return this.iMaxLength+this.iCreatedContexts;}return this.aContexts.length?this.aContexts.length+10:0;};
o.prototype.getOrderby=function(i){var q=[],t=this;this.aSorters.forEach(function(r){if(r instanceof m){q.push(r.sPath+(r.bDescending?" desc":""));}else{throw new Error("Unsupported sorter: "+r+" - "+t);}});if(i){q.push(i);}return q.join(",");};
o.prototype.getQueryOptions=function(w){var r={},t=this;if(w){throw new Error("Unsupported parameter value: bWithSystemQueryOptions: "+w);}Object.keys(this.mQueryOptions).forEach(function(K){if(K[0]!=="$"){r[K]=e.clone(t.mQueryOptions[K]);}});return r;};
o.prototype.getQueryOptionsFromParameters=function(){return this.mQueryOptions;};
o.prototype.hasPendingChangesForPath=function(i){if(this.oCache===undefined){return this.iActiveContexts>0;}return a.prototype.hasPendingChangesForPath.apply(this,arguments);};
o.prototype.inheritQueryOptions=function(q,i){var I;if(!Object.keys(this.mParameters).length){I=this.getQueryOptionsForPath("",i);if(q.$orderby&&I.$orderby){q.$orderby+=","+I.$orderby;}if(q.$filter&&I.$filter){q.$filter="("+q.$filter+") and ("+I.$filter+")";}q=Object.assign({},I,q);e.aggregateExpandSelect(q,I);}return q;};
o.prototype.initialize=function(){if(this.isResolved()){if(this.getRootBinding().isSuspended()){this.sResumeChangeReason=this.sChangeReason==="AddVirtualContext"?g.Change:g.Refresh;}else if(this.sChangeReason==="AddVirtualContext"){this._fireChange({detailedReason:"AddVirtualContext",reason:g.Change});}else{this.sChangeReason=g.Refresh;this._fireRefresh({reason:g.Refresh});}}};
o.prototype.isFirstCreateAtEnd=function(){return this.bFirstCreateAtEnd;};
o.prototype.isKeepAliveBindingFor=function(P){return this.mParameters.$$getKeepAliveContext&&this.getResolvedPath()===P&&(!this.isRootBindingSuspended()||this.aContexts.length||Object.keys(this.mPreviousContextsByPath).length);};
o.prototype.isLengthFinal=function(){return this.bLengthFinal;};
o.prototype.refreshInternal=function(r,G,q,K){var t=this;function v(i){return i.map(function(w){if(w.bIsBeingDestroyed||w.getContext().isKeepAlive()&&w.hasPendingChanges()){return;}return w.refreshInternal(r,G,false,K);});}if(this.isRootBindingSuspended()){this.refreshSuspended(G);this.bRefreshKeptElements=true;return S.all(v(t.getDependentBindings()));}this.createReadGroupLock(G,this.isRoot());return this.oCachePromise.then(function(w){var A=t.iActiveContexts,x=t.iCreatedContexts,y=t.aContexts.slice(0,x),D,z,P=t.oRefreshPromise;if(w&&!P){t.removeCachesAndMessages(r);t.fetchCache(t.oContext,false,true,K?G:undefined);z=t.refreshKeptElements(G);if(t.iCurrentEnd>0){P=t.createRefreshPromise().catch(function(E){if(!K||E.canceled){throw E;}return t.fetchResourcePath(t.oContext).then(function(R){var i;if(!t.bRelative||w.getResourcePath()===R){if(t.oCache===w){w.restore(true);}else{w.setActive(true);t.oCache=w;t.oCachePromise=S.resolve(w);}t.iActiveContexts=A;t.iCreatedContexts=x;for(i=0;i<x;i+=1){y[i].iIndex=i-x;delete t.mPreviousContextsByPath[y[i].getPath()];}t.aContexts=y;t._fireChange({reason:g.Change});}throw E;});}).finally(function(){if(w.restore){w.restore(false);}});}}D=t.getDependentBindings();t.reset(g.Refresh,K?false:undefined,G);return S.all(v(D).concat(P,z)).then(function(){return t.oHeaderContext.checkUpdateInternal();});});};
o.prototype.refreshKeptElements=function(G){var t=this;return this.oCachePromise.then(function(i){return i.refreshKeptElements(t.lockGroup(G),function q(P,I){if(I===undefined){t.mPreviousContextsByPath[t.getResolvedPath()+P].resetKeepAlive();}else{t.destroyCreated(t.aContexts[I]);}});}).catch(function(E){t.oModel.reportError("Failed to refresh kept-alive elements",s,E);throw E;});};
o.prototype.refreshSingle=function(q,G,A){var r=q.getPath(),R=r.slice(1),t=this;if(q===this.oHeaderContext){throw new Error("Unsupported header context: "+q);}return this.withCache(function(v,P,w){var D=false,x=false,K=q.isKeepAlive(),y=e.getRelativePath(r,t.oHeaderContext.getPath()),z=[];function E(i){if(D){t.fireDataReceived(i);}}function H(){D=true;t.fireDataRequested();}function I(J){var M=q.getModelIndex(),i;if(q.created()){t.destroyCreated(q);x=true;}else{if(M===undefined){delete t.mPreviousContextsByPath[r];}else{t.aContexts.splice(M,1);t.iMaxLength-=1;for(i=M;i<t.aContexts.length;i+=1){if(t.aContexts[i]){t.aContexts[i].iIndex-=1;}}if(J){t.mPreviousContextsByPath[r]=q;}}if(!J){x=true;q.destroy();}}if(M!==undefined){t._fireChange({reason:g.Remove});}}z.push((A?v.refreshSingleWithRemove(G,P,q.getModelIndex(),y,K,H,I):v.refreshSingle(G,P,q.getModelIndex(),y,K,H)).then(function(){var U=[];E({data:{}});w.assertSameCache(v);if(!x){U.push(q.checkUpdateInternal());if(A){U.push(q.refreshDependentBindings(R,G.getGroupId()));}}return S.all(U);},function(i){E({error:i});throw i;}).catch(function(i){G.unlock(true);t.oModel.reportError("Failed to refresh entity: "+q,s,i);if(!i.canceled){throw i;}}));if(!A){z.push(q.refreshDependentBindings(R,G.getGroupId()));}return S.all(z);});};
o.prototype.requestContexts=function(i,q,G){var t=this;if(!this.isResolved()){throw new Error("Unresolved binding: "+this.sPath);}this.checkSuspended();this.oModel.checkGroupId(G);i=i||0;q=q||this.oModel.iSizeLimit;return Promise.resolve(this.fetchContexts(i,q,0,this.lockGroup(G,true))).then(function(r){if(r){t._fireChange({reason:g.Change});}return t.getContextsInViewOrder(i,q);},function(E){t.oModel.reportError("Failed to get contexts for "+t.oModel.sServiceUrl+t.getResolvedPath().slice(1)+" with start index "+i+" and length "+q,s,E);throw E;});};
o.prototype.requestDownloadUrl=e.createRequestMethod("fetchDownloadUrl");
o.prototype.requestFilterForMessages=function(i){var M=this.oModel.getMetaModel(),q,r=this.oHeaderContext&&this.oHeaderContext.getPath(),t=this;if(!r){return Promise.resolve(null);}q=e.getMetaPath(r);return M.requestObject(q+"/").then(function(E){var v,P={};t.oModel.getMessagesByPath(r,true).filter(function(w){return!i||i(w);}).forEach(function(w){w.getTargets().forEach(function(T){var x=T.slice(r.length).split("/")[0];if(x&&!x.startsWith("($uid=")){P[x]=true;}});});v=Object.keys(P).map(function(w){return o.getFilterForPredicate(w,E,M,q);});if(v.length===0){return null;}return v.length===1?v[0]:new F({filters:v});});};
o.prototype.requestSideEffects=function(G,P,i){var q,M,r=this.oModel,N={},t,v,R=this.oHeaderContext.getPath().length,w=i&&i!==this.oHeaderContext,x=this;function y(z){return z.catch(function(E){r.reportError("Failed to request side effects",s,E);if(!E.canceled){throw E;}});}if(this.mParameters.$$aggregation){if(w){throw new Error("Must not request side effects for a context of a binding with $$aggregation");}if(b.isAffected(this.mParameters.$$aggregation,this.aFilters.concat(this.aApplicationFilters),P)){return this.refreshInternal("",G,false,true);}return S.resolve();}if(P.indexOf("")<0){if(w){q=[i];}else{q=this.getCurrentContexts().filter(function(z){return!z.isTransient();});Object.keys(this.mPreviousContextsByPath).forEach(function(z){var A=x.mPreviousContextsByPath[z];if(A.isKeepAlive()){q.push(A);}});}t=q.map(function(i){return i.getPath().slice(R);});M=t.some(function(z){return z[0]!=="(";});if(!M){v=this.oCache?[this.oCache.requestSideEffects(this.lockGroup(G),P,N,t,w)]:[];this.visitSideEffects(G,P,w?i:undefined,N,v);return S.all(v.map(y)).then(function(){return x.refreshDependentListBindingsWithoutCache();});}}if(w){return this.refreshSingle(i,this.lockGroup(G),false);}if(this.iCurrentEnd===0){return S.resolve();}return this.refreshInternal("",G,false,true);};
o.prototype.reset=function(q,D,G){var r,t=0,E=this.iCurrentEnd===0,K=G&&G!==this.getUpdateGroupId(),i,v=this;if(D===true){this.iActiveContexts=0;this.iCreatedContexts=0;}if(this.aContexts){this.aContexts.slice(this.iCreatedContexts).forEach(function(r){v.mPreviousContextsByPath[r.getPath()]=r;});for(i=0;i<this.iCreatedContexts;i+=1){r=this.aContexts[i];if(D===false?K&&r.isTransient()||r.isInactive()!==undefined:r.isTransient()){this.aContexts[t]=r;t+=1;}else{this.iActiveContexts-=1;this.mPreviousContextsByPath[r.getPath()]=r;}}for(i=0;i<t;i+=1){this.aContexts[i].iIndex=i-t;}this.aContexts.length=this.iCreatedContexts=t;}else{this.aContexts=[];}if(!this.iCreatedContexts){this.bFirstCreateAtEnd=undefined;}this.iCurrentBegin=this.iCurrentEnd=0;this.iMaxLength=Infinity;this.bLengthFinal=false;if(q&&!(E&&q===g.Change)){this.sChangeReason=q;this._fireRefresh({reason:q});}};
o.prototype.resetKeepAlive=function(){var P=this.mPreviousContextsByPath;function r(i){if(i.isKeepAlive()){i.resetKeepAlive();}}Object.keys(P).forEach(function(i){r(P[i]);});this.aContexts.forEach(r);};
o.prototype.restoreCreated=function(){var t=this;this.withCache(function(q,P){q.getCreatedElements(P).forEach(function(E,i){t.aContexts[i]=e.getPrivateAnnotation(E,"context");t.bFirstCreateAtEnd=e.getPrivateAnnotation(E,"firstCreateAtEnd");t.iCreatedContexts+=1;if(!E["@$ui5.context.isInactive"]){t.iActiveContexts+=1;}});}).catch(this.oModel.getReporter());};
o.prototype.resumeInternal=function(i,P){var q=this.getDependentBindings(),r=this.sResumeChangeReason,R=P||r,t=this;this.sResumeChangeReason=undefined;if(R){this.removeCachesAndMessages("");this.reset();this.fetchCache(this.oContext,!P);if(this.bRefreshKeptElements){this.bRefreshKeptElements=false;t.refreshKeptElements(t.getGroupId());}}q.forEach(function(D){D.resumeInternal(!R,!!r&&!D.oContext.isKeepAlive());});if(this.sChangeReason==="AddVirtualContext"){this._fireChange({detailedReason:"AddVirtualContext",reason:r});}else if(r){this._fireRefresh({reason:r});}this.oHeaderContext.checkUpdate();};
o.prototype.setAggregation=function(A){var P;function i(q){return q.some(function(r){return r&&r.isKeepAlive();});}if(this.hasPendingChanges()){throw new Error("Cannot set $$aggregation due to pending changes");}if(i(this.aContexts)||i(Object.values(this.mPreviousContextsByPath))){throw new Error("Cannot set $$aggregation due to a kept-alive context");}P=Object.assign({},this.mParameters);if(A===undefined){delete P.$$aggregation;}else{P.$$aggregation=e.clone(A);this.resetKeepAlive();}this.applyParameters(P,"");};
o.prototype.setContext=function(i){var r;if(this.oContext!==i){if(this.bRelative){this.checkSuspended(true);this.reset(undefined,true);this.resetKeepAlive();this.fetchCache(i);if(i){this.restoreCreated();r=this.oModel.resolve(this.sPath,i);if(this.oHeaderContext&&this.oHeaderContext.getPath()!==r){this.mPreviousContextsByPath[this.oHeaderContext.getPath()]=this.oHeaderContext;this.oHeaderContext=null;}if(!this.oHeaderContext){this.oHeaderContext=C.create(this.oModel,this,r);}if(this.bHasPathReductionToParent&&this.oModel.bAutoExpandSelect&&!this.mParameters.$$aggregation){this.sChangeReason="AddVirtualContext";}if(i.getBinding&&i.getBinding().getRootBinding().isSuspended()){this.oContext=i;this.setResumeChangeReason(g.Context);return;}}B.prototype.setContext.call(this,i,{detailedReason:this.sChangeReason});}else{this.oContext=i;}}};
o.prototype.sort=function(v){var i=e.toArray(v);if(this.sOperationMode!==O.Server){throw new Error("Operation mode has to be sap.ui.model.odata.OperationMode.Server");}if(e.deepEqual(i,this.aSorters)){return this;}if(this.hasPendingChanges(true)){throw new Error("Cannot sort due to pending changes");}this.aSorters=i;if(this.isRootBindingSuspended()){this.setResumeChangeReason(g.Sort);return this;}this.createReadGroupLock(this.getGroupId(),true);this.removeCachesAndMessages("");this.fetchCache(this.oContext);this.reset(g.Sort);if(this.oHeaderContext){this.oHeaderContext.checkUpdate();}return this;};
o.prototype.updateAnalyticalInfo=function(A){var i={aggregate:{},group:{},search:this.mParameters.$$aggregation&&this.mParameters.$$aggregation.search},H=false,t=this;A.forEach(function(q){var D={};if("total"in q){if("grouped"in q){throw new Error("Both dimension and measure: "+q.name);}if(q.as){D.name=q.name;i.aggregate[q.as]=D;}else{i.aggregate[q.name]=D;}if(q.min){D.min=true;H=true;}if(q.max){D.max=true;H=true;}if(q.with){D.with=q.with;}}else if(!("grouped"in q)||q.inResult||q.visible){i.group[q.name]=D;}});this.bHasAnalyticalInfo=true;this.setAggregation(i);if(H){return{measureRangePromise:Promise.resolve(this.getRootBindingResumePromise().then(function(){return t.oCachePromise;}).then(function(q){return q.getMeasureRangePromise();}))};}};
o.getFilterForPredicate=function(P,E,M,i){var q,v=f.parseKeyPredicate(P);if(""in v){v[E.$Key[0]]=v[""];delete v[""];}q=E.$Key.map(function(K){var r,t;if(typeof K==="string"){t=r=K;}else{r=Object.keys(K)[0];t=K[r];}return new F(t,h.EQ,e.parseLiteral(decodeURIComponent(v[r]),M.getObject(i+"/"+t+"/$Type"),t));});return q.length===1?q[0]:new F({and:true,filters:q});};
return o;});
sap.ui.predefine('sap/ui/model/odata/v4/ODataMetaModel',["./AnnotationHelper","./ValueListType","./lib/_Helper","sap/base/assert","sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/JSTokenizer","sap/base/util/ObjectPath","sap/ui/base/ManagedObject","sap/ui/base/SyncPromise","sap/ui/model/BindingMode","sap/ui/model/ChangeReason","sap/ui/model/ClientListBinding","sap/ui/model/Context","sap/ui/model/ContextBinding","sap/ui/model/MetaModel","sap/ui/model/PropertyBinding","sap/ui/model/odata/OperationMode","sap/ui/model/odata/type/Boolean","sap/ui/model/odata/type/Byte","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/Decimal","sap/ui/model/odata/type/Double","sap/ui/model/odata/type/Guid","sap/ui/model/odata/type/Int16","sap/ui/model/odata/type/Int32","sap/ui/model/odata/type/Int64","sap/ui/model/odata/type/Raw","sap/ui/model/odata/type/SByte","sap/ui/model/odata/type/Single","sap/ui/model/odata/type/Stream","sap/ui/model/odata/type/String","sap/ui/model/odata/type/TimeOfDay","sap/ui/thirdparty/URI"],function(A,V,_,a,L,b,J,O,M,S,B,C,c,d,f,g,P,h,k,l,E,D,m,o,G,I,p,q,R,r,s,t,u,T,U){"use strict";var v=M.extend("sap.ui.model.odata.v4._any",{metadata:{properties:{any:"any"}}}),w,x=new Map(),y=L.Level.DEBUG,z=/\$\(/g,F=/^-?\d+$/,H="sap.ui.model.odata.v4.ODataMetaModel",K=/\(.*\)$/,N=new R(),Q=/\$\)/g,W=new Map(),X={messageChange:true},Y={"Edm.Boolean":{Type:k},"Edm.Byte":{Type:l},"Edm.Date":{Type:E},"Edm.DateTimeOffset":{constraints:{$Precision:"precision"},Type:D},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},Type:m},"Edm.Double":{Type:o},"Edm.Guid":{Type:G},"Edm.Int16":{Type:I},"Edm.Int32":{Type:p},"Edm.Int64":{Type:q},"Edm.SByte":{Type:r},"Edm.Single":{Type:s},"Edm.Stream":{Type:t},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength"},Type:u},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},Type:T}},Z={},$="@com.sap.vocabularies.Common.v1.ValueList",a1="@com.sap.vocabularies.Common.v1.ValueListMapping",b1="@com.sap.vocabularies.Common.v1.ValueListReferences",c1="@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers",d1="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues",e1=L.Level.WARNING,f1,g1=g.extend("sap.ui.model.odata.v4.ODataMetaModel",{constructor:r1}),h1,i1;
function j1(e,i,j,n){var s1,t1=e.mSchema2MetadataUrl[i];if(!t1){t1=e.mSchema2MetadataUrl[i]={};t1[j]=false;}else if(!(j in t1)){s1=Object.keys(t1)[0];if(t1[s1]){p1(e,"A schema cannot span more than one document: "+i+" - expected reference URI "+s1+" but instead saw "+j,n);}t1[j]=false;}}
function k1(e,i,j,n){var s1,t1,u1,v1;function w1(x1){var y1,z1;if(!(j in x1)){n(e1,t1," does not contain ",j);return;}n(y,"Including ",j," from ",t1);for(z1 in x1){if(z1[0]!=="$"&&q1(z1)===j){y1=x1[z1];i[z1]=y1;o1(y1,i.$Annotations);}}}if(j in i){return i[j];}v1=e.mSchema2MetadataUrl[j];if(v1){u1=Object.keys(v1);if(u1.length>1){p1(e,"A schema cannot span more than one document: "+"schema is referenced by following URLs: "+u1.join(", "),j);}t1=u1[0];v1[t1]=true;n(y,"Namespace ",j," found in $Include of ",t1);s1=e.mMetadataUrl2Promise[t1];if(!s1){n(y,"Reading ",t1);s1=e.mMetadataUrl2Promise[t1]=S.resolve(e.oRequestor.read(t1)).then(e.validate.bind(e,t1));}s1=s1.then(w1);if(j in i){return i[j];}i[j]=s1;return s1;}}
function l1(e,i){if(e===i){return"";}if(e.startsWith(i)&&e[i.length]==="#"&&!e.includes("@",i.length)){return e.slice(i.length+1);}}
function m1(e){var i=l1(e,a1);return i!==undefined?i:l1(e,$);}
function n1(n,e){return e.some(function(i){return n==="$ReturnType"?i.$ReturnType:i.$Parameter&&i.$Parameter.some(function(j){return j.$Name===n;});});}
function o1(e,i,j){var n;function s1(t1,u1){var v1;for(v1 in u1){if(j||!(v1 in t1)){t1[v1]=u1[v1];}}}for(n in e.$Annotations){if(!(n in i)){i[n]={};}s1(i[n],e.$Annotations[n]);}delete e.$Annotations;}
function p1(e,i,j){var n=new Error(j+": "+i);e.oModel.reportError(i,H,n);throw n;}
function q1(e){return e.slice(0,e.lastIndexOf(".")+1);}
f1=f.extend("sap.ui.model.odata.v4.ODataMetaContextBinding",{constructor:function(e,i,j){a(!j||j.getModel()===e,"oContext must belong to this model");f.call(this,e,i,j);},initialize:function(){var e=this.oModel.createBindingContext(this.sPath,this.oContext);this.bInitial=false;if(e!==this.oElementContext){this.oElementContext=e;this._fireChange();}},setContext:function(e){a(!e||e.getModel()===this.oModel,"oContext must belong to this model");if(e!==this.oContext){this.oContext=e;if(!this.bInitial){this.initialize();}}}});h1=c.extend("sap.ui.model.odata.v4.ODataMetaListBinding",{constructor:function(){c.apply(this,arguments);},_fireFilter:function(){},_fireSort:function(){},checkUpdate:function(e){var i=this.oList.length;this.update();if(e||this.oList.length!==i){this._fireChange({reason:C.Change});}},fetchContexts:function(){var i,e=this.getResolvedPath(),j=this;if(!e){return S.resolve([]);}i=e.endsWith("@");if(!i&&!e.endsWith("/")){e+="/";}return this.oModel.fetchObject(e).then(function(n){if(!n){return[];}if(i){e=e.slice(0,-1);}return Object.keys(n).filter(function(s1){return s1[0]!=="$"&&i!==(s1[0]!=="@");}).map(function(s1){return new d(j.oModel,e+s1);});});},getContexts:function(i,e){this.iCurrentStart=i||0;this.iCurrentLength=Math.min(e||Infinity,this.iLength-this.iCurrentStart);return this.getCurrentContexts();},getCurrentContexts:function(){var e=[],i,n=this.iCurrentStart+this.iCurrentLength;for(i=this.iCurrentStart;i<n;i+=1){e.push(this.oList[this.aIndices[i]]);}if(this.oList.dataRequested){e.dataRequested=true;}return e;},setContexts:function(e){this.oList=e;this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength();},update:function(){var e=[],i=this.fetchContexts(),j=this;if(i.isFulfilled()){e=i.getResult();}else{i.then(function(e){j.setContexts(e);j._fireChange({reason:C.Change});});e.dataRequested=true;}this.setContexts(e);}});i1=P.extend("sap.ui.model.odata.v4.ODataMetaPropertyBinding",{constructor:function(){P.apply(this,arguments);this.vValue=undefined;},checkUpdate:function(e,i){var j,n=this;function s1(t1){if(e||t1!==n.vValue){n.vValue=t1;n._fireChange({reason:i||C.Change});}return t1;}j=this.oModel.fetchObject(this.sPath,this.oContext,this.mParameters).then(s1);if(this.mParameters&&this.mParameters.$$valueAsPromise&&j.isPending()){s1(j.unwrap());}else if(j.isRejected()){j.unwrap();}},getValue:function(){return this.vValue;},setContext:function(e){if(this.oContext!==e){this.oContext=e;if(this.bRelative){this.checkUpdate(false,C.Context);}}},setValue:function(){throw new Error("Unsupported operation: ODataMetaPropertyBinding#setValue");}});
function r1(e,i,j,n,s1){g.call(this);this.aAnnotationUris=j&&!Array.isArray(j)?[j]:j;this.sDefaultBindingMode=B.OneTime;this.mETags={};this.oLastModified=new Date(0);this.oMetadataPromise=null;this.oModel=n;this.mMetadataUrl2Promise={};this.oRequestor=e;this.mSchema2MetadataUrl={};this.mSupportedBindingModes={OneTime:true,OneWay:true};this.bSupportReferences=s1!==false;this.mUnsupportedFilterOperators={All:true,Any:true};this.sUrl=i;}
g1.prototype.$$valueAsPromise=true;
g1.prototype._mergeAnnotations=function(e,j){var n=this;this.validate(this.sUrl,e);e.$Annotations={};Object.keys(e).forEach(function(i){if(e[i].$kind==="Schema"){j1(n,i,n.sUrl);o1(e[i],e.$Annotations);}});j.forEach(function(s1,i){var t1,u1;n.validate(n.aAnnotationUris[i],s1);for(u1 in s1){if(u1[0]!=="$"){if(u1 in e){p1(n,"A schema cannot span more than one document: "+u1,n.aAnnotationUris[i]);}t1=s1[u1];e[u1]=t1;if(t1.$kind==="Schema"){j1(n,u1,n.aAnnotationUris[i]);o1(t1,e.$Annotations,true);}}}});};
g1.prototype.attachEvent=function(e,i,j,n){if(!(e in X)){throw new Error("Unsupported event '"+e+"': v4.ODataMetaModel#attachEvent");}return g.prototype.attachEvent.apply(this,arguments);};
g1.prototype.bindContext=function(e,i){return new f1(this,e,i);};
g1.prototype.bindList=function(e,i,j,n){return new h1(this,e,i,j,n);};
g1.prototype.bindProperty=function(e,i,j){return new i1(this,e,i,j);};
g1.prototype.bindTree=function(e,i,j,n,s1){throw new Error("Unsupported operation: v4.ODataMetaModel#bindTree");};
g1.prototype.fetchCanonicalPath=function(e){return this.fetchUpdateData("",e).then(function(i){if(!i.editUrl){throw new Error(e.getPath()+": No canonical path for transient entity");}if(i.propertyPath){throw new Error("Context "+e.getPath()+" does not point to an entity. It should be "+i.entityPath);}return"/"+i.editUrl;});};
g1.prototype.fetchData=function(){return this.fetchEntityContainer().then(function(e){return JSON.parse(JSON.stringify(e));});};
g1.prototype.fetchEntityContainer=function(e){var i,j=this;if(!this.oMetadataPromise){i=[S.resolve(this.oRequestor.read(this.sUrl,false,e))];if(this.aAnnotationUris){this.aAnnotationUris.forEach(function(n){i.push(S.resolve(j.oRequestor.read(n,true,e)));});}if(!e){this.oMetadataPromise=S.all(i).then(function(n){var s1=n[0];j._mergeAnnotations(s1,n.slice(1));return s1;});}}return this.oMetadataPromise;};
g1.prototype.fetchObject=function(j,n,s1){var t1=this.resolve(j,n),u1=this;if(!t1){L.error("Invalid relative path w/o context",j,H);return S.resolve(null);}return this.fetchEntityContainer().then(function(v1){var w1,x1,y1,z1,A1,B1,C1,D1,E1,F1;function G1(e,i,O1){var P1,Q1,R1,S1,T1="";if(i){Q1=i.indexOf("@@");if(Q1>0){i=i.slice(0,Q1);}}else{i=e;}O1=O1||"";if(w1){C1=S1=F1.filter(J1);if(S1.length!==1){return K1(e1,"Expected a single overload, but found "+S1.length);}if(w1!==Z){T1=S1[0].$Parameter[0].$isCollection?"Collection("+w1+")":w1;}R1=E1+"("+T1+")"+O1;if(v1.$Annotations[R1]){if(i==="@"){F1=v1.$Annotations[R1];P1=v1.$Annotations[E1+O1];if(P1){F1=Object.assign({},P1,F1);}return false;}if(i in v1.$Annotations[R1]){E1=R1;F1=v1;return true;}}}E1+=O1;F1=v1;return true;}function H1(i,j){var O1,P1,Q1,R1=i.indexOf("@",2);if(R1>-1){return K1(e1,"Unsupported path after ",i.slice(0,R1));}i=i.slice(2);Q1=i.indexOf("(");if(Q1>0){if(!i.endsWith(")")){return K1(e1,"Expected ')' instead of '",i.slice(-1),"'");}try{P1=J.parseJS("["+i.slice(Q1+1,-1).replace(z,"{").replace(Q,"}")+"]");}catch(e){return K1(e1,e.message,": ",e.text.slice(1,e.at),"<--",e.text.slice(e.at,-1));}i=i.slice(0,Q1);}O1=i[0]==="."?O.get(i.slice(1),s1.scope):s1&&O.get(i,s1.scope)||(i==="requestCurrencyCodes"||i==="requestUnitsOfMeasure"?u1[i].bind(u1):O.get(i));if(typeof O1!=="function"){return K1(e1,i," is not a function but: "+O1);}try{F1=O1(F1,{$$valueAsPromise:s1&&s1.$$valueAsPromise,arguments:P1,context:new d(u1,j),schemaChildName:D1,overload:C1.length===1?C1[0]:undefined});}catch(e){K1(e1,"Error calling ",i,": ",e);}return true;}function I1(e,i){var O1;if(e==="$ReturnType"){if(i.$ReturnType){F1=i.$ReturnType;return true;}}else if(e&&i.$Parameter){O1=i.$Parameter.filter(function(P1){return P1.$Name===e;});if(O1.length){F1=O1[0];return true;}}return false;}function J1(e){return!e.$IsBound&&w1===Z||e.$IsBound&&w1===e.$Parameter[0].$Type;}function K1(i){var e;if(L.isLoggable(i,H)){e=Array.isArray(z1)?z1.join("/"):z1;L[i===y?"debug":"warning"](Array.prototype.slice.call(arguments,1).join("")+(e?" at /"+e:""),t1,H);}if(i===e1){F1=undefined;}return false;}function L1(e,i){var O1;function P1(){z1=z1||E1&&i&&E1+"/"+i;return K1.apply(this,arguments);}w1=F1&&F1.$Type||w1;if(u1.bSupportReferences&&!(e in v1)){O1=q1(e);F1=k1(u1,v1,O1,P1);}if(e in v1){E1=A1=D1=e;F1=C1=v1[D1];if(!S.isThenable(F1)){return true;}}if(S.isThenable(F1)&&F1.isPending()){return P1(y,"Waiting for ",O1);}return P1(e1,"Unknown qualified name ",e);}function M1(e,i,O1){var P1,Q1,R1;if(e==="$Annotations"){return K1(e1,"Invalid segment: $Annotations");}e=e.replaceAll("%2F","/");if(i&&typeof F1==="object"&&e in F1){if(e[0]==="$"||F.test(e)){B1=false;}}else{P1=e.indexOf("@@");if(P1<0){if(e.endsWith("@sapui.name")){P1=e.length-11;}else{P1=e.indexOf("@");}}if(P1>0){if(!M1(e.slice(0,P1),i,O1)){return false;}e=e.slice(P1);R1=true;if(F1&&(F1.$kind==="EntitySet"||F1.$kind==="Singleton")){x1=F1;}}if(typeof F1==="string"&&!(R1&&(e==="@sapui.name"||e[1]==="@"))&&!(B1&&C1&&C1.$kind==="EnumType")&&!N1(F1,O1.slice(0,i))){return false;}if(B1){if(e[0]==="$"&&e!=="$Parameter"&&e!=="$ReturnType"||F.test(e)){B1=false;}else{Q1=typeof F1==="object";if(R1){}else if(e[0]!=="@"&&e.includes(".",1)){return L1(e);}else if(Q1&&"$Type"in F1){if(!L1(F1.$Type,"$Type")){return false;}}else if(Q1&&"$Action"in F1){if(!L1(F1.$Action,"$Action")){return false;}w1=Z;}else if(Q1&&"$Function"in F1){if(!L1(F1.$Function,"$Function")){return false;}w1=Z;}else if(!i){E1=A1=D1=D1||v1.$EntityContainer;F1=C1=C1||v1[D1];if(Array.isArray(F1)){if(w1){F1=F1.filter(J1);}if(I1(e,F1[0])){return true;}}if(e&&e[0]!=="@"&&!(e in C1)){return K1(e1,"Unknown child ",e," of ",D1);}}if(Array.isArray(F1)){if(e==="$Parameter"){return true;}if(e.startsWith("@$ui5.overload@")){e=e.slice(14);R1=true;}if(R1){if(e[1]!=="@"&&!G1(e)){return false;}}else{if(e!==O1[i]&&O1[i][e.length+1]!=="@"&&n1(e,F1)){A1=e;return G1(e,O1[i].slice(e.length),"/"+A1);}if(w1){F1=F1.filter(J1);}if(e==="@$ui5.overload"){return true;}if(F1.length!==1){return K1(e1,"Expected a single overload, but found "+F1.length);}if(I1(e,F1[0])){return true;}F1=F1[0].$ReturnType;E1+="/0/$ReturnType";if(F1){if(e==="value"&&!(v1[F1.$Type]&&v1[F1.$Type].value)){A1=undefined;return true;}if(!L1(F1.$Type,"$Type")){return false;}}if(!e){return true;}}}}}if(!e){return i+1>=O1.length||K1(e1,"Invalid empty segment");}if(e[0]==="@"){if(e==="@sapui.name"){F1=A1;if(F1===undefined){K1(e1,"Unsupported path before @sapui.name");}else if(i+1<O1.length){K1(e1,"Unsupported path after @sapui.name");}return false;}if(e[1]==="@"){if(i+1<O1.length){return K1(e1,"Unsupported path after ",e);}return H1(e,[""].concat(O1.slice(0,i),O1[i].slice(0,P1)).join("/"));}}if(B1&&e[0]==="@"){w1=F1&&F1.$Type||w1;F1=v1.$Annotations[E1]||{};B1=false;}else if(e==="$"&&i+1<O1.length){return K1(e1,"Unsupported path after $");}else if(!F1||typeof F1!=="object"){F1=undefined;return!y1&&K1(y,"Invalid segment: ",e);}}if(e!=="@"&&e!=="$"){if(e[0]==="@"){y1=true;}A1=B1||e[0]==="@"?e:undefined;E1=B1?E1+"/"+e:undefined;F1=F1[e];}return true;}function N1(e,i){var O1;if(z1){return K1(e1,"Invalid recursion");}z1=i;y1=false;B1=true;F1=v1;if(x1){if(!e){F1=x1;x1=z1=undefined;return true;}D1=x1.$Type;x1=C1=undefined;}O1=e.split("/").every(M1);z1=undefined;return O1;}if(!N1(t1.slice(1))&&S.isThenable(F1)){F1=F1.then(function(){return u1.fetchObject(j,n,s1);});}return F1;});};
g1.prototype.fetchUI5Type=function(e,i){var j=this.getMetaContext(e),n=this;if(e.endsWith("/$count")){w=w||new q();return S.resolve(w);}return this.fetchObject(undefined,j).catch(this.oModel.getReporter()).then(function(s1){var t1=N,u1;if(!s1){L.warning("No metadata for path '"+e+"', using "+t1.getName(),undefined,H);return t1;}if(i){if(b(i)){i=undefined;}else if("parseKeepsEmptyString"in i&&s1.$Type!=="Edm.String"){if(Object.keys(i).length===1){i=undefined;}else{i=Object.assign({},i);delete i.parseKeepsEmptyString;}}}if(!i&&s1["$ui5.type"]){return s1["$ui5.type"];}if(s1.$isCollection){L.warning("Unsupported collection type, using "+t1.getName(),e,H);}else{u1=Y[s1.$Type];if(u1){t1=new u1.Type(i,n.getConstraints(s1,j.getPath()));}else{L.warning("Unsupported type '"+s1.$Type+"', using "+t1.getName(),e,H);}}if(!i){s1["$ui5.type"]=t1;}return t1;});};
g1.prototype.fetchUpdateData=function(e,j,n){var s1=j.getModel(),t1=s1.resolve(e,j),u1=this;function v1(i){var w1=new Error(t1+": "+i);s1.reportError(i,H,w1);throw w1;}return this.fetchObject(_.getMetaPath(t1)).then(function(){return u1.fetchEntityContainer();}).then(function(w1){var x1,y1=w1[w1.$EntityContainer],z1,A1,B1,C1,D1=false,E1,F1,G1,H1;function I1(M1){var i=M1.indexOf("(");return i>=0?M1.slice(i):"";}function J1(i){x1.push({path:E1,prefix:i,type:H1});}function K1(M1){var i=M1.indexOf("(");return i>=0?M1.slice(0,i):M1;}function L1(i){if(i.includes("($uid=")){J1(K1(i));}else{x1.push(i);}}G1=t1.slice(1).split("/");C1=G1.shift();E1="/"+C1;z1=E1;B1=decodeURIComponent(K1(C1));A1=y1[B1];if(!A1){v1("Not an entity set: "+B1);}H1=w1[A1.$Type];e="";F1="";x1=[];L1(C1);G1.forEach(function(i){var M1,N1;E1+="/"+i;if(F.test(i)){J1(x1.pop());z1+="/"+i;}else{N1=decodeURIComponent(K1(i));F1=_.buildPath(F1,N1);M1=D1?{}:H1[N1];if(!M1){if(N1.includes("@")){if(N1.includes("@$ui5.")){v1("Read-only path must not be updated");}D1=true;M1={};}else{v1("Not a (navigation) property: "+N1);}}H1=w1[M1.$Type];if(M1.$kind==="NavigationProperty"){if(A1.$NavigationPropertyBinding&&F1 in A1.$NavigationPropertyBinding){B1=A1.$NavigationPropertyBinding[F1];A1=y1[B1];F1="";x1=[encodeURIComponent(B1)+I1(i)];if(!M1.$isCollection){J1(x1.pop());}}else{L1(i);}z1=E1;e="";}else{e=_.buildPath(e,i);}}});if(n){return S.resolve({editUrl:undefined,entityPath:z1,propertyPath:e});}return S.all(x1.map(function(i){if(typeof i==="string"){return i;}return j.fetchValue(i.path).then(function(M1){var N1;if(!M1){v1("No instance to calculate key predicate at "+i.path);}if(M1["@$ui5.context.isTransient"]){n=true;return undefined;}N1=_.getPrivateAnnotation(M1,"predicate");if(!N1){v1("No key predicate known at "+i.path);}return i.prefix+N1;},function(M1){v1(M1.message+" at "+i.path);});})).then(function(i){return{editUrl:n?undefined:i.join("/"),entityPath:z1,propertyPath:e};});});};
g1.prototype.fetchValueListMappings=function(e,i,j,n){var s1=this,t1=e.getMetaModel();function u1(){var v1=n[0],w1="";if(n.length!==1){throw new Error("Expected a single overload, but found "+n.length);}if(v1.$IsBound){w1=v1.$Parameter[0].$isCollection?"Collection("+v1.$Parameter[0].$Type+")":v1.$Parameter[0].$Type;}return i+"("+w1+")";}return t1.fetchEntityContainer().then(function(v1){var w1,x1=v1.$Annotations,y1,z1=_.namespace(i),A1={},B1=s1===t1,C1,D1;if(j.$Name){y1=u1()+"/"+j.$Name;D1=i+"/"+j.$Name;}C1=Object.keys(x1).filter(function(E1){if(_.namespace(E1)===z1){if(y1?E1===y1||E1===D1:s1.getObject("/"+E1)===j){return true;}if(B1||D1&&_.getMetaPath(E1)===D1){return false;}throw new Error("Unexpected annotation target '"+E1+"' with namespace of data service in "+e.sServiceUrl);}return false;});if(!C1.length){throw new Error("No annotation '"+$.slice(1)+"' in "+e.sServiceUrl);}if(C1.length===1){w1=x1[C1[0]];}else{w1=Object.assign({},x1[D1],x1[y1]);}Object.keys(w1).forEach(function(E1){var F1=m1(E1);if(F1!==undefined){A1[F1]=w1[E1];["CollectionRoot","SearchSupported"].forEach(function(G1){if(G1 in w1[E1]){throw new Error("Property '"+G1+"' is not allowed in annotation '"+E1.slice(1)+"' for target '"+C1[0]+"' in "+e.sServiceUrl);}});}else if(!B1){throw new Error("Unexpected annotation '"+E1.slice(1)+"' for target '"+C1[0]+"' with namespace of data service in "+e.sServiceUrl);}});return A1;});};
g1.prototype.fetchValueListType=function(e){var i=this.getMetaContext(e),j=this;return this.fetchObject(undefined,i).then(function(n){var s1,t1;if(!n){throw new Error("No metadata for "+e);}s1=j.getObject("@",i);if(s1[d1]){return V.Fixed;}for(t1 in s1){if(l1(t1,b1)!==undefined||l1(t1,a1)!==undefined){return V.Standard;}if(l1(t1,$)!==undefined){return s1[t1].SearchSupported===false?V.Fixed:V.Standard;}}return V.None;});};
g1.prototype.getAbsoluteServiceUrl=function(e){var i=new U(this.sUrl).absoluteTo(document.baseURI).pathname().toString();return new U(e).absoluteTo(i).filename("").toString();};
g1.prototype.getAllPathReductions=function(e,n,s1,t1){var u1=n.split("/").length,v1,w1={},x1=e.split("/"),y1=this;function z1(j,A1,B1,C1){var D1,E1,i;function F1(G1){if(!s1){z1(j,A1,i-1,true);}if(C1){A1=A1.slice();j=j.slice();}A1.splice(i,G1);j.splice(i,G1);if(!s1){w1[j.join("/")]=true;}}for(i=B1;i>=u1;i-=1){D1=F.test(j[i+1])?i+2:i+1;if(D1<j.length&&A1[i].$Partner===j[D1]&&!A1[D1].$isCollection&&A1[D1].$Partner===j[i].replace(K,"")){F1(D1-i+1);}else if(Array.isArray(A1[i])&&j[i+1]==="$Parameter"){E1=y1.getObject(_.getMetaPath(j.slice(0,i+1).join("/")+"/@$ui5.overload"));if(E1.length===1&&E1[0].$Parameter[0].$Name===j[i+2]){F1(3);}}else if(t1&&A1[i].$isCollection){break;}}}v1=x1.map(function(i,j){return j<u1||i[0]==="#"||i[0]==="@"||F.test(i)||i==="$Parameter"?{}:y1.getObject(_.getMetaPath(x1.slice(0,j+1).join("/")))||{};});w1[e]=true;if(!(t1&&v1[x1.length-1].$isCollection)){z1(x1,v1,x1.length-2);}return s1?x1.join("/"):Object.keys(w1);};
g1.prototype.getConstraints=function(e,i){var j,n,s1,t1=Y[e.$Type];function u1(v1,w1){if(w1!==undefined){n=n||{};n[v1]=w1;}}if(t1){s1=t1.constraints;for(j in s1){u1(s1[j],j[0]==="@"?this.getObject(i+j):e[j]);}if(e.$Nullable===false){u1("nullable",false);}}return n;};
g1.prototype.getData=_.createGetMethod("fetchData");
g1.prototype.getETags=function(){return this.mETags;};
g1.prototype.getLastModified=function(){return this.oLastModified;};
g1.prototype.getMetaContext=function(e){return new d(this,_.getMetaPath(e));};
g1.prototype.getMetaPath=function(e){return _.getMetaPath(e);};
g1.prototype.getObject=_.createGetMethod("fetchObject");
g1.prototype.getOrCreateSharedModel=function(e,i,j){var n,s1;e=this.getAbsoluteServiceUrl(e);n=!!j+e;s1=W.get(n);if(!s1){s1=new this.oModel.constructor({autoExpandSelect:j,groupId:i,httpHeaders:this.oModel.getHttpHeaders(),operationMode:h.Server,serviceUrl:e,sharedRequests:true,synchronizationMode:"None"});W.set(n,s1);}return s1;};
g1.prototype.getOriginalProperty=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#getOriginalProperty");};
g1.prototype.getProperty=g1.prototype.getObject;
g1.prototype.getReducedPath=function(e,i){return this.getAllPathReductions(e,i,true,true);};
g1.prototype.getUI5Type=_.createGetMethod("fetchUI5Type",true);
g1.prototype.getUnitOrCurrencyPath=function(e){var i=this.getObject("@",this.getMetaContext(e)),j=i&&(i["@Org.OData.Measures.V1.Unit"]||i["@Org.OData.Measures.V1.ISOCurrency"]);return j&&j.$Path;};
g1.prototype.getValueListType=_.createGetMethod("fetchValueListType",true);
g1.prototype.isList=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#isList");};
g1.prototype.refresh=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#refresh");};
g1.prototype.requestCodeList=function(e,i,j){var n=this.fetchEntityContainer().getResult(),s1=n[n.$EntityContainer],t1=this;if(j&&j.context){if(j.context.getModel()!==this||j.context.getPath()!=="/"){throw new Error("Unsupported context: "+j.context);}}if(i!==undefined&&i!==s1){throw new Error("Unsupported raw value: "+i);}return this.requestObject("/@com.sap.vocabularies.CodeList.v1."+e).then(function(u1){var v1,w1,x1,y1,z1;if(!u1){return null;}v1=t1.getAbsoluteServiceUrl(u1.Url)+"#"+u1.CollectionPath;y1=x.get(v1);if(y1){return y1;}x1=t1.getOrCreateSharedModel(u1.Url,"$direct");w1=x1.getMetaModel();z1="/"+u1.CollectionPath+"/";y1=w1.requestObject(z1).then(function(A1){var B1=z1+"@Org.OData.Core.V1.AlternateKeys",C1=w1.getObject(B1),D1,E1=M1(A1.$Key),F1=z1+E1+"@com.sap.vocabularies.Common.v1.",G1,H1,I1=z1+E1+"@com.sap.vocabularies.CodeList.v1.StandardCode/$Path",J1,K1;function L1(N1,O1){var P1=O1.getProperty(E1),Q1={Text:O1.getProperty(K1),UnitSpecificScale:O1.getProperty(H1)};if(J1){Q1.StandardCode=O1.getProperty(J1);}if(Q1.UnitSpecificScale===null){L.error("Ignoring customizing w/o unit-specific scale for code "+P1+" from "+u1.CollectionPath,u1.Url,H);}else{N1[P1]=Q1;}return N1;}function M1(N1){var O1;if(N1&&N1.length===1){O1=N1[0];}else{throw new Error("Single key expected: "+z1);}return typeof O1==="string"?O1:O1[Object.keys(O1)[0]];}if(C1){if(C1.length!==1){throw new Error("Single alternative expected: "+B1);}else if(C1[0].Key.length!==1){throw new Error("Single key expected: "+B1+"/0/Key");}E1=C1[0].Key[0].Name.$PropertyPath;}H1=w1.getObject(F1+"UnitSpecificScale/$Path");K1=w1.getObject(F1+"Text/$Path");G1=[E1,H1,K1];J1=w1.getObject(I1);if(J1){G1.push(J1);}D1=x1.bindList("/"+u1.CollectionPath,null,null,null,{$select:G1});return D1.requestContexts(0,Infinity).then(function(N1){if(!N1.length){L.error("Customizing empty for ",x1.sServiceUrl+u1.CollectionPath,H);}return N1.reduce(L1,{});}).finally(function(){D1.destroy();});});x.set(v1,y1);return y1;});};
g1.prototype.requestCurrencyCodes=function(e,i){return this.requestCodeList("CurrencyCodes",e,i);};
g1.prototype.requestData=_.createRequestMethod("fetchData");g1.prototype.requestObject=_.createRequestMethod("fetchObject");g1.prototype.requestUI5Type=_.createRequestMethod("fetchUI5Type");
g1.prototype.requestUnitsOfMeasure=function(e,i){return this.requestCodeList("UnitsOfMeasure",e,i);};
g1.prototype.requestValue4Annotation=function(e,i,j){var n=new v({any:A.value(e,{context:this.createBindingContext(i)}),bindingContexts:j,models:j.getModel()}),s1=n.getBinding("any"),t1;if(s1){if(s1.getBindings){t1=Promise.all(s1.getBindings().map(function(u1){return u1.requestValue();}));}else{t1=s1.requestValue();}}else{t1=Promise.resolve();}return t1.then(function(){return n.getAny();});};
g1.prototype.requestValueListInfo=function(e,j,n){var s1=_.getMetaPath(e),t1=s1.slice(0,s1.lastIndexOf("/")).replace("/$Parameter",""),u1=t1.slice(t1.lastIndexOf("/")+1),v1=this;if(!u1.includes(".")){u1=undefined;}return Promise.all([u1||this.requestObject(t1+"/@sapui.name"),this.requestObject(s1),this.requestObject(s1+"@"),this.requestObject(s1+d1),this.requestObject(t1+"/@$ui5.overload")]).then(function(w1){var x1=w1[2],y1=w1[3],z1={},A1=w1[1],B1={};function C1(i,D1,E1,F1){if("CollectionRoot"in i){F1=v1.getOrCreateSharedModel(i.CollectionRoot,undefined,j);if(B1[D1]&&B1[D1].$model===F1){z1[D1]=undefined;}}if(z1[D1]){throw new Error("Annotations '"+$.slice(1)+"' with identical qualifier '"+D1+"' for property "+e+" in "+z1[D1]+" and "+E1);}z1[D1]=E1;i=_.clone(i);i.$model=F1;delete i.CollectionRoot;delete i.SearchSupported;B1[D1]=i;}if(!A1){throw new Error("No metadata for "+e);}return Promise.all(Object.keys(x1).filter(function(i){return l1(i,b1)!==undefined;}).map(function(D1){var E1=x1[D1];return Promise.all(E1.map(function(i){var F1=v1.getOrCreateSharedModel(i,undefined,j);return v1.fetchValueListMappings(F1,w1[0],A1,w1[4]).then(function(G1){return{valueListMappingByQualifier:G1,$model:F1};});})).then(function(w1){E1.forEach(function(F1,i){var G1=w1[i].valueListMappingByQualifier;Object.keys(G1).forEach(function(H1){C1(G1[H1],H1,F1,w1[i].$model);});});});})).then(function(){var i=x1[c1];Object.keys(x1).filter(function(D1){return m1(D1)!==undefined;}).forEach(function(D1){C1(x1[D1],m1(D1),v1.sUrl,v1.oModel);});if(b(B1)){throw new Error("No annotation '"+b1.slice(1)+"' for "+e);}return i&&n&&n.getBinding?v1.filterValueListRelevantQualifiers(B1,i,s1+c1,n):B1;}).then(function(i){var D1,E1;if(y1){D1=Object.keys(i);if(D1.length!==1){throw new Error("Annotation '"+d1.slice(1)+"' but not exactly one '"+$.slice(1)+"' for property "+e);}E1=i[D1[0]];E1.$qualifier=D1[0];return{"":E1};}return i;});});};
g1.prototype.filterValueListRelevantQualifiers=function(e,i,j,n){return this.requestValue4Annotation(i,j,n).then(function(s1){var t1={};s1.forEach(function(u1){if(u1 in e){t1[u1]=e[u1];}});return t1;});};
g1.prototype.requestValueListType=_.createRequestMethod("fetchValueListType");
g1.prototype.resolve=function(e,i){var j,n;if(!e){return i?i.getPath():undefined;}n=e[0];if(n==="/"){return e;}if(!i){return undefined;}if(n==="."){if(e[1]!=="/"){throw new Error("Unsupported relative path: "+e);}e=e.slice(2);}j=i.getPath();return n==="@"||j.endsWith("/")?j+e:j+"/"+e;};
g1.prototype.setLegacySyntax=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#setLegacySyntax");};
g1.prototype.toString=function(){return H+": "+this.sUrl;};
g1.prototype.validate=function(e,j){var n,s1,t1,u1,v1,i;if(!this.bSupportReferences){return j;}for(v1 in j.$Reference){u1=j.$Reference[v1];v1=new U(v1).absoluteTo(this.sUrl).toString();if("$IncludeAnnotations"in u1){p1(this,"Unsupported IncludeAnnotations",e);}for(i in u1.$Include){t1=u1.$Include[i];if(t1 in j){p1(this,"A schema cannot span more than one document: "+t1+" - is both included and defined",e);}j1(this,t1,v1,e);}}s1=j.$LastModified?new Date(j.$LastModified):null;this.mETags[e]=j.$ETag?j.$ETag:s1;n=j.$Date?new Date(j.$Date):new Date();s1=s1||n;if(this.oLastModified<s1){this.oLastModified=s1;}delete j.$Date;delete j.$ETag;delete j.$LastModified;return j;};
return g1;});
sap.ui.predefine('sap/ui/model/odata/v4/ODataModel',["./ODataContextBinding","./ODataListBinding","./ODataMetaModel","./ODataPropertyBinding","./SubmitMode","./lib/_GroupLock","./lib/_Helper","./lib/_MetadataRequestor","./lib/_Parser","./lib/_Requestor","sap/base/assert","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/core/cache/CacheManager","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/model/BindingMode","sap/ui/model/Context","sap/ui/model/Model","sap/ui/model/odata/OperationMode","sap/ui/thirdparty/URI"],function(O,a,b,c,S,_,d,e,f,g,h,L,i,C,j,M,B,k,l,m,U){"use strict";var r=/^\w+$/,s="sap.ui.model.odata.v4.ODataModel",E=["$count","$expand","$filter","$levels","$orderby","$search","$select"],G=["$$groupId","$$patchWithoutSideEffects","$$updateGroupId"],n=/^(\$auto(\.\w+)?|\$direct|\w+)$/,o=j.MessageType,p=[undefined,o.Success,o.Information,o.Warning,o.Error],q={messageChange:true,sessionTimeout:true},t={annotationURI:true,autoExpandSelect:true,earlyRequests:true,groupId:true,groupProperties:true,httpHeaders:true,metadataUrlParams:true,odataVersion:true,operationMode:true,serviceUrl:true,sharedRequests:true,supportReferences:true,synchronizationMode:true,updateGroupId:true},u=["$apply","$count","$expand","$filter","$orderby","$search","$select"],v=/^[ -~]+$/,w=l.extend("sap.ui.model.odata.v4.ODataModel",{constructor:x});
function x(P){var y,z,A=sap.ui.getCore().getConfiguration().getLanguageTag(),D,F,H,I,J,K=this;l.call(this);if(!P||P.synchronizationMode!=="None"){throw new Error("Synchronization mode must be 'None'");}D=P.odataVersion||"4.0";this.sODataVersion=D;if(D!=="4.0"&&D!=="2.0"){throw new Error("Unsupported value for parameter odataVersion: "+D);}for(F in P){if(!(F in t)){throw new Error("Unsupported parameter: "+F);}}H=P.serviceUrl;if(!H){throw new Error("Missing service root URL");}I=new U(H);if(I.path()[I.path().length-1]!=="/"){throw new Error("Service root URL must end with '/'");}if(P.operationMode&&P.operationMode!==m.Server){throw new Error("Unsupported operation mode: "+P.operationMode);}this.sOperationMode=P.operationMode;J=this.buildQueryOptions(I.query(true),false,true);this.mUriParameters=J;if(sap.ui.getCore().getConfiguration().getStatistics()){J=Object.assign({"sap-statistics":true},J);}this.sServiceUrl=I.query("").toString();this.sGroupId=P.groupId;if(this.sGroupId===undefined){this.sGroupId="$auto";}if(this.sGroupId!=="$auto"&&this.sGroupId!=="$direct"){throw new Error("Group ID must be '$auto' or '$direct'");}this.checkGroupId(P.updateGroupId,false,"Invalid update group ID: ");this.sUpdateGroupId=P.updateGroupId||this.getGroupId();this.mGroupProperties={};for(y in P.groupProperties){K.checkGroupId(y,true);z=P.groupProperties[y];if(typeof z!=="object"||Object.keys(z).length!==1||!(z.submit in S)){throw new Error("Group '"+y+"' has invalid properties: '"+z+"'");}}this.mGroupProperties=d.clone(P.groupProperties)||{};this.mGroupProperties.$auto={submit:S.Auto};this.mGroupProperties.$direct={submit:S.Direct};if(P.autoExpandSelect!==undefined&&typeof P.autoExpandSelect!=="boolean"){throw new Error("Value for autoExpandSelect must be true or false");}this.bAutoExpandSelect=P.autoExpandSelect===true;if("sharedRequests"in P&&P.sharedRequests!==true){throw new Error("Value for sharedRequests must be true");}this.bSharedRequests=P.sharedRequests===true;this.mHeaders={"Accept-Language":A};this.mMetadataHeaders={"Accept-Language":A};this.oMetaModel=new b(e.create(this.mMetadataHeaders,D,Object.assign({},J,P.metadataUrlParams)),this.sServiceUrl+"$metadata",P.annotationURI,this,P.supportReferences);this.oInterface={fetchEntityContainer:this.oMetaModel.fetchEntityContainer.bind(this.oMetaModel),fetchMetadata:this.oMetaModel.fetchObject.bind(this.oMetaModel),fireSessionTimeout:function(){K.fireEvent("sessionTimeout");},getGroupProperty:this.getGroupProperty.bind(this),getOptimisticBatchEnabler:this.getOptimisticBatchEnabler.bind(this),getReporter:this.getReporter.bind(this),onCreateGroup:function(y){if(K.isAutoGroup(y)){K.addPrerenderingTask(K._submitBatch.bind(K,y,true));}},reportStateMessages:this.reportStateMessages.bind(this),reportTransitionMessages:this.reportTransitionMessages.bind(this)};this.oRequestor=g.create(this.sServiceUrl,this.oInterface,this.mHeaders,J,D);this.changeHttpHeaders(P.httpHeaders);this.bEarlyRequests=P.earlyRequests;if(this.bEarlyRequests){this.oMetaModel.fetchEntityContainer(true);this.initializeSecurityToken();this.oRequestor.sendOptimisticBatch();}this.aAllBindings=[];this.mKeepAliveBindingsByPath={};this.mSupportedBindingModes={OneTime:true,OneWay:true};if(P.sharedRequests){this.sDefaultBindingMode=B.OneWay;}else{this.sDefaultBindingMode=B.TwoWay;this.mSupportedBindingModes.TwoWay=true;}this.aPrerenderingTasks=null;this.fnOptimisticBatchEnabler=null;}
w.prototype._submitBatch=function(y,z){var A=this;return this.oRequestor.submitBatch(y).catch(function(D){A.reportError("$batch failed",s,D);if(!z){throw D;}});};
w.prototype.addPrerenderingTask=function(P,F){var R,T,y=this;function z(A){clearTimeout(T);while(A.length){A.shift()();}if(y.aPrerenderingTasks===A){y.aPrerenderingTasks=null;}}if(!this.aPrerenderingTasks){this.aPrerenderingTasks=[];R=z.bind(null,this.aPrerenderingTasks);sap.ui.getCore().addPrerenderingTask(R);T=setTimeout(function(){T=setTimeout(R,0);},0);}if(F){this.aPrerenderingTasks.unshift(P);}else{this.aPrerenderingTasks.push(P);}};
w.prototype.attachEvent=function(y,z,A,D){if(!(y in q)){throw new Error("Unsupported event '"+y+"': v4.ODataModel#attachEvent");}return l.prototype.attachEvent.apply(this,arguments);};
w.prototype.attachSessionTimeout=function(F,y){return this.attachEvent("sessionTimeout",F,y);};
w.prototype.bindContext=function(P,y,z){return new O(this,P,y,z);};
w.prototype.bindingCreated=function(y){this.aAllBindings.push(y);};
w.prototype.bindingDestroyed=function(y){var I=this.aAllBindings.indexOf(y);if(I<0){throw new Error("Unknown "+y);}this.aAllBindings.splice(I,1);};
w.prototype.bindList=function(P,y,z,F,A){return new a(this,P,y,z,F,A);};
w.prototype.bindProperty=function(P,y,z){return new c(this,P,y,z);};
w.prototype.bindTree=function(y,z,A,D,F){throw new Error("Unsupported operation: v4.ODataModel#bindTree");};
w.prototype.buildQueryOptions=function(P,y,z){var A,T=d.clone(P)||{};function D(F,H,I){var J,K,N,V=F[H];if(!y||I.indexOf(H)<0){throw new Error("System query option "+H+" is not supported");}if((H==="$expand"||H==="$select")&&typeof V==="string"){V=f.parseSystemQueryOption(H+"="+V)[H];F[H]=V;}if(H==="$expand"){for(N in V){K=V[N];if(K===null||typeof K!=="object"){K=V[N]={};}for(J in K){D(K,J,E);}}}else if(H==="$count"){if(typeof V==="boolean"){if(!V){delete F.$count;}}else{switch(typeof V==="string"&&V.toLowerCase()){case"false":delete F.$count;break;case"true":F.$count=true;break;default:throw new Error("Invalid value for $count: "+V);}}}}if(P){for(A in P){if(A.startsWith("$$")){delete T[A];}else if(A[0]==="@"){throw new Error("Parameter "+A+" is not supported");}else if(A[0]==="$"){D(T,A,u);}else if(!z&&A.startsWith("sap-")&&!A.startsWith("sap-valid-")){throw new Error("Custom query option "+A+" is not supported");}}}return T;};
w.prototype.changeHttpHeaders=function(H){var y,z,A={},D,K;this.oRequestor.checkHeaderNames(H);for(K in H){z=K.toLowerCase();D=H[K];if(A[z]){throw new Error("Duplicate header "+K);}else if(!(typeof D==="string"&&v.test(D)||D===undefined)){throw new Error("Unsupported value for header '"+K+"': "+D);}else{if(z==="x-csrf-token"){K="X-CSRF-Token";}A[z]={key:K,value:D};}}this.oRequestor.checkForOpenRequests();for(K in this.mHeaders){z=K.toLowerCase();y=A[z];if(y){delete this.mHeaders[K];delete this.mMetadataHeaders[K];if(y.value!==undefined){this.mHeaders[y.key]=y.value;this.mMetadataHeaders[y.key]=y.value;}delete A[z];}}for(K in A){y=A[K];if(y.value!==undefined){this.mHeaders[y.key]=y.value;if(K!=="x-csrf-token"){this.mMetadataHeaders[y.key]=y.value;}}}};
w.prototype.checkBatchGroupId=function(y){this.checkGroupId(y);if(this.isDirectGroup(y)){throw new Error("Group ID does not use batch requests: "+y);}};
w.prototype.checkGroupId=function(y,A,z){if(!A&&y===undefined||typeof y==="string"&&(A?r:n).test(y)){return;}throw new Error((z||"Invalid group ID: ")+y);};
w.prototype.createBindingContext=function(P,y){var D,z,A,R,F;function H(A){var I=A.indexOf("."),J=A.indexOf("/");return I>0&&(J<0||I<J);}if(arguments.length>2){throw new Error("Only the parameters sPath and oContext are supported");}if(y&&y.getBinding){throw new Error("Unsupported type: oContext must be of type sap.ui.model.Context, "+"but was sap.ui.model.odata.v4.Context");}R=this.resolve(P,y);if(R===undefined){throw new Error("Cannot create binding context from relative path '"+P+"' without context");}F=R.indexOf("#");if(F>=0){D=R.slice(0,F);A=R.slice(F+1);if(A[0]==="#"){A=A.slice(1);}else if(D.length>1&&A[0]!=="@"&&H(A)){return new k(this,R);}if(A[0]==="/"){A="."+A;}z=this.oMetaModel.getMetaContext(D);return this.oMetaModel.createBindingContext(A,z);}return new k(this,R);};
w.prototype.createUI5Message=function(R,y,z){var I=typeof R.target==="string",A=R.longtextUrl,T,D=this;function F(H){return D.normalizeMessageTarget(H[0]==="/"?H:d.buildPath("/"+y,z,H));}if(I){y=y&&y.split("?")[0];T=[F(R.target)];if(R.additionalTargets){R.additionalTargets.forEach(function(H){T.push(F(H));});}}if(A&&y){A=d.makeAbsolute(A,this.sServiceUrl+y);}return new M({code:R.code,descriptionUrl:A||undefined,message:R.message,persistent:!I||R.transition,processor:this,target:I?T:"",technical:R.technical,technicalDetails:d.createTechnicalDetails(R),type:p[R.numericSeverity]||o.None});};
w.prototype.destroy=function(){this.oMetaModel.destroy();this.oRequestor.destroy();this.mHeaders=undefined;this.mMetadataHeaders=undefined;return l.prototype.destroy.apply(this,arguments);};
w.prototype.destroyBindingContext=function(){throw new Error("Unsupported operation: v4.ODataModel#destroyBindingContext");};
w.prototype.detachSessionTimeout=function(F,y){return this.detachEvent("sessionTimeout",F,y);};
w.prototype.filterMatchingMessages=function(y,P){return d.hasPathPrefix(y,P)?this.mMessages[y]:[];};
w.prototype.getAllBindings=function(){return this.aAllBindings.slice();};
w.prototype.getContext=function(){throw new Error("Unsupported operation: v4.ODataModel#getContext");};
w.prototype.getDependentBindings=function(P){return this.aAllBindings.filter(function(y){var z=y.getContext();return y.isRelative()&&(z===P||z&&z.getBinding&&z.getBinding()===P);});};
w.prototype.getGroupId=function(){return this.sGroupId;};
w.prototype.getGroupProperty=function(y,P){switch(P){case"submit":if(y.startsWith("$auto.")){return S.Auto;}return this.mGroupProperties[y]?this.mGroupProperties[y].submit:S.API;default:throw new Error("Unsupported group property: '"+P+"'");}};
w.prototype.getHttpHeaders=function(I){var H=Object.assign({},this.mHeaders);if(!I){delete H["SAP-ContextId"];}if(H["X-CSRF-Token"]===null){delete H["X-CSRF-Token"];}return H;};
w.prototype.getMessages=function(y){return this.getMessagesByPath(y.getPath(),true).sort(M.compare);};
w.prototype.getMetaModel=function(){return this.oMetaModel;};
w.prototype.getObject=function(){throw new Error("Unsupported operation: v4.ODataModel#getObject");};
w.prototype.getODataVersion=function(){return this.sODataVersion;};
w.prototype.getOriginalProperty=function(){throw new Error("Unsupported operation: v4.ODataModel#getOriginalProperty");};
w.prototype.getProperty=function(){throw new Error("Unsupported operation: v4.ODataModel#getProperty");};
w.prototype.getKeepAliveContext=function(P,R,y){var z,A,D;if(!this.bAutoExpandSelect){throw new Error("Missing parameter autoExpandSelect");}if(P[0]!=="/"){throw new Error("Not a list context path to an entity: "+P);}y=y||{};Object.keys(y).forEach(function(F){if(F.startsWith("sap-")&&!F.startsWith("sap-valid-")||F[0]==="$"&&!G.includes(F)){throw new Error("Invalid parameter: "+F);}});D=P.slice(0,this.getPredicateIndex(P));z=this.mKeepAliveBindingsByPath[D];if(!z){A=this.aAllBindings.filter(function(F){if(F.mParameters&&F.mParameters.$$getKeepAliveContext){F.removeCachesAndMessages(D.slice(1),true);}return F.isKeepAliveBindingFor&&F.isKeepAliveBindingFor(D);});if(A.length>1){throw new Error("Multiple bindings with $$getKeepAliveContext for: "+P);}z=A[0];if(!z){z=this.bindList(D,undefined,undefined,undefined,y);this.mKeepAliveBindingsByPath[D]=z;}}return z.getKeepAliveContext(P,R,y.$$groupId);};
w.prototype.getPredicateIndex=function(P){var y=P.indexOf("(",P.lastIndexOf("/"));if(y<0||!P.endsWith(")")){throw new Error("Not a list context path to an entity: "+P);}return y;};
w.prototype.getUpdateGroupId=function(){return this.sUpdateGroupId;};
w.prototype.getReporter=function(){var y=this;return function(z){if(!z.$reported){y.reportError(z.message,s,z);}};};
w.prototype.hasPendingChanges=function(y){if(y!==undefined){this.checkBatchGroupId(y);if(this.isAutoGroup(y)&&this.oRequestor.hasPendingChanges("$parked."+y)){return true;}}return this.oRequestor.hasPendingChanges(y);};
w.prototype.initializeSecurityToken=function(){this.oRequestor.refreshSecurityToken().catch(function(){});};
w.prototype.isApiGroup=function(y){return this.getGroupProperty(y,"submit")===S.API;};
w.prototype.isAutoGroup=function(y){return this.getGroupProperty(y,"submit")===S.Auto;};
w.prototype.isDirectGroup=function(y){return this.getGroupProperty(y,"submit")===S.Direct;};
w.prototype.isList=function(){throw new Error("Unsupported operation: v4.ODataModel#isList");};
w.prototype.lockGroup=function(y,z,A,D,F){return this.oRequestor.lockGroup(y,z,A,D,F);};
w.prototype.refresh=function(y){if(typeof y==="boolean"){throw new Error("Unsupported parameter bForceUpdate");}this.checkGroupId(y);this.getBindings().forEach(function(z){if(z.isRoot()){z.refresh(z.isSuspended()?undefined:y);}});};
w.prototype.releaseKeepAliveBinding=function(P){var y=this.mKeepAliveBindingsByPath[P];if(y){delete this.mKeepAliveBindingsByPath[P];return y;}};
w.prototype.reportError=function(y,R,z){var D;if(z.canceled==="noDebugLog"){return;}D=z.stack.includes(z.message)?z.stack:z.message+"\n"+z.stack;if(z.canceled){L.debug(y,D,R);return;}L.error(y,D,R);if(z.$reported){return;}z.$reported=true;this.reportTransitionMessages(d.extractMessages(z),z.resourcePath);};
w.prototype.reportStateMessages=function(R,P,y){var D="/"+R,N=[],z=[],A=this;Object.keys(P).forEach(function(F){P[F].forEach(function(H){N.push(A.createUI5Message(H,R,F));});});(y||[""]).forEach(function(F){var H=d.buildPath(D,F);Object.keys(A.mMessages).forEach(function(I){if(I===H||I.startsWith(H+"/")||I.startsWith(H+"(")){z=z.concat(A.mMessages[I].filter(function(J){return!J.persistent;}));}});});if(N.length||z.length){this.fireMessageChange({newMessages:N,oldMessages:z});}};
w.prototype.reportTransitionMessages=function(y,R){var z=this;if(y&&y.length){this.fireMessageChange({newMessages:y.map(function(A){A.transition=true;return z.createUI5Message(A,R);})});}};
w.prototype.normalizeMessageTarget=function(T){var y,F,z="",A=this;if(T.includes("$uid=")){return T;}y=T.split("/").map(function(D){var H,I=D.indexOf("("),P,J,K;function N(Q){if(Q in J){return encodeURIComponent(decodeURIComponent(J[Q]));}F=true;}if(I<0){z=d.buildPath(z,D);return D;}H=D.slice(0,I);z=d.buildPath(z,H);J=f.parseKeyPredicate(D.slice(I));if(""in J){return H+"("+N("")+")";}K=A.oRequestor.fetchTypeForPath("/"+z).getResult();if(!(K&&K.$Key)){F=true;return D;}P=K.$Key.map(function(Q){var V=N(Q);return K.$Key.length>1?Q+"="+V:V;});return H+"("+P.join(",")+")";}).join("/");return F?T:y;};
w.prototype.requestCanonicalPath=function(y){h(y.getModel()===this,"oEntityContext must belong to this model");return y.requestCanonicalPath();};
w.prototype.requestSideEffects=function(y,A){if(!A.length){return undefined;}return i.all(this.aAllBindings.filter(function(z){return z.isRoot();}).map(function(R){return R.requestAbsoluteSideEffects(y,A);}));};
w.prototype.resetChanges=function(y){y=y||this.sUpdateGroupId;this.checkBatchGroupId(y);if(this.isAutoGroup(y)){this.oRequestor.cancelChanges("$parked."+y);}this.oRequestor.cancelChanges(y);this.aAllBindings.forEach(function(z){if(y===z.getUpdateGroupId()){z.resetInvalidDataState();}});};
w.prototype.resolve=function(P,y){var R;if(P&&P[0]==="/"){R=P;}else if(y){R=y.getPath();if(P){if(!R.endsWith("/")){R+="/";}R+=P;}}if(R&&R!=="/"&&R[R.length-1]==="/"&&!R.includes("#")){R=R.slice(0,R.length-1);}return R;};
w.prototype.setLegacySyntax=function(){throw new Error("Unsupported operation: v4.ODataModel#setLegacySyntax");};
w.prototype.getOptimisticBatchEnabler=function(){return this.fnOptimisticBatchEnabler;};
w.prototype.setOptimisticBatchEnabler=function(y){if(!this.bEarlyRequests){throw new Error("The earlyRequests model parameter is not set");}if(this.oRequestor.isBatchSent()){throw new Error("The setter is called after a non-optimistic batch is sent");}if(typeof y!=="function"){throw new Error("The given fnOptimisticBatchEnabler parameter is not a function");}if(this.fnOptimisticBatchEnabler){throw new Error("The setter is called more than once");}this.fnOptimisticBatchEnabler=y;};
w.prototype.submitBatch=function(y){var z=this;this.checkBatchGroupId(y);if(this.isAutoGroup(y)){this.oRequestor.relocateAll("$parked."+y,y);}else{this.oRequestor.addChangeSet(y);}return new Promise(function(A){z.addPrerenderingTask(function(){A(z._submitBatch(y));});});};
w.prototype.toString=function(){return s+": "+this.sServiceUrl;};
w.prototype.withUnresolvedBindings=function(y,P){return this.aAllBindings.filter(function(z){return!z.isResolved();}).some(function(z){return z[y](P);});};
w.cleanUpOptimisticBatch=function(y){return C.delWithFilters({olderThan:y,prefix:"sap.ui.model.odata.v4.optimisticBatch:"});};
return w;});
sap.ui.predefine('sap/ui/model/odata/v4/ODataParentBinding',["./Context","./ODataBinding","./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/ChangeReason"],function(C,a,_,L,S,b){"use strict";
function O(){a.call(this);this.mAggregatedQueryOptions={};this.bAggregatedQueryOptionsInitial=true;this.aChildCanUseCachePromises=[];this.bHasPathReductionToParent=false;this.iPatchCounter=0;this.bPatchSuccess=true;this.oReadGroupLock=undefined;this.oRefreshPromise=null;this.oResumePromise=undefined;}
a(O.prototype);var c="sap.ui.model.odata.v4.ODataParentBinding";
O.prototype.attachPatchCompleted=function(f,l){this.attachEvent("patchCompleted",f,l);};
O.prototype.detachPatchCompleted=function(f,l){this.detachEvent("patchCompleted",f,l);};
O.prototype.doSuspend=function(){};
O.prototype.firePatchCompleted=function(s){if(this.iPatchCounter===0){throw new Error("Completed more PATCH requests than sent");}this.iPatchCounter-=1;this.bPatchSuccess=this.bPatchSuccess&&s;if(this.iPatchCounter===0){this.fireEvent("patchCompleted",{success:this.bPatchSuccess});this.bPatchSuccess=true;}};
O.prototype.attachPatchSent=function(f,l){this.attachEvent("patchSent",f,l);};
O.prototype.detachPatchSent=function(f,l){this.detachEvent("patchSent",f,l);};
O.prototype.firePatchSent=function(){this.iPatchCounter+=1;if(this.iPatchCounter===1){this.fireEvent("patchSent");}};
O.prototype._findEmptyPathParentContext=function(o){if(this.sPath===""&&this.oContext.getBinding){return this.oContext.getBinding()._findEmptyPathParentContext(this.oContext);}return o;};
O.prototype.aggregateQueryOptions=function(q,B,e,i){var A=_.merge({},e&&this.mLateQueryOptions||this.mAggregatedQueryOptions),t=this;function m(f,Q,M,I,g){function h(E){var k=!f.$expand[E],s=M+"/"+E;if(k){f.$expand[E]={};if(e&&t.oModel.getMetaModel().fetchObject(s).getResult().$isCollection){return false;}}return m(f.$expand[E],Q.$expand[E],s,true,k);}function j(s){if(f.$select.indexOf(s)<0){f.$select.push(s);}return true;}return(i||!I||Object.keys(f).every(function(n){return n in Q||n==="$count"||n==="$expand"||n==="$select";}))&&Object.keys(Q).every(function(n){switch(n){case"$count":if(Q.$count){f.$count=true;}return true;case"$expand":f.$expand=f.$expand||{};return Object.keys(Q.$expand).every(h);case"$select":f.$select=f.$select||[];return Q.$select.every(j);default:if(g){f[n]=Q[n];return true;}return Q[n]===f[n];}});}if(m(A,q,B)){if(!e){this.mAggregatedQueryOptions=A;}else{this.mLateQueryOptions=A;}return true;}return false;};
O.prototype.changeParameters=function(p){var B=Object.assign({},this.mParameters),s,k,t=this;function u(n){if(t.oModel.bAutoExpandSelect&&(n==="$expand"||n==="$select")){throw new Error("Cannot change "+n+" parameter in auto-$expand/$select mode: "+JSON.stringify(p[n])+" !== "+JSON.stringify(B[n]));}if(n==="$filter"||n==="$search"){s=b.Filter;}else if(n==="$orderby"&&s!==b.Filter){s=b.Sort;}else if(!s){s=b.Change;}}if(!p){throw new Error("Missing map of binding parameters");}for(k in p){if(k.startsWith("$$")){if(p[k]===B[k]){continue;}throw new Error("Unsupported parameter: "+k);}if(p[k]===undefined&&B[k]!==undefined){u(k);delete B[k];}else if(B[k]!==p[k]){u(k);if(typeof p[k]==="object"){B[k]=_.clone(p[k]);}else{B[k]=p[k];}}}if(s){if(this.hasPendingChanges(true)){throw new Error("Cannot change parameters due to pending changes");}this.applyParameters(B,s);}};
O.prototype.checkUpdateInternal=function(f){var t=this;function u(){return S.all(t.getDependentBindings().map(function(D){return D.checkUpdateInternal();}));}if(f!==undefined){throw new Error("Unsupported operation: "+c+"#checkUpdateInternal must not"+" be called with parameters");}return this.oCachePromise.then(function(o){if(o&&t.bRelative){return t.fetchResourcePath(t.oContext).then(function(r){if(o.getResourcePath()===r){return u();}return t.refreshInternal("");});}return u();});};
O.prototype.createInCache=function(u,v,s,t,i,A,e,f){var g=this;return this.oCachePromise.then(function(o){var p;if(o){p=_.getRelativePath(s,g.getResolvedPath());return o.create(u,v,p,t,i,A,e,f).then(function(h){if(g.mCacheByResourcePath){delete g.mCacheByResourcePath[o.getResourcePath()];}return h;});}return g.oContext.getBinding().createInCache(u,v,s,t,i,A,e,f);});};
O.prototype.createReadGroupLock=function(g,l,i){var G,t=this;function e(){t.oModel.addPrerenderingTask(function(){i-=1;if(i>0){Promise.resolve().then(e);}else if(t.oReadGroupLock===G){L.debug("Timeout: unlocked "+G,null,c);t.removeReadGroupLock();}});}this.removeReadGroupLock();this.oReadGroupLock=G=this.lockGroup(g,l);if(l){i=2+(i||0);e();}};
O.prototype.createRefreshPromise=function(){var p,r;p=new Promise(function(e){r=e;});p.$resolve=r;this.oRefreshPromise=p;return p;};
O.prototype.deleteFromCache=function(g,e,p,E,D,f){return this.withCache(function(o,s){return o._delete(g,e,s,E,D,f);},p,true);};
O.prototype.destroy=function(){this.aChildCanUseCachePromises=[];this.removeReadGroupLock();this.oResumePromise=undefined;a.prototype.destroy.call(this);};
O.prototype.fetchIfChildCanUseCache=function(o,s,v,i){var B=this.getBaseForPathReduction(),e=_.getMetaPath(o.getPath()),f,g,D=o.getPath().includes("(...)"),I=o.getIndex(),h=s[0]==="#",m=this.oModel.getMetaModel(),p,r=this.oModel.resolve(s,o),t=this;function j(){if(h){return m.fetchObject(e+"/");}return _.fetchPropertyAndType(t.oModel.oInterface.fetchMetadata,k(r));}function k(P){var I;P=_.getMetaPath(P);I=P.indexOf("@");return I>0?P.slice(0,I):P;}if(D&&!r.includes("/$Parameter/")||this.getRootBinding().isSuspended()||this.mParameters&&this.mParameters.$$aggregation){return S.resolve(r);}f=this.oCachePromise.isRejected()||I!==undefined&&I!==C.VIRTUAL||o.isKeepAlive()||this.oCache===null||this.oCache&&this.oCache.hasSentRequest();p=[this.doFetchQueryOptions(this.oContext),j(),v];g=S.all(p).then(function(R){var l=R[2],w,n=R[0],P=R[1],q,u;if(Array.isArray(P)){return undefined;}u=m.getReducedPath(r,B);q=_.getRelativePath(k(u),e);if(q===undefined){t.bHasPathReductionToParent=true;return t.oContext.getBinding().fetchIfChildCanUseCache(t.oContext,_.getRelativePath(r,t.oContext.getPath()),v);}if(D||q==="$count"||q.endsWith("/$count")){return u;}if(t.bAggregatedQueryOptionsInitial){t.selectKeyProperties(n,e);t.mAggregatedQueryOptions=_.clone(n);t.bAggregatedQueryOptionsInitial=false;}if(h){w={$select:[q.slice(1)]};return t.aggregateQueryOptions(w,e,f,i)?u:undefined;}if(q===""||P&&(P.$kind==="Property"||P.$kind==="NavigationProperty")){w=_.wrapChildQueryOptions(e,q,l,t.oModel.oInterface.fetchMetadata);if(w){return t.aggregateQueryOptions(w,e,f,i)?u:undefined;}return undefined;}if(q==="value"){return t.aggregateQueryOptions(l,e,f,i)?u:undefined;}L.error("Failed to enhance query options for auto-$expand/$select as the path '"+r+"' does not point to a property",JSON.stringify(P),c);return undefined;}).then(function(R){if(t.mLateQueryOptions){if(t.oCache){t.oCache.setLateQueryOptions(t.mLateQueryOptions);}else if(t.oCache===null){return t.oContext.getBinding().fetchIfChildCanUseCache(t.oContext,t.sPath,S.resolve(t.mLateQueryOptions)).then(function(P){return P&&R;});}}return R;});this.aChildCanUseCachePromises.push(g);this.oCachePromise=S.all([this.oCachePromise,g]).then(function(R){var l=R[0];if(!f&&l&&!l.hasSentRequest()&&!t.oOperation){if(t.bSharedRequest){l.setActive(false);l=t.createAndSetCache(t.mAggregatedQueryOptions,l.getResourcePath(),o);}else{l.setQueryOptions(_.merge({},t.oModel.mUriParameters,t.mAggregatedQueryOptions));}}return l;});this.oCachePromise.catch(function(E){t.oModel.reportError(t+": Failed to enhance query options for "+"auto-$expand/$select for child "+s,c,E);});return g;};
O.prototype.fetchResolvedQueryOptions=function(o){var f,m,M,e=this.oModel,q=this.getQueryOptionsFromParameters();if(!(e.bAutoExpandSelect&&q.$select)){return S.resolve(q);}f=e.oInterface.fetchMetadata;M=_.getMetaPath(e.resolve(this.sPath,o));m=Object.assign({},q,{$select:[]});return S.all(q.$select.map(function(s){var g=M+"/"+s;if(g.endsWith(".*")){g=g.slice(0,-1);}return _.fetchPropertyAndType(f,g).then(function(){var w=_.wrapChildQueryOptions(M,s,{},f);if(w){_.aggregateExpandSelect(m,w);}else{_.addToSelect(m,[s]);}});})).then(function(){return m;});};
O.prototype.getBaseForPathReduction=function(){var p,P;if(!this.isRoot()){p=this.oContext.getBinding();P=p.getUpdateGroupId();if(P===this.getUpdateGroupId()||!this.oModel.isApiGroup(P)){return p.getBaseForPathReduction();}}return this.getResolvedPath();};
O.prototype.getInheritableQueryOptions=function(){if(this.mLateQueryOptions){return _.merge({},this.mCacheQueryOptions,this.mLateQueryOptions);}return this.mCacheQueryOptions||_.getQueryOptionsForPath(this.oContext.getBinding().getInheritableQueryOptions(),this.sPath);};
O.prototype.getGeneration=function(){return this.bRelative&&this.oContext.getGeneration&&this.oContext.getGeneration()||0;};
O.prototype.getQueryOptionsForPath=function(p,o){if(Object.keys(this.mParameters).length){return _.getQueryOptionsForPath(this.getQueryOptionsFromParameters(),p);}o=o||this.oContext;if(!this.bRelative||!o.getQueryOptionsForPath){return{};}return o.getQueryOptionsForPath(_.buildPath(this.sPath,p));};
O.prototype.getResumePromise=function(){return this.oResumePromise;};
O.prototype.hasPendingChangesInDependents=function(i){return this.getDependentBindings().some(function(D){var o=D.oCache,h,I=i;if(I){if(D.oContext.isKeepAlive()){return false;}if(D.oContext.getIndex()!==undefined){I=false;}}if(o!==undefined){if(o&&o.hasPendingChangesForPath("",false,I&&D.mParameters&&D.mParameters.$$ownRequest)){return true;}}else if(D.hasPendingChangesForPath("")){return true;}if(D.mCacheByResourcePath){h=Object.keys(D.mCacheByResourcePath).some(function(p){var e=D.mCacheByResourcePath[p];return e!==o&&e.hasPendingChangesForPath("");});if(h){return true;}}return D.hasPendingChangesInDependents(I);})||this.oModel.withUnresolvedBindings("hasPendingChangesInCaches",this.getResolvedPath().slice(1));};
O.prototype.isPatchWithoutSideEffects=function(){return this.mParameters.$$patchWithoutSideEffects||!this.isRoot()&&this.oContext&&this.oContext.getBinding().isPatchWithoutSideEffects();};
O.prototype.isMeta=function(){return false;};
O.prototype.refreshDependentListBindingsWithoutCache=function(){return S.all(this.getDependentBindings().map(function(D){if(D.filter&&D.oCache===null){return D.refreshInternal("");}if(D.refreshDependentListBindingsWithoutCache){return D.refreshDependentListBindingsWithoutCache();}}));};
O.prototype.removeReadGroupLock=function(){if(this.oReadGroupLock){this.oReadGroupLock.unlock(true);this.oReadGroupLock=undefined;}};
O.prototype.resetChangesInDependents=function(p){this.getDependentBindings().forEach(function(D){p.push(D.oCachePromise.then(function(o){if(o){o.resetChangesForPath("");}D.resetInvalidDataState();}).unwrap());if(D.mCacheByResourcePath){Object.keys(D.mCacheByResourcePath).forEach(function(P){D.mCacheByResourcePath[P].resetChangesForPath("");});}D.resetChangesInDependents(p);});};
O.prototype.resolveRefreshPromise=function(p){if(this.oRefreshPromise){this.oRefreshPromise.$resolve(p.catch(function(e){if(!e.canceled){throw e;}}));this.oRefreshPromise=null;}return p;};
O.prototype._resume=function(A){var t=this;function e(){t.bSuspended=false;if(t.oResumePromise){t.resumeInternal(true);t.oResumePromise.$resolve();t.oResumePromise=undefined;}}if(this.oOperation){throw new Error("Cannot resume an operation binding: "+this);}if(!this.isRoot()){throw new Error("Cannot resume a relative binding: "+this);}if(!this.bSuspended){throw new Error("Cannot resume a not suspended binding: "+this);}if(A){this.createReadGroupLock(this.getGroupId(),true,1);this.oModel.addPrerenderingTask(e);}else{this.createReadGroupLock(this.getGroupId(),true);e();}};
O.prototype.resume=function(){this._resume(false);};
O.prototype.resumeAsync=function(){this._resume(true);return Promise.resolve(this.oResumePromise);};
O.prototype.selectKeyProperties=function(q,m){_.selectKeyProperties(q,this.oModel.getMetaModel().getObject(m+"/"));};
O.prototype.suspend=function(){var r;if(this.oOperation){throw new Error("Cannot suspend an operation binding: "+this);}if(!this.isRoot()){throw new Error("Cannot suspend a relative binding: "+this);}if(this.bSuspended){throw new Error("Cannot suspend a suspended binding: "+this);}if(this.hasPendingChanges(true)){throw new Error("Cannot suspend a binding with pending changes: "+this);}this.bSuspended=true;this.oResumePromise=new S(function(e){r=e;});this.oResumePromise.$resolve=r;this.removeReadGroupLock();this.doSuspend();};
O.prototype.updateAggregatedQueryOptions=function(n){var A=Object.keys(n),t=this;if(this.mAggregatedQueryOptions){A=A.concat(Object.keys(this.mAggregatedQueryOptions));A.forEach(function(N){if(t.bAggregatedQueryOptionsInitial||N!=="$select"&&N!=="$expand"){if(n[N]===undefined){delete t.mAggregatedQueryOptions[N];}else{t.mAggregatedQueryOptions[N]=n[N];}}});}};
O.prototype.visitSideEffects=function(g,p,o,n,P,s){var D=o?this.oModel.getDependentBindings(o):this.getDependentBindings();D.forEach(function(e){var f=_.buildPath(s,_.getMetaPath(e.getPath())),h;if(e.oCache){h=_.stripPathPrefix(f,p);if(h.length){P.push(e.requestSideEffects(g,h));}}else if(n[f]){P.push(e.refreshInternal("",g));}else{e.visitSideEffects(g,p,null,n,P,f);}});};
function d(p){if(this){O.apply(this,arguments);}else{Object.assign(p,O.prototype);}}
["adjustPredicate","destroy","doDeregisterChangeListener","getGeneration","hasPendingChangesForPath"].forEach(function(m){d.prototype[m]=O.prototype[m];});return d;},false);
sap.ui.predefine('sap/ui/model/odata/v4/ODataPropertyBinding',["./ODataBinding","./lib/_Cache","./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/BindingMode","sap/ui/model/ChangeReason","sap/ui/model/odata/v4/Context","sap/ui/model/PropertyBinding"],function(a,_,b,L,S,B,C,c,P){"use strict";var s="sap.ui.model.odata.v4.ODataPropertyBinding",i=Object.freeze([]),m={AggregatedDataStateChange:true,change:true,dataReceived:true,dataRequested:true,DataStateChange:true},v="/"+c.VIRTUAL,O=P.extend("sap.ui.model.odata.v4.ODataPropertyBinding",{constructor:d});
function d(M,p,o,e){P.call(this,M,p);a.call(this);if(p.endsWith("/")){throw new Error("Invalid path: "+p);}if(e){this.checkBindingParameters(e,["$$groupId","$$ignoreMessages","$$noPatch"]);this.sGroupId=e.$$groupId;this.bNoPatch=e.$$noPatch;this.setIgnoreMessages(e.$$ignoreMessages);}else{this.sGroupId=undefined;this.bNoPatch=false;}this.oCheckUpdateCallToken=undefined;this.oContext=o;this.bHasDeclaredType=undefined;this.bInitial=true;this.mQueryOptions=this.oModel.buildQueryOptions(b.clone(e),p.endsWith("$count"));this.vValue=undefined;this.fetchCache(o);M.bindingCreated(this);}
a(O.prototype);
O.prototype.attachEvent=function(e,f,g,h){if(!(e in m)){throw new Error("Unsupported event '"+e+"': v4.ODataPropertyBinding#attachEvent");}return P.prototype.attachEvent.apply(this,arguments);};
O.prototype.checkUpdateInternal=function(f,e,g,V){var D=false,h=this.sPath.indexOf("##"),I=h>=0,M=this.oModel.getMetaModel(),p={data:{}},r=this.getResolvedPath(),o={forceUpdate:r&&(f||f===undefined&&this.getDataState().getControlMessages().length>0||this.oCheckUpdateCallToken&&this.oCheckUpdateCallToken.forceUpdate)},t=this.oType,j=this;this.oCheckUpdateCallToken=o;if(this.bHasDeclaredType===undefined){this.bHasDeclaredType=!!t;}if(r&&!this.bHasDeclaredType&&this.sInternalType!=="any"&&!I){t=M.fetchUI5Type(r);}if(V===undefined){V=this.oCachePromise.then(function(k){var l,n;if(k){return k.fetchValue(j.lockGroup(g||j.getGroupId()),undefined,function(){D=true;j.fireDataRequested();},j).then(function(R){j.assertSameCache(k);return R;});}if(!j.sReducedPath||!j.isResolved()){return undefined;}if(r.includes(v)){o.forceUpdate=false;}if(!I){return j.oContext.fetchValue(j.sReducedPath,j);}l=j.sPath.slice(0,h);n=j.sPath.slice(h+2);if(n[0]==="/"){n="."+n;}return M.fetchObject(n,M.getMetaContext(j.oModel.resolve(l,j.oContext)));}).then(function(V){if(!V||typeof V!=="object"){return V;}if(j.sInternalType==="any"&&(j.getBindingMode()===B.OneTime||(j.sPath[j.sPath.lastIndexOf("/")+1]==="#"&&!I))){if(I){return V;}else if(j.bRelative){return b.publicClone(V);}}L.error("Accessed value is not primitive",r,s);},function(E){j.oModel.reportError("Failed to read path "+r,s,E);if(E.canceled){o.forceUpdate=false;return j.vValue;}p={error:E};});if(f&&V.isFulfilled()){if(t&&t.isFulfilled&&t.isFulfilled()){this.setType(t.getResult(),this.sInternalType);}this.vValue=V.getResult();}V=Promise.resolve(V);}return S.all([V,t]).then(function(R){var T=R[1],V=R[0];if(o===j.oCheckUpdateCallToken){j.oCheckUpdateCallToken=undefined;j.setType(T,j.sInternalType);if(o.forceUpdate||j.vValue!==V){j.bInitial=false;j.vValue=V;j._fireChange({reason:e||C.Change});}j.checkDataState();}if(D){j.fireDataReceived(p);}if(p.error){throw p.error;}});};
O.prototype.deregisterChange=function(){var t=this;this.withCache(function(e,p,o){o.doDeregisterChangeListener(p,t);}).catch(function(e){t.oModel.reportError("Error in deregisterChange",s,e);},"",false,true);};
O.prototype.destroy=function(){this.deregisterChange();this.oModel.bindingDestroyed(this);this.oCheckUpdateCallToken=undefined;this.mQueryOptions=undefined;this.vValue=undefined;a.prototype.destroy.call(this);P.prototype.destroy.apply(this,arguments);};
O.prototype.doCreateCache=function(r,q){return _.createProperty(this.oModel.oRequestor,r,q);};
O.prototype.doFetchQueryOptions=function(){return this.isRoot()?S.resolve(this.mQueryOptions):S.resolve({});};
O.prototype.getDependentBindings=function(){return i;};
O.prototype.getResumePromise=function(){};
O.prototype.getValue=function(){return this.vValue;};
O.prototype.getValueListType=function(){var r=this.getResolvedPath();if(!r){throw new Error(this+" is unresolved");}return this.getModel().getMetaModel().getValueListType(r);};
O.prototype.hasPendingChangesInDependents=function(){return false;};
O.prototype.initialize=function(){if(this.isResolved()){if(this.getRootBinding().isSuspended()){this.sResumeChangeReason=C.Change;}else{this.checkUpdate(true);}}};
O.prototype.isMeta=function(){return this.sPath.includes("##");};
O.prototype.onChange=function(V){this.checkUpdateInternal(undefined,undefined,undefined,V).catch(this.oModel.getReporter());};
O.prototype.refreshInternal=function(e,g,f,k){var t=this;if(this.isRootBindingSuspended()){this.refreshSuspended(g);return S.resolve();}return this.oCachePromise.then(function(){t.fetchCache(t.oContext,false,true,k);if(f){return t.checkUpdateInternal(undefined,C.Refresh,g);}});};
O.prototype.requestValue=function(){var t=this;return Promise.resolve(this.checkUpdateInternal(false).then(function(){return t.getValue();}));};
O.prototype.requestValueListInfo=function(A){var r=this.getResolvedPath();if(!r){throw new Error(this+" is unresolved");}return this.getModel().getMetaModel().requestValueListInfo(r,A,this.oContext);};
O.prototype.requestValueListType=function(){var r=this.getResolvedPath();if(!r){throw new Error(this+" is unresolved");}return this.getModel().getMetaModel().requestValueListType(r);};
O.prototype.resetChangesInDependents=function(){};
O.prototype.resetInvalidDataState=function(){if(this.getDataState().isControlDirty()){this._fireChange({reason:C.Change});}};
O.prototype.resume=function(){throw new Error("Unsupported operation: resume");};
O.prototype.resumeInternal=function(e,p){var r=this.sResumeChangeReason;this.sResumeChangeReason=undefined;this.fetchCache(this.oContext);if(e){this.checkUpdateInternal(p?undefined:false,r).catch(this.oModel.getReporter());}};
O.prototype.setContext=function(o){if(this.oContext!==o){if(this.bRelative){this.checkSuspended(true);this.deregisterChange();}this.oContext=o;this.sResumeChangeReason=undefined;if(this.bRelative){this.fetchCache(this.oContext);this.checkUpdateInternal(this.bInitial||undefined,C.Context).catch(this.oModel.getReporter());}}};
O.prototype.setType=function(t,e){var o=this.oType;if(t&&t.getName()==="sap.ui.model.odata.type.DateTimeOffset"){t.setV4();}P.prototype.setType.apply(this,arguments);if(!this.bInitial&&o!==t){this._fireChange({reason:C.Change});}};
O.prototype.setValue=function(V,g){var G,t=this;function r(e){t.oModel.reportError("Failed to update path "+t.getResolvedPath(),s,e);return e;}this.checkSuspended();if(this.bNoPatch&&g){throw r(new Error("Must not specify a group ID ("+g+") with $$noPatch"));}this.oModel.checkGroupId(g);if(typeof V==="function"||(V&&typeof V==="object")){throw r(new Error("Not a primitive value"));}if(!this.bNoPatch&&this.vValue===undefined){throw r(new Error("Must not change a property before it has been read"));}if(this.vValue!==V){if(this.oCache){r(new Error("Cannot set value on this binding as it is not relative"+" to a sap.ui.model.odata.v4.Context"));return;}G=this.bNoPatch?null:this.lockGroup(g,true,true);this.oContext.doSetProperty(this.sPath,V,G).catch(function(e){if(G){G.unlock(true);}r(e);});}};
O.prototype.supportsIgnoreMessages=function(){return true;};
O.prototype.suspend=function(){throw new Error("Unsupported operation: suspend");};
O.prototype.visitSideEffects=function(){};
return O;});
sap.ui.predefine('sap/ui/model/odata/v4/SubmitMode',function(){"use strict";var S={API:"API",Auto:"Auto",Direct:"Direct"};return S;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ValueListType',function(){"use strict";var V={None:"None",Fixed:"Fixed",Standard:"Standard"};return V;},true);
sap.ui.predefine('sap/ui/model/odata/v4/_AnnotationHelperExpression',["../_AnnotationHelperBasics","sap/base/Log","sap/ui/base/BindingParser","sap/ui/base/ManagedObject","sap/ui/base/SyncPromise","sap/ui/performance/Measurement"],function(B,L,a,M,S,b){"use strict";var A="sap.ui.model.odata.v4.AnnotationHelper",p=[A],P=A+"/getExpression",r=/^{@i18n>[^\\{}:]+}$/,o={And:"&&",Eq:"===",Ge:">=",Gt:">",Le:"<=",Lt:"<",Ne:"!==",Not:"!",Or:"||"},s=false,t={"Edm.Boolean":"boolean","Edm.Byte":"number","Edm.Date":"Date","Edm.DateTimeOffset":"DateTimeOffset","Edm.Decimal":"Decimal","Edm.Double":"number","Edm.Guid":"string","Edm.Int16":"number","Edm.Int32":"number","Edm.Int64":"Decimal","Edm.SByte":"number","Edm.Single":"number","Edm.String":"string","Edm.TimeOfDay":"TimeOfDay"},T={Bool:"Edm.Boolean",Float:"Edm.Double",Date:"Edm.Date",DateTimeOffset:"Edm.DateTimeOffset",Decimal:"Edm.Decimal",Guid:"Edm.Guid",Int:"Edm.Int64",Int32:"Edm.Int32",String:"Edm.String",TimeOfDay:"Edm.TimeOfDay"},m={boolean:false,Date:false,DateTimeOffset:true,Decimal:true,number:false,string:false,TimeOfDay:false},E;
function c(e,f){return S.resolve().then(function(){d(e,f);});}
function d(e,f){B.error(e,f,A);}
E={adjustOperands:function(O,e){if(O.result!=="constant"&&O.category==="number"&&e.result==="constant"&&e.type==="Edm.Int64"){e.category="number";}if(O.result!=="constant"&&O.category==="Decimal"&&e.result==="constant"&&e.type==="Edm.Int32"){e.category="Decimal";e.type=O.type;}},apply:function(e,f){var F=B.descend(e,"$Function","string");switch(F.value){case"odata.concat":return E.concat(f);case"odata.fillUriTemplate":return E.fillUriTemplate(f);case"odata.uriEncode":return E.uriEncode(f);default:return c(F,"unknown function: "+F.value);}},collection:function(e){var f;B.expectType(e,"array");f=e.value.map(function(_,i){return E.expression(B.descend(e,i,true),true);});return S.all(f).then(function(g){g=g.map(function(h){return B.resultToString(h,true,false,true);});return{result:"expression",value:"odata.collection(["+g.join(",")+"])"};});},concat:function(e){var f;B.expectType(e,"array");f=e.value.map(function(_,i){return E.parameter(e,i);});return S.all(f).then(function(g){var h,i,R;h=e.asExpression||g.some(function(j){return j.result==="expression";});i=g.filter(function(j){return j.type!=="edm:Null";}).map(function(j){if(h){E.wrapExpression(j);}return B.resultToString(j,h,e.complexBinding);});R=h?{result:"expression",value:i.join("+")}:{result:"composite",value:i.join("")};R.type="Edm.String";return R;});},conditional:function(e,i){var C=e.complexBinding,f=C?Object.assign({},e,{complexBinding:false}):e;function g(h,j,R){return B.resultToString(E.wrapExpression(h),true,j,R);}return S.all([E.parameter(f,0,"Edm.Boolean"),E.parameter(e,1),i&&e.value.length===2?{result:"constant",type:"edm:Null",value:undefined}:E.parameter(e,2)]).then(function(R){var h=R[0],j=R[1],k=R[2],l=j.type;if(j.type==="edm:Null"){l=k.type;}else if(k.type!=="edm:Null"&&j.type!==k.type){d(e,"Expected same type for second and third parameter, types are '"+j.type+"' and '"+k.type+"'");}return{result:"expression",type:l,value:g(h,false,true)+"?"+g(j,C)+":"+g(k,C)};});},constant:function(e,f){var v=e.value;if(f==="String"){if(r.test(v)){return{ignoreTypeInPath:true,result:"binding",type:"Edm.String",value:v.slice(1,-1)};}}return{result:"constant",type:T[f],value:v};},expression:function(e,i){var R=e.value,f=e,g;if(R===null){g="Null";}else if(typeof R==="boolean"){g="Bool";}else if(typeof R==="number"){g=isFinite(R)&&Math.floor(R)===R?"Int32":"Float";}else if(typeof R==="string"){g="String";}else if(Array.isArray(R)){return E.collection(e);}else{B.expectType(e,"object");if(R.$kind==="Property"){e.value=e.model.getObject(e.path+"@sapui.name");return E.path(e);}["$And","$Apply","$Date","$DateTimeOffset","$Decimal","$Float","$Eq","$Ge","$Gt","$Guid","$If","$Int","$Le","$Lt","$Name","$Ne","$Not","$Null","$Or","$Path","$PropertyPath","$TimeOfDay","$LabeledElement"].forEach(function(h){if(R.hasOwnProperty(h)){g=h.slice(1);f=B.descend(e,h);}});}switch(g){case"Apply":return E.apply(e,f);case"If":return E.conditional(f,i);case"Name":case"Path":case"PropertyPath":return E.path(f);case"Date":case"DateTimeOffset":case"Decimal":case"Guid":case"Int":case"String":case"TimeOfDay":B.expectType(f,"string");case"Bool":case"Float":case"Int32":return S.resolve(E.constant(f,g));case"And":case"Eq":case"Ge":case"Gt":case"Le":case"Lt":case"Ne":case"Or":return E.operator(f,g);case"Not":return E.not(f);case"Null":return S.resolve({result:"constant",type:"edm:Null",value:null});default:return c(e,"Unsupported OData expression");}},fetchCurrencyOrUnit:function(e,v,f,C){var g="sap.ui.model.odata.type.Unit",h="@@requestUnitsOfMeasure",i=e.model,j=e.path+"@Org.OData.Measures.V1.Unit/$Path",k=i.getObject(j);function l(n,q,u){return B.resultToString(E.pathResult(e,q,u,n),false,true);}if(!k){g="sap.ui.model.odata.type.Currency";h="@@requestCurrencyCodes";j=e.path+"@Org.OData.Measures.V1.ISOCurrency/$Path";k=i.getObject(j);}if(!k){return undefined;}return i.fetchObject(j+"/$").then(function(n){var q=i.getObject(e.path+"@com.sap.vocabularies.UI.v1.DoNotCheckScaleOfMeasureQuantity")?",constraints:{'skipDecimalsValidation':true}":"";return{result:"composite",type:g,value:(t[f]==="number"?"{formatOptions:{parseAsString:false},":"{")+"mode:'TwoWay',parts:["+l(C,f,v)+","+l(i.getConstraints(n,j),n.$Type,k)+",{mode:'OneTime',path:'/##"+h+"',targetType:'any'}"+"],type:'"+g+"'"+q+"}"};});},fetchDateTimeWithTimezone:function(e,v,C){var f=e.model,g=e.path+"@com.sap.vocabularies.Common.v1.Timezone/$Path",h=f.getObject(g);function i(j,k,l){return B.resultToString(E.pathResult(e,k,l,j),false,true);}if(!h){return undefined;}return f.fetchObject(g+"/$").then(function(j){return{result:"composite",type:"sap.ui.model.odata.type.DateTimeWithTimezone",value:"{mode:'TwoWay',parts:["+i(C,"Edm.DateTimeOffset",v)+","+i(f.getConstraints(j,g),j.$Type,h)+"],type:'sap.ui.model.odata.type.DateTimeWithTimezone'}"};});},fillUriTemplate:function(e){var f=[],g,i;e.complexBinding=false;g=[E.parameter(e,0,"Edm.String")];for(i=1;i<e.value.length;i+=1){f[i]=B.descend(e,i,"object");g.push(E.expression(B.descend(f[i],"$LabeledElement",true)));}return S.all(g).then(function(R){var n,h=[],j="";h.push("odata.fillUriTemplate(",B.resultToString(R[0],true,false,true),",{");for(i=1;i<e.value.length;i+=1){n=B.property(f[i],"$Name","string");h.push(j,B.toJSON(n),":",B.resultToString(R[i],true,false,true));j=",";}h.push("})");return{result:"expression",type:"Edm.String",value:h.join("")};});},formatOperand:function(R,w){if(R.result==="constant"){switch(R.category){case"boolean":case"number":return String(R.value);}}if(w){E.wrapExpression(R);}return B.resultToString(R,true,false,true);},getExpression:function(f){if(f.value===undefined){return undefined;}b.average(P,"",p);if(!s&&M.bindingParser===a.simpleParser){L.warning("Complex binding syntax not active",null,A);s=true;}return E.expression(f).then(function(R){return B.resultToString(R,false,f.complexBinding);},function(e){if(e instanceof SyntaxError){return"Unsupported: "+a.complexParser.escape(B.toErrorString(f.value));}throw e;}).finally(function(){b.end(P);}).unwrap();},not:function(e){e.asExpression=true;e.complexBinding=false;return E.expression(e).then(function(f){return{result:"expression",type:"Edm.Boolean",value:"!"+B.resultToString(E.wrapExpression(f),true,false,true)};});},operator:function(e,f){var g=f==="And"||f==="Or"?"Edm.Boolean":undefined;e.complexBinding=false;return S.all([E.parameter(e,0,g),E.parameter(e,1,g)]).then(function(R){var n,h=R[0],i=R[1],j="",v,V;if(h.type!=="edm:Null"&&i.type!=="edm:Null"){h.category=t[h.type];i.category=t[i.type];E.adjustOperands(h,i);E.adjustOperands(i,h);if(h.category!==i.category){d(e,"Expected two comparable parameters but instead saw "+h.type+" and "+i.type);}switch(h.category){case"Decimal":j=",'Decimal'";break;case"DateTimeOffset":j=",'DateTime'";break;}n=m[h.category];}v=E.formatOperand(h,!n);V=E.formatOperand(i,!n);return{result:"expression",type:"Edm.Boolean",value:n?"odata.compare("+v+","+V+j+")"+o[f]+"0":v+o[f]+V};});},parameter:function(e,i,f){var g=B.descend(e,i,true);return E.expression(g).then(function(R){if(f&&f!==R.type){d(g,"Expected "+f+" but instead saw "+R.type);}return R;});},path:function(e){var i=e.ignoreAsPrefix,f=e.model,g,v=e.value;if(i&&v.startsWith(i)){v=v.slice(i.length);}B.expectType(e,"string");g=f.fetchObject(e.path+"/$");if(g.isPending()&&!e.$$valueAsPromise){g.caught();g=S.resolve();}return g.then(function(h){var j,C,k=h&&h.$Type;if(h&&e.complexBinding){C=f.getConstraints(h,e.path);j=k==="Edm.DateTimeOffset"?E.fetchDateTimeWithTimezone(e,v,C):E.fetchCurrencyOrUnit(e,v,k,C);}return j||E.pathResult(e,k,v,C);});},pathResult:function(e,f,g,C){return{constraints:C,formatOptions:f==="Edm.String"?Object.assign({parseKeepsEmptyString:true},e.formatOptions):e.formatOptions,parameters:e.parameters,result:"binding",type:f,value:e.prefix+g};},uriEncode:function(e){return E.parameter(e,0).then(function(R){return{result:"expression",type:"Edm.String",value:R.type==="Edm.String"?"odata.uriEncode("+B.resultToString(R,true,false,true)+","+B.toJSON(R.type)+")":"String("+B.resultToString(R,true,false,true)+")"};});},wrapExpression:function(R){if(R.result==="expression"){R.value="("+R.value+")";}return R;}};return E;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_AggregationCache',["./_AggregationHelper","./_Cache","./_ConcatHelper","./_GroupLock","./_Helper","./_MinMaxHelper","sap/base/Log","sap/ui/base/SyncPromise"],function(_,a,b,c,d,e,L,S){"use strict";
function f(r,R,A,q,h){var C=function(){},l=null,t=this;a.call(this,r,R,q,true);this.oAggregation=A;this.sDownloadUrl=a.prototype.getDownloadUrl.call(this,"");this.aElements=[];this.aElements.$byPredicate={};this.aElements.$count=undefined;this.aElements.$created=0;this.oLeavesPromise=undefined;if(q.$count&&A.groupLevels.length){q.$$leaves=true;this.oLeavesPromise=new S(function(g){l=function(o){g(parseInt(o.UI5__leaves));};});}this.oFirstLevel=this.createGroupLevelCache(null,h||!!l);this.oGrandTotalPromise=undefined;if(h){this.oGrandTotalPromise=new S(function(g){b.enhanceCache(t.oFirstLevel,A,[l,function(G){var o;if(A["grandTotal like 1.84"]){_.removeUI5grand__(G);}_.setAnnotations(G,true,true,0,_.getAllProperties(A));if(A.grandTotalAtBottomOnly===false){o=Object.assign({},G,{"@$ui5.node.isExpanded":undefined});d.setPrivateAnnotation(G,"copy",o);d.setPrivateAnnotation(o,"predicate","($isTotal=true)");}d.setPrivateAnnotation(G,"predicate","()");g(G);},C]);});}else if(l){b.enhanceCache(t.oFirstLevel,A,[l,C]);}}
f.prototype=Object.create(a.prototype);
f.prototype.addElements=function(r,o,C,s){var E=this.aElements;function g(h,i){var O=E[o+i],p,P=d.getPrivateAnnotation(h,"predicate");if(O){if(O===h){return;}p=d.getPrivateAnnotation(O,"parent");if(!p){throw new Error("Unexpected element");}if(p!==C||d.getPrivateAnnotation(O,"index")!==s+i){throw new Error("Wrong placeholder");}}else if(o+i>=E.length){throw new Error("Array index out of bounds: "+(o+i));}if(P in E.$byPredicate&&E.$byPredicate[P]!==h){throw new Error("Duplicate predicate: "+P);}E[o+i]=h;E.$byPredicate[P]=h;}if(o<0){throw new Error("Illegal offset: "+o);}if(Array.isArray(r)){r.forEach(g);}else{g(r,0);}};
f.prototype.collapse=function(g){var C,h=0,E=this.aElements,G=this.fetchValue(c.$cached,g).getResult(),k=G["@$ui5.node.level"],I=E.indexOf(G),i=I+1;function l(j){delete E.$byPredicate[d.getPrivateAnnotation(E[j],"predicate")];h+=1;}C=d.getPrivateAnnotation(G,"collapsed");d.updateAll(this.mChangeListeners,g,G,C);while(i<E.length&&E[i]["@$ui5.node.level"]>k){l(i);i+=1;}if(this.oAggregation.subtotalsAtBottomOnly!==undefined&&Object.keys(C).length>1){l(i);}d.setPrivateAnnotation(G,"spliced",E.splice(I+1,h));E.$count-=h;return h;};
f.prototype.createGroupLevelCache=function(g,h){var A=this.oAggregation,i=_.getAllProperties(A),C,G,l,j,q,t;j=g?g["@$ui5.node.level"]+1:1;l=j>A.groupLevels.length;G=l?A.groupLevels.concat(Object.keys(A.group).sort()):A.groupLevels.slice(0,j);q=_.filterOrderby(this.mQueryOptions,A,j);t=!l&&Object.keys(A.aggregate).some(function(s){return A.aggregate[s].subtotals;});if(g){q.$$filterBeforeAggregate=d.getPrivateAnnotation(g,"filter")+(q.$$filterBeforeAggregate?" and ("+q.$$filterBeforeAggregate+")":"");}if(!h){delete q.$count;q=_.buildApply(A,q,j);}q.$count=true;C=a.create(this.oRequestor,this.sResourcePath,q,true);C.calculateKeyPredicate=f.calculateKeyPredicate.bind(null,g,G,i,l,t);return C;};
f.prototype.expand=function(g,G){var C,h,E=this.aElements,o=typeof G==="string"?this.fetchValue(c.$cached,G).getResult():G,I,s=d.getPrivateAnnotation(o,"spliced"),t=this;if(G!==o){d.updateAll(this.mChangeListeners,G,o,_.getOrCreateExpandedObject(this.oAggregation,o));}if(s){d.deletePrivateAnnotation(o,"spliced");I=E.indexOf(o)+1;this.aElements=E.concat(s,E.splice(I));this.aElements.$byPredicate=E.$byPredicate;h=s.length;this.aElements.$count=E.$count+h;s.forEach(function(i){var p=d.getPrivateAnnotation(i,"predicate");if(p){t.aElements.$byPredicate[p]=i;if(d.getPrivateAnnotation(i,"expanding")){d.deletePrivateAnnotation(i,"expanding");h+=t.expand(c.$cached,i).getResult();}}});d.updateAll(t.mChangeListeners,G,o,{"@$ui5.node.groupLevelCount":d.getPrivateAnnotation(o,"groupLevelCount")});return S.resolve(h);}C=d.getPrivateAnnotation(o,"cache");if(!C){C=this.createGroupLevelCache(o);d.setPrivateAnnotation(o,"cache",C);}return C.read(0,this.iReadLength,0,g).then(function(r){var I=t.aElements.indexOf(o)+1,l=o["@$ui5.node.level"],j=d.getPrivateAnnotation(o,"collapsed"),k=t.oAggregation.subtotalsAtBottomOnly!==undefined&&Object.keys(j).length>1,i;if(!o["@$ui5.node.isExpanded"]){d.deletePrivateAnnotation(o,"spliced");return 0;}if(!I){d.setPrivateAnnotation(o,"expanding",true);return 0;}h=r.value.$count;d.setPrivateAnnotation(o,"groupLevelCount",h);d.updateAll(t.mChangeListeners,G,o,{"@$ui5.node.groupLevelCount":h});if(k){h+=1;}if(I===t.aElements.length){t.aElements.length+=h;}else{for(i=t.aElements.length-1;i>=I;i-=1){t.aElements[i+h]=t.aElements[i];delete t.aElements[i];}}t.addElements(r.value,I,C,0);for(i=I+r.value.length;i<I+r.value.$count;i+=1){t.aElements[i]=_.createPlaceholder(l+1,i-I,C);}if(k){j=Object.assign({},j);_.setAnnotations(j,undefined,true,l,_.getAllProperties(t.oAggregation));d.setPrivateAnnotation(j,"predicate",d.getPrivateAnnotation(o,"predicate").slice(0,-1)+",$isTotal=true)");t.addElements(j,I+h-1);}t.aElements.$count+=h;return h;},function(i){d.updateAll(t.mChangeListeners,G,o,d.getPrivateAnnotation(o,"collapsed"));throw i;});};
f.prototype.fetchValue=function(g,p,D,l){if(p==="$count"){if(this.oLeavesPromise){return this.oLeavesPromise;}if(this.oAggregation.groupLevels.length){L.error("Failed to drill-down into $count, invalid segment: $count",this.toString(),"sap.ui.model.odata.v4.lib._Cache");return S.resolve();}return this.oFirstLevel.fetchValue(g,p,D,l);}this.registerChange(p,l);return this.drillDown(this.aElements,p,g);};
f.prototype.getCreatedElements=function(g){return[];};
f.prototype.getDownloadQueryOptions=function(q){return _.buildApply(this.oAggregation,_.filterOrderby(q,this.oAggregation),0,true);};
f.prototype.getDownloadUrl=function(g,h){return this.sDownloadUrl;};
f.prototype.read=function(I,l,p,g,D){var C,F=I,h=l,G,k,H=!!this.oGrandTotalPromise,m=H&&this.oAggregation.grandTotalAtBottomOnly!==true,r=[],i,n,t=this;function o(k,j){var q=G,Q=G.getQueryOptions(),s=d.getPrivateAnnotation(t.aElements[k],"index"),u=t.aElements[k];if(Q.$count){delete Q.$count;G.setQueryOptions(Q,true);}r.push(G.read(s,j-k,0,g.getUnlockedCopy(),D).then(function(R){var v=false,E;if(u!==t.aElements[k]&&R.value[0]!==t.aElements[k]){v=true;k=t.aElements.indexOf(u);if(k<0){k=t.aElements.indexOf(R.value[0]);if(k<0){E=new Error("Collapse before read has finished");E.canceled=true;throw E;}}}t.addElements(R.value,k,q,s);if(v){E=new Error("Collapse or expand before read has finished");E.canceled=true;throw E;}}));}if(m&&!I&&l===1){if(p!==0){throw new Error("Unsupported prefetch length: "+p);}g.unlock();return this.oGrandTotalPromise.then(function(j){return{value:[j]};});}else if(this.aElements.$count===undefined){this.iReadLength=l+p;if(m){if(F){F-=1;}else{h-=1;}}r.push(this.oFirstLevel.read(F,h,p,g,D).then(function(R){var q,s,O=0,j;t.aElements.length=t.aElements.$count=R.value.$count;if(H){t.aElements.$count+=1;t.aElements.length+=1;q=t.oGrandTotalPromise.getResult();switch(t.oAggregation.grandTotalAtBottomOnly){case false:O=1;t.aElements.$count+=1;t.aElements.length+=1;t.addElements(q,0);s=d.getPrivateAnnotation(q,"copy");t.addElements(s,t.aElements.length-1);break;case true:t.addElements(q,t.aElements.length-1);break;default:O=1;t.addElements(q,0);}}t.addElements(R.value,F+O,t.oFirstLevel,F);for(j=0;j<t.aElements.$count;j+=1){if(!t.aElements[j]){t.aElements[j]=_.createPlaceholder(1,j-O,t.oFirstLevel);}}}));}else{for(i=I,n=Math.min(I+l,this.aElements.length);i<n;i+=1){C=d.getPrivateAnnotation(this.aElements[i],"parent");if(C!==G){if(k){o(k,i);G=k=undefined;}if(C){k=i;G=C;}}}if(k){o(k,i);}g.unlock();}return S.all(r).then(function(){var E=t.aElements.slice(I,I+l);E.$count=t.aElements.$count;return{value:E};});};
f.prototype.refreshKeptElements=function(){};
f.prototype.toString=function(){return this.sDownloadUrl;};
f.calculateKeyPredicate=function(g,G,A,l,t,E,T,m){var p;if(!(m in T)){return undefined;}if(g){A.forEach(function(P){if(Array.isArray(P)){d.inheritPathValue(P,g,E);}else if(!(P in E)){E[P]=g[P];}});}p=l&&d.getKeyPredicate(E,m,T)||d.getKeyPredicate(E,m,T,G,true);d.setPrivateAnnotation(E,"predicate",p);if(!l){d.setPrivateAnnotation(E,"filter",d.getKeyFilter(E,m,T,G));}_.setAnnotations(E,l?undefined:false,t,g?g["@$ui5.node.level"]+1:1,g?null:A);return p;};
f.create=function(r,R,D,A,q,s,g){var h,H,i;if(A){h=_.hasGrandTotal(A.aggregate);H=!!A.groupLevels.length;i=_.hasMinOrMax(A.aggregate);if(q.$filter&&(h&&!A["grandTotal like 1.84"]||H)){throw new Error("Unsupported system query option: $filter");}if(q.$search&&(h||H)){throw new Error("Unsupported system query option: $search");}if(i){if(h){throw new Error("Unsupported grand totals together with min/max");}if(H){throw new Error("Unsupported group levels together with min/max");}}if(h||H||i){if("$expand"in q){throw new Error("Unsupported system query option: $expand");}if("$select"in q){throw new Error("Unsupported system query option: $select");}return i?e.createCache(r,R,A,q):new f(r,R,A,q,h);}}if(q.$$filterBeforeAggregate){q.$apply="filter("+q.$$filterBeforeAggregate+")/"+q.$apply;delete q.$$filterBeforeAggregate;}return a.create(r,R,q,s,D,g);};
return f;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_AggregationHelper',["./_Helper","./_Parser","sap/ui/model/Filter"],function(_,a,F){"use strict";var A={aggregate:{"*":{grandTotal:"boolean",max:"boolean",min:"boolean",name:"string",subtotals:"boolean",unit:"string",with:"string"}},"grandTotal like 1.84":"boolean",grandTotalAtBottomOnly:"boolean",group:{"*":{additionally:["string"]}},groupLevels:["string"],search:"string",subtotalsAtBottomOnly:"boolean"},r=/,|%2C|%2c/,b=new RegExp("^("+a.sODataIdentifier+"(?:/"+a.sODataIdentifier+")*"+")(?:"+a.sWhitespace+"+(?:asc|desc))?$"),c;
function d(o,g,e,G,f,i,h){var D=o.aggregate[f],j=D.name||f,u=D.unit,w=D.with;if(G){if(w==="average"||w==="countdistinct"){throw new Error("Cannot aggregate totals with '"+w+"'");}j=f;f="UI5grand__"+f;}if(w){j+=" with "+w+" as "+f;}else if(D.name){j+=" as "+f;}e.push(j);if(u&&e.indexOf(u)<0&&h.indexOf(u,i+1)<0&&g.indexOf(u)<0){e.push(u);}}
function s(q){var t=[];if(q.$skip){t.push("skip("+q.$skip+")");}delete q.$skip;if(q.$top<Infinity){t.push("top("+q.$top+")");}delete q.$top;return t.join("/");}
c={buildApply:function(o,q,l,f,m){var e,g="",G=[],h=o["grandTotal like 1.84"],i,I,L,M=[],S,j=[];function p(n,k){var t,D=o.aggregate[n];if(D[k]){t="UI5"+k+"__"+n;M.push(n+" with "+k+" as "+t);if(m){m[t]={measure:n,method:k};}}}q=Object.assign({},q);c.checkTypeof(o,A,"$$aggregation");o.groupLevels=o.groupLevels||[];I=!l||l>o.groupLevels.length;o.group=o.group||{};o.groupLevels.forEach(function(k){o.group[k]=o.group[k]||{};});i=I?Object.keys(o.group).sort().filter(function(k){return o.groupLevels.indexOf(k)<0;}):[o.groupLevels[l-1]];if(!l){i=o.groupLevels.concat(i);}o.aggregate=o.aggregate||{};e=Object.keys(o.aggregate).sort();if(l===1&&!f){e.filter(function(k){return o.aggregate[k].grandTotal;}).forEach(d.bind(null,o,[],G,h));}if(!f){e.forEach(function(k){p(k,"min");p(k,"max");});}e.filter(function(k){return I||o.aggregate[k].subtotals;}).forEach(d.bind(null,o,i,j,false));if(j.length){g="aggregate("+j.join(",")+")";}if(i.length){i.forEach(function(k){var n=o.group[k].additionally;if(n){i.push.apply(i,n);}});g="groupby(("+i.join(",")+(g?"),"+g+")":"))");}if(f){delete q.$count;}else if(q.$count){M.push("$count as UI5__count");delete q.$count;}if(q.$filter){g+="/filter("+q.$filter+")";delete q.$filter;}if(q.$orderby){g+="/orderby("+q.$orderby+")";delete q.$orderby;}S=s(q);if(h&&G.length){if(o.groupLevels.length){throw new Error("Cannot combine visual grouping with grand total");}g+="/concat(aggregate("+G.join(",")+"),aggregate("+M.join(",")+"),"+(S||"identity")+")";}else{if(M.length){g+="/concat(aggregate("+M.join(",")+"),"+(S||"identity")+")";}else if(S){g+="/"+S;}if(l===1&&q.$$leaves&&!f){L="groupby(("+Object.keys(o.group).sort().join(",")+"))/aggregate($count as UI5__leaves)";}delete q.$$leaves;if(G.length){g="concat("+(L?L+",":"")+"aggregate("+G.join(",")+"),"+g+")";}else if(L){g="concat("+L+","+g+")";}}if(o.search){g="search("+o.search+")/"+g;}if(q.$$filterBeforeAggregate){g="filter("+q.$$filterBeforeAggregate+")/"+g;delete q.$$filterBeforeAggregate;}if(g){q.$apply=g;}return q;},checkTypeof:function(v,t,p){if(Array.isArray(t)){if(!Array.isArray(v)){throw new Error("Not an array value for '"+p+"'");}v.forEach(function(e,i){c.checkTypeof(e,t[0],p+"/"+i);});}else if(typeof t==="object"){var I="*"in t;if(typeof v!=="object"||!v||Array.isArray(v)){throw new Error("Not an object value for '"+p+"'");}Object.keys(v).forEach(function(k){if(!I&&!(k in t)){throw new Error("Unsupported property: '"+p+"/"+k+"'");}c.checkTypeof(v[k],t[I?"*":k],p+"/"+k);});}else if(typeof v!==t){throw new Error("Not a "+t+" value for '"+p+"'");}},createPlaceholder:function(l,i,p){var P={"@$ui5.node.level":l};_.setPrivateAnnotation(P,"index",i);_.setPrivateAnnotation(P,"parent",p);return P;},extractSubtotals:function(o,g,C,e){var l=g["@$ui5.node.level"];Object.keys(o.aggregate).forEach(function(f){var D=o.aggregate[f],i,u=D.unit;if(!D.subtotals){return;}C[f]=g[f];if(e){e[f]=null;}if(u){C[u]=g[u];if(e){i=o.groupLevels.indexOf(u);if(i<0||i>=l){e[u]=null;}}}});},filterOrderby:function(q,o,l){var f=c.getFilteredOrderby(q.$orderby,o,l);q=Object.assign({},q);if(f){q.$orderby=f;}else{delete q.$orderby;}return q;},getAllProperties:function(o){var e=Object.keys(o.aggregate),g=Object.keys(o.group),f=e.concat(g);e.forEach(function(h){var u=o.aggregate[h].unit;if(u){f.push(u);}});g.forEach(function(G){var h=o.group[G].additionally;if(h){h.forEach(function(i){f.push(i.includes("/")?i.split("/"):i);});}});return f;},getFilteredOrderby:function(o,e,l){var i=!l||l>e.groupLevels.length;function f(n){return Object.keys(e.aggregate).some(function(j){var D=e.aggregate[j];return D.subtotals&&n===D.unit;});}function g(n){if(n in e.group&&(!l||e.groupLevels.indexOf(n)<0)){return true;}return Object.keys(e.aggregate).some(function(j){return n===e.aggregate[j].unit;})||Object.keys(e.group).some(function(G){return(!l||e.groupLevels.indexOf(G)<0)&&h(n,G);});}function h(n,G){return n===G||e.group[G].additionally&&e.group[G].additionally.indexOf(n)>=0;}if(o){return o.split(r).filter(function(O){var m=b.exec(O),n;if(m){n=m[1];return n in e.aggregate&&(i||e.aggregate[n].subtotals)||i&&g(n)||!i&&(h(n,e.groupLevels[l-1])||f(n));}return true;}).join(",");}},getOrCreateExpandedObject:function(o,g){var C,e=_.getPrivateAnnotation(g,"expanded");if(!e){C={"@$ui5.node.isExpanded":false};_.setPrivateAnnotation(g,"collapsed",C);e={"@$ui5.node.isExpanded":true};_.setPrivateAnnotation(g,"expanded",e);if(o.subtotalsAtBottomOnly!==undefined){c.extractSubtotals(o,g,C,o.subtotalsAtBottomOnly?e:null);}}return e;},hasGrandTotal:function(m){return Object.keys(m).some(function(e){return m[e].grandTotal;});},hasMinOrMax:function(m){return Object.keys(m).some(function(e){var D=m[e];return D.min||D.max;});},isAffected:function(o,f,S){function e(g,p){if(g.endsWith("/*")){g=g.slice(0,-2);}return _.hasPathPrefix(p,g)||_.hasPathPrefix(g,p);}function h(g,i){return i.some(function(j){return j.aFilters?h(g,j.aFilters):e(g,j.sPath);});}return S.some(function(g){var i=e.bind(null,g);return g===""||g==="*"||Object.keys(o.aggregate).some(function(j){var D=o.aggregate[j];return e(g,D.name||j);})||Object.keys(o.group).some(i)||o.groupLevels.some(i)||h(g,f);});},removeUI5grand__:function(g){Object.keys(g).forEach(function(k){if(k.startsWith("UI5grand__")){g[k.slice(10)]=g[k];delete g[k];}});},setAnnotations:function(e,i,I,l,f){e["@$ui5.node.isExpanded"]=i;e["@$ui5.node.isTotal"]=I;e["@$ui5.node.level"]=l;if(f){f.forEach(function(p){if(Array.isArray(p)){_.createMissing(e,p);}else if(!(p in e)){e[p]=null;}});}},splitFilter:function(f,o){var e=[],g=[];function i(f){return f.aFilters?f.aFilters.some(i):f.sPath in o.aggregate;}function h(f){if(f.aFilters&&f.bAnd){f.aFilters.forEach(h);}else{(i(f)?e:g).push(f);}}function w(j){return j.length>1?new F(j,true):j[0];}if(!o||!o.aggregate){return[f];}h(f);return[w(e),w(g)];}};return c;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Cache',["./_GroupLock","./_Helper","./_Requestor","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/base/SyncPromise","sap/ui/model/odata/ODataUtils"],function(_,a,b,L,c,S,O){"use strict";var C="sap.ui.model.odata.v4.lib._Cache",r=/\(\$uid=[-\w]+\)$/,d=/^\$inactive\./,m="@com.sap.vocabularies.Common.v1.Messages",e=/^-?\d+$/,f=/^([^(]*)(\(.*\))$/;
function g(i,p,n,D){if(n.$count!==undefined){s(i,p,n,n.$count+D);}}
function h(R,p){return p===""||R===p||R.startsWith(p+"/");}
function s(i,p,n,v){if(typeof v==="string"){v=parseInt(v);}a.updateExisting(i,p,n,{$count:v});}
function j(R,i,q,n,G,p){this.iActiveUsages=1;this.mChangeListeners={};this.fnGetOriginalResourcePath=G;this.iInactiveSince=Infinity;this.mPatchRequests={};this.oPendingRequestsPromise=null;this.mPostRequests={};this.sReportedMessagesPath=undefined;this.oRequestor=R;this.bSentRequest=false;this.bSortExpandSelect=n;this.setResourcePath(i);this.setQueryOptions(q);this.bSharedRequest=p;}
j.prototype._delete=function(G,E,p,i,D,n){var q=p.split("/"),v=q.pop(),I=e.test(v)?Number(v):undefined,P=q.join("/"),t=this;this.checkSharedRequest();this.addPendingRequest();return this.fetchValue(_.$cached,P).then(function(u){var w=j.from$skip(v,u),x=v?u[w]||u.$byPredicate[w]:u,H,K=a.getPrivateAnnotation(x,"predicate"),y=a.buildPath(P,Array.isArray(u)?K:v),T=a.getPrivateAnnotation(x,"transient");if(T){if(typeof T!=="string"){throw new Error("No 'delete' allowed while waiting for server response");}t.oRequestor.removePost(T,x);return undefined;}if(x["$ui5.deleting"]){throw new Error("Must not delete twice: "+E);}x["$ui5.deleting"]=true;H={"If-Match":i||x};E+=t.oRequestor.buildQueryString(t.sMetaPath,t.mQueryOptions,true);return S.all([G&&t.oRequestor.request("DELETE",E,G.getUnlockedCopy(),H,undefined,undefined,undefined,undefined,a.buildPath(t.getOriginalResourcePath(x),y)).catch(function(z){if(z.status!==404){delete x["$ui5.deleting"];throw z;}}),I===undefined&&!D&&t.requestCount(G),G&&G.unlock()]).then(function(){if(Array.isArray(u)){n(t.removeElement(u,I,K,P),u);}else{if(v){a.updateExisting(t.mChangeListeners,P,u,j.makeUpdateData([v],null));}else{x["$ui5.deleted"]=true;}n();}t.oRequestor.getModelInterface().reportStateMessages(t.sResourcePath,{},[y]);});}).finally(function(){t.removePendingRequest();});};
j.prototype.addPendingRequest=function(){var R;if(!this.oPendingRequestsPromise){this.oPendingRequestsPromise=new S(function(i){R=i;});this.oPendingRequestsPromise.$count=0;this.oPendingRequestsPromise.$resolve=R;}this.oPendingRequestsPromise.$count+=1;};
j.prototype.calculateKeyPredicate=function(i,t,M){var p,T=t[M];if(T&&T.$Key){p=a.getKeyPredicate(i,M,t);if(p){a.setPrivateAnnotation(i,"predicate",p);}}return p;};
j.prototype.checkSharedRequest=function(){if(this.bSharedRequest){throw new Error(this+" is read-only");}};
j.prototype.create=function(G,p,P,t,E,A,i,n){var q=this.getValue(P),u=G.getGroupId(),K=E&&E["@$ui5.keepTransientPath"],v,R,w=this;function x(){a.removeByPath(w.mPostRequests,P,E);q.splice(q.indexOf(E),1);q.$created-=1;if(!E["@$ui5.context.isInactive"]){w.iActiveElements-=1;g(w.mChangeListeners,P,q,-1);}delete q.$byPredicate[t];if(!P){w.adjustReadRequests(0,-1);}G.cancel();}function y(){w.addPendingRequest();a.setPrivateAnnotation(E,"transient",new Promise(function(B){R=B;}));n();}function z(B,D){a.setPrivateAnnotation(E,"transient",u);a.addByPath(w.mPostRequests,P,E);return S.all([w.oRequestor.request("POST",B,D,null,v,y,x,undefined,a.buildPath(w.sResourcePath,P,t)),w.fetchTypes()]).then(function(F){var H=F[0],I,J;a.deletePrivateAnnotation(E,"postBody");a.deletePrivateAnnotation(E,"transient");E["@$ui5.context.isTransient"]=false;a.removeByPath(w.mPostRequests,P,E);w.visitResponse(H,F[1],a.getMetaPath(a.buildPath(w.sMetaPath,P)),P+t,K);I=a.getPrivateAnnotation(H,"predicate");if(I){a.setPrivateAnnotation(E,"predicate",I);if(K){I=t;}else if(t in q.$byPredicate){q.$byPredicate[I]=E;a.updateTransientPaths(w.mChangeListeners,t,I);}}J=a.getQueryOptionsForPath(w.mQueryOptions,P).$select;a.updateSelected(w.mChangeListeners,a.buildPath(P,I||t),E,H,J&&J.concat("@odata.etag"));w.removePendingRequest();R(true);return E;},function(F){if(F.canceled){throw F;}if(R){w.removePendingRequest();R();}i(F);if(w.fetchTypes().isRejected()){throw F;}u=u.replace(d,"");u=w.oRequestor.getGroupSubmitMode(u)==="API"?u:"$parked."+u;return z(B,w.oRequestor.lockGroup(u,w,true,true));});}this.checkSharedRequest();if(!Array.isArray(q)){throw new Error("Create is only supported for collections; '"+P+"' does not reference a collection");}E=a.publicClone(E,true)||{};v=a.merge({},E);a.setPrivateAnnotation(E,"postBody",v);a.setPrivateAnnotation(E,"transientPredicate",t);E["@$ui5.context.isTransient"]=true;if(u.startsWith("$inactive.")){E["@$ui5.context.isInactive"]=true;}else{this.iActiveElements+=1;g(this.mChangeListeners,P,q,1);}if(A){q.splice(q.$created,0,E);}else{q.unshift(E);}q.$created+=1;q.$byPredicate=q.$byPredicate||{};q.$byPredicate[t]=E;if(!P){w.adjustReadRequests(0,1);}return p.then(function(B){B+=w.oRequestor.buildQueryString(w.sMetaPath,w.mQueryOptions,true);return z(B,G);});};
j.prototype.deregisterChange=function(p,i){if(!this.bSharedRequest){a.removeByPath(this.mChangeListeners,p,i);}};
j.prototype.drillDown=function(D,p,G,n){var q=S.resolve(D),E,t,u,T=false,v=this;function w(i,A){L[A?"info":"error"]("Failed to drill-down into "+p+", invalid segment: "+i,v.toString(),C);return undefined;}function x(V,i,P){var y=u.slice(0,P).join("/"),R,z;if(Array.isArray(V)){return w(i,i==="0");}return v.oRequestor.getModelInterface().fetchMetadata(v.sMetaPath+"/"+a.getMetaPath(y)).then(function(A){var B;if(!A){return w(i);}if(A.$Type==="Edm.Stream"){R=V[i+"@odata.mediaReadLink"]||V[i+"@mediaReadLink"];z=v.oRequestor.getServiceUrl();return R||a.buildPath(z+v.sResourcePath,y);}if(!T){B=V[a.getAnnotationKey(V,".Permissions",i)];if(B===0||B==="None"){return undefined;}if(!E&&!Array.isArray(D)){E=D;t=0;}return E&&v.fetchLateProperty(G,E,u.slice(0,t).join("/"),u.slice(t).join("/"),u.slice(t,P).join("/"))||w(i);}if(A.$kind==="NavigationProperty"){return null;}if(!A.$Type.startsWith("Edm.")){return{};}if("$DefaultValue"in A){return A.$Type==="Edm.String"?A.$DefaultValue:a.parseLiteral(A.$DefaultValue,A.$Type,y);}return null;});}if(!p){return q;}u=p.split("/");return u.reduce(function(P,y,i){return P.then(function(V){var I,M,z;if(y==="$count"){return Array.isArray(V)?V.$count:w(y);}if(V===undefined||V===null){return undefined;}if(typeof V!=="object"||y==="@$ui5._"||Array.isArray(V)&&(y[0]==="$"||y==="length")){return w(y);}if(a.hasPrivateAnnotation(V,"predicate")){E=V;t=i;}z=V;T=T||V["@$ui5.context.isTransient"];M=f.exec(y);if(M){if(M[1]){V=V[M[1]];}if(V){V=V.$byPredicate&&V.$byPredicate[M[2]];}}else{I=j.from$skip(y,V);if(n&&I===y&&(V[y]===undefined||V[y]===null)){V[y]={};}V=V[I];}return V===undefined&&y[0]!=="#"&&!y.includes("@")?x(z,y,i+1):V;});},q);};
j.prototype.fetchLateProperty=function(G,R,i,n,M){var F,p,q,t,P,Q,u,v=a.getMetaPath(i),T=this.fetchTypes().getResult(),U=[n],w=this;function x(y,B){var z=a.buildPath(F,B),E=T[z],A;if(!E){E=w.oRequestor.fetchType(T,z).getResult();}if(B){(E.$Key||[]).forEach(function(K){if(typeof K==="object"){K=K[Object.keys(K)[0]];}U.push(a.buildPath(B,K));});}if(y.$expand){A=Object.keys(y.$expand)[0];x(y.$expand[A],a.buildPath(B,A));}}if(!this.mLateQueryOptions){return undefined;}F=a.buildPath(this.sMetaPath,v);Q=a.intersectQueryOptions(a.getQueryOptionsForPath(this.mLateQueryOptions,i),[n],this.oRequestor.getModelInterface().fetchMetadata,F,{});if(!Q){return undefined;}x(Q);p=a.buildPath(this.sResourcePath,i);u=p+this.oRequestor.buildQueryString(F,Q,false,true);P=this.mPropertyRequestByPath[u];if(!P){t=p+this.oRequestor.buildQueryString(F,this.mQueryOptions,true);q=a.getPrivateAnnotation(R,"groupId");P=this.oRequestor.request("GET",t,q?this.oRequestor.lockGroup(q,this):G.getUnlockedCopy(),undefined,undefined,undefined,undefined,F,undefined,false,Q).then(function(D){w.visitResponse(D,T,F,i);return D;});this.mPropertyRequestByPath[u]=P;}return P.then(function(D){var y=a.getPrivateAnnotation(D,"predicate");if(y&&a.getPrivateAnnotation(R,"predicate")!==y){throw new Error("GET "+u+": Key predicate changed from "+a.getPrivateAnnotation(R,"predicate")+" to "+y);}if(R["@odata.etag"]&&D["@odata.etag"]!==R["@odata.etag"]){throw new Error("GET "+u+": ETag changed");}a.updateSelected(w.mChangeListeners,i,R,D,U);return a.drillDown(R,M.split("/"));}).finally(function(){delete w.mPropertyRequestByPath[u];});};
j.prototype.fetchTypes=function(){var p,t,i=this;function n(B,q){if(q&&q.$expand){Object.keys(q.$expand).forEach(function(N){var M=B;N.split("/").forEach(function(u){M+="/"+u;p.push(i.oRequestor.fetchType(t,M));});n(M,q.$expand[N]);});}}if(!this.oTypePromise){p=[];t={};p.push(this.oRequestor.fetchType(t,this.sMetaPath));n(this.sMetaPath,this.mQueryOptions);this.oTypePromise=S.all(p).then(function(){return t;});}return this.oTypePromise;};
j.prototype.getAllElements=function(p){if(p){return this.getValue(p);}return this.aElements.map(function(E){return E instanceof S?undefined:E;});};
j.prototype.getCreatedElements=function(p){var i=this.getValue(p);return i?i.slice(0,i.$created):[];};
j.prototype.getDownloadQueryOptions=function(q){return q;};
j.prototype.getDownloadUrl=function(p,i){var q=this.mQueryOptions;if(p){q=a.getQueryOptionsForPath(q,p);q=a.merge({},i,q);}return this.oRequestor.getServiceUrl()+a.buildPath(this.sResourcePath,p)+this.oRequestor.buildQueryString(a.buildPath(this.sMetaPath,a.getMetaPath(p)),this.getDownloadQueryOptions(q));};
j.prototype.getLateQueryOptions=function(){return this.mLateQueryOptions;};
j.prototype.getQueryOptions=function(){return this.mQueryOptions;};
j.prototype.getValue=function(i){throw new Error("Unsupported operation");};
j.prototype.getOriginalResourcePath=function(E){return this.fnGetOriginalResourcePath&&this.fnGetOriginalResourcePath(E)||this.sResourcePath;};
j.prototype.getResourcePath=function(){return this.sResourcePath;};
j.prototype.hasChangeListeners=function(){return!c(this.mChangeListeners);};
j.prototype.hasPendingChangesForPath=function(p,i,I){var t=this;return Object.keys(this.mPatchRequests).some(function(R){return h(R,p)&&!(i&&t.mPatchRequests[R].every(function(P){return P.$isKeepAlive();}));})||Object.keys(this.mPostRequests).some(function(R){return I&&!R?false:h(R,p)&&t.mPostRequests[R].some(function(E){return!E["@$ui5.context.isInactive"];});});};
j.prototype.hasSentRequest=function(){return this.bSentRequest;};
j.prototype.patch=function(p,D){var t=this;this.checkSharedRequest();return this.fetchValue(_.$cached,p).then(function(i){a.updateExisting(t.mChangeListeners,p,i,D);return i;});};
j.prototype.refreshSingle=function(G,p,i,P,K,D){var t=this;this.checkSharedRequest();return this.fetchValue(_.$cached,p).then(function(E){var q=Object.assign({},a.getQueryOptionsForPath(t.mQueryOptions,p)),R;if(i!==undefined){P=a.getPrivateAnnotation(E[i],"predicate");}R=a.buildPath(t.sResourcePath,p,P);if(K&&t.mLateQueryOptions){a.aggregateExpandSelect(q,t.mLateQueryOptions);}delete q.$apply;delete q.$count;delete q.$filter;delete q.$orderby;delete q.$search;R+=t.oRequestor.buildQueryString(t.sMetaPath,q,false,t.bSortExpandSelect);t.bSentRequest=true;return S.all([t.oRequestor.request("GET",R,G,undefined,undefined,D),t.fetchTypes()]).then(function(n){var u=n[0];t.replaceElement(E,i,P,u,n[1],p);});});};
j.prototype.refreshSingleWithRemove=function(G,p,i,P,K,D,n){var t=this;this.checkSharedRequest();return S.all([this.fetchValue(_.$cached,p),this.fetchTypes()]).then(function(R){var E=R[0],q,I,u={},v,w,Q=Object.assign({},a.getQueryOptionsForPath(t.mQueryOptions,p)),x,y=a.buildPath(t.sResourcePath,p),z=[],T=R[1];if(i!==undefined){q=E[i];P=a.getPrivateAnnotation(q,"predicate");}else{q=E.$byPredicate[P];}w=a.getKeyFilter(q,t.sMetaPath,T);I=(Q.$filter?"("+Q.$filter+") and ":"")+w;delete Q.$count;delete Q.$orderby;t.bSentRequest=true;if(K){if(t.mLateQueryOptions){a.aggregateExpandSelect(Q,t.mLateQueryOptions);}u=Object.assign({},Q);u.$filter=I;Q.$filter=w;delete Q.$search;x=y+t.oRequestor.buildQueryString(t.sMetaPath,Q,false,t.bSortExpandSelect);z.push(t.oRequestor.request("GET",x,G,undefined,undefined,D));if(i!==undefined&&(w!==I||u.$search)){delete u.$select;delete u.$expand;u.$count=true;u.$top=0;v=y+t.oRequestor.buildQueryString(t.sMetaPath,u);z.push(t.oRequestor.request("GET",v,G.getUnlockedCopy()));}}else{Q.$filter=I;x=y+t.oRequestor.buildQueryString(t.sMetaPath,Q,false,t.bSortExpandSelect);z.push(t.oRequestor.request("GET",x,G,undefined,undefined,D));}return S.all(z).then(function(R){var A=R[0].value,B=R[1]&&R[1]["@odata.count"]==="0";if(A.length>1){throw new Error("Unexpected server response, more than one entity returned.");}else if(A.length===0){t.removeElement(E,i,P,p);t.oRequestor.getModelInterface().reportStateMessages(t.sResourcePath,{},[p+P]);n(false);}else if(B){t.removeElement(E,i,P,p);t.replaceElement(E,undefined,P,A[0],T,p);n(true);}else{t.replaceElement(E,i,P,A[0],T,p);}});});};
j.prototype.registerChange=function(p,i){if(!this.bSharedRequest){a.addByPath(this.mChangeListeners,p,i);}};
j.prototype.removeElement=function(E,i,p,P){var n,t;n=E.$byPredicate[p];if(i!==undefined){i=j.getElementIndex(E,p,i);E.splice(i,1);g(this.mChangeListeners,P,E,-1);}delete E.$byPredicate[p];t=a.getPrivateAnnotation(n,"transientPredicate");if(t){E.$created-=1;if(!P){this.iActiveElements-=1;}delete E.$byPredicate[t];}if(!P&&i!==undefined){if(!t){this.iLimit-=1;}this.adjustReadRequests(i,-1);}return i;};
j.prototype.removeMessages=function(){if(this.sReportedMessagesPath){this.oRequestor.getModelInterface().reportStateMessages(this.sReportedMessagesPath,{});this.sReportedMessagesPath=undefined;}};
j.prototype.removePendingRequest=function(){if(this.oPendingRequestsPromise){this.oPendingRequestsPromise.$count-=1;if(!this.oPendingRequestsPromise.$count){this.oPendingRequestsPromise.$resolve();this.oPendingRequestsPromise=null;}}};
j.prototype.replaceElement=function(E,i,p,n,t,P){var q,T;if(i===undefined){E.$byPredicate[p]=n;}else{i=j.getElementIndex(E,p,i);q=E[i];E[i]=E.$byPredicate[p]=n;T=a.getPrivateAnnotation(q,"transientPredicate");if(T){n["@$ui5.context.isTransient"]=false;E.$byPredicate[T]=n;a.setPrivateAnnotation(n,"transientPredicate",T);}}this.visitResponse(n,t,a.getMetaPath(a.buildPath(this.sMetaPath,P)),P+p);};
j.prototype.requestCount=function(G){var E,q,R,t=this;if(this.mQueryOptions&&this.mQueryOptions.$count){q=Object.assign({},this.mQueryOptions);delete q.$expand;delete q.$orderby;delete q.$select;E=this.getFilterExcludingCreated();if(E){q.$filter=q.$filter?"("+q.$filter+") and "+E:E;}q.$top=0;R=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,q);return this.oRequestor.request("GET",R,G.getUnlockedCopy()).catch(function(i){if(i.cause&&i.cause.status===404){return t.oRequestor.request("GET",R,G.getUnlockedCopy());}throw i;}).then(function(i){var n=parseInt(i["@odata.count"])+t.iActiveElements;s(t.mChangeListeners,"",t.aElements,n);t.iLimit=n;});}};
j.prototype.resetChangesForPath=function(p){var t=this;Object.keys(this.mPatchRequests).forEach(function(R){var P,i;if(h(R,p)){P=t.mPatchRequests[R];for(i=P.length-1;i>=0;i-=1){t.oRequestor.removePatch(P[i]);}delete t.mPatchRequests[R];}});Object.keys(this.mPostRequests).forEach(function(R){var E,T,i;if(h(R,p)){E=t.mPostRequests[R];for(i=E.length-1;i>=0;i-=1){T=a.getPrivateAnnotation(E[i],"transient");if(!T.startsWith("$inactive.")){t.oRequestor.removePost(T,E[i]);}}}});};
j.prototype.setActive=function(A){if(A){this.iActiveUsages+=1;this.iInactiveSince=Infinity;}else{this.iActiveUsages-=1;if(!this.iActiveUsages){this.iInactiveSince=Date.now();}this.mChangeListeners={};}};
j.prototype.setLateQueryOptions=function(q){if(q){this.mLateQueryOptions={$select:q.$select,$expand:q.$expand};}else{this.mLateQueryOptions=null;}};
j.prototype.setProperty=function(p,v,E){var t=this;this.checkSharedRequest();return this.fetchValue(_.$cached,E,null,null,true).then(function(i){a.updateAll(t.mChangeListeners,E,i,j.makeUpdateData(p.split("/"),v));});};
j.prototype.setQueryOptions=function(q,F){this.checkSharedRequest();if(this.bSentRequest&&!F){throw new Error("Cannot set query options: Cache has already sent a request");}this.mQueryOptions=q;this.sQueryString=this.oRequestor.buildQueryString(this.sMetaPath,q,false,this.bSortExpandSelect);};
j.prototype.setResourcePath=function(R){this.checkSharedRequest();this.sResourcePath=R;this.sMetaPath=a.getMetaPath("/"+R);this.oTypePromise=undefined;this.mLateQueryOptions=null;this.mPropertyRequestByPath={};};
j.prototype.toString=function(){return this.oRequestor.getServiceUrl()+this.sResourcePath+this.sQueryString;};
j.prototype.update=function(G,p,v,E,i,n,u,P,q,I){var t,w=p.split("/"),U,x=this;this.checkSharedRequest();try{t=this.fetchValue(_.$cached,n);}catch(y){if(!y.$cached||this.oPromise!==null){throw y;}t=this.oPromise=S.resolve({"@odata.etag":"*"});}return t.then(function(z){var F=a.buildPath(n,p),A=G.getGroupId(),B,D,H,J,T,K,M=j.makeUpdateData(w,v);function N(){a.removeByPath(x.mPatchRequests,F,D);a.updateExisting(x.mChangeListeners,n,z,j.makeUpdateData(w,B));}function Q(R,V){var W={"If-Match":z},X;function Y(){X=x.oRequestor.lockGroup(A,x,true);q();}if(P){W.Prefer="return=minimal";}D=x.oRequestor.request("PATCH",i,R,W,M,Y,N,undefined,a.buildPath(x.getOriginalResourcePath(z),n),V);D.$isKeepAlive=I;a.addByPath(x.mPatchRequests,F,D);return S.all([D,x.fetchTypes()]).then(function(Z){var $=Z[0];a.removeByPath(x.mPatchRequests,F,D);if(!P){x.visitResponse($,Z[1],a.getMetaPath(a.buildPath(x.sMetaPath,n)),n);}a.updateExisting(x.mChangeListeners,n,z,P?{"@odata.etag":$["@odata.etag"]}:$);},function(y){var Z=A;if(!E){N();throw y;}a.removeByPath(x.mPatchRequests,F,D);if(y.canceled){throw y;}E(y);switch(x.oRequestor.getGroupSubmitMode(A)){case"API":break;case"Auto":if(!x.oRequestor.hasChanges(A,z)){Z="$parked."+A;}break;default:throw y;}X.unlock();X=undefined;return Q(x.oRequestor.lockGroup(Z,x,true,true),true);}).finally(function(){if(X){X.unlock();}});}if(!z){throw new Error("Cannot update '"+p+"': '"+n+"' does not exist");}T=a.getPrivateAnnotation(z,"transient");if(T){if(typeof T!=="string"){throw new Error("No 'update' allowed while waiting for server response");}if(T.startsWith("$parked.")||T.startsWith("$inactive.")){J=T;T=T.slice(T.indexOf(".")+1);}if(T!==A){throw new Error("The entity will be created via group '"+T+"'. Cannot patch via group '"+A+"'");}}B=a.drillDown(z,w);H=a.getPrivateAnnotation(z,"postBody");if(H){a.updateAll({},n,H,M);if(z["@$ui5.context.isInactive"]){M["@$ui5.context.isInactive"]=false;x.iActiveElements+=1;g(x.mChangeListeners,"",x.aElements,1);}}a.updateAll(x.mChangeListeners,n,z,M);if(u){U=u.split("/");u=a.buildPath(n,u);K=x.getValue(u);if(K===undefined){L.debug("Missing value for unit of measure "+u+" when updating "+F,x.toString(),C);}else{a.merge(T?H:M,j.makeUpdateData(U,K));}}if(T){if(J){a.setPrivateAnnotation(z,"transient",T);x.oRequestor.relocate(J,H,T);}G.unlock();return Promise.resolve();}x.oRequestor.relocateAll("$parked."+A,A,z);i+=x.oRequestor.buildQueryString(x.sMetaPath,x.mQueryOptions,true);return Q(G);});};
j.prototype.visitResponse=function(R,t,n,p,K,q){var u,H=false,P={},v=this.oRequestor.getServiceUrl()+this.sResourcePath,w=this;function x(M,i,B){H=true;if(M&&M.length){P[i]=M;M.forEach(function(D){if(D.longtextUrl){D.longtextUrl=a.makeAbsolute(D.longtextUrl,B);}});}}function y(B,i){return i?a.makeAbsolute(i,B):B;}function z(I,M,B,D){var E={},F,G,J,i;for(i=0;i<I.length;i+=1){G=I[i];F=B===""?q+i:i;if(G&&typeof G==="object"){A(G,M,B,D,F);J=a.getPrivateAnnotation(G,"predicate");if(!B){u.push(J||F.toString());}if(J){E[J]=G;I.$byPredicate=E;}}}}function A(i,M,I,B,D){var E,F,T=t[M],G=T&&T[m]&&T[m].$Path,J;B=y(B,i["@odata.context"]);F=w.calculateKeyPredicate(i,t,M);if(D!==undefined){I=a.buildPath(I,F||D);}else if(!K&&F){E=r.exec(I);if(E){I=I.slice(0,-E[0].length)+F;}}if(p&&!u){u=[I];}if(G){J=a.drillDown(i,G.split("/"));if(J!==undefined){x(J,I,B);}}Object.keys(i).forEach(function(N){var Q,U=M+"/"+N,V=i[N],W=a.buildPath(I,N);if(N.endsWith("@odata.mediaReadLink")||N.endsWith("@mediaReadLink")){i[N]=a.makeAbsolute(V,B);}if(N.includes("@")){return;}if(Array.isArray(V)){V.$created=0;V.$count=undefined;Q=i[N+"@odata.count"];if(Q){s({},"",V,Q);}else if(!i[N+"@odata.nextLink"]){s({},"",V,V.length);}z(V,U,W,y(B,i[N+"@odata.context"]));}else if(V&&typeof V==="object"){A(V,U,W,B);}});}if(q!==undefined){u=[];z(R.value,n||this.sMetaPath,"",y(v,R["@odata.context"]));}else if(R&&typeof R==="object"){A(R,n||this.sMetaPath,p||"",v);}if(H){this.sReportedMessagesPath=this.getOriginalResourcePath(R);this.oRequestor.getModelInterface().reportStateMessages(this.sReportedMessagesPath,P,u);}};
function k(R,i,q,n,D,p){j.call(this,R,i,q,n,function(){return D;},p);this.iActiveElements=0;this.oBackup=null;this.sContext=undefined;this.aElements=[];this.aElements.$byPredicate={};this.aElements.$count=undefined;this.aElements.$created=0;this.aElements.$tail=undefined;this.iLimit=Infinity;this.aReadRequests=[];this.bServerDrivenPaging=false;this.oSyncPromiseAll=undefined;}
k.prototype=Object.create(j.prototype);
k.prototype.addKeptElement=function(E){this.aElements.$byPredicate[a.getPrivateAnnotation(E,"predicate")]=E;};
k.prototype.adjustReadRequests=function(i,n){this.aReadRequests.forEach(function(R){if(R.iStart>=i){R.iStart+=n;R.iEnd+=n;}});};
k.prototype.createEmptyElement=function(p){var E={};a.setPrivateAnnotation(E,"predicate",p);this.aElements.$byPredicate[p]=E;return E;};
k.prototype.doReplaceWith=function(i,E){this.aElements[i]=E;this.addKeptElement(E);};
k.prototype.fetchValue=function(G,p,i,n,q){var E,F=p.split("/")[0],t,u=this;G.unlock();if(this.aElements.$byPredicate[F]){t=S.resolve();}else if((G===_.$cached||F!=="$count")&&this.aElements[F]!==undefined){t=S.resolve(this.aElements[F]);}else{if(!this.oSyncPromiseAll){E=this.aElements.$tail?this.aElements.concat(this.aElements.$tail):this.aElements;this.oSyncPromiseAll=S.all(E);}t=this.oSyncPromiseAll;}return t.then(function(){u.registerChange(p,n);return u.drillDown(u.aElements,p,G,q);});};
k.prototype.fill=function(p,q,E){var i,n=Math.max(this.aElements.length,1024);if(E>n){if(this.aElements.$tail&&p){throw new Error("Cannot fill from "+q+" to "+E+", $tail already in use, # of elements is "+this.aElements.length);}this.aElements.$tail=p;E=this.aElements.length;}for(i=q;i<E;i+=1){this.aElements[i]=p;}this.oSyncPromiseAll=undefined;};
k.prototype.getFilterExcludingCreated=function(){var E,K,n=[],t,i;for(i=0;i<this.aElements.$created;i+=1){E=this.aElements[i];if(!E["@$ui5.context.isTransient"]){t=t||this.fetchTypes().getResult();K=a.getKeyFilter(E,this.sMetaPath,t);if(K){n.push(K);}}}return n.length?"not ("+n.sort().join(" or ")+")":undefined;};
k.prototype.getQueryString=function(){var E=this.getFilterExcludingCreated(),q=Object.assign({},this.mQueryOptions),F=q.$filter,Q=this.sQueryString;if(E){if(F){q.$filter="("+F+") and "+E;Q=this.oRequestor.buildQueryString(this.sMetaPath,q,false,this.bSortExpandSelect);}else{Q+=(Q?"&":"?")+"$filter="+a.encode(E,false);}}return Q;};
k.prototype.getResourcePathWithQuery=function(i,E){var n=this.aElements.$created,q=this.getQueryString(),D=q?"&":"?",p=E-i,R=this.sResourcePath+q;if(i<n){throw new Error("Must not request created element");}i-=n;if(i>0||p<Infinity){R+=D+"$skip="+i;}if(p<Infinity){R+="&$top="+p;}return R;};
k.prototype.getValue=function(p){var i;if(!p){return this.aElements;}i=this.fetchValue(_.$cached,p);if(i.isFulfilled()){return i.getResult();}i.caught();};
k.prototype.handleCount=function(G,t,n,E,R,F){var p=R["@odata.count"],q=this.aElements.$created,u,v=-1,w=this.aElements.$count,x,y=R.value.length,i;E-=F;y-=F;if(p){u=parseInt(p)-F;if(F===t||n===q&&y===u){this.iLimit=v=u;}else{x=this.requestCount(this.oRequestor.getUnlockedAutoCopy(G));}}if(R["@odata.nextLink"]){this.bServerDrivenPaging=true;if(E<this.aElements.length){for(i=n+y;i<E;i+=1){delete this.aElements[i];}}else{this.aElements.length=n+y;}}else if(y<E-n){if(v===-1){v=w&&w-this.iActiveElements;}v=Math.min(v!==undefined?v:Infinity,n-q+y);this.aElements.length=q+v;this.iLimit=v;if(!p&&v>0&&!this.aElements[v-1]){v=undefined;}}if(v!==-1){s(this.mChangeListeners,"",this.aElements,v!==undefined?v+this.iActiveElements:undefined);}return x;};
k.prototype.handleResponse=function(R,n,t){var E,p=this.aElements,q=p.$created,K,u=0,P,v=R.value.length,i;this.sContext=R["@odata.context"];this.visitResponse(R,t,undefined,undefined,undefined,n);for(i=0;i<v;i+=1){E=R.value[i];P=a.getPrivateAnnotation(E,"predicate");if(P){K=p.$byPredicate[P];if(K){if(!K["@odata.etag"]||E["@odata.etag"]===K["@odata.etag"]){if(q&&p.lastIndexOf(K,q-1)>=0){u+=1;p[n+v-u]=undefined;continue;}a.updateNonExisting(K,E);E=K;}else if(this.hasPendingChangesForPath(P)){throw new Error("Modified on client and on server: "+this.sResourcePath+P);}}p.$byPredicate[P]=E;}p[n+i-u]=E;}return u;};
k.prototype.read=function(I,n,p,G,D){var q=0,E,t,u,P=this.oPendingRequestsPromise||this.aElements.$tail,R,T=0,i,v=this;if(I<0){throw new Error("Illegal index "+I+", must be >= 0");}if(n<0){throw new Error("Illegal length "+n+", must be >= 0");}if(P){return P.then(function(){return v.read(I,n,p,G,D);});}for(i=0;i<this.aElements.$created;i+=1){E=this.aElements[i];if(a.getPrivateAnnotation(E,"transient")===G.getGroupId()){T+=1;}if(v.oBackup&&!E["@$ui5.context.isTransient"]){q+=1;}}R=O._getReadIntervals(this.aElements,I,n,this.bServerDrivenPaging?0:Math.max(p,T,q),this.aElements.$created+this.iLimit);if(T&&(R.length>1||R.length&&R[0].start>this.aElements.$created)){G.unlock();return this.oRequestor.waitForBatchResponseReceived(G.getGroupId()).then(function(){return v.read(I,n,p,v.oRequestor.getUnlockedAutoCopy(G),D);});}R.forEach(function(w){v.requestElements(w.start,w.end,G.getUnlockedCopy(),T,D);D=undefined;});G.unlock();u=I+n+p;t=this.aElements.slice(I,u);if(this.aElements.$tail&&u>this.aElements.length){t.push(this.aElements.$tail);}return S.all(t).then(function(){var w=v.aElements.slice(I,I+n);w.$count=v.aElements.$count;return{"@odata.context":v.sContext,value:w};});};
k.prototype.refreshKeptElements=function(G,i){var t=this,p=Object.keys(this.aElements.$byPredicate).filter(q).sort(),T;function n(){var K,Q=a.merge({},t.mQueryOptions);if(t.mLateQueryOptions){a.aggregateExpandSelect(Q,t.mLateQueryOptions);}delete Q.$count;delete Q.$orderby;delete Q.$search;K=p.map(function(P){return a.getKeyFilter(t.aElements.$byPredicate[P],t.sMetaPath,T);});Q.$filter=K.join(" or ");if(K.length>1){Q.$top=K.length;}return t.sResourcePath+t.oRequestor.buildQueryString(t.sMetaPath,Q,false,true);}function q(P){var E=t.aElements.$byPredicate[P];return a.getPrivateAnnotation(E,"predicate")===P&&!t.hasPendingChangesForPath(P);}if(p.length===0){return undefined;}T=this.fetchTypes().getResult();return this.oRequestor.request("GET",n(),G).then(function(R){var u;t.visitResponse(R,T,undefined,undefined,undefined,0);u=R.value.$byPredicate||{};p.forEach(function(P){var E,I;if(P in u){a.updateAll(t.mChangeListeners,P,t.aElements.$byPredicate[P],u[P]);}else{E=t.aElements.$byPredicate[P];if(a.getPrivateAnnotation(E,"transientPredicate")){I=t.removeElement(t.aElements,-1,P,"");}else{delete t.aElements.$byPredicate[P];}i(P,I);}});});};
k.prototype.requestElements=function(i,E,G,t,D){var p,R={iEnd:E,iStart:i},n=this;this.aReadRequests.push(R);this.bSentRequest=true;p=S.all([this.oRequestor.request("GET",this.getResourcePathWithQuery(i,E),G,undefined,undefined,D),this.fetchTypes()]).then(function(q){var F;if(n.aElements.$tail===p){n.aElements.$tail=undefined;}F=n.handleResponse(q[0],R.iStart,q[1]);return n.handleCount(G,t,R.iStart,R.iEnd,q[0],F);}).catch(function(q){n.fill(undefined,R.iStart,R.iEnd);throw q;}).finally(function(){n.aReadRequests.splice(n.aReadRequests.indexOf(R),1);});this.fill(p,i,E);};
k.prototype.requestSideEffects=function(G,p,N,P,q){var E,M=-1,t,Q,u={},R,v,T=this.fetchTypes().getResult(),w=this;this.checkSharedRequest();if(this.oPendingRequestsPromise){return this.oPendingRequestsPromise.then(function(){return w.requestSideEffects(G,p,N,P,q);});}Q=a.intersectQueryOptions(Object.assign({},this.mQueryOptions,this.mLateQueryOptions),p,this.oRequestor.getModelInterface().fetchMetadata,this.sMetaPath,N,"",true);if(!Q){return S.resolve();}if(q){E=[this.aElements.$byPredicate[P[0]]];}else{P.forEach(function(i){u[i]=true;});E=this.aElements.filter(function(n,i){var x;if(!n){return false;}if(a.hasPrivateAnnotation(n,"transient")){M=i;return false;}x=a.getPrivateAnnotation(n,"predicate");if(u[x]||a.hasPrivateAnnotation(n,"transientPredicate")){M=i;delete u[x];return true;}delete w.aElements[i];delete w.aElements.$byPredicate[x];return false;});this.aElements.length=M+1;if(!E.length){return S.resolve();}Object.keys(u).forEach(function(i){E.push(w.aElements.$byPredicate[i]);});}Q.$filter=E.map(function(i){return a.getKeyFilter(i,w.sMetaPath,T);}).join(" or ");if(E.length>1){Q.$top=E.length;}a.selectKeyProperties(Q,T[this.sMetaPath]);delete Q.$count;delete Q.$orderby;delete Q.$search;t=a.extractMergeableQueryOptions(Q);R=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,Q,false,true);return this.oRequestor.request("GET",R,G,undefined,undefined,undefined,undefined,this.sMetaPath,undefined,false,t,this,function(i){if(arguments.length){p=p.concat(i);}else{v=true;return p;}}).then(function(x){var y,z,i,n;function A(B){B=B.slice(z.length+1);return!p.some(function(D){return a.getRelativePath(B,D)!==undefined;});}if(v){return;}if(x.value.length!==E.length){throw new Error("Expected "+E.length+" row(s), but instead saw "+x.value.length);}w.visitResponse(x,T,undefined,"",false,NaN);for(i=0,n=x.value.length;i<n;i+=1){y=x.value[i];z=a.getPrivateAnnotation(y,"predicate");a.updateAll(w.mChangeListeners,z,w.aElements.$byPredicate[z],y,A);}});};
k.prototype.reset=function(K,G){var B=this.aElements.$byPredicate,n=this.mChangeListeners,p=0,E,t,i,q=this;if(G){this.oBackup={iActiveElements:this.iActiveElements,mChangeListeners:this.mChangeListeners,sContext:this.sContext,aElements:this.aElements.slice(),$byPredicate:B,$count:this.aElements.$count,$created:this.aElements.$created,iLimit:this.iLimit};}for(i=0;i<this.aElements.$created;i+=1){E=this.aElements[i];t=a.getPrivateAnnotation(E,"transient");if(G?"@$ui5.context.isInactive"in E||t&&t!==G:t){K.push(a.getPrivateAnnotation(E,"predicate")||a.getPrivateAnnotation(E,"transientPredicate"));this.aElements[p]=E;p+=1;}else{this.iActiveElements-=1;}}this.mChangeListeners={};this.sContext=undefined;this.aElements.length=this.aElements.$created=p;this.aElements.$byPredicate={};this.aElements.$count=undefined;this.iLimit=Infinity;Object.keys(n).forEach(function(P){if(K.includes(P.split("/")[0])){q.mChangeListeners[P]=n[P];}});K.forEach(function(P){q.aElements.$byPredicate[P]=B[P];});};
k.prototype.restore=function(R){if(R){this.iActiveElements=this.oBackup.iActiveElements;this.mChangeListeners=this.oBackup.mChangeListeners;this.sContext=this.oBackup.sContext;this.aElements.length=this.oBackup.aElements.length;this.oBackup.aElements.forEach(function(E,i){this[i]=E;},this.aElements);this.aElements.$byPredicate=this.oBackup.$byPredicate;this.aElements.$count=this.oBackup.$count;this.aElements.$created=this.oBackup.$created;this.iLimit=this.oBackup.iLimit;}this.oBackup=null;};
function l(R,i,q){j.call(this,R,i,q);this.oPromise=null;}
l.prototype=Object.create(j.prototype);
l.prototype._delete=function(){throw new Error("Unsupported");};
l.prototype.create=function(){throw new Error("Unsupported");};
l.prototype.fetchValue=function(G,i,D,n,p){var t=this;if(p){throw new Error("Unsupported argument: bCreateOnDemand");}if(this.oPromise){G.unlock();}else{this.bSentRequest=true;this.oPromise=S.resolve(this.oRequestor.request("GET",this.sResourcePath+this.sQueryString,G,undefined,undefined,D,undefined,this.sMetaPath));}return this.oPromise.then(function(R){t.registerChange("",n);return R&&typeof R==="object"?R.value:R;});};
l.prototype.update=function(){throw new Error("Unsupported");};
function o(R,i,q,n,p,G,P,M){j.call(this,R,i,q,n,G,p);this.sMetaPath=M||this.sMetaPath;this.bPost=P;this.bPosting=false;this.oPromise=null;}
o.prototype=Object.create(j.prototype);
o.prototype.fetchValue=function(G,p,D,i,n){var R=this.sResourcePath+this.sQueryString,t=this;if(this.oPromise){G.unlock();}else{if(this.bPost){throw new Error("Cannot fetch a value before the POST request");}this.oPromise=S.all([this.oRequestor.request("GET",R,G,undefined,undefined,D,undefined,this.sMetaPath),this.fetchTypes()]).then(function(q){t.visitResponse(q[0],q[1]);return q[0];});this.bSentRequest=true;}return this.oPromise.then(function(q){if(q&&q["$ui5.deleted"]){throw new Error("Cannot read a deleted entity");}t.registerChange(p,i);return t.drillDown(q,p,G,n);});};
o.prototype.getValue=function(p){var i;if(this.oPromise&&this.oPromise.isFulfilled()){i=this.drillDown(this.oPromise.getResult(),p,_.$cached);if(i.isFulfilled()){return i.getResult();}i.caught();}};
o.prototype.post=function(G,D,E,i,n){var p,H=E?{"If-Match":i&&"@odata.etag"in E?"*":E}:{},q="POST",t=this;function u(v){t.bPosting=true;return S.all([t.oRequestor.request(q,t.sResourcePath+t.sQueryString,v,H,D),t.fetchTypes()]).then(function(R){t.visitResponse(R[0],R[1]);t.bPosting=false;return R[0];},function(w){t.bPosting=false;if(n&&w.strictHandlingFailed){return n(w).then(function(x){var y;if(x){delete H["Prefer"];return u(v.getUnlockedCopy());}y=Error("Action canceled due to strict handling");y.canceled=true;throw y;});}throw w;});}this.checkSharedRequest();if(!this.bPost){throw new Error("POST request not allowed");}if(this.bPosting){throw new Error("Parallel POST requests not allowed");}if(E){p=G.getGroupId();this.oRequestor.relocateAll("$parked."+p,p,E);}if(D){q=D["X-HTTP-Method"]||q;delete D["X-HTTP-Method"];if(this.oRequestor.isActionBodyOptional()&&!Object.keys(D).length){D=undefined;}}this.bSentRequest=true;if(n){H["Prefer"]="handling=strict";}this.oPromise=u(G);return this.oPromise;};
o.prototype.requestSideEffects=function(G,p,n,R){var M,q,i,t,u=this;this.checkSharedRequest();q=this.oPromise&&a.intersectQueryOptions(Object.assign({},this.mQueryOptions,this.mLateQueryOptions),p,this.oRequestor.getModelInterface().fetchMetadata,this.sMetaPath,n);if(!q){return S.resolve();}if(this.oPromise.isRejected()){throw new Error(this+": Cannot call requestSideEffects, cache is broken: "+this.oPromise.getResult().message);}M=a.extractMergeableQueryOptions(q);R=(R||this.sResourcePath)+this.oRequestor.buildQueryString(this.sMetaPath,q,false,true);i=S.all([this.oRequestor.request("GET",R,G,undefined,undefined,undefined,undefined,this.sMetaPath,undefined,false,M,this,function(v){if(arguments.length){p=p.concat(v);}else{t=true;return p;}}),this.fetchTypes(),this.fetchValue(_.$cached,"")]).then(function(v){return v;}).then(function(v){var N=v[0],w=v[2];if(t){return;}a.setPrivateAnnotation(N,"predicate",a.getPrivateAnnotation(w,"predicate"));u.visitResponse(N,v[1]);a.updateAll(u.mChangeListeners,"",w,N,function(P){return!p.some(function(x){return a.getRelativePath(P,x)!==undefined;});});});return i;};
j.create=function(R,i,q,n,D,p){var t,K,P,u,v;if(p){P=i+R.buildQueryString(a.getMetaPath("/"+i),q,false,n);v=R.$mSharedCollectionCacheByPath;if(!v){v=R.$mSharedCollectionCacheByPath={};}u=v[P];if(u){u.setActive(true);}else{K=Object.keys(v);t=K.length;if(t>100){K.filter(function(w){return!v[w].iActiveUsages;}).sort(function(w,x){return v[w].iInactiveSince-v[x].iInactiveSince;}).every(function(w){delete v[w];t-=1;return t>100;});}u=v[P]=new k(R,i,q,n,D,p);}return u;}return new k(R,i,q,n,D);};
j.createProperty=function(R,i,q){return new l(R,i,q);};
j.createSingle=function(R,i,q,n,p,G,P,M){return new o(R,i,q,n,p,G,P,M);};
j.from$skip=function(i,n){return e.test(i)?(n.$created||0)+Number(i):i;};
j.getElementIndex=function(E,K,i){var n=E[i];if(!n||a.getPrivateAnnotation(n,"predicate")!==K){i=E.indexOf(E.$byPredicate[K]);}return i;};
j.makeUpdateData=function(p,v){return p.reduceRight(function(V,i){var R={};R[i]=V;return R;},v);};
return j;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_ConcatHelper',["./_AggregationHelper"],function(_){"use strict";return{enhanceCache:function(c,a,A,m){var f;c.getResourcePathWithQuery=function(s,e){var q=_.buildApply(a,Object.assign({},this.mQueryOptions,{$skip:s,$top:e-s}),1,f,m);f=true;return this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,q,false,true);};c.handleResponse=function(r){A.forEach(function(h){var o;if(h){o=r.value.shift();if("UI5__count"in o){r["@odata.count"]=o.UI5__count;}h(o);}});delete this.handleResponse;return this.handleResponse.apply(this,arguments);};}};},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_GroupLock',["sap/ui/base/SyncPromise"],function(S){"use strict";
function _(g,o,l,m,s,c){if(!o){throw new Error("Missing owner");}if(m&&!l){throw new Error("A modifying group lock has to be locked");}this.fnCancel=c;this.bCanceled=false;this.sGroupId=g;this.bLocked=!!l;this.bModifying=!!m;this.oOwner=o;this.oPromise=null;this.iSerialNumber=s===undefined?Infinity:s;}
_.prototype.cancel=function(){if(!this.bCanceled){this.bCanceled=true;if(this.fnCancel){this.fnCancel();}this.unlock(true);}};
_.prototype.getGroupId=function(){return this.sGroupId;};
_.prototype.getOwner=function(){return this.oOwner;};
_.prototype.getSerialNumber=function(){return this.iSerialNumber;};
_.prototype.getUnlockedCopy=function(){return new _(this.sGroupId,this.oOwner,false,false,this.iSerialNumber);};
_.prototype.isCanceled=function(){return this.bCanceled;};
_.prototype.isLocked=function(){return this.bLocked;};
_.prototype.isModifying=function(){return this.bModifying;};
_.prototype.toString=function(){return"sap.ui.model.odata.v4.lib._GroupLock(group="+this.sGroupId+", owner="+this.oOwner+(this.isLocked()?", locked":"")+(this.isModifying()?", modifying":"")+(this.iSerialNumber!==Infinity?", serialNumber="+this.iSerialNumber:"")+")";};
_.prototype.unlock=function(f){if(this.bLocked===undefined&&!f){throw new Error("GroupLock unlocked twice");}this.bLocked=undefined;if(this.oPromise){this.oPromise.$resolve();}};
_.prototype.waitFor=function(g){var r;if(this.bLocked&&this.sGroupId===g){if(!this.oPromise){this.oPromise=new S(function(a){r=a;});this.oPromise.$resolve=r;}return this.oPromise;}};
_.$cached=new _("$cached","sap.ui.model.odata.v4.lib._GroupLock");
_.$cached.unlock=function(){};
return _;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_MetadataConverter',["./_Helper","sap/base/Log","sap/ui/performance/Measurement"],function(_,L,M){"use strict";var c="sap.ui.model.odata.v4.lib._MetadataConverter";
function a(){this.aliases={};this.oAnnotatable=null;this.entityContainer=null;this.entitySet=null;this.namespace=null;this.oOperation=null;this.reference=null;this.schema=null;this.type=null;this.result=null;this.url=null;this.xmlns=null;}
a.prototype.rCollection=/^Collection\((.*)\)$/;a.prototype.sEdmNamespace="http://docs.oasis-open.org/odata/ns/edm";a.prototype.sEdmxNamespace="http://docs.oasis-open.org/odata/ns/edmx";
a.prototype.addToResult=function(q,v){if(q in this.result){L.warning("Duplicate qualified name "+q,undefined,c);}this.result[q]=v;};
a.prototype.annotatable=function(t,p,q){var A,o,P;if(typeof t==="string"){A=this.oAnnotatable;if(A){t=_.buildPath(A.path,t);}P=t;o=this.schema.$Annotations;if(o&&o[t]){t=o[t];}}this.oAnnotatable={parent:this.oAnnotatable,path:P,prefix:p||"",qualifiedName:undefined,qualifier:q,target:t};};
a.prototype.convertXMLMetadata=function(d,u){var e;M.average("convertXMLMetadata","","sap.ui.model.odata.v4.lib._V4MetadataConverter");e=d.documentElement;if(e.localName!=="Edmx"||e.namespaceURI!==this.sRootNamespace){throw new Error(u+": expected <Edmx> in namespace '"+this.sRootNamespace+"'");}this.result={};this.url=u;this.traverse(e,this.oAliasConfig);this.traverse(e,this.oFullConfig,true);this.finalize();M.end("convertXMLMetadata");return this.result;};
a.prototype.getAnnotationValue=function(t,v){var V,b,i;switch(t){case"AnnotationPath":case"NavigationPropertyPath":case"Path":case"PropertyPath":v=this.resolveAliasInPath(v);case"Binary":case"Date":case"DateTimeOffset":case"Decimal":case"Duration":case"Guid":case"TimeOfDay":case"UrlRef":V={};V["$"+t]=v;return V;case"Bool":return v==="true";case"EnumMember":b=v.trim().replace(/ +/g," ").split(" ");for(i=0;i<b.length;i+=1){b[i]=this.resolveAliasInPath(b[i]);}return{$EnumMember:b.join(" ")};case"Float":if(v==="NaN"||v==="INF"||v==="-INF"){return{$Float:v};}return parseFloat(v);case"Int":V=parseInt(v);return _.isSafeInteger(V)?V:{$Int:v};case"String":return v;default:return undefined;}};
a.prototype.getInlineAnnotationValue=function(e){var A,o=e.attributes,v,i;for(i=o.length-1;i>=0;i-=1){A=o.item(i);v=this.getAnnotationValue(A.name,A.value);if(v!==undefined){return v;}}return true;};
a.prototype.getOrCreateArray=function(p,P){var r=p[P];if(!r){r=p[P]=[];}return r;};
a.prototype.getOrCreateObject=function(p,P){var r=p[P];if(!r){r=p[P]={};}return r;};
a.prototype.postProcessAnnotation=function(e,r){var A=this.oAnnotatable.parent;A.target[A.qualifiedName]=r.length?r[0]:this.getInlineAnnotationValue(e);};
a.prototype.postProcessApply=function(e,r){var R=this.oAnnotatable.target;R.$Apply=r;R.$Function=this.resolveAlias(e.getAttribute("Function"));return R;};
a.prototype.postProcessCastOrIsOf=function(e,r){var n=e.localName,R=this.oAnnotatable.target;R["$"+n]=r[0];this.processTypedCollection(e.getAttribute("Type"),R);this.processFacetAttributes(e,R);return R;};
a.prototype.postProcessCollection=function(b,r){return r;};
a.prototype.postProcessLabeledElement=function(e,r){var R=this.oAnnotatable.target;R.$LabeledElement=r.length?r[0]:this.getInlineAnnotationValue(e);R.$Name=e.getAttribute("Name");return R;};
a.prototype.postProcessLabeledElementReference=function(e,b){return{$LabeledElementReference:this.resolveAlias(e.textContent)};};
a.prototype.postProcessLeaf=function(e,b){return this.getAnnotationValue(e.localName,e.textContent);};
a.prototype.postProcessNot=function(b,r){var R=this.oAnnotatable.target;R.$Not=r[0];return R;};
a.prototype.postProcessNull=function(b,d){var A=this.oAnnotatable,r=null;if(A.qualifiedName){r=A.target;r.$Null=null;}return r;};
a.prototype.postProcessOperation=function(e,r){var R=this.oAnnotatable.target;R["$"+e.localName]=r;return R;};
a.prototype.postProcessPropertyValue=function(e,r){return{property:e.getAttribute("Property"),value:r.length?r[0]:this.getInlineAnnotationValue(e)};};
a.prototype.postProcessRecord=function(e,r){var p,R=this.oAnnotatable.target,t=e.getAttribute("Type"),i;if(t){R.$Type=this.resolveAlias(t);}for(i=0;i<r.length;i+=1){p=r[i];R[p.property]=p.value;}return R;};
a.prototype.postProcessUrlRef=function(b,r){return{$UrlRef:r[0]};};
a.prototype.processAlias=function(e){var A=e.getAttribute("Alias");if(A){this.aliases[A]=e.getAttribute("Namespace")+".";}};
a.prototype.processAnnotatableExpression=function(b){this.annotatable({});};
a.prototype.processAnnotation=function(e){var A=this.oAnnotatable,o,q=A.prefix+"@"+this.resolveAlias(e.getAttribute("Term")),Q=A.qualifier||e.getAttribute("Qualifier");if(Q){q+="#"+Q;}if(typeof A.target==="string"){o=this.getOrCreateObject(this.schema,"$Annotations");A.target=o[A.target]={};}A.qualifiedName=q;A.target[q]=true;this.annotatable(A.target,q);};
a.prototype.processAnnotations=function(e){this.annotatable(this.resolveAliasInPath(e.getAttribute("Target"),true),undefined,e.getAttribute("Qualifier"));};
a.prototype.processAttributes=function(e,t,C){var p,v;for(p in C){v=C[p](e.getAttribute(p));if(v!==undefined&&v!==null){t["$"+p]=v;}}};
a.prototype.processInclude=function(e){var i=this.getOrCreateArray(this.reference,"$Include");i.push(e.getAttribute("Namespace")+".");};
a.prototype.processIncludeAnnotations=function(e){var r=this.reference,i={$TermNamespace:e.getAttribute("TermNamespace")+"."},I=this.getOrCreateArray(r,"$IncludeAnnotations");this.processAttributes(e,i,{TargetNamespace:function s(v){return v?v+".":v;},Qualifier:this.setValue});I.push(i);};
a.prototype.processPropertyValue=function(e){this.annotatable(this.oAnnotatable.target,e.getAttribute("Property"));};
a.prototype.processReference=function(e){var r=this.getOrCreateObject(this.result,"$Reference");this.reference=r[e.getAttribute("Uri")]={};this.annotatable(this.reference);};
a.prototype.resolveAlias=function(n){var d=n?n.indexOf("."):-1,N;if(d>=0&&!n.includes(".",d+1)){N=this.aliases[n.slice(0,d)];if(N){return N+n.slice(d+1);}}return n;};
a.prototype.resolveAliasInParentheses=function(h,s){var p=h?s.indexOf("("):-1;if(p>=0){return this.resolveAlias(s.slice(0,p))+"("+s.slice(p+1,-1).split(",").map(this.resolveAliasInParentheses.bind(this,h)).join(",")+")";}return this.resolveAlias(s);};
a.prototype.resolveAliasInPath=function(p,h){var A,t="";if(!p.includes(".")){return p;}A=p.indexOf("@");if(A>=0){t="@"+this.resolveAlias(p.slice(A+1));p=p.slice(0,A);}return p.split("/").map(this.resolveAliasInParentheses.bind(this,h)).join("/")+t;};
a.prototype.setIfFalse=function(v){return v==="false"?false:undefined;};
a.prototype.setIfTrue=function(v){return v==="true"?true:undefined;};
a.prototype.setNumber=function(v){return v?parseInt(v):undefined;};
a.prototype.setValue=function(v){return v;};
a.prototype.traverse=function(e,C,u){var A=this.oAnnotatable,o,b=e.childNodes,d,v,I,n,p=this.xmlns,r,R=[],x=C.__xmlns||this.xmlns,i,j;if(x&&x!==e.namespaceURI){return undefined;}this.xmlns=x;if(u){this.processElement(e,C.__processor);}else if(C.__processor){C.__processor.call(this,e);}for(i=0;i<b.length;i+=1){d=b.item(i);if(d.nodeType===1){n=d.localName;o=C[n];if(!o&&C.__include){I=C.__include;for(j=0;j<I.length;j+=1){o=I[j][n];if(o){break;}}}if(o){v=this.traverse(d,o,u);if(v!==undefined&&C.__postProcessor){R.push(v);}}}}if(C.__postProcessor){r=C.__postProcessor.call(this,e,R);}this.oAnnotatable=A;this.xmlns=p;return r;};
(function($){var A,o,b,e,O;b={AnnotationPath:{__postProcessor:$.postProcessLeaf},Binary:{__postProcessor:$.postProcessLeaf},Bool:{__postProcessor:$.postProcessLeaf},Date:{__postProcessor:$.postProcessLeaf},DateTimeOffset:{__postProcessor:$.postProcessLeaf},Decimal:{__postProcessor:$.postProcessLeaf},Duration:{__postProcessor:$.postProcessLeaf},EnumMember:{__postProcessor:$.postProcessLeaf},Float:{__postProcessor:$.postProcessLeaf},Guid:{__postProcessor:$.postProcessLeaf},Int:{__postProcessor:$.postProcessLeaf},LabeledElementReference:{__postProcessor:$.postProcessLabeledElementReference},NavigationPropertyPath:{__postProcessor:$.postProcessLeaf},Path:{__postProcessor:$.postProcessLeaf},PropertyPath:{__postProcessor:$.postProcessLeaf},String:{__postProcessor:$.postProcessLeaf},TimeOfDay:{__postProcessor:$.postProcessLeaf}};e=[b];$.oAnnotationConfig={Annotation:{__xmlns:$.sEdmNamespace,__processor:$.processAnnotation,__postProcessor:$.postProcessAnnotation,__include:e}};A=[b,$.oAnnotationConfig];O={__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessOperation,__include:A};o={And:O,Apply:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessApply,__include:A},Cast:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessCastOrIsOf,__include:A},Collection:{__postProcessor:$.postProcessCollection,__include:e},Eq:O,Ge:O,Gt:O,If:O,IsOf:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessCastOrIsOf,__include:A},LabeledElement:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessLabeledElement,__include:A},Le:O,Lt:O,Ne:O,Null:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessNull,__include:[$.oAnnotationConfig]},Not:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessNot,__include:A},Or:O,Record:{__processor:$.processAnnotatableExpression,__postProcessor:$.postProcessRecord,__include:[$.oAnnotationConfig],PropertyValue:{__processor:$.processPropertyValue,__postProcessor:$.postProcessPropertyValue,__include:A}},UrlRef:{__postProcessor:$.postProcessUrlRef,__include:e}};$.oAnnotationsConfig={Annotations:{__processor:$.processAnnotations,__include:[$.oAnnotationConfig]}};e.push(o);A.push(o);$.oAnnotationConfig.Annotation.Annotation=$.oAnnotationConfig.Annotation;$.oReferenceInclude={Reference:{__xmlns:$.sEdmxNamespace,__processor:$.processReference,__include:[$.oAnnotationConfig],Include:{__processor:$.processInclude},IncludeAnnotations:{__processor:$.processIncludeAnnotations}}};})(a.prototype);return a;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_MetadataRequestor',["./_Helper","./_V2MetadataConverter","./_V4MetadataConverter","sap/base/Log","sap/ui/thirdparty/jquery"],function(_,a,b,L,q){"use strict";return{create:function(h,o,Q){var u={},s=_.buildQuery(Q);return{read:function(U,A,p){var P;function c(j){var C=o==="4.0"||A?b:a,d=j.$XML;delete j.$XML;return Object.assign(new C().convertXMLMetadata(d,U),j);}if(U in u){if(p){throw new Error("Must not prefetch twice: "+U);}P=u[U].then(c);delete u[U];}else{P=new Promise(function(r,R){q.ajax(A?U:U+s,{method:"GET",headers:h}).then(function(d,e,j){var D=j.getResponseHeader("Date"),E=j.getResponseHeader("ETag"),J={$XML:d},l=j.getResponseHeader("Last-Modified");if(D){J.$Date=D;}if(E){J.$ETag=E;}if(l){J.$LastModified=l;}r(J);},function(j,d,e){var E=_.createError(j,"Could not load metadata");L.error("GET "+U,E.message,"sap.ui.model.odata.v4.lib._MetadataRequestor");R(E);});if(!A&&Q&&"sap-context-token"in Q){delete Q["sap-context-token"];s=_.buildQuery(Q);}});if(p){u[U]=P;}else{P=P.then(c);}}return P;}};}};},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_MinMaxHelper',["./_Cache","./_ConcatHelper"],function(_,a){"use strict";return{createCache:function(r,R,A,q){var m={},c,M,o=new Promise(function(b){M=b;});function h(b){var s,d={};function g(e){d[e]=d[e]||{};return d[e];}for(s in m){g(m[s].measure)[m[s].method]=b[s];}M(d);}c=_.create(r,R,q,true);a.enhanceCache(c,A,[h],m);c.getMeasureRangePromise=function(){return o;};return c;}};},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Parser',[],function(){"use strict";var d="[=(),; \t\"']|%(09|20|22|27|28|29|2c|2C|3b|3B)",s="\\$\\w+",o="[a-zA-Z_\\u0080-\\uFFFF][\\w\\u0080-\\uFFFF]*",w="(?:[ \\t]|%09|%20)",r=new RegExp(w+"+","g"),a=new RegExp("^not"+w+"+"),O="("+w+"+)(and|eq|ge|gt|le|lt|ne|or)"+w+"+",g="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}",S="(?:\\*|%2[aA])",n=o+"(?:[./]"+o+")*"+"(?:[./]"+S+"|/\\$ref|/\\$count)?",b=S+"(?:/\\$ref)?",p=n+"|"+b,v='(?:[-+:./\\w"]|%2[bB])+',e=new RegExp("^(?:"+O+"|"+d+"|("+g+")|("+p+")|("+v+")|("+s+"))"),f=/^[0-9a-f]{2}$/i,F={ceiling:{ambiguousParameters:true},concat:{type:"Edm.String"},contains:{type:"Edm.Boolean"},day:{type:"Edm.Int32",ambiguousParameters:true},endswith:{type:"Edm.Boolean"},floor:{ambiguousParameters:true},hour:{type:"Edm.Int32",ambiguousParameters:true},indexof:{type:"Edm.Int32"},length:{type:"Edm.Int32"},minute:{type:"Edm.Int32",ambiguousParameters:true},month:{type:"Edm.Int32",ambiguousParameters:true},round:{ambiguousParameters:true},second:{type:"Edm.Int32",ambiguousParameters:true},startswith:{type:"Edm.Boolean"},substring:{type:"Edm.String"},tolower:{type:"Edm.String"},toupper:{type:"Edm.String"},trim:{type:"Edm.String"},year:{type:"Edm.Int32",ambiguousParameters:true}},m={"(":{lbp:9,led:function(T,L){var c,P;if(L.id!=="PATH"){this.error("Unexpected ",T);}c=F[L.value];if(!c){this.error("Unknown function ",L);}L.id="FUNCTION";if(c.type){L.type=c.type;}L.parameters=[];do{this.advanceBws();P=this.expression(0);if(c.ambiguousParameters){P.ambiguous=true;}L.parameters.push(P);this.advanceBws();}while(this.advanceIf(","));this.advanceBws();this.advance(")");return L;},nud:function(){var T;this.advanceBws();T=this.expression(0);this.advanceBws();this.advance(")");return T;}},not:{lbp:7,nud:function(T){T.precedence=7;T.right=this.expression(7);T.type="Edm.Boolean";return T;}}};
function h(i,L){m[i]={lbp:L,led:function(T,c){T.type="Edm.Boolean";T.precedence=L;T.left=c;T.right=this.expression(L);return T;}};}
function j(i){m[i]={lbp:0,nud:function(T){T.precedence=99;return T;}};}
h("and",2);h("eq",3);h("ge",4);h("gt",4);h("le",4);h("lt",4);h("ne",3);h("or",1);j("PATH");j("VALUE");
function _(){}
_.prototype.advance=function(E){var T=this.current();if(E&&(!T||T.id!==E)){if(E==="OPTION"){E="system query option";}else if(E.length===1){E="'"+E+"'";}this.expected(E,T);}this.iCurrentToken+=1;return T;};
_.prototype.advanceIf=function(E){var T=this.current();if(T&&T.id===E){this.iCurrentToken+=1;return true;}return false;};
_.prototype.current=function(){return this.aTokens[this.iCurrentToken];};
_.prototype.error=function(M,T){var v;if(T){v=T.value;M+="'"+(v===" "?v:v.replace(r,""))+"' at "+T.at;}else{M+="end of input";}throw new SyntaxError(M+": "+this.sText);};
_.prototype.expected=function(W,T){this.error("Expected "+W+" but instead saw ",T);};
_.prototype.finish=function(){if(this.iCurrentToken<this.aTokens.length){this.expected("end of input",this.aTokens[this.iCurrentToken]);}};
_.prototype.init=function(T){this.sText=T;this.aTokens=y(T);this.iCurrentToken=0;};
function k(){}
k.prototype=Object.create(_.prototype);
k.prototype.advanceBws=function(){var T;for(;;){T=this.current();if(!T||(T.id!==" "&&T.id!=="\t")){return;}this.advance();}};
k.prototype.expression=function(R){var L,c,T;T=this.advance();if(!T){this.expected("expression");}L=this.getSymbolValue(T,"nud");if(!L){this.expected("expression",T);}c=L.call(this,T);T=this.current();while(T&&this.getSymbolValue(T,"lbp",0)>R){c=this.getSymbolValue(T,"led").call(this,this.advance(),c);T=this.current();}return c;};
k.prototype.getSymbolValue=function(T,W,D){var c=m[T.id];return c&&W in c?c[W]:D;};
k.prototype.parse=function(c){var R;this.init(c);R=this.expression(0);this.finish();return R;};
function l(){}
l.prototype=Object.create(_.prototype);
l.prototype.parse=function(K){var c,i={},v;this.init(K);this.advance("(");if(this.current().id==="VALUE"){i[""]=this.advance().value;}else{do{c=this.advance("PATH").value;this.advance("=");v=this.advance("VALUE").value;i[c]=v;}while(this.advanceIf(","));}this.advance(")");this.finish();return i;};
function q(){}
q.prototype=Object.create(_.prototype);
q.prototype.parse=function(c){var R;this.init(c);R=this.parseSystemQueryOption();this.finish();return R;};
q.prototype.parseAnythingWithBrackets=function(c){var v="",R={},T,i=this;function z(){for(;;){T=i.advance();if(!T||T.id===";"){i.expected("')'",T);}v+=T.value;if(T.id===")"){return;}if(T.id==="("){z();}}}this.advance("=");for(;;){T=this.current();if(!T||T.id===")"||T.id===";"){break;}v+=this.advance().value;if(T.id==="("){z();}}if(!v){this.expected("an option value",T);}R[c.value]=v;return R;};
q.prototype.parseExpand=function(){var E={},c,Q,i,V;this.advance("=");do{V=null;c=this.advance("PATH").value.replace(/%2a/i,"*");if(this.advanceIf("(")){V={};do{Q=this.parseSystemQueryOption();i=Object.keys(Q)[0];V[i]=Q[i];}while(this.advanceIf(";"));this.advance(")");}E[c]=V;}while(this.advanceIf(","));return{$expand:E};};
q.prototype.parseSelect=function(){var p,P,c=[],T;this.advance("=");do{T=this.advance("PATH");p=T.value.replace(/%2a/i,"*");if(this.advanceIf("(")){P="(";do{p+=P+this.advance("PATH").value;P=",";}while(this.advanceIf(","));p+=this.advance(")").value;}c.push(p);}while(this.advanceIf(","));return{$select:c};};
q.prototype.parseSystemQueryOption=function(){var T=this.advance("OPTION");switch(T.value){case"$expand":return this.parseExpand();case"$select":return this.parseSelect();default:return this.parseAnythingWithBrackets(T);}};
function u(E){return String.fromCharCode(parseInt(E,16));}
function t(N,z,A){var i;function B(C){var c=N[i];if(c==="%"&&N[i+1]==="2"&&N[i+2]==="7"){c="'";if(C){i+=2;}}if(C){i+=1;}return c;}for(i=1;i<N.length;){if(B(true)==="'"){if(B(false)!=="'"){return N.slice(0,i);}B(true);}}throw new SyntaxError("Unterminated string at "+A+": "+z);}
function x(N,z,A){var c,E,B=false,i;for(i=1;i<N.length;i+=1){if(B){B=false;}else{c=N[i];if(c==="%"){E=N.slice(i+1,i+3);if(f.test(E)){c=u(E);i+=2;}}if(c==='"'){return N.slice(0,i+1);}B=c==="\\";}}throw new SyntaxError("Unterminated string at "+A+": "+z);}
function y(c){var A=1,i,M,N=c,z,T,B=[],v;while(N.length){M=e.exec(N);z=0;if(M){v=M[0];if(M[7]){i="OPTION";}else if(M[6]||M[4]){i="VALUE";}else if(M[5]){i="PATH";if(v==="false"||v==="true"||v==="null"){i="VALUE";}else if(v==="not"){M=a.exec(N);if(M){i="not";v=M[0];}}}else if(M[3]){i=u(M[3]);}else if(M[2]){i=M[2];z=M[1].length;}else{i=M[0];}if(i==='"'){i="VALUE";v=x(N,c,A);}else if(i==="'"){i="VALUE";v=t(N,c,A);}T={at:A+z,id:i,value:v};}else{throw new SyntaxError("Unknown character '"+N[0]+"' at "+A+": "+c);}N=N.slice(v.length);A+=v.length;B.push(T);}return B;}
return{buildFilterString:function(c){function i(N,P){var z;if(!N){return"";}if(N.parameters){z=N.parameters.map(function(A){return i(A,0);}).join(",");return N.value+"("+z+")";}z=i(N.left,N.precedence)+N.value+i(N.right,N.precedence);if(N.precedence<P){z="("+z+")";}return z;}return i(c,0);},parseFilter:function(c){return new k().parse(c);},parseKeyPredicate:function(K){return new l().parse(K);},parseSystemQueryOption:function(c){return new q().parse(c);},sODataIdentifier:o,sWhitespace:w};},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Requestor',["./_Batch","./_GroupLock","./_Helper","./_V2Requestor","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/core/cache/CacheManager","sap/ui/thirdparty/jquery"],function(_,a,b,c,L,S,C,q){"use strict";var B={Accept:"multipart/mixed"},s="sap.ui.model.odata.v4.optimisticBatch:",d="sap.ui.model.odata.v4.lib._Requestor",m="@com.sap.vocabularies.Common.v1.Messages",r=/(\$\w+)=~/g,e=/^\d+$/;
function g(H){var o=Object.assign({},H);delete o["X-CSRF-Token"];return o;}
function f(H){var R;H=H.toLowerCase();for(R in this.headers){if(R.toLowerCase()===H){return this.headers[R];}}}
function h(i,H,Q,M){this.mBatchQueue={};this.bBatchSent=false;this.mHeaders=H||{};this.aLockedGroupLocks=[];this.oModelInterface=M;this.oOptimisticBatch=null;this.sQueryParams=b.buildQuery(Q);this.mRunningChangeRequests={};this.iSessionTimer=0;this.iSerialNumber=0;this.sServiceUrl=i;this.vStatistics=Q&&Q["sap-statistics"];this.processSecurityTokenHandlers();}
h.prototype.mFinalHeaders={"Content-Type":"application/json;charset=UTF-8;IEEE754Compatible=true"};h.prototype.mPredefinedPartHeaders={Accept:"application/json;odata.metadata=minimal;IEEE754Compatible=true"};h.prototype.mPredefinedRequestHeaders={Accept:"application/json;odata.metadata=minimal;IEEE754Compatible=true","OData-MaxVersion":"4.0","OData-Version":"4.0","X-CSRF-Token":"Fetch"};h.prototype.mReservedHeaders={accept:true,"accept-charset":true,"content-encoding":true,"content-id":true,"content-language":true,"content-length":true,"content-transfer-encoding":true,"content-type":true,"if-match":true,"if-none-match":true,isolation:true,"odata-isolation":true,"odata-maxversion":true,"odata-version":true,prefer:true,"sap-contextid":true};
h.prototype.addChangeSet=function(G){var i=[],R=this.getOrCreateBatchQueue(G);i.iSerialNumber=this.getSerialNumber();R.iChangeSet+=1;R.splice(R.iChangeSet,0,i);};
h.prototype.addChangeToGroup=function(o,G){var R;if(this.getGroupSubmitMode(G)==="Direct"){o.$resolve(this.request(o.method,o.url,this.lockGroup(G,this,true,true),o.headers,o.body,o.$submit,o.$cancel));}else{R=this.getOrCreateBatchQueue(G);R[R.iChangeSet].push(o);}};
h.prototype.addQueryString=function(R,M,Q){var i;Q=this.convertQueryOptions(M,Q,false,true);R=R.replace(r,function(j,o){var v=Q[o];delete Q[o];return b.encodePair(o,v);});i=b.buildQuery(Q);if(!i){return R;}return R+(R.includes("?")?"&"+i.slice(1):i);};
h.prototype.batchRequestSent=function(G,R,H){var p,i;if(H){if(!(G in this.mRunningChangeRequests)){this.mRunningChangeRequests[G]=[];}p=new S(function(j){i=j;});p.$resolve=i;p.$requests=R;this.mRunningChangeRequests[G].push(p);}};
h.prototype.batchResponseReceived=function(G,R,H){var p;if(H){p=this.mRunningChangeRequests[G].filter(function(P){if(P.$requests===R){P.$resolve();return false;}return true;});if(p.length){this.mRunningChangeRequests[G]=p;}else{delete this.mRunningChangeRequests[G];}}};
h.prototype.buildQueryString=function(M,Q,D,i){return b.buildQuery(this.convertQueryOptions(M,Q,D,i));};
h.prototype.cancelChanges=function(G){if(this.mRunningChangeRequests[G]){throw new Error("Cannot cancel the changes for group '"+G+"', the batch request is running");}this.cancelChangesByFilter(function(){return true;},G);this.cancelGroupLocks(G);};
h.prototype.cancelChangesByFilter=function(F,G){var k=false,t=this;function l(n){var o=t.mBatchQueue[n],p,u,E,i,j;for(j=o.length-1;j>=0;j-=1){if(Array.isArray(o[j])){u=o[j];for(i=u.length-1;i>=0;i-=1){p=u[i];if(p.$cancel&&F(p)){p.$cancel();E=new Error("Request canceled: "+p.method+" "+p.url+"; group: "+n);E.canceled=true;p.$reject(E);u.splice(i,1);k=true;}}}}}if(G){if(this.mBatchQueue[G]){l(G);}}else{for(G in this.mBatchQueue){l(G);}}return k;};
h.prototype.cancelGroupLocks=function(G){this.aLockedGroupLocks.forEach(function(o){if((!G||G===o.getGroupId())&&o.isModifying()&&o.isLocked()){o.cancel();}});};
h.prototype.checkConflictingStrictRequest=function(R,j,k){function l(o,i){return k!==i&&o.some(n);}function n(R){return R.headers["Prefer"]==="handling=strict";}if(n(R)&&j.slice(0,j.iChangeSet+1).some(l)){throw new Error("All requests with strict handling must belong to the same change set");}};
h.prototype.checkForOpenRequests=function(){var t=this;if(Object.keys(this.mRunningChangeRequests).length||Object.keys(this.mBatchQueue).some(function(G){return t.mBatchQueue[G].some(function(R){return Array.isArray(R)?R.length:true;});})||this.aLockedGroupLocks.some(function(G){return G.isLocked();})){throw new Error("Unexpected open requests");}};
h.prototype.checkHeaderNames=function(H){var k;for(k in H){if(this.mReservedHeaders[k.toLowerCase()]){throw new Error("Unsupported header: "+k);}}};
h.prototype.cleanUpChangeSets=function(R){var j,H=false,i;function k(o){if(!l(o)){j.push(o);}}function l(o){if(o.method!=="PATCH"){return false;}return j.some(function(n){if(n.method==="PATCH"&&n.headers["If-Match"]===o.headers["If-Match"]){b.merge(n.body,o.body);o.$resolve(n.$promise);return true;}});}for(i=R.iChangeSet;i>=0;i-=1){j=[];R[i].forEach(k);if(j.length===0){R.splice(i,1);}else if(j.length===1&&this.isChangeSetOptional()){R[i]=j[0];}else{R[i]=j;}H=H||j.length>0;}return H;};
h.prototype.clearSessionContext=function(t){if(t){this.oModelInterface.fireSessionTimeout();}delete this.mHeaders["SAP-ContextId"];if(this.iSessionTimer){clearInterval(this.iSessionTimer);this.iSessionTimer=0;}};
h.prototype.convertExpand=function(E,i){var k,R=[],t=this;if(!E||typeof E!=="object"){throw new Error("$expand must be a valid object");}k=Object.keys(E);if(i){k=k.sort();}k.forEach(function(j){var v=E[j];if(v&&typeof v==="object"){R.push(t.convertExpandOptions(j,v,i));}else{R.push(j);}});return R.join(",");};
h.prototype.convertExpandOptions=function(E,v,i){var j=[];this.doConvertSystemQueryOptions(undefined,v,function(o,O){j.push(o+"="+O);},undefined,i);return j.length?E+"("+j.join(";")+")":E;};
h.prototype.convertQueryOptions=function(M,Q,D,i){var j={};if(!Q){return undefined;}this.doConvertSystemQueryOptions(M,Q,function(k,v){j[k]=v;},D,i);return j;};
h.prototype.convertResourcePath=function(R){return R;};
h.prototype.destroy=function(){this.clearSessionContext();};
h.prototype.doCheckVersionHeader=function(G,R,v){var o=G("OData-Version"),D=!o&&G("DataServiceVersion");if(D){throw new Error("Expected 'OData-Version' header with value '4.0' but received"+" 'DataServiceVersion' header with value '"+D+"' in response for "+this.sServiceUrl+R);}if(o==="4.0"||!o&&v){return;}throw new Error("Expected 'OData-Version' header with value '4.0' but received value '"+o+"' in response for "+this.sServiceUrl+R);};
h.prototype.doConvertResponse=function(R,i){return R;};
h.prototype.doConvertSystemQueryOptions=function(i,Q,R,D,j){var t=this;Object.keys(Q).forEach(function(k){var v=Q[k];if(D&&k[0]==="$"){return;}switch(k){case"$expand":if(v!=="~"){v=t.convertExpand(v,j);}break;case"$select":if(Array.isArray(v)){v=j?v.slice().sort().join(","):v.join(",");}break;default:}R(k,v);});};
h.prototype.fetchType=function(t,M){var i=this;if(M in t){return S.resolve(t[M]);}return this.fetchTypeForPath(M).then(function(T){var o,p=[];if(T){o=i.getModelInterface().fetchMetadata(M+"/"+m).getResult();if(o){T=Object.create(T);T[m]=o;}t[M]=T;(T.$Key||[]).forEach(function(k){if(typeof k==="object"){k=k[Object.keys(k)[0]];p.push(i.fetchType(t,M+"/"+k.slice(0,k.lastIndexOf("/"))));}});return S.all(p).then(function(){return T;});}});};
h.prototype.fetchTypeForPath=function(M,A){return this.oModelInterface.fetchMetadata(M+(A?"/$Type":"/"));};
h.prototype.formatPropertyAsLiteral=function(v,p){return b.formatLiteral(v,p.$Type);};
h.prototype.getGroupSubmitMode=function(G){return this.oModelInterface.getGroupProperty(G,"submit");};
h.prototype.getModelInterface=function(){return this.oModelInterface;};
h.prototype.getOrCreateBatchQueue=function(G){var i,R=this.mBatchQueue[G];if(!R){i=[];i.iSerialNumber=0;R=this.mBatchQueue[G]=[i];R.iChangeSet=0;this.oModelInterface.onCreateGroup(G);}return R;};
h.prototype.getPathAndAddQueryOptions=function(p,o,P){var A=[],n,N={},i,t=this;p=p.slice(1,-5);if(o.$Parameter){o.$Parameter.forEach(function(i){N[i.$Name]=i;});}if(o.$kind==="Function"){for(n in P){i=N[n];if(i){if(i.$isCollection){throw new Error("Unsupported collection-valued parameter: "+n);}A.push(encodeURIComponent(n)+"="+encodeURIComponent(t.formatPropertyAsLiteral(P[n],i)));}}p+="("+A.join(",")+")";}else{for(n in P){if(!(n in N)){delete P[n];}}}return p;};
h.prototype.getSerialNumber=function(){this.iSerialNumber+=1;return this.iSerialNumber;};
h.prototype.getServiceUrl=function(){return this.sServiceUrl;};
h.prototype.getUnlockedAutoCopy=function(G){if(this.getGroupSubmitMode(G.getGroupId())!=="API"){return G.getUnlockedCopy();}return this.lockGroup("$auto",G.getOwner());};
h.prototype.hasChanges=function(G,E){var R=this.mBatchQueue[G];if(R){return R.some(function(v){return Array.isArray(v)&&v.some(function(o){return o.headers["If-Match"]===E;});});}return false;};
h.prototype.hasPendingChanges=function(G){var t=this;function i(M){if(!G){return Object.keys(M);}return G in M?[G]:[];}return i(this.mRunningChangeRequests).length>0||this.aLockedGroupLocks.some(function(o){var j=o.getGroupId();return(G===undefined||j===G)&&o.isModifying()&&o.isLocked()&&!j.startsWith("$inactive.");})||i(this.mBatchQueue).some(function(j){return!j.startsWith("$inactive.")&&t.mBatchQueue[j].some(function(R){return Array.isArray(R)&&R.some(function(o){return o.$cancel;});});});};
h.prototype.isActionBodyOptional=function(){return false;};
h.prototype.isBatchSent=function(){return this.bBatchSent;};
h.prototype.isChangeSetOptional=function(){return true;};
h.prototype.mergeGetRequests=function(R){var i=[],t=this;function j(o){return o.$queryOptions&&i.some(function(k){if(k.$queryOptions&&o.url===k.url&&o.$owner===k.$owner){b.aggregateExpandSelect(k.$queryOptions,o.$queryOptions);o.$resolve(k.$promise);if(k.$mergeRequests&&o.$mergeRequests){k.$mergeRequests(o.$mergeRequests());}return true;}return false;});}R.forEach(function(o){if(!j(o)){i.push(o);}});i.forEach(function(o){if(o.$queryOptions){o.url=t.addQueryString(o.url,o.$metaPath,o.$queryOptions);}});i.iChangeSet=R.iChangeSet;return i;};
h.prototype.processBatch=function(G){var H,R=this.mBatchQueue[G]||[],t=this;function o(i){if(Array.isArray(i)){i.forEach(o);}else if(i.$submit){i.$submit();}}function j(E,i){if(Array.isArray(i)){i.forEach(j.bind(null,E));}else{i.$reject(E);}}function v(R,k){var l;R.forEach(function(n,p){var E,u,w,x=k[p];if(Array.isArray(x)){v(n,x);}else if(!x){E=new Error("HTTP request was not processed because the previous request failed");E.cause=l;E.$reported=true;n.$reject(E);}else if(x.status>=400){x.getResponseHeader=f;l=b.createError(x,"Communication error",n.url?t.sServiceUrl+n.url:undefined,n.$resourcePath);if(Array.isArray(n)){b.decomposeError(l,n,t.sServiceUrl).forEach(function(E,i){n[i].$reject(E);});}else{n.$reject(l);}}else{if(x.responseText){try{t.doCheckVersionHeader(f.bind(x),n.url,true);w=t.doConvertResponse(JSON.parse(x.responseText),n.$metaPath);}catch(y){n.$reject(y);return;}}else{w=n.method==="GET"?null:{};}t.reportHeaderMessages(n.url,f.call(x,"sap-messages"));u=f.call(x,"ETag");if(u){w["@odata.etag"]=u;}n.$resolve(w);}});}delete this.mBatchQueue[G];o(R);H=this.cleanUpChangeSets(R);if(R.length===0){return Promise.resolve();}this.bBatchSent=true;R=this.mergeGetRequests(R);this.batchRequestSent(G,R,H);return this.sendBatch(R,G).then(function(i){v(R,i);}).catch(function(E){var i=new Error("HTTP request was not processed because $batch failed");i.cause=E;j(i,R);throw E;}).finally(function(){t.batchResponseReceived(G,R,H);});};
h.prototype.ready=function(){return S.resolve();};
h.prototype.lockGroup=function(G,o,l,M,i){var j;j=new a(G,o,l,M,this.getSerialNumber(),i);if(l){this.aLockedGroupLocks.push(j);}return j;};
h.prototype.processOptimisticBatch=function(R,G){var i,k,o=this.oOptimisticBatch,O,t=this;if(!o){return;}k=o.key;this.oOptimisticBatch=null;if(o.result){if(h.matchesOptimisticBatch(R,G,o.firstBatch.requests,o.firstBatch.groupId)){L.info("optimistic batch: success, response consumed",k,d);return o.result;}C.del(s+k).catch(this.oModelInterface.getReporter());L.warning("optimistic batch: mismatch, response skipped",k,d);}O=this.oModelInterface.getOptimisticBatchEnabler();if(O){i=R.some(function(j){return Array.isArray(j)||j.method!=="GET";});if(i){L.warning("optimistic batch: modifying batch not supported",k,d);return;}Promise.resolve(O(k)).then(function(E){if(E){return C.set(s+k,{groupId:G,requests:R.map(function(j){return{headers:g(j.headers),method:"GET",url:j.url};})}).then(function(){L.info("optimistic batch: enabled, batch payload saved",k,d);});}L.info("optimistic batch: disabled",k,d);}).catch(t.oModelInterface.getReporter());}};
h.prototype.processSecurityTokenHandlers=function(){var t=this;this.oSecurityTokenPromise=null;sap.ui.getCore().getConfiguration().getSecurityTokenHandlers().some(function(H){var o=H(t.sServiceUrl);if(o!==undefined){t.oSecurityTokenPromise=o.then(function(i){t.checkHeaderNames(i);Object.assign(t.mHeaders,{"X-CSRF-Token":undefined},i);t.oSecurityTokenPromise=null;}).catch(function(E){L.error("An error occurred within security token handler: "+H,E,d);throw E;});return true;}});};
h.prototype.refreshSecurityToken=function(o){var t=this;if(!this.oSecurityTokenPromise){if(o!==this.mHeaders["X-CSRF-Token"]){return Promise.resolve();}this.oSecurityTokenPromise=new Promise(function(R,i){q.ajax(t.sServiceUrl+t.sQueryParams,{method:"HEAD",headers:Object.assign({},t.mHeaders,{"X-CSRF-Token":"Fetch"})}).then(function(j,k,l){var n=l.getResponseHeader("X-CSRF-Token");if(n){t.mHeaders["X-CSRF-Token"]=n;}else{delete t.mHeaders["X-CSRF-Token"];}t.oSecurityTokenPromise=null;R();},function(j){t.oSecurityTokenPromise=null;i(b.createError(j,"Could not refresh security token"));});});}return this.oSecurityTokenPromise;};
h.prototype.relocate=function(j,o,n){var R=this.mBatchQueue[j],t=this,F=R&&R[0].some(function(k,i){if(k.body===o){t.addChangeToGroup(k,n);R[0].splice(i,1);return true;}});if(!F){throw new Error("Request not found in group '"+j+"'");}};
h.prototype.relocateAll=function(i,n,E){var j=0,R=this.mBatchQueue[i],t=this;if(R){R[0].slice().forEach(function(o){if(!E||o.headers["If-Match"]===E){t.addChangeToGroup(o,n);R[0].splice(j,1);}else{j+=1;}});}};
h.prototype.removePatch=function(p){var i=this.cancelChangesByFilter(function(o){return o.$promise===p;});if(!i){throw new Error("Cannot reset the changes, the batch request is running");}};
h.prototype.removePost=function(G,E){var o=b.getPrivateAnnotation(E,"postBody"),i=this.cancelChangesByFilter(function(j){return j.body===o;},G);if(!i){throw new Error("Cannot reset the changes, the batch request is running");}};
h.prototype.reportHeaderMessages=function(R,M){if(M){this.oModelInterface.reportTransitionMessages(JSON.parse(M),R);}};
h.prototype.request=function(M,R,G,H,p,i,j,k,o,A,Q,O,l){var n,E,t=G&&G.getGroupId()||"$direct",P,u=Infinity,v,w=this;if(t==="$cached"){E=new Error("Unexpected request: "+M+" "+R);E.$cached=true;throw E;}if(G&&G.isCanceled()){if(j){j();}E=new Error("Request already canceled");E.canceled=true;return Promise.reject(E);}if(G){G.unlock();u=G.getSerialNumber();}R=this.convertResourcePath(R);o=o||R;if(this.getGroupSubmitMode(t)!=="Direct"){P=new Promise(function(x,y){var z=w.getOrCreateBatchQueue(t);v={method:M,url:R,headers:Object.assign({},w.mPredefinedPartHeaders,w.mHeaders,H,w.mFinalHeaders),body:p,$cancel:j,$mergeRequests:l,$metaPath:k,$owner:O,$queryOptions:Q,$reject:y,$resolve:x,$resourcePath:o,$submit:i};if(M==="GET"){z.push(v);}else if(A){z[0].unshift(v);}else{n=z.iChangeSet;while(z[n].iSerialNumber>u){n-=1;}w.checkConflictingStrictRequest(v,z,n);z[n].push(v);}});v.$promise=P;return P;}if(this.vStatistics!==undefined){Q=Object.assign({"sap-statistics":this.vStatistics},Q);}if(Q){R=w.addQueryString(R,k,Q);}if(i){i();}return this.sendRequest(M,R,Object.assign({},H,this.mFinalHeaders),JSON.stringify(p),o).then(function(x){w.reportHeaderMessages(x.resourcePath,x.messages);return w.doConvertResponse(x.body,k);});};
h.prototype.sendBatch=function(R,G){var o=_.serializeBatchRequest(R,this.getGroupSubmitMode(G)==="Auto"?"Group ID: "+G:"Group ID (API): "+G);return this.processOptimisticBatch(R,G)||this.sendRequest("POST","$batch"+this.sQueryParams,Object.assign(o.headers,B),o.body).then(function(i){if(i.messages!==null){throw new Error("Unexpected 'sap-messages' response header for batch request");}return _.deserializeBatchResponse(i.contentType,i.body);});};
h.prototype.sendOptimisticBatch=function(){var k=window.location.href,t=this;C.get(s+k).then(function(F){var o={key:k};if(F){if(t.isBatchSent()){L.error("optimistic batch: #sendBatch called before optimistic batch "+"payload could be read",undefined,d);return;}o.firstBatch=F;o.result=t.sendBatch(F.requests,F.groupId);L.info("optimistic batch: sent ",k,d);}t.oOptimisticBatch=o;}).catch(this.oModelInterface.getReporter());};
h.prototype.sendRequest=function(M,R,H,p,o){var i=this.sServiceUrl+R,t=this;return new Promise(function(j,k){function l(I){var O=t.mHeaders["X-CSRF-Token"];return q.ajax(i,{contentType:H&&H["Content-Type"],data:p,headers:Object.assign({},t.mPredefinedRequestHeaders,t.mHeaders,b.resolveIfMatchHeader(H)),method:M}).then(function(v,n,u){var E=u.getResponseHeader("ETag"),w=u.getResponseHeader("X-CSRF-Token");try{t.doCheckVersionHeader(u.getResponseHeader,R,!v);}catch(x){k(x);return;}if(w){t.mHeaders["X-CSRF-Token"]=w;}t.setSessionContext(u.getResponseHeader("SAP-ContextId"),u.getResponseHeader("SAP-Http-Session-Timeout"));if(!v){v=M==="GET"?null:{};}if(E&&typeof v==="object"){v["@odata.etag"]=E;}j({body:v,contentType:u.getResponseHeader("Content-Type"),messages:u.getResponseHeader("sap-messages"),resourcePath:R});},function(n){var u=n.getResponseHeader("SAP-ContextId"),v=n.getResponseHeader("X-CSRF-Token"),w;if(!I&&n.status===403&&v&&v.toLowerCase()==="required"){t.refreshSecurityToken(O).then(function(){l(true);},k);}else{w="Communication error";if(u){t.setSessionContext(u,n.getResponseHeader("SAP-Http-Session-Timeout"));}else if(t.mHeaders["SAP-ContextId"]){w="Session not found on server";L.error(w,undefined,d);t.clearSessionContext(true);}k(b.createError(n,w,i,o));}});}if(t.oSecurityTokenPromise&&M!=="GET"){t.oSecurityTokenPromise.then(l);}else{l();}});};
h.prototype.setSessionContext=function(i,j){var t=e.test(j)?parseInt(j):0,k=Date.now()+30*60*1000,l=this;this.clearSessionContext();if(i){l.mHeaders["SAP-ContextId"]=i;if(t>=60){this.iSessionTimer=setInterval(function(){if(Date.now()>=k){l.clearSessionContext(true);}else{q.ajax(l.sServiceUrl+l.sQueryParams,{method:"HEAD",headers:{"SAP-ContextId":l.mHeaders["SAP-ContextId"]}}).fail(function(n){if(n.getResponseHeader("SAP-Err-Id")==="ICMENOSESSION"){L.error("Session not found on server",undefined,d);l.clearSessionContext(true);}});}},(t-5)*1000);}else if(j!==null){L.warning("Unsupported SAP-Http-Session-Timeout header",j,d);}}};
h.prototype.submitBatch=function(G){var i,p,t=this;p=S.all(this.aLockedGroupLocks.map(function(o){return o.waitFor(G);}));i=p.isPending();if(i){L.info("submitBatch('"+G+"') is waiting for locks",null,d);}return p.then(function(){if(i){L.info("submitBatch('"+G+"') continues",null,d);}t.aLockedGroupLocks=t.aLockedGroupLocks.filter(function(o){return o.isLocked();});return t.processBatch(G);});};
h.prototype.waitForBatchResponseReceived=function(G){return this.mBatchQueue[G][0][0].$promise;};
h.prototype.waitForRunningChangeRequests=function(G){var p=this.mRunningChangeRequests[G];if(p){return p.length>1?S.all(p):p[0];}return S.resolve();};
h.matchesOptimisticBatch=function(A,j,o,O){return j===O&&A.length===o.length&&A.every(function(k,i){return k.url===o[i].url&&b.deepEqual(g(k.headers),o[i].headers);});};
h.create=function(i,M,H,Q,o){var R=new h(i,H,Q,M);if(o==="2.0"){c(R);}return R;};
return h;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_V2MetadataConverter',["./_Helper","./_MetadataConverter","sap/base/Log"],function(_,a,L){"use strict";var c="sap.ui.model.odata.v4.lib._V2MetadataConverter",r=/^(?:DELETE|GET|MERGE|PATCH|POST|PUT)$/,e="http://schemas.microsoft.com/ado/2007/06/edmx",m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata",s="http://www.sap.com/Protocols/SAPData",v={creatable:{property:"Insertable",term:"@Org.OData.Capabilities.V1.InsertRestrictions"},deletable:{property:"Deletable",term:"@Org.OData.Capabilities.V1.DeleteRestrictions"},"deletable-path":{property:"Deletable",term:"@Org.OData.Capabilities.V1.DeleteRestrictions"},"field-control":{term:"@com.sap.vocabularies.Common.v1.FieldControl"},heading:{term:"@com.sap.vocabularies.Common.v1.Heading"},label:{term:"@com.sap.vocabularies.Common.v1.Label"},precision:{term:"@Org.OData.Measures.V1.Scale"},quickinfo:{term:"@com.sap.vocabularies.Common.v1.QuickInfo"},"requires-filter":{property:"RequiresFilter",term:"@Org.OData.Capabilities.V1.FilterRestrictions"},searchable:{property:"Searchable",term:"@Org.OData.Capabilities.V1.SearchRestrictions"},text:{term:"@com.sap.vocabularies.Common.v1.Text"},topable:{term:"@Org.OData.Capabilities.V1.TopSupported"},updatable:{property:"Updatable",term:"@Org.OData.Capabilities.V1.UpdateRestrictions"},"updatable-path":{property:"Updatable",term:"@Org.OData.Capabilities.V1.UpdateRestrictions"}},V={bday:{TermName:"Contact"},city:{Path:"adr",TermName:"Contact",V4Attribute:"locality"},country:{Path:"adr",TermName:"Contact"},email:{Path:"address",TermName:"Contact",V4Attribute:"uri",typeMapping:{home:"home",pref:"preferred",work:"work"},v4EnumType:"com.sap.vocabularies.Communication.v1.ContactInformationType",v4PropertyAnnotation:"@com.sap.vocabularies.Communication.v1.IsEmailAddress"},familyname:{Path:"n",TermName:"Contact",V4Attribute:"surname"},givenname:{Path:"n",TermName:"Contact",V4Attribute:"given"},honorific:{Path:"n",TermName:"Contact",V4Attribute:"prefix"},middlename:{Path:"n",TermName:"Contact",V4Attribute:"additional"},name:{TermName:"Contact",V4Attribute:"fn"},nickname:{TermName:"Contact"},note:{TermName:"Contact"},org:{TermName:"Contact"},"org-role":{TermName:"Contact",V4Attribute:"role"},"org-unit":{TermName:"Contact",V4Attribute:"orgunit"},photo:{TermName:"Contact"},pobox:{Path:"adr",TermName:"Contact"},region:{Path:"adr",TermName:"Contact"},street:{Path:"adr",TermName:"Contact"},suffix:{Path:"n",TermName:"Contact"},tel:{Path:"tel",TermName:"Contact",V4Attribute:"uri",typeMapping:{cell:"cell",fax:"fax",home:"home",pref:"preferred",video:"video",voice:"voice",work:"work"},v4EnumType:"com.sap.vocabularies.Communication.v1.PhoneType",v4PropertyAnnotation:"@com.sap.vocabularies.Communication.v1.IsPhoneNumber"},title:{TermName:"Contact"},zip:{Path:"adr",TermName:"Contact",V4Attribute:"code"},class:{TermName:"Event"},dtend:{TermName:"Event"},dtstart:{TermName:"Event"},duration:{TermName:"Event"},fbtype:{TermName:"Event"},location:{TermName:"Event"},status:{TermName:"Event"},transp:{TermName:"Event"},wholeday:{TermName:"Event"},body:{TermName:"Message"},from:{TermName:"Message"},received:{TermName:"Message"},sender:{TermName:"Message"},subject:{TermName:"Message"},completed:{TermName:"Task"},due:{TermName:"Task"},"percent-complete":{TermName:"Task",V4Attribute:"percentcomplete"},priority:{TermName:"Task"}},b={fiscalyear:"@com.sap.vocabularies.Common.v1.IsFiscalYear",fiscalyearperiod:"@com.sap.vocabularies.Common.v1.IsFiscalYearPeriod",year:"@com.sap.vocabularies.Common.v1.IsCalendarYear",yearmonth:"@com.sap.vocabularies.Common.v1.IsCalendarYearMonth",yearmonthday:"@com.sap.vocabularies.Common.v1.IsCalendarDate",yearquarter:"@com.sap.vocabularies.Common.v1.IsCalendarYearQuarter",yearweek:"@com.sap.vocabularies.Common.v1.IsCalendarYearWeek",url:"@Org.OData.Core.V1.IsURL"};
function A(C,t){var p=C.oAnnotatable;if(p){t=_.buildPath(p.sPath,t);}this.oConverter=C;this.sPath=t;this.oParent=p;this.mSapAttributes=C.mSapAttributes;this.mAnnotationsForTarget=null;}
A.prototype.annotate=function(t,g){this.getTarget()[t]=g;};
A.prototype.consume=function(n){return this.oConverter.consumeSapAnnotation(n);};
A.prototype.convert=function(g,h){var o,i;if(h===undefined||h===""){return;}i=v[g];if(i.property){o=this.getOrCreateAnnotationRecord(i.term);o[i.property]=h;}else{this.annotate(i.term,h);}};
A.prototype.getOrCreateAnnotationRecord=function(t){return this.oConverter.getOrCreateObject(this.getTarget(),t);};
A.prototype.getTarget=function(){if(!this.mAnnotationsForTarget){this.mAnnotationsForTarget=this.oConverter.convertedV2Annotations[this.sPath]={};}return this.mAnnotationsForTarget;};
A.prototype.peek=function(n){return this.oConverter.mSapAnnotations[n];};
function d(){this.association=null;this.associations={};this.associationSet=null;this.associationSets=[];this.aBoundOperations=[];this.constraintRole=null;this.convertedV2Annotations={};this.defaultEntityContainer=null;this.mEntityContainersOfSchema={};this.mEntityType2EntitySetAnnotation={};this.mProperty2Semantics={};this.sPropertyName=null;this.navigationProperties=[];this.mSapAnnotations={};this.sTypeName=null;this.mProperty2Unit={};a.call(this);}
d.prototype=Object.create(a.prototype);
d.prototype.collectSapAnnotations=function(E){var o,g=E.attributes,i,n;this.mSapAnnotations={};for(i=0,n=g.length;i<n;i+=1){o=g.item(i);if(o.namespaceURI===s&&o.localName!=="content-version"){this.mSapAnnotations[o.localName]=o.value;}}};
d.prototype.consumeSapAnnotation=function(n){var g=this.mSapAnnotations[n];delete this.mSapAnnotations[n];return g;};
d.prototype.convertEntitySetAnnotation=function(o,n){var C,g;switch(n){case"creatable":case"deletable":case"updatable":if(o.peek(n)==="false"){o.convert(n,false);}break;case"deletable-path":case"updatable-path":C=n.slice(0,9);g=o.consume(n);if(o.peek(C)){o.convert(n,false);L.warning("Inconsistent metadata in '"+this.url+"'","Use either 'sap:"+C+"' or 'sap:"+C+"-path'"+" at entity set '"+o.sPath+"'",c);}else{o.convert(n,{$Path:g});}break;case"label":this.convertLabel(o);break;case"pageable":g=o.consume(n);if(g==="false"){o.annotate("@Org.OData.Capabilities.V1.SkipSupported",false);o.annotate("@Org.OData.Capabilities.V1.TopSupported",false);}break;case"requires-filter":g=o.consume(n);if(g==="true"){o.convert(n,true);}break;case"topable":g=o.consume(n);if(g==="false"){o.convert(n,false);}break;default:}};
d.prototype.convertLabel=function(o){o.convert("label",o.consume("label"));};
d.prototype.convertPropertyAnnotation=function(o,n){var g;switch(n){case"heading":case"label":case"quickinfo":o.convert(n,o.consume(n));break;case"field-control":case"precision":case"text":o.convert(n,{$Path:o.consume(n)});break;case"aggregation-role":g=o.consume(n);if(g==="dimension"){o.annotate("@com.sap.vocabularies.Analytics.v1.Dimension",true);}else if(g==="measure"){o.annotate("@com.sap.vocabularies.Analytics.v1.Measure",true);}break;case"display-format":g=o.consume(n);if(g==="NonNegative"){o.annotate("@com.sap.vocabularies.Common.v1.IsDigitSequence",true);}else if(g==="UpperCase"){o.annotate("@com.sap.vocabularies.Common.v1.IsUpperCase",true);}break;case"semantics":this.convertPropertySemanticsAnnotation(o);break;case"unit":this.mProperty2Unit[o.sPath]=o.consume("unit");break;case"visible":g=o.consume(n);if(g==="false"){o.annotate("@com.sap.vocabularies.UI.v1.Hidden",true);o.annotate("@com.sap.vocabularies.Common.v1.FieldControl",{$EnumMember:"com.sap.vocabularies.Common.v1.FieldControlType/Hidden"});}break;default:}};
d.prototype.convertPropertySemanticsAnnotation=function(o){var g,E,p,R,S,h=o.peek("semantics").split(";"),i=h[0],j=V[i];if(i==="unit-of-measure"||i==="currency-code"){this.mProperty2Semantics[o.sPath]=o.consume("semantics");}else if(b[i]){o.annotate(b[i],true);o.consume("semantics");}else if(j){p={$Path:this.sPropertyName};g=o.oParent.getOrCreateAnnotationRecord("@com.sap.vocabularies.Communication.v1."+j.TermName);if(j.Path){S=this.getOrCreateObject(g,j.Path);S[j.V4Attribute||i]=p;if(j.v4PropertyAnnotation){o.annotate(j.v4PropertyAnnotation,true);if(h[1]){R=[];E=h[1].split("=")[1];E.split(",").forEach(function(t){var T=j.typeMapping[t];if(T){R.push(j.v4EnumType+"/"+T);}else{L.warning("Unsupported semantic type: "+t,undefined,c);}});if(R.length>0){S.type={EnumMember:R.join(" ")};}}g[j.Path]=[S];}else{g[j.Path]=S;}}else{g[j.V4Attribute||i]=p;}o.consume("semantics");}};
d.prototype.finalize=function(){this.result.$Version="4.0";this.setDefaultEntityContainer();this.updateNavigationPropertiesAndCreateBindings();this.processBoundOperations();this.processUnitConversion();};
d.prototype.mergeAnnotations=function(C,g){var h;for(h in C){if(h in g){g[h]=Object.assign(C[h],g[h]);}else{g[h]=C[h];}}};
d.prototype.postProcessSchema=function(g,h){var i,E,j,o,k,t;for(j in this.mEntityContainersOfSchema){E=this.mEntityContainersOfSchema[j];for(k in E){o=E[k];if(o.$kind!=="EntitySet"){continue;}t=j+"/"+k;i=_.merge(this.convertedV2Annotations[t]||{},this.mEntityType2EntitySetAnnotation[o.$Type]);if(Object.keys(i).length){this.convertedV2Annotations[t]=i;}}}if(this.schema.$Annotations){this.mergeAnnotations(this.convertedV2Annotations,this.schema.$Annotations);}else if(Object.keys(this.convertedV2Annotations).length>0){this.schema.$Annotations=this.convertedV2Annotations;}this.convertedV2Annotations={};this.mEntityContainersOfSchema={};};
d.prototype.processAssociation=function(E){var n=this.namespace+E.getAttribute("Name");this.associations[n]=this.association={referentialConstraint:null,roles:{}};};
d.prototype.processAssociationEnd=function(E){var n=E.getAttribute("Role");this.association.roles[n]={multiplicity:E.getAttribute("Multiplicity"),propertyName:undefined,typeName:this.resolveAlias(E.getAttribute("Type"))};};
d.prototype.processAssociationSet=function(E){var o={associationName:this.resolveAlias(E.getAttribute("Association")),ends:[],entityContainer:this.entityContainer};this.associationSet=o;this.associationSets.push(o);this.consumeSapAnnotation("creatable");this.consumeSapAnnotation("deletable");this.consumeSapAnnotation("updatable");};
d.prototype.processAssociationSetEnd=function(E){this.associationSet.ends.push({entitySetName:E.getAttribute("EntitySet"),roleName:E.getAttribute("Role")});};
d.prototype.processComplexType=function(E){this.processType(E,{$kind:"ComplexType"});};
d.prototype.processDataServices=function(E){if(E.getAttributeNS(m,"DataServiceVersion")!=="2.0"){throw new Error(this.url+": expected DataServiceVersion=\"2.0\": "+f(E));}};
d.prototype.processDependent=function(E){var C=this.association.referentialConstraint;this.constraintRole=C.dependent={roleName:E.getAttribute("Role")};};
d.prototype.processElement=function(E,p){this.collectSapAnnotations(E);if(p){p.call(this,E);}this.warnUnsupportedSapAnnotations(E);};
d.prototype.processEntityContainer=function(E){var q=this.namespace+E.getAttribute("Name");this.mEntityContainersOfSchema[q]=this.entityContainer={$kind:"EntityContainer"};this.addToResult(q,this.entityContainer);if(E.getAttributeNS(m,"IsDefaultEntityContainer")==="true"){this.defaultEntityContainer=q;}this.v2annotatable(q);};
d.prototype.processEntitySet=function(E){var o,n=E.getAttribute("Name");this.entityContainer[n]=this.entitySet={$kind:"EntitySet",$Type:this.resolveAlias(E.getAttribute("EntityType"))};o=this.v2annotatable(n,this.convertEntitySetAnnotation);o.consume("creatable");o.consume("deletable");o.consume("updatable");if(o.consume("searchable")!=="true"){o.convert("searchable",false);}};
d.prototype.processEntityType=function(E){var t={$kind:"EntityType"},g=this;this.processType(E,t);this.processAttributes(E,t,{Abstract:this.setIfTrue,BaseType:function(T){return T?g.resolveAlias(T):undefined;}});this.convertLabel(this.oAnnotatable);};
d.prototype.processEntityTypeKeyPropertyRef=function(E){var n=E.getAttribute("Name");this.getOrCreateArray(this.type,"$Key").push(n);};
d.prototype.processFacetAttributes=function(E,R){var t=this;this.processAttributes(E,R,{DefaultValue:this.setValue,MaxLength:function(g){return g==="Max"?undefined:t.setNumber(g);},Nullable:this.setIfFalse,Precision:this.setNumber,Scale:this.setNumber,Unicode:this.setIfFalse});if(E.getAttribute("FixedLength")==="false"){R.$Scale="variable";}};
d.prototype.processFunctionImport=function(E){var g,h=E.getAttributeNS(m,"HttpMethod"),k=h!=="GET"?"Action":"Function",l,n=E.getAttribute("Name"),o={$kind:k},O={$kind:k+"Import"},q=this.namespace+n,R=E.getAttribute("ReturnType"),i;O["$"+k]=q;this.processAttributes(E,O,{EntitySet:this.setValue});if(R){o.$ReturnType=i={};this.processTypedCollection(R,i);}if(!r.test(h)){L.warning("Unsupported HttpMethod at FunctionImport '"+n+"', removing this FunctionImport",undefined,c);this.consumeSapAnnotation("action-for");this.consumeSapAnnotation("applicable-path");}else{if(h!=="GET"&&h!=="POST"){o.$v2HttpMethod=h;}this.addToResult(q,[o]);g=this.consumeSapAnnotation("action-for");if(g){o.$IsBound=true;o.$Parameter=[{$Name:null,$Nullable:false,$Type:this.resolveAlias(g)}];this.aBoundOperations.push(o);this.consumeSapAnnotation("applicable-path");l=this.consumeSapAnnotation("label");if(l){o[v["label"].term]=l;}}else{this.entityContainer[n]=O;this.v2annotatable(n);this.convertLabel(this.oAnnotatable);}}this.oOperation=o;};
d.prototype.processParameter=function(E){var l,o=this.oOperation,p={$Name:E.getAttribute("Name")};this.processFacetAttributes(E,p);this.processTypedCollection(E.getAttribute("Type"),p);this.getOrCreateArray(o,"$Parameter").push(p);l=this.consumeSapAnnotation("label");if(l){p[v["label"].term]=l;}};
d.prototype.processPrincipal=function(E){var C=this.association.referentialConstraint;this.constraintRole=C.principal={roleName:E.getAttribute("Role")};};
d.prototype.processReferentialConstraint=function(g){this.association.referentialConstraint={};};
d.prototype.processReferentialConstraintPropertyRef=function(E){this.constraintRole.propertyRef=E.getAttribute("Name");};
d.prototype.processSchema=function(E){var S=this.consumeSapAnnotation("schema-version");this.namespace=E.getAttribute("Namespace")+".";this.schema={$kind:"Schema"};this.addToResult(this.namespace,this.schema);if(S){this.schema["@Org.Odata.Core.V1.SchemaVersion"]=S;}};
d.prototype.processType=function(E,t){var q=this.namespace+E.getAttribute("Name");this.sTypeName=q;this.type=t;this.addToResult(q,t);this.v2annotatable(q);};
d.prototype.processTypedCollection=function(t,p){var M=this.rCollection.exec(t);if(M){p.$isCollection=true;t=M[1];}if(!t.includes(".")){t="Edm."+t;}switch(t){case"Edm.DateTime":p.$v2Type=t;if(this.mSapAnnotations["display-format"]==="Date"){t="Edm.Date";delete p.$Precision;}else{t="Edm.DateTimeOffset";}break;case"Edm.Float":p.$v2Type=t;t="Edm.Single";break;case"Edm.Time":p.$v2Type=t;t="Edm.TimeOfDay";break;default:t=this.resolveAlias(t);}p.$Type=t;};
d.prototype.processTypeNavigationProperty=function(E){var C=this.consumeSapAnnotation("creatable"),g=this.consumeSapAnnotation("creatable-path"),F=this.consumeSapAnnotation("filterable"),o,h,n=E.getAttribute("Name"),N,p={$kind:"NavigationProperty"},t=this;function i(T,P,j){h=t.getOrCreateObject(t.mEntityType2EntitySetAnnotation,t.sTypeName);h=t.getOrCreateObject(h,T);h=t.getOrCreateArray(h,P);h.push(j);}this.type[n]=p;this.navigationProperties.push({associationName:this.resolveAlias(E.getAttribute("Relationship")),fromRoleName:E.getAttribute("FromRole"),property:p,propertyName:n,toRoleName:E.getAttribute("ToRole")});this.v2annotatable(n);if(C){N={$NavigationPropertyPath:n};if(g){L.warning("Inconsistent metadata in '"+this.url+"'","Use either 'sap:creatable' or 'sap:creatable-path' at navigation property '"+this.oAnnotatable.sPath+"'",c);}else if(C==="true"){N=null;}}else if(g){N={$If:[{$Not:{$Path:g}},{$NavigationPropertyPath:n}]};}if(N){i("@Org.OData.Capabilities.V1.InsertRestrictions","NonInsertableNavigationProperties",N);}if(F==="false"){o={NavigationProperty:{$NavigationPropertyPath:n},FilterRestrictions:{Filterable:false}};i("@Org.OData.Capabilities.V1.NavigationRestrictions","RestrictedProperties",o);}};
d.prototype.processTypeProperty=function(E){var o,g,F,h,n=E.getAttribute("Name"),p={$kind:"Property"},t=this;function i(T,P,j){if(t.type.$kind==="EntityType"){h=t.getOrCreateObject(t.mEntityType2EntitySetAnnotation,t.sTypeName);h=t.getOrCreateObject(h,T);h=t.getOrCreateArray(h,P);h.push({$PropertyPath:n});}else{L.warning("Unsupported SAP annotation at a complex type in '"+t.url+"'","sap:"+j+" at property '"+o.sPath+"'",c);}}this.sPropertyName=n;this.type[n]=p;this.processFacetAttributes(E,p);this.processTypedCollection(E.getAttribute("Type"),p);o=this.v2annotatable(n,this.convertPropertyAnnotation);if(o.consume("updatable")==="false"){if(o.consume("creatable")==="false"){o.annotate("@Org.OData.Core.V1.Computed",true);}else{o.annotate("@Org.OData.Core.V1.Immutable",true);}}if(o.consume("filterable")==="false"){i("@Org.OData.Capabilities.V1.FilterRestrictions","NonFilterableProperties","filterable");}F=o.consume("filter-restriction");if(F){switch(F){case"interval":g="SingleInterval";break;case"multi-value":g="MultiValue";break;case"single-value":g="SingleValue";break;default:L.warning("Inconsistent metadata in '"+this.url+"'","Unsupported sap:filter-restriction=\""+F+"\" at property '"+o.sPath+"'",c);}if(g){if(this.type.$kind==="EntityType"){h=this.getOrCreateObject(this.mEntityType2EntitySetAnnotation,this.sTypeName);h=this.getOrCreateArray(h,"@com.sap.vocabularies.Common.v1.FilterExpressionRestrictions");h.push({AllowedExpressions:{EnumMember:"com.sap.vocabularies.Common.v1.FilterExpressionType/"+g},Property:{$PropertyPath:n}});}else{L.warning("Unsupported SAP annotation at a complex type in '"+this.url+"'","sap:filter-restriction at property '"+o.sPath+"'",c);}}}if(o.consume("required-in-filter")==="true"){i("@Org.OData.Capabilities.V1.FilterRestrictions","RequiredProperties","required-in-filter");}if(o.consume("sortable")==="false"){i("@Org.OData.Capabilities.V1.SortRestrictions","NonSortableProperties","sortable");}};
d.prototype.processBoundOperations=function(){var t=this;this.aBoundOperations.forEach(function(o){var E=t.result[o.$Parameter[0].$Type];E.$Key.forEach(function(k){o.$Parameter.some(function(p,i){if(p.$Name===k){o.$Parameter.splice(i,1);return true;}});});});};
d.prototype.processUnitConversion=function(){var t=this;Object.keys(this.mProperty2Unit).forEach(function(p){var h,T,g=p.split("/")[0],u,U=t.mProperty2Unit[p],j=U.split("/"),o,k,i,n=j.length;for(i=0;i<n;i+=1){T=t.result[g];o=T[j[i]];if(!o){L.warning("Path '"+U+"' for sap:unit cannot be resolved",p,c);return;}if(i<n-1){g=o.$Type;}}k=t.mProperty2Semantics[g+"/"+j[n-1]];if(!k){L.warning("Unsupported sap:semantics at sap:unit='"+U+"'; expected 'currency-code' or 'unit-of-measure'",p,c);return;}u=k==="currency-code"?"ISOCurrency":"Unit";u="@Org.OData.Measures.V1."+u;h=t.getOrCreateObject(t.result[_.namespace(p)+"."],"$Annotations");h=t.getOrCreateObject(h,p);if(!(u in h)){h[u]={$Path:U};}});};
function f(E){var o,g=E.attributes,t="<"+E.nodeName,i,n;for(i=0,n=g.length;i<n;i+=1){o=g.item(i);t+=" "+o.name+'="'+o.value+'"';}return t+(E.childNodes.length?">":"/>");}
d.prototype.setDefaultEntityContainer=function(){var D=this.defaultEntityContainer,E,R=this.result;if(D){R.$EntityContainer=D;}else{E=Object.keys(R).filter(function(q){return R[q].$kind==="EntityContainer";});if(E.length===1){R.$EntityContainer=E[0];}}};
d.prototype.updateNavigationPropertiesAndCreateBindings=function(){var t=this;this.navigationProperties.forEach(function(n){var o=t.associations[n.associationName],C=o.referentialConstraint,N=n.property,T=o.roles[n.toRoleName];N.$Type=T.typeName;T.propertyName=n.propertyName;if(T.multiplicity==="1"){N.$Nullable=false;}if(T.multiplicity==="*"){N.$isCollection=true;}if(C&&C.principal.roleName===n.toRoleName){N.$ReferentialConstraint={};N.$ReferentialConstraint[C.dependent.propertyRef]=C.principal.propertyRef;}});this.associationSets.forEach(function(o){var g=t.associations[o.associationName],E=o.entityContainer;function h(i,j){var k=E[i.entitySetName],T=g.roles[j.roleName];if(T.propertyName){k.$NavigationPropertyBinding=k.$NavigationPropertyBinding||{};k.$NavigationPropertyBinding[T.propertyName]=j.entitySetName;}}h(o.ends[0],o.ends[1]);h(o.ends[1],o.ends[0]);});};
d.prototype.v2annotatable=function(n,p){var o=new A(this,n);this.oAnnotatable=o;if(p){p=p.bind(this);Object.keys(this.mSapAnnotations).forEach(function(n){p(o,n);});}return o;};
d.prototype.warnUnsupportedSapAnnotations=function(E){Object.keys(this.mSapAnnotations).forEach(function(n){L.warning("Unsupported annotation 'sap:"+n+"'",f(E),c);});};
(function($){var S;$.sRootNamespace=e;$.oAliasConfig={Reference:{__xmlns:a.sEdmxNamespace,Include:{__processor:$.processAlias}},DataServices:{Schema:{__processor:$.processAlias}}};S={NavigationProperty:{__processor:$.processTypeNavigationProperty},Property:{__processor:$.processTypeProperty}};$.oFullConfig={__include:[$.oReferenceInclude],DataServices:{__processor:$.processDataServices,Schema:{__postProcessor:$.postProcessSchema,__processor:$.processSchema,__include:[$.oAnnotationsConfig],Association:{__processor:$.processAssociation,End:{__processor:$.processAssociationEnd},ReferentialConstraint:{__processor:$.processReferentialConstraint,Dependent:{__processor:$.processDependent,PropertyRef:{__processor:$.processReferentialConstraintPropertyRef}},Principal:{__processor:$.processPrincipal,PropertyRef:{__processor:$.processReferentialConstraintPropertyRef}}}},ComplexType:{__processor:$.processComplexType,__include:[S]},EntityContainer:{__processor:$.processEntityContainer,AssociationSet:{__processor:$.processAssociationSet,End:{__processor:$.processAssociationSetEnd}},EntitySet:{__processor:$.processEntitySet},FunctionImport:{__processor:$.processFunctionImport,Parameter:{__processor:$.processParameter}}},EntityType:{__processor:$.processEntityType,__include:[S],Key:{PropertyRef:{__processor:$.processEntityTypeKeyPropertyRef}}}}}};})(d.prototype);return d;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_V2Requestor',["./_Helper","./_Parser","sap/ui/core/CalendarType","sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils"],function(_,a,C,D,O){"use strict";var r=/^\/Date\((-?\d+)\)\/$/,d,b=/^\/Date\((-?\d+)(?:([-+])(\d\d)(\d\d))?\)\/$/,o,p={},c=/\+/g,e=/^([^(]+)(\(.+\))$/,f=/\//g,g=/^PT(?:(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)(\.\d+)?S)?)$/i,t;
function h(){}
h.prototype.mFinalHeaders={"Content-Type":"application/json;charset=UTF-8"};h.prototype.mPredefinedPartHeaders={Accept:"application/json"};h.prototype.mPredefinedRequestHeaders={Accept:"application/json",MaxDataServiceVersion:"2.0",DataServiceVersion:"2.0","X-CSRF-Token":"Fetch"};h.prototype.mReservedHeaders={accept:true,"content-id":true,"content-transfer-encoding":true,"content-type":true,dataserviceversion:true,"if-match":true,"if-none-match":true,maxdataserviceversion:true,"sap-contextid":true,"x-http-method":true};
h.prototype.convertBinary=function(v){return v.replace(c,"-").replace(f,"_");};
h.prototype.convertDate=function(v){var j,m=r.exec(v);if(!m){throw new Error("Not a valid Edm.DateTime value '"+v+"'");}j=new Date(parseInt(m[1]));if(Number(m[1]%(24*60*60*1000))!==0){throw new Error("Cannot convert Edm.DateTime value '"+v+"' to Edm.Date because it contains a time of day");}return d.format(j);};
h.prototype.convertDateTimeOffset=function(v,P){var m=b.exec(v),s,j,k,l,n="yyyy-MM-dd'T'HH:mm:ss",q=P.$Precision,T;if(!m){throw new Error("Not a valid Edm.DateTimeOffset value '"+v+"'");}T=parseInt(m[1]);j=parseInt(m[3]);k=parseInt(m[4]);if(!m[2]||j===0&&k===0){s="Z";}else{l=m[2]==="-"?-1:1;T+=l*(j*60*60*1000+k*60*1000);s=m[2]+m[3]+":"+m[4];}if(q>0){n+="."+"".padEnd(q,"S");}if(!p[n]){p[n]=D.getDateTimeInstance({calendarType:C.Gregorian,pattern:n,UTC:true});}return p[n].format(new Date(T))+s;};
h.prototype.convertDoubleSingle=function(v){switch(v){case"NaN":case"INF":case"-INF":return v;default:return parseFloat(v);}};
h.prototype.convertFilter=function(F,m){var j=a.parseFilter(F),k=this;function l(L,s){var M,T=q(s);if(T.$Type!=="Edm.String"){M=_.parseLiteral(L.value,T.$Type,T.path);L.value=k.formatPropertyAsLiteral(M,T);}}function n(N,M){throw new Error("Cannot convert filter to V2, "+M+" at "+N.at+": "+F);}function q(N){var P;if(N.type){return{$Type:N.type};}if(N.id==="PATH"){P=k.oModelInterface.fetchMetadata(m+"/"+N.value).getResult();if(!P){throw new Error("Invalid filter path: "+N.value);}return{path:N.value,$Type:P.$Type,$v2Type:P.$v2Type};}return q(N.parameters[0]);}function v(N){if(N){if(N.id==="VALUE"&&N.ambiguous){n(N,"ambiguous type for the literal");}v(N.left);v(N.right);if(N.parameters){if(N.value==="contains"){N.value="substringof";N.parameters.push(N.parameters.shift());}N.parameters.forEach(v);}if(N.left&&N.right){if(N.left.id==="VALUE"){if(N.right.id==="VALUE"){n(N,"saw literals on both sides of '"+N.id+"'");}l(N.left,N.right);}else if(N.right.id==="VALUE"){l(N.right,N.left);}}}}v(j);return a.buildFilterString(j);};
h.prototype.convertKeyPredicate=function(v,P){var E=this.fetchTypeForPath(_.getMetaPath(P)).getResult(),k=a.parseKeyPredicate(decodeURIComponent(v)),j=this;function l(s,V){var m=E[s];if(m.$Type!=="Edm.String"){V=j.formatPropertyAsLiteral(_.parseLiteral(V,m.$Type,P),m);}return encodeURIComponent(V);}if(""in k){return"("+l(E.$Key[0],k[""])+")";}return"("+E.$Key.map(function(s){return encodeURIComponent(s)+"="+l(s,k[s]);}).join(",")+")";};
h.prototype.convertResourcePath=function(R){var I=R.indexOf("?"),q="",s,S=-1,j=this;if(I>0){q=R.slice(I);R=R.slice(0,I);}s=R.split("/");return s.map(function(k){var m=e.exec(k);S+=k.length+1;if(m){k=m[1]+j.convertKeyPredicate(m[2],"/"+R.slice(0,S));}return k;}).join("/")+q;};
h.prototype.convertTimeOfDay=function(v){var j,m=g.exec(v),T;if(!m){throw new Error("Not a valid Edm.Time value '"+v+"'");}T=Date.UTC(1970,0,1,m[1]||0,m[2]||0,m[3]||0);j=new Date(T);return t.format(j)+(m[4]||"");};
h.prototype.convertNonPrimitive=function(j){var P,T,s,v,k=this;if(Array.isArray(j.results)){j.results.forEach(function(I){k.convertNonPrimitive(I);});return j.results;}if(!j.__metadata||!j.__metadata.type){throw new Error("Cannot convert structured value without type information in "+"__metadata.type: "+JSON.stringify(j));}s=j.__metadata.type;T=k.getTypeForName(s);delete j.__metadata;for(P in j){v=j[P];if(v===null){continue;}if(typeof v==="object"){if(v.__deferred){delete j[P];}else{j[P]=this.convertNonPrimitive(v);}continue;}j[P]=this.convertPrimitive(v,T[P],s,P);}return j;};
h.prototype.convertPrimitive=function(v,P,T,s){switch(P&&P.$Type){case"Edm.Binary":return this.convertBinary(v);case"Edm.Date":return this.convertDate(v);case"Edm.DateTimeOffset":return this.convertDateTimeOffset(v,P);case"Edm.Boolean":case"Edm.Byte":case"Edm.Decimal":case"Edm.Guid":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":case"Edm.SByte":case"Edm.String":return v;case"Edm.Double":case"Edm.Single":return this.convertDoubleSingle(v);case"Edm.TimeOfDay":return this.convertTimeOfDay(v);default:throw new Error("Type '"+(P&&P.$Type)+"' of property '"+s+"' in type '"+T+"' is unknown; cannot convert value: "+v);}};
h.prototype.doCheckVersionHeader=function(G,R,j){var s=G("DataServiceVersion"),v=!s&&G("OData-Version");if(v){throw new Error("Expected 'DataServiceVersion' header with value '1.0' or '2.0' but "+"received 'OData-Version' header with value '"+v+"' in response for "+this.sServiceUrl+R);}if(!s){return;}s=s.split(";")[0];if(s==="1.0"||s==="2.0"){return;}throw new Error("Expected 'DataServiceVersion' header with value '1.0' or '2.0' but "+"received value '"+s+"' in response for "+this.sServiceUrl+R);};
h.prototype.doConvertResponse=function(R,m){var j,I,k,P,l,n=this;R=R.d;I=Array.isArray(R.results);if(!I&&!R.__metadata){k=Object.keys(R);j=R[k[0]];if(k.length===1){if(j===null){return{value:null};}else if(typeof j!=="object"){return{value:this.convertPrimitive(j,this.oModelInterface.fetchMetadata(m).getResult(),m,k[0])};}else if(j.__metadata){R=j;}}}if(I&&!R.results.length){P=[];}else if(I&&!R.results[0].__metadata){l=this.oModelInterface.fetchMetadata(m).getResult();P=R.results.map(function(v){return n.convertPrimitive(v,l,m,"");});}else{P=this.convertNonPrimitive(R);}if(I){P={value:P};if(R.__count){P["@odata.count"]=R.__count;}if(R.__next){P["@odata.nextLink"]=R.__next;}}return P;};
h.prototype.doConvertSystemQueryOptions=function(m,q,R,j,s){var S,k={},l=this;function n(v,E){if(!Array.isArray(v)){v=v.split(",");}v.forEach(function(w){var I=w.indexOf("/");if(I>=0&&!w.includes(".")){w=w.slice(0,I);}k[_.buildPath(E,w)]=true;});}function u(E,v,P){if(!v||typeof v!=="object"){throw new Error("$expand must be a valid object");}Object.keys(v).forEach(function(w){var A=_.buildPath(P,w),x=v[w];E.push(A);if(typeof x==="object"){Object.keys(x).forEach(function(Q){switch(Q){case"$expand":u(E,x.$expand,A);break;case"$select":n(x.$select,A);break;default:throw new Error("Unsupported query option in $expand: "+Q);}});}if(!x.$select){k[A+"/*"]=true;}});return E;}Object.keys(q).forEach(function(N){var I=N[0]==="$",v=q[N];if(j&&I){return;}switch(N){case"$count":N="$inlinecount";v=v?"allpages":"none";break;case"$expand":v=u([],v,"");v=(s?v.sort():v).join(",");break;case"$orderby":case"$search":break;case"$select":n(v);return;case"$filter":v=l.convertFilter(v,m);break;default:if(I){throw new Error("Unsupported system query option: "+N);}}R(N,v);});S=Object.keys(k);if(S.length>0){if(!q.$select){S.push("*");}R("$select",(s?S.sort():S).join(","));}};
h.prototype.formatPropertyAsLiteral=function(v,P){function j(k,V){var l=k.parse(V);if(!l){throw new Error("Not a valid "+P.$Type+" value: "+V);}return l;}if(v===null){return"null";}switch(P.$Type){case"Edm.Boolean":case"Edm.Byte":case"Edm.Decimal":case"Edm.Double":case"Edm.Guid":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":case"Edm.SByte":case"Edm.Single":case"Edm.String":break;case"Edm.Date":v=j(d,v);break;case"Edm.DateTimeOffset":v=j(o,v);break;case"Edm.TimeOfDay":v={__edmType:"Edm.Time",ms:j(t,v).getTime()};break;default:throw new Error("Type '"+P.$Type+"' in the key predicate is not supported");}return O.formatValue(v,P.$v2Type||P.$Type);};
h.prototype.getPathAndAddQueryOptions=function(P,j,m,q,E){var n,T,k=this;P=P.slice(1,-5);if(j.$IsBound){P=P.slice(P.lastIndexOf(".")+1);if(typeof E==="function"){E=E();}T=this.getTypeForName(j.$Parameter[0].$Type);T.$Key.forEach(function(n){q[n]=k.formatPropertyAsLiteral(E[n],T[n]);});}if(j.$Parameter){j.$Parameter.forEach(function(l){n=l.$Name;if(n in m){if(l.$isCollection){throw new Error("Unsupported collection-valued parameter: "+n);}q[n]=k.formatPropertyAsLiteral(m[n],l);delete m[n];}});}for(n in m){delete m[n];}if(j.$v2HttpMethod){m["X-HTTP-Method"]=j.$v2HttpMethod;}return P;};
h.prototype.getTypeForName=function(n){var T;this.mTypesByName=this.mTypesByName||{};T=this.mTypesByName[n];if(!T){T=this.mTypesByName[n]=this.oModelInterface.fetchMetadata("/"+n).getResult();}return T;};
h.prototype.isActionBodyOptional=function(){return true;};
h.prototype.isChangeSetOptional=function(){return false;};
h.prototype.ready=function(){return this.oModelInterface.fetchEntityContainer().then(function(){});};
function i(R){Object.assign(R,h.prototype);R.oModelInterface.reportStateMessages=function(){};R.oModelInterface.reportTransitionMessages=function(){};}
i._setDateTimeFormatter=function(){d=D.getDateInstance({calendarType:C.Gregorian,pattern:"yyyy-MM-dd",UTC:true});o=D.getDateTimeInstance({calendarType:C.Gregorian,pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"});t=D.getTimeInstance({calendarType:C.Gregorian,pattern:"HH:mm:ss",UTC:true});};
i._setDateTimeFormatter();return i;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_V4MetadataConverter',["./_Helper","./_MetadataConverter"],function(_,a){"use strict";
function b(){this.enumType=null;this.enumTypeMemberCounter=0;this.navigationProperty=null;a.call(this);}
b.prototype=Object.create(a.prototype);
b.prototype.finalize=function(){if(this.result.$Version!=="4.0"){throw new Error(this.url+": Unsupported OData version "+this.result.$Version);}};
b.prototype.processActionOrFunction=function(e){var k=e.localName,o={$kind:k},O,p,q=this.namespace+e.getAttribute("Name"),s="",t=this;function g(P){var T={};t.processTypedCollection(P.getAttribute("Type"),T);return T.$isCollection?"Collection("+T.$Type+")":T.$Type;}this.processAttributes(e,o,{IsBound:this.setIfTrue,EntitySetPath:this.setValue,IsComposable:this.setIfTrue});O=this.getOrCreateArray(this.result,q);if(!Array.isArray(O)){O=[];this.addToResult(q,O);}O.push(o);this.oOperation=o;if(o.$IsBound){p=e.getElementsByTagName("Parameter");s=e.localName==="Action"?g(p[0]):Array.prototype.map.call(p,g).join(",");}this.annotatable(q+"("+s+")");};
b.prototype.processComplexType=function(e){this.processType(e,{$kind:"ComplexType"});};
b.prototype.processEdmx=function(e){this.processAttributes(e,this.result,{Version:this.setValue});};
b.prototype.processElement=function(e,p){if(p){p.call(this,e);}};
b.prototype.processEntityContainer=function(e){var q=this.namespace+e.getAttribute("Name");this.entityContainer={$kind:"EntityContainer"};this.addToResult(q,this.entityContainer);this.addToResult("$EntityContainer",q);this.annotatable(q);};
b.prototype.processEntitySet=function(e){var n=e.getAttribute("Name");this.entityContainer[n]=this.entitySet={$kind:"EntitySet",$Type:this.resolveAlias(e.getAttribute("EntityType"))};this.processAttributes(e,this.entitySet,{IncludeInServiceDocument:this.setIfFalse});this.annotatable(n);};
b.prototype.processEntityType=function(e){this.processType(e,{$kind:"EntityType"});};
b.prototype.processEntityTypeKeyPropertyRef=function(e){var A=e.getAttribute("Alias"),k,n=e.getAttribute("Name");if(A){k={};k[A]=n;}else{k=n;}this.getOrCreateArray(this.type,"$Key").push(k);};
b.prototype.processEnumType=function(e){var q=this.namespace+e.getAttribute("Name"),E={$kind:"EnumType"};this.processAttributes(e,E,{IsFlags:this.setIfTrue,UnderlyingType:function(v){return v!=="Edm.Int32"?v:undefined;}});this.enumType=E;this.addToResult(q,E);this.enumTypeMemberCounter=0;this.annotatable(q);};
b.prototype.processEnumTypeMember=function(e){var n=e.getAttribute("Name"),v=e.getAttribute("Value"),V;if(v){V=parseInt(v);if(!_.isSafeInteger(V)){V=v;}}else{V=this.enumTypeMemberCounter;this.enumTypeMemberCounter+=1;}this.enumType[n]=V;this.annotatable(n);};
b.prototype.processFacetAttributes=function(e,r){var t=this;this.processAttributes(e,r,{MaxLength:function(v){return v==="max"?undefined:t.setNumber(v);},Precision:this.setNumber,Scale:function(v){return v==="variable"?v:t.setNumber(v);},SRID:this.setValue,Unicode:this.setIfFalse});};
b.prototype.processImport=function(e){var k=e.localName,i={$kind:k},n=e.getAttribute("Name"),t=this;k=k.replace("Import","");i["$"+k]=this.resolveAlias(e.getAttribute(k));this.processAttributes(e,i,{EntitySet:function(v){return t.resolveTargetPath(v);},IncludeInServiceDocument:this.setIfTrue});this.entityContainer[n]=i;this.annotatable(n);};
b.prototype.processNavigationPropertyBinding=function(e){var n=this.getOrCreateObject(this.entitySet,"$NavigationPropertyBinding");n[e.getAttribute("Path")]=this.resolveTargetPath(e.getAttribute("Target"));};
b.prototype.processParameter=function(e){var A=this.oOperation,p={};this.processTypedCollection(e.getAttribute("Type"),p);this.processAttributes(e,p,{Name:this.setValue,Nullable:this.setIfFalse});this.processFacetAttributes(e,p);this.getOrCreateArray(A,"$Parameter").push(p);this.annotatable(p.$Name);};
b.prototype.processReturnType=function(e){var A=this.oOperation,r={};this.processTypedCollection(e.getAttribute("Type"),r);this.processAttributes(e,r,{Nullable:this.setIfFalse});this.processFacetAttributes(e,r);A.$ReturnType=r;this.annotatable("$ReturnType");};
b.prototype.processSchema=function(e){this.namespace=e.getAttribute("Namespace")+".";this.schema={$kind:"Schema"};this.addToResult(this.namespace,this.schema);this.annotatable(this.schema);};
b.prototype.processSingleton=function(e){var n=e.getAttribute("Name");this.entityContainer[n]=this.entitySet={$kind:"Singleton",$Type:this.resolveAlias(e.getAttribute("Type"))};this.annotatable(n);};
b.prototype.processTerm=function(e){var q=this.namespace+e.getAttribute("Name"),t={$kind:"Term"},c=this;this.processTypedCollection(e.getAttribute("Type"),t);this.processAttributes(e,t,{Nullable:this.setIfFalse,BaseTerm:function(v){return v?c.resolveAlias(v):undefined;}});this.processFacetAttributes(e,t);this.addToResult(q,t);this.annotatable(q);};
b.prototype.processType=function(e,t){var q=this.namespace+e.getAttribute("Name"),c=this;this.processAttributes(e,t,{OpenType:c.setIfTrue,HasStream:c.setIfTrue,Abstract:c.setIfTrue,BaseType:function(T){return T?c.resolveAlias(T):undefined;}});this.type=t;this.addToResult(q,t);this.annotatable(q);};
b.prototype.processTypedCollection=function(t,p){var m=this.rCollection.exec(t);if(m){p.$isCollection=true;t=m[1];}p.$Type=this.resolveAlias(t);};
b.prototype.processTypeDefinition=function(e){var q=this.namespace+e.getAttribute("Name"),t={$kind:"TypeDefinition",$UnderlyingType:e.getAttribute("UnderlyingType")};this.addToResult(q,t);this.processFacetAttributes(e,t);this.annotatable(q);};
b.prototype.processTypeNavigationProperty=function(e){var n=e.getAttribute("Name"),p={$kind:"NavigationProperty"};this.processTypedCollection(e.getAttribute("Type"),p);this.processAttributes(e,p,{Nullable:this.setIfFalse,Partner:this.setValue,ContainsTarget:this.setIfTrue});this.type[n]=this.navigationProperty=p;this.annotatable(n);};
b.prototype.processTypeNavigationPropertyOnDelete=function(e){this.navigationProperty.$OnDelete=e.getAttribute("Action");this.annotatable(this.navigationProperty,"$OnDelete");};
b.prototype.processTypeNavigationPropertyReferentialConstraint=function(e){var p=e.getAttribute("Property"),r=this.getOrCreateObject(this.navigationProperty,"$ReferentialConstraint");r[p]=e.getAttribute("ReferencedProperty");this.annotatable(r,p);};
b.prototype.processTypeProperty=function(e){var n=e.getAttribute("Name"),p={$kind:"Property"};this.processTypedCollection(e.getAttribute("Type"),p);this.processAttributes(e,p,{Nullable:this.setIfFalse,DefaultValue:this.setValue});this.processFacetAttributes(e,p);this.type[n]=p;this.annotatable(n);};
b.prototype.resolveTargetPath=function(p){var s;if(!p){return p;}p=this.resolveAliasInPath(p);s=p.indexOf("/");if(s>=0&&!p.includes("/",s+1)){if(p.slice(0,s)===this.result.$EntityContainer){return p.slice(s+1);}}return p;};
(function($){var A,e,s;$.sRootNamespace=$.sEdmxNamespace;$.oAliasConfig={__xmlns:$.sEdmxNamespace,Reference:{Include:{__processor:$.processAlias}},DataServices:{Schema:{__xmlns:$.sEdmNamespace,__processor:$.processAlias}}};s={Property:{__processor:$.processTypeProperty,__include:[$.oAnnotationConfig]},NavigationProperty:{__processor:$.processTypeNavigationProperty,__include:[$.oAnnotationConfig],OnDelete:{__processor:$.processTypeNavigationPropertyOnDelete,__include:[$.oAnnotationConfig]},ReferentialConstraint:{__processor:$.processTypeNavigationPropertyReferentialConstraint,__include:[$.oAnnotationConfig]}}};e={NavigationPropertyBinding:{__processor:$.processNavigationPropertyBinding}};A={Parameter:{__processor:$.processParameter,__include:[$.oAnnotationConfig]},ReturnType:{__processor:$.processReturnType,__include:[$.oAnnotationConfig]}};$.oFullConfig={__xmlns:$.sEdmxNamespace,__processor:$.processEdmx,__include:[$.oReferenceInclude],DataServices:{Schema:{__xmlns:$.sEdmNamespace,__processor:$.processSchema,__include:[$.oAnnotationsConfig,$.oAnnotationConfig],Action:{__processor:$.processActionOrFunction,__include:[A,$.oAnnotationConfig]},Function:{__processor:$.processActionOrFunction,__include:[A,$.oAnnotationConfig]},EntityType:{__processor:$.processEntityType,__include:[s,$.oAnnotationConfig],Key:{PropertyRef:{__processor:$.processEntityTypeKeyPropertyRef}}},ComplexType:{__processor:$.processComplexType,__include:[s,$.oAnnotationConfig]},EntityContainer:{__processor:$.processEntityContainer,__include:[$.oAnnotationConfig],ActionImport:{__processor:$.processImport,__include:[$.oAnnotationConfig]},EntitySet:{__processor:$.processEntitySet,__include:[e,$.oAnnotationConfig]},FunctionImport:{__processor:$.processImport,__include:[$.oAnnotationConfig]},Singleton:{__processor:$.processSingleton,__include:[e,$.oAnnotationConfig]}},EnumType:{__processor:$.processEnumType,__include:[$.oAnnotationConfig],Member:{__processor:$.processEnumTypeMember,__include:[$.oAnnotationConfig]}},Term:{__processor:$.processTerm,__include:[$.oAnnotationConfig]},TypeDefinition:{__processor:$.processTypeDefinition,__include:[$.oAnnotationConfig]}}}};})(b.prototype);return b;},false);
sap.ui.predefine('sap/ui/model/type/String',["sap/base/Log","sap/base/util/each","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(L,e,F,P,S,V){"use strict";
var a=S.extend("sap.ui.model.type.String",{constructor:function(){S.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search);}}});
a.prototype.formatValue=function(v,t){if(v==undefined||v==null){return null;}switch(this.getPrimitiveType(t)){case"string":case"any":return v;case"int":var r=parseInt(v);if(isNaN(r)){throw new F(v+" is not a valid int value");}return r;case"float":var R=parseFloat(v);if(isNaN(R)){throw new F(v+" is not a valid float value");}return R;case"boolean":if(v.toLowerCase()=="true"||v=="X"){return true;}if(v.toLowerCase()=="false"||v==""){return false;}throw new F(v+" is not a valid boolean value");default:throw new F("Don't know how to format String to "+t);}};
a.prototype.parseValue=function(v,s){switch(this.getPrimitiveType(s)){case"string":return v;case"boolean":case"int":case"float":return v.toString();default:throw new P("Don't know how to parse String from "+s);}};
a.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),c=[],m=[];if(v===null){v="";}e(this.oConstraints,function(n,C){switch(n){case"maxLength":if(v.length>C){c.push("maxLength");m.push(b.getText("String.MaxLength",[C]));}break;case"minLength":if(v.length<C){c.push("minLength");m.push(b.getText("String.MinLength",[C]));}break;case"startsWith":if(!(typeof C=="string"&&C.length>0&&v.startsWith(C))){c.push("startsWith");m.push(b.getText("String.StartsWith",[C]));}break;case"startsWithIgnoreCase":if(!(typeof C=="string"&&C!=""?v.toLowerCase().startsWith(C.toLowerCase()):false)){c.push("startsWithIgnoreCase");m.push(b.getText("String.StartsWith",[C]));}break;case"endsWith":if(!(typeof C=="string"&&C.length>0&&v.endsWith(C))){c.push("endsWith");m.push(b.getText("String.EndsWith",[C]));}break;case"endsWithIgnoreCase":if(!((typeof C=="string"&&C!=""?v.toLowerCase().endsWith(C.toLowerCase()):false))){c.push("endsWithIgnoreCase");m.push(b.getText("String.EndsWith",[C]));}break;case"contains":if(v.indexOf(C)==-1){c.push("contains");m.push(b.getText("String.Contains",[C]));}break;case"equals":if(v!=C){c.push("equals");m.push(b.getText("String.Equals",[C]));}break;case"search":if(v.search(C)==-1){c.push("search");m.push(b.getText("String.Search",[C]));}break;default:L.warning("Ignoring unknown constraint: '"+n+"'",null,"sap.ui.model.type.String");}});if(c.length>0){throw new V(this.combineMessages(m),c);}}};
return a;});
sap.ui.predefine('sap/ui/unified/ColorPicker',["./library","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library","./ColorPickerRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/Global"],function(L,a,H,R,G,b,V,c,P,I,D,e,f,g,q){"use strict";var h=e.ValueState,j=L.ColorPickerMode,k=L.ColorPickerDisplayMode;
var l=a.extend("sap.ui.unified.ColorPicker",{
metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:j.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:k.Default}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_oCPBox:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHexField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRedField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oGreenField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oBlueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSatField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oLitField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oValField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField2:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRGBorHSLRBUnifiedGroup:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oButton:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},
renderer:f
});
var B="",s=sap.ui.require.toUrl("sap/ui/unified/img/ColorPicker/Alphaslider_BG.png"),r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),m={};Object.defineProperties(m,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},Colors:{value:{aliceblue:'f0f8ff',antiquewhite:'faebd7',aqua:'00ffff',aquamarine:'7fffd4',azure:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'000000',blanchedalmond:'ffebcd',blue:'0000ff',blueviolet:'8a2be2',brown:'a52a2a',burlywood:'deb887',cadetblue:'5f9ea0',chartreuse:'7fff00',chocolate:'d2691e',coral:'ff7f50',cornflowerblue:'6495ed',cornsilk:'fff8dc',crimson:'dc143c',cyan:'00ffff',darkblue:'00008b',darkcyan:'008b8b',darkgoldenrod:'b8860b',darkgray:'a9a9a9',darkgrey:'a9a9a9',darkgreen:'006400',darkkhaki:'bdb76b',darkmagenta:'8b008b',darkolivegreen:'556b2f',darkorange:'ff8c00',darkorchid:'9932cc',darkred:'8b0000',darksalmon:'e9967a',darkseagreen:'8fbc8f',darkslateblue:'483d8b',darkslategray:'2f4f4f',darkslategrey:'2f4f4f',darkturquoise:'00ced1',darkviolet:'9400d3',deeppink:'ff1493',deepskyblue:'00bfff',dimgray:'696969',dimgrey:'696969',dodgerblue:'1e90ff',firebrick:'b22222',floralwhite:'fffaf0',forestgreen:'228b22',fuchsia:'ff00ff',gainsboro:'dcdcdc',ghostwhite:'f8f8ff',gold:'ffd700',goldenrod:'daa520',gray:'808080',grey:'808080',green:'008000',greenyellow:'adff2f',honeydew:'f0fff0',hotpink:'ff69b4',indianred:'cd5c5c',indigo:'4b0082',ivory:'fffff0',khaki:'f0e68c',lavender:'e6e6fa',lavenderblush:'fff0f5',lawngreen:'7cfc00',lemonchiffon:'fffacd',lightblue:'add8e6',lightcoral:'f08080',lightcyan:'e0ffff',lightgoldenrodyellow:'fafad2',lightgray:'d3d3d3',lightgrey:'d3d3d3',lightgreen:'90ee90',lightpink:'ffb6c1',lightsalmon:'ffa07a',lightseagreen:'20b2aa',lightskyblue:'87cefa',lightslategray:'778899',lightslategrey:'778899',lightsteelblue:'b0c4de',lightyellow:'ffffe0',lime:'00ff00',limegreen:'32cd32',linen:'faf0e6',magenta:'ff00ff',maroon:'800000',mediumaquamarine:'66cdaa',mediumblue:'0000cd',mediumorchid:'ba55d3',mediumpurple:'9370db',mediumseagreen:'3cb371',mediumslateblue:'7b68ee',mediumspringgreen:'00fa9a',mediumturquoise:'48d1cc',mediumvioletred:'c71585',midnightblue:'191970',mintcream:'f5fffa',mistyrose:'ffe4e1',moccasin:'ffe4b5',navajowhite:'ffdead',navy:'000080',oldlace:'fdf5e6',olive:'808000',olivedrab:'6b8e23',orange:'ffa500',orangered:'ff4500',orchid:'da70d6',palegoldenrod:'eee8aa',palegreen:'98fb98',paleturquoise:'afeeee',palevioletred:'db7093',papayawhip:'ffefd5',peachpuff:'ffdab9',peru:'cd853f',pink:'ffc0cb',plum:'dda0dd',powderblue:'b0e0e6',purple:'800080',red:'ff0000',rosybrown:'bc8f8f',royalblue:'4169e1',saddlebrown:'8b4513',salmon:'fa8072',sandybrown:'f4a460',seagreen:'2e8b57',seashell:'fff5ee',sienna:'a0522d',silver:'c0c0c0',skyblue:'87ceeb',slateblue:'6a5acd',slategray:'708090',slategrey:'708090',snow:'fffafa',springgreen:'00ff7f',steelblue:'4682b4',tan:'d2b48c',teal:'008080',thistle:'d8bfd8',tomato:'ff6347',turquoise:'40e0d0',violet:'ee82ee',wheat:'f5deb3',white:'ffffff',whitesmoke:'f5f5f5',yellow:'ffff00',yellowgreen:'9acd32',transparent:'00000000'}}});
l.prototype.init=function(){if(D.browser.firefox){B="-moz-linear-gradient";}else if(D.browser.webkit){B="-webkit-linear-gradient";}else{B="linear-gradient";}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=sap.ui.getCore().getConfiguration().getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=L.ColorPickerHelper.isResponsive();var C=this.bResponsive?"_sap_ui_unified_ColorPicker_CircleSize":"_sap_ui_unified_ColorPicker_commonsCircleSize";this._iCPCursorSize=0;var d=P.get({name:C,callback:function(_){this._iCPCursorSize=parseInt(_);}.bind(this)});if(d){this._iCPCursorSize=parseInt(d);}this._processChanges=this._processHSVChanges;this._bHSLMode=false;this.bPressed=false;};
var n=a.extend("sap.ui.unified._ColorPickerBox",{
metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},
init:function(){this.bRtl=sap.ui.getCore().getConfiguration().getRTL();},
exit:function(){if(this._sResizeListener){R.deregister(this._sResizeListener);}},
getWidth:function(){return this.$().width();},
getOffset:function(){return this.$().offset();},
onBeforeRendering:function(){if(this._sResizeListener){R.deregister(this._sResizeListener);}},
onAfterRendering:function(){this._handle=this.$().find("> div."+m.CPCircleClass);this._sResizeListener=R.register(this.getDomRef(),this.handleResize.bind(this));},
handleResize:function(E){this.fireResize({size:E.size.width});},
getHandle:function(){return this._handle;},
ontouchstart:function(E){this.handleTouch(E);},
ontouchend:function(E){this.handleTouch(E);},
ontouchmove:function(E){this.handleTouch(E);},
handleTouch:function(E){var v=this.calculateValuesFromEvent(E);if(v){this.fireSelect(v);}},
calculateValuesFromEvent:function(E){var x=E.offsetX,y=E.offsetY,i,d=i=this.getWidth(),o,O;E.preventDefault&&E.preventDefault();if(!x){o=E.targetTouches?E.targetTouches[0]:E;if(!o||!o.pageX){o=E;if((!o||!o.pageX)&&E.changedTouches){o=E.changedTouches[0];}}if(!o.pageX){return false;}O=this.getOffset();x=o.pageX-O.left;y=o.pageY-O.top;}x=Math.min(Math.max(x,0),d);y=Math.min(Math.max(y,0),i);if(this.bRtl){x=d-x;}return{value:x/d*100,saturation:(1-y/i)*100};},
renderer:function(o,C){o.write("<div");o.addClass(m.CPBoxClass);o.writeControlData(C);o.writeClasses();o.write(">");o.write("<div");o.writeAttribute("id",C.getId()+"-cpCur");o.addClass(m.CPCircleClass);o.writeClasses();o.write("></div>");o.write("</div>");}
});
l.prototype._createRowFromInput=function(i,t,d,u){var T=r.getText(t),o;o=new c({content:[L.ColorPickerHelper.factory.createLabel({text:d,tooltip:T,labelFor:i}).addStyleClass(m.LabelClass),i.setTooltip(T)]});if(u){o.addContent(L.ColorPickerHelper.factory.createLabel({text:u,labelFor:i}).addStyleClass(m.UnitLabelClass).addStyleClass(m.LabelClass));}return o;};
l.prototype._updateColorStringProperty=function(F,d){var i=this._getCSSColorString();this.setProperty('colorString',i,true);if(d){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i});}if(F){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i});}};
l.prototype._handleCPBoxSelectEvent=function(E){var v=E.getParameter("value"),d=E.getParameter("saturation");this.oSatField.setValue(d);if(this._bHSLMode){this.oLitField.setValue(v);}else{this.oValField.setValue(v);}this._processChanges();this._updateColorStringProperty(false,true);};
l.prototype._handleCPBoxResizeEvent=function(E){this._iCPBoxSize=E.getParameter("size");this._updateCursorPosition();};
l.prototype._handleCPBoxTouchEndEvent=function(E){this._updateColorStringProperty(true,false);};
l.prototype._createInteractionControls=function(){var i=this.getId();this.oCPBox=new n(i+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=L.ColorPickerHelper.factory.createInput(i+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_HEX")}).addStyleClass(m.HEXClass);this.oRedField=L.ColorPickerHelper.factory.createInput(i+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_RED")}).addStyleClass(m.LeftColumnInputClass);this.oGreenField=L.ColorPickerHelper.factory.createInput(i+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_GREEN")}).addStyleClass(m.LeftColumnInputClass);this.oBlueField=L.ColorPickerHelper.factory.createInput(i+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_BLUE")}).addStyleClass(m.LeftColumnInputClass);this.oHueField=L.ColorPickerHelper.factory.createInput(i+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_HUE")}).addStyleClass(m.RightColumnInputClass);this.oSatField=L.ColorPickerHelper.factory.createInput(i+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_SAT")+" "+I.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(m.RightColumnInputClass);this.oLitField=L.ColorPickerHelper.factory.createInput(i+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_LIGHTNESS")+" "+I.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(m.RightColumnInputClass).addStyleClass(m.HideForHSVClass);this.oAlphaField=L.ColorPickerHelper.factory.createInput(i+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(m.RightColumnInputClass).addStyleClass(m.HideForHSVClass).addStyleClass("sapUnifiedA");this.oAlphaField2=L.ColorPickerHelper.factory.createInput(i+"-aF2",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(m.RightColumnInputClass).addStyleClass(m.HideForHSVClass).addStyleClass("sapUnifiedA");this.oValField=L.ColorPickerHelper.factory.createInput(i+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this),ariaLabelledBy:I.getStaticId("sap.ui.unified","COLORPICKER_VALUE")}).addStyleClass(m.RightColumnInputClass).addStyleClass(m.HideForHSLClass);this.oRGBorHSLRBGroup=L.ColorPickerHelper.factory.createRadioButtonGroup({columns:2,buttons:[L.ColorPickerHelper.factory.createRadioButtonItem({text:m.RGB}),L.ColorPickerHelper.factory.createRadioButtonItem({text:L.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:(this.Color.formatHSL?1:0)}).addStyleClass(m.OutputSelectorClass);this.oHueInvisibleText=new I({text:r.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oHueInvisibleText,true);this.oSlider=L.ColorPickerHelper.factory.createSlider(i+"-hSLD",{max:360,step:1,tooltip:r.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue())}).addStyleClass(m.SliderClass).addAriaLabelledBy(this.oHueInvisibleText);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));this.oAlphaInvisibleText=new I({text:r.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oAlphaInvisibleText,true);this.oAlphaSlider=L.ColorPickerHelper.factory.createSlider(i+"-aSLD",{max:1,value:1,step:0.01,tooltip:r.getText("COLORPICKER_ALPHA")}).addStyleClass(m.AlphaSliderClass).addAriaLabelledBy(this.oAlphaInvisibleText);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this));};
l.prototype._createLayout=function(){var i=this.getId(),o;if(this._bLayoutControlsCreated){return;}this._createInteractionControls();if(this.getDisplayMode()===k.Large){this._toggleInputsEnabled(this.Color.formatHSL);}this.oCPBoxGD=new b({span:"L6 M6 S12"});this.icOne=new b({span:"L3 M3 S6"});this.icTwo=new b({span:"L3 M3 S6"});this.swatches=new b({span:"L3 M3 S12"});this.rbg=new b({span:"L6 M8 S12"});if(this.bResponsive){this._createUnifiedColorPicker(i);}else{o=this._createCommonsColorPicker(o,i);this.setAggregation("_grid",o,true);}this._bLayoutControlsCreated=true;if(!this.bResponsive){this._adaptControlToLibrary();}};
l.prototype._adaptControlToLibrary=function(){var o;if(!this._bLayoutControlsCreated){return;}o=this.getAggregation("_grid");if(this.bResponsive){if(!D.system.phone&&!q('html').hasClass("sapUiMedia-Std-Phone")){o._setBreakPointTablet(400);}o.addStyleClass(m.CPResponsiveClass);}else{o.setProperty("hSpacing",0,true);o.setProperty("vSpacing",0,true);this.oCPBoxGD.setSpanS(5);this.icOne.setSpanS(4);this.icTwo.setSpanS(3);this.rbg.setSpanS(8);}};
l.prototype._updateControlVisualState=function(){var o=this.getAggregation("_grid");if(!o){return;}if(this.bResponsive){if(this._bHSLMode){o.addStyleClass(m.HSLClass);this.swatches.setSpanM(4).setLinebreak(true);}else{o.removeStyleClass(m.HSLClass);this.swatches.setSpanM(3).setLinebreak(false);}}else{if(this._bHSLMode){o.addStyleClass(m.HSLClass);this.swatches.setSpanS(4).setLinebreak(true);}else{o.removeStyleClass(m.HSLClass);this.swatches.setSpanS(3).setLinebreak(false);}}};
l.prototype._processChanges=function(){};
l.prototype.setMode=function(M,S){this._bLayoutControlsCreated=false;switch(M){case L.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case L.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:g.error("Control must have a valid mode set to work correct");break;}this._bHSLMode=M===L.ColorPickerMode.HSL;return this.setProperty("mode",M,S);};
l.prototype.setDisplayMode=function(d){this._bLayoutControlsCreated=false;return this.setProperty("displayMode",d,false);};
l.prototype._cleanup=function(){var C=[this.getAggregation("_grid"),this.getAggregation("_oCPBox"),this.getAggregation("_oHexField"),this.getAggregation("_oRedField"),this.getAggregation("_oGreenField"),this.getAggregation("_oBlueField"),this.getAggregation("_oHueField"),this.getAggregation("_oSatField"),this.getAggregation("_oLitField"),this.getAggregation("_oAlphaField"),this.getAggregation("_oAlphaField2"),this.getAggregation("_oValField"),this.getAggregation("_oSlider"),this.getAggregation("_oAlphaSlider"),this.oRGBorHSLRBUnifiedGroup,this.oCPBoxGD,this.icOne,this.icTwo,this.rbg,this.swatches,this.oAlphaInvisibleText,this.oHueInvisibleText,this.getAggregation("_oButton"),this.getAggregation("_oRGBorHSLRBUnifiedGroup"),this.oRGBorHSLRBGroup];C.forEach(function(o){if(o){o.destroy();}},this);this._bLayoutControlsCreated=false;};
l.prototype.exit=function(){this._cleanup();};
l.prototype.onBeforeRendering=function(){this._cleanup();this._createLayout();this._updateControlVisualState();this._updateColorString();};
l.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);if(this.bResponsive){this.oRGBorHSLRBUnifiedGroup.setSelectedIndex(this.Color.formatHSL?1:0);}else{this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0);}}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);}this._updateColorStringProperty(false,false);};
l.prototype.isColor=function(C){return this._parseColorString(C,true);};
l.prototype._handleSliderChange=function(E,d){var i=parseInt(this.oSlider.getValue());this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(d==="change",d==="liveChange");};
l.prototype._handleAlphaSliderChange=function(E,d){this.Color.a=this.oAlphaSlider.getValue();this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this._updateSelColorBackground();this._updateColorStringProperty(d==="change",d==="liveChange");};
l.prototype._getValueInRange=function(v,M,i){if(isNaN(v)){v=0;}return Math.min(Math.max(v,M),i);};
l.prototype._handleAlphaValueChange=function(E){var d=(E.getParameter("id")=="cp-aF2")?parseFloat(this.oAlphaField2.getValue(),10):parseFloat(this.oAlphaField.getValue(),10);d=this._getValueInRange(d,0,1);this.Color.a=d;this.oAlphaField.setValue(d);this.oAlphaField2.setValue(d);this.oAlphaSlider.setValue(d);if(!this.Color.formatHSL){this._processRGBChanges();}else{this._processChanges();}this._updateColorStringProperty(true,true);};
l.prototype._handleRGBorHSLValueChange=function(E){this.Color.formatHSL=E.getParameter("selectedIndex")===1;this._toggleInputsEnabled(this.Color.formatHSL);this._updateColorStringProperty(true,true);};
l.prototype._toggleInputsEnabled=function(d){this.oRedField.setEnabled(!d);this.oGreenField.setEnabled(!d);this.oBlueField.setEnabled(!d);this.oHueField.setEnabled(!!d);this.oSatField.setEnabled(!!d);this.oLitField.setEnabled(!!d);this.oValField.setEnabled(!!d);};
l.prototype._handleHueValueChange=function(){var d=parseInt(this.oHueField.getValue());d=this._getValueInRange(d,0,360);this.oHueField.setValue(d);this.oSlider.setValue(d);this._processChanges();this._updateColorStringProperty(true,true);};
l.prototype._handleSatValueChange=function(){var d=parseInt(this.oSatField.getValue());d=this._getValueInRange(d,0,100);this.oSatField.setValue(d);this._processChanges();this._updateColorStringProperty(true,true);};
l.prototype._handleValValueChange=function(){var v=parseInt(this.oValField.getValue());v=this._getValueInRange(v,0,100);this.oValField.setValue(v);this._processHSVChanges();this._updateColorStringProperty(true,true);};
l.prototype._handleLitValueChange=function(){var d=parseInt(this.oLitField.getValue());d=this._getValueInRange(d,0,100);this.oLitField.setValue(d);this._processHSLChanges();this._updateColorStringProperty(true,true);};
l.prototype._handleRedValueChange=function(){var d=parseInt(this.oRedField.getValue());d=this._getValueInRange(d,0,255);this.oRedField.setValue(d);this._processRGBChanges();this._updateColorStringProperty(true,true);};
l.prototype._handleGreenValueChange=function(){var d=parseInt(this.oGreenField.getValue());d=this._getValueInRange(d,0,255);this.oGreenField.setValue(d);this._processRGBChanges();this._updateColorStringProperty(true,true);};
l.prototype._handleBlueValueChange=function(){var d=parseInt(this.oBlueField.getValue());d=this._getValueInRange(d,0,255);this.oBlueField.setValue(d);this._processRGBChanges();this._updateColorStringProperty(true,true);};
l.prototype._processHSVChanges=function(){var d=parseInt(this.oHueField.getValue());var i=parseInt(this.oSatField.getValue());var v=parseInt(this.oValField.getValue());this._calculateRGB(d,i,v);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=d;this.Color.s=i;this.Color.v=v;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground();};
l.prototype._processHSLChanges=function(){var i=parseInt(this.oHueField.getValue()),S=parseInt(this.oSatField.getValue()),d=parseInt(this.oLitField.getValue());if(i>360){i%=360;}this._calculateRGB(i,S,d);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=i;this.Color.s=S;this.Color.l=d;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();};
l.prototype._processRGBChanges=function(){var d=Math.round(parseInt(this.oRedField.getValue())),i=Math.round(parseInt(this.oGreenField.getValue())),o=Math.round(parseInt(this.oBlueField.getValue())),p=(d+i+o)===765;this._calculateHEX(d,i,o);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(d,i,o);this.oLitField.setValue(this.Color.l);}else{if(!p){this._calculateHSV(d,i,o);}this.oValField.setValue(this.Color.v);}if(!p){this.oHueField.setValue(this.Color.h);}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.Color.r=d;this.Color.g=i;this.Color.b=o;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();};
l.prototype._handleHexValueChange=function(){var d=this.oHexField.getValue().toLowerCase(),i=1,o;if(d.substr(0,1)==='#'){d=d.substr(1);}o=/^([0-9a-fA-F]{8})$/;if(o.test(d)!==false){i=Number((parseInt(d.substr(6,2),16)/255).toFixed(2));d=d.substr(0,6);}o=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(o.test(d)===false){this.oHexField.setValueState(h.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);this.oAlphaField.setEnabled(false);this.oAlphaField2.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false);}else{this.oValField.setEnabled(false);}return;}else if(this.oHexField.getValueState()===h.Error){this.oHexField.setValueState(h.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);this.oAlphaField.setEnabled(true);this.oAlphaField2.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true);}else{this.oValField.setEnabled(true);}}if(d.length===3){d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2);}this._processHexChanges(d);this.oHexField.setValue(d);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);this.oAlphaField2.setValue(1);}else{this.oValField.setValue(this.Color.v);}this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.oAlphaSlider.setValue(i);this.Color.a=i;if(this._bHSLMode){this.oAlphaField.setValue(i);this.oAlphaField2.setValue(i);}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();this._updateColorStringProperty(true,true);};
l.prototype._processHexChanges=function(d){this._convertRGB(d);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b);}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b);}this.Color.hex="#"+d.toLowerCase();};
l.prototype._updateAlphaBackground=function(){var d=[this.Color.r,this.Color.g,this.Color.b].join(","),i=B+"(left,rgba("+d+",0),rgba("+d+",1)),url("+s+")";this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",i);};
l.prototype._updateCursorPosition=function(){var x,y;if(!this._iCPBoxSize){return;}if(this._bHSLMode){x=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100.0);}else{x=Math.round(this.oValField.getValue()*this._iCPBoxSize/100.0);}if(sap.ui.getCore().getConfiguration().getRTL()){x=this._iCPBoxSize-x;}y=Math.round((1-this.oSatField.getValue()/100.0)*this._iCPBoxSize);x=Math.round(Math.max(x,0)-this._iCPCursorSize/2.0-1.0);y=Math.round(Math.max(y,0)-this._iCPCursorSize/2.0-1.0);this.$CPCur.css("left",x).css("top",y);};
l.prototype._calculateRGB=function(d,S,v){var o,p,t,M,x,C,i;if(this._bHSLMode){this._calculateRGBAdvanced(d,S,v);return;}d%=360;d/=60;S/=100;v/=100;C=v*S;x=C*(1-Math.abs(d%2-1));M=v-C;o=0;p=0;t=0;i=Math.floor(d);switch(i){case 0:o=C;p=x;break;case 1:o=x;p=C;break;case 2:p=C;t=x;break;case 3:p=x;t=C;break;case 4:o=x;t=C;break;case 5:o=C;t=x;break;default:o=0;t=0;p=0;break;}this.RGB.r=Math.floor((o+M)*255);this.RGB.g=Math.floor((p+M)*255);this.RGB.b=Math.floor((t+M)*255);};
l.prototype._calculateRGBAdvanced=function(d,S,o){var p,t,u,M,v,x,w,y,i;d=this._getValueInRange(d,0,360);d%=360;if(S>100){S=1;}else if(S<0){S=0;}else{S=S/100;}if(o>100){o=1;}else if(o<0){o=0;}else{o=o/100;}y=S*(1-Math.abs(2*o-1));w=255*(o-0.5*y);x=y*(1-Math.abs((d/60)%2-1));i=Math.floor(d/60);v=w+255*x;M=w+255*y;switch(i){case 0:p=M;t=v;u=w;break;case 1:p=v;t=M;u=w;break;case 2:p=w;t=M;u=v;break;case 3:p=w;t=v;u=M;break;case 4:p=v;t=w;u=M;break;case 5:p=M;t=w;u=v;break;default:p=0;t=0;u=0;break;}this.RGB.r=Math.round(p);this.RGB.g=Math.round(t);this.RGB.b=Math.round(u);};
l.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")";}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)";}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")";}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")";}};
l.prototype._calculateHEX=function(i,d,o){var p=i.toString(16),t=d.toString(16),u=o.toString(16);if(p.length===1){p='0'+p;}if(t.length===1){t='0'+t;}if(u.length===1){u='0'+u;}this.sHexString=(p+t+u).toLowerCase();};
l.prototype._calculateHSV=function(i,d,o){var p=Math.max(Math.max(i,d),o),t=Math.min(Math.min(i,d),o),u=p-t,v=Math.round(p*100/255),w=p===0.0?0:(100*u/p),x=0;if(w===0){x=0;}else if(i===p){x=60.0*(d-o)/u;}else if(d===p){x=120.0+60.0*(o-i)/u;}else if(o===p){x=240.0+60.0*(i-d)/u;}if(x<0.0){x+=359.9;}x=Math.round(x);w=Math.round(w);this.Color.h=x;this.Color.s=w;this.Color.v=v;};
l.prototype._calculateHSL=function(i,o,p){var t=Math.max(i,o,p),u=Math.min(i,o,p),d=(t-u)/255,v=(t+u)/510,w=1-Math.abs(2*v-1),x=(v===0.0)?0:d/w,y=(w!==0)?x:0,z=0;v=Math.round(v*100);y=Math.round(y*100);if(v===0||y===0||(i+o+p===765)){z=0;}else{var C=t-u;if(t===i){z=((o-p)/C)%6;}if(t===o){z=(p-i)/C+2;}if(t===p){z=(i-o)/C+4;}if(C===0){z=0;}z*=60;if(z<0){z+=360;}}if(z!==0||this.Color.h!==360){this.Color.h=Math.round(z);}this.Color.s=y;this.Color.l=v;};
l.prototype._convertRGB=function(d){this.Color.r=parseInt(d.substr(0,2),16);this.Color.g=parseInt(d.substr(2,2),16);this.Color.b=parseInt(d.substr(4,2),16);};
l.prototype._updateGradientBoxBackground=function(i){if(this._bHSLMode){this._calculateRGBAdvanced(i,100,50);}else{this._calculateRGB(i,100,100);}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css('background-color','rgb('+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+')');};
l.prototype._updateSelColorBackground=function(){this.$().find(".sapUiColorPicker-ColorPickerNewColor").css('background-color',this._getCSSColorString());};
l.prototype._parseColorString=function(C,d){var i;if(C.substr(0,1)==='#'){C=C.substr(1);}C=C.trim().toLowerCase();i=this._parseColorName(C);if(i){if(d){return true;}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6);}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false;}return true;}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(C)){if(d){return true;}if(C.length===3){i=C[0]+C[0]+C[1]+C[1]+C[2]+C[2];}else{i=C;}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false;}return true;}if(C.substr(0,3)==='rgb'){return this._parseRGB(C,d);}if(this._bHSLMode){return this._parseHSL(C,d);}else if(C.substr(0,3)==='hsv'){return this._parseHSV(C,d);}return false;};
l.prototype._parseHSV=function(C,d){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,o,p,S,v;C=C.substr(3).replace("(",'').replace(")",'').split(' ').join('');if(i.test(C)===true){if(d){return true;}o=C.split(",");p=parseInt(o[0]);S=parseInt(o[1]);v=parseInt(o[2]);this._calculateRGB(p,S,v);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=p;this.Color.s=S;this.Color.v=v;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true;}return false;};
l.prototype._parseHSL=function(C,d){var i,o=C.substr(0,4),p,t,S,u,A;if(o==="hsla"){p=true;}else if(o==="hsl("){p=false;}else{return false;}C=C.substr(p?4:3).replace("(",'').replace(")",'').split(' ').join('');i=C.split(",");t=parseInt(i[0]);S=parseFloat(i[1]);u=parseFloat(i[2]);if(p){A=parseFloat(i[3]);}else{if(i[3]&&parseFloat(i[3])>=0){return false;}A=1;}S=(S<1&&S>0)?S*100:S;u=(u<1&&u>0)?u*100:u;if((t>=0&&t<=360)&&(S>=0&&S<=100)&&(u>=0&&u<=100)&&(A>=0&&A<=1)){if(d){return true;}this._calculateRGB(t,S,u);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=t;this.Color.s=S;this.Color.l=u;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=A;this.Color.formatHSL=true;}else{return false;}return true;};
l.prototype._parseRGB=function(C,d){var v,i,o,p;i=C.substring(0,4);if(i==="rgba"){p=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;o=true;}else if(i.substring(0,3)==="rgb"){p=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;o=false;}else{return false;}C=C.substr(o?4:3).replace("(",'').replace(")",'').split(' ').join('');if(p.test(C)){if(d){return true;}v=C.split(",");this._calculateHEX(parseInt(v[0]),parseInt(v[1]),parseInt(v[2]));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(o){this.Color.a=this.Color.oldA=parseFloat(v[3]);}return true;}if(this._bHSLMode){this.Color.formatHSL=false;}return false;};
l.prototype._parseColorName=function(C){return m.Colors[C];};
l.prototype.onAfterRendering=function(){var d=this._getCSSColorString(),p=this.getParent();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$().find(".sapUiColorPicker-ColorPickerNewColor").css('background-color',d);this.$().find(".sapUiColorPicker-ColorPickerOldColor").css('background-color',d);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();this._updateAlphaBackground();this.oSlider.iShiftGrip=Math.round(q(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(q(this.oAlphaSlider.oGrip).outerWidth()/2);if(p&&p.getMetadata().getName()==="sap.m.Dialog"){p.addStyleClass("sapUiCPDialog");}this.addStyleClass("sapUiCPDisplayRGB");if(D.system.phone){this._toggleFields();}};
l.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b};};
l.prototype._getConstants=function(){return m;};
l.prototype._createCommonsColorPicker=function(o,i){o=new G({containerQuery:true,content:[this.oCPBox.setLayoutData(this.oCPBoxGD),new V({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this.icOne}),new V({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(m.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(m.HideForHSVClass),this._createRowFromInput(this.oAlphaField2,"COLORPICKER_ALPHA","A:").addStyleClass(m.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(m.HideForHSLClass)],layoutData:this.icTwo}).addStyleClass(m.LastColumnClass),new c({content:[new H({content:["<div id='",i,"-ocBox' class='",m.OldColorClass,"'></div>"].join("")}),new H({content:["<div id='",i,"-ncBox' class='",m.NewColorClass,"'></div>"].join("")})],layoutData:this.swatches}).addStyleClass(m.SwatchesClass),new c({content:[L.ColorPickerHelper.factory.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this.rbg}).addStyleClass(m.HideForHSVClass).addStyleClass(m.OutputSelectorRowClass),this.oSlider.setLayoutData(new b({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new b({span:"L6 M6 S12"}))]}).addStyleClass(m.CPMatrixClass);return o;};
l.prototype._createUnifiedColorPicker=function(i){var t=this;this.oRbRGB=L.ColorPickerHelper.factory.createRadioButtonItem({tooltip:r.getText("COLORPICKER_SELECT_RGB_TOOLTIP")});this.oRbRGB.addStyleClass("sapUiCPRB");this.oRbHSLV=L.ColorPickerHelper.factory.createRadioButtonItem({tooltip:r.getText("COLORPICKER_SELECT_HSL_TOOLTIP")});this.oRbHSLV.addStyleClass("sapUiCPRB");this.oButton=L.ColorPickerHelper.factory.createButton(i+"-toggleMode",{type:D.system.phone?"Default":"Transparent",tooltip:r.getText("COLORPICKER_TOGGLE_BTN_TOOLTIP"),icon:"sap-icon://source-code",press:function(E){t._toggleFields();}});this.setAggregation("_oButton",this.oButton,true);this.oRGBorHSLRBUnifiedGroup=L.ColorPickerHelper.factory.createRadioButtonGroup({select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:(this.Color.formatHSL?1:0)});this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbRGB);this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbHSLV);this.setAggregation("_oRGBorHSLRBUnifiedGroup",this.oRGBorHSLRBUnifiedGroup,true);this.setAggregation("_oCPBox",this.oCPBox,true);this.setAggregation("_oHexField",this.oHexField,true);this.setAggregation("_oRedField",this.oRedField,true);this.setAggregation("_oGreenField",this.oGreenField,true);this.setAggregation("_oBlueField",this.oBlueField,true);this.setAggregation("_oHueField",this.oHueField,true);this.setAggregation("_oSatField",this.oSatField,true);this.setAggregation("_oLitField",this.oLitField,true);this.setAggregation("_oAlphaField",this.oAlphaField,true);this.setAggregation("_oAlphaField2",this.oAlphaField2,true);this.setAggregation("_oValField",this.oValField,true);this.setAggregation("_oSlider",this.oSlider,true);this.setAggregation("_oAlphaSlider",this.oAlphaSlider,true);};
l.prototype._toggleFields=function(){if(!D.system.phone){this.toggleStyleClass("sapUiCPDisplayRGB",this.bPressed);this.bPressed=!this.bPressed;}else{switch(this.sVisibleFiled){case"HSL":this.removeStyleClass("sapUiCPHexVisible");this.toggleStyleClass("sapUiCPDisplayRGB",false);this.addStyleClass("sapUiCPHideHex");this.sVisibleFiled="RGB";break;case"RGB":this.removeStyleClass("sapUiCPHexVisible");this.addStyleClass("sapUiCPHideHex");this.toggleStyleClass("sapUiCPDisplayRGB",true);this.sVisibleFiled="Hex";break;case"Hex":default:this.addStyleClass("sapUiCPHexVisible");this.removeStyleClass("sapUiCPHideHex");this.sVisibleFiled="HSL";break;}}};
return l;});
sap.ui.predefine('sap/ui/unified/ColorPickerRenderer',['./ColorPickerDisplayMode',"sap/ui/Device"],function(C,D){"use strict";var a={apiVersion:2};
a.render=function(r,c){var d=c.getDisplayMode(),R=c.bResponsive;r.openStart("div",c);r.accessibilityState(c,{role:"group",roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("COLOR_PICKER_TITLE")});if(R){r.class("sapUiColorPicker-ColorPickerMatrix");r.class("sapUiColorPicker-"+d);r.class("sapUnifiedColorPicker");if(c._bHSLMode){r.class("sapUiColorPickerHSL");}}if(D.system.phone){r.class("sapUiCPPhone");}r.openEnd();if(!R){r.renderControl(c.getAggregation("_grid"));}else{switch(d){case C.Default:this.renderDefaultColorPicker(r,c);break;case C.Large:this.renderLargeColorPicker(r,c);break;case C.Simplified:this.renderSimplifiedColorPicker(r,c);}}r.close("div");};
a.renderDefaultColorPicker=function(r,c){r.renderControl(c.getAggregation("_oCPBox"));if(D.system.phone){r.openStart("div");r.class("sapUiCPPhoneContent");r.openEnd();r.openStart("div");r.class("sapUiCPSlidersPhone");r.openEnd();r.renderControl(c.getAggregation("_oSlider"));r.renderControl(c.getAggregation("_oAlphaSlider"));r.close("div");this.renderMobileSwatches(r,c);r.close("div");}else{r.renderControl(c.getAggregation("_oSlider"));r.renderControl(c.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(r,c);}r.openStart("div");r.class("sapUiCPDefaultWrapper");r.openEnd();if(D.system.phone){r.renderControl(c.getAggregation("_oHexField"));r.openStart("div");r.class("sapUiCPHexText");r.openEnd();r.text("Hex");r.close("div");}r.openStart("div");r.class("sapUiCPDefaultRGB");r.openEnd();r.renderControl(c.getAggregation("_oRedField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oGreenField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oBlueField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oAlphaField"));r.close("div");r.openStart("div");r.class("sapUiCPDefaultHSLV");r.openEnd();r.renderControl(c.getAggregation("_oHueField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oSatField"));r.openStart("div");r.class("sapUiCPPercentSymbol");r.openEnd();r.text("%");r.close("div");r.renderControl(c.getAggregation("_oLitField"));r.renderControl(c.getAggregation("_oValField"));if(c.getMode()==="HSL"){r.openStart("div");r.class("sapUiCPPercentSymbol");r.openEnd();r.text("%");r.close("div");}else{this.renderEmptyDiv(r);}r.renderControl(c.getAggregation("_oAlphaField2"));r.close("div");r.renderControl(c.getAggregation("_oButton"));this.renderRGBLabel(r,c);this.renderHSLVLabel(r,c);r.close("div");};
a.renderLargeColorPicker=function(r,c){r.renderControl(c.getAggregation("_oCPBox"));r.renderControl(c.getAggregation("_oSlider"));r.renderControl(c.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(r,c);r.renderControl(c.oRGBorHSLRBUnifiedGroup);r.openStart("div");r.class("sapUiCPRGBA");r.openEnd();r.renderControl(c.getAggregation("_oRedField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oGreenField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oBlueField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oAlphaField"));r.close("div");this.renderRGBLabel(r,c);r.openStart("div");r.class("sapUiCPHSLV");r.openEnd();r.renderControl(c.getAggregation("_oHueField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oSatField"));r.openStart("div");r.class("sapUiCPPercentSymbol");r.openEnd();r.text("%");r.close("div");c.getMode()==="HSL"?this.renderLFirst(r,c):this.renderVFirst(r,c);r.close("div");this.renderHSLVLabel(r,c);};
a.renderSimplifiedColorPicker=function(r,c){r.renderControl(c.getAggregation("_oCPBox"));if(D.system.phone){r.openStart("div");r.class("sapUiCPPhoneContent");r.openEnd();r.openStart("div");r.class("sapUiCPSlidersPhone");r.openEnd();r.renderControl(c.getAggregation("_oSlider"));r.close("div");r.renderControl(c.getAggregation("_oHexField"));this.renderMobileSwatches(r,c);r.openStart("div");r.class("sapUiCPHexWrapper");r.openEnd();r.openStart("div");r.class("sapUiCPHexText");r.openEnd();r.text("Hex");r.close("div");r.close("div");r.close("div");}else{r.renderControl(c.getAggregation("_oSlider"));this.renderDesktopSwatchesAndHexFields(r,c);}};
a.renderDesktopSwatchesAndHexFields=function(r,c){r.openStart("div");r.class("sapUiCPComparisonWrapper");r.openEnd();r.openStart("div",c.getId()+"-ocBox");r.class("sapUiColorPicker-ColorPickerOldColor");r.openEnd();r.close("div");r.openStart("div",c.getId()+"-ncBox");r.class("sapUiColorPicker-ColorPickerNewColor");r.openEnd();r.close("div");r.close("div");r.openStart("div");r.class("sapUiCPHexWrapper");r.openEnd();r.openStart("span");r.class("sapUiCPHexText");r.openEnd();r.text("Hex");r.close("span");r.close("div");r.renderControl(c.getAggregation("_oHexField"));};
a.renderMobileSwatches=function(r,c){r.openStart("div");r.class("sapUiCPComparisonWrapper");r.class("sapUiCPComparisonWrapperPhone");r.openEnd();r.openStart("div",c.getId()+"-ocBox");r.class("sapUiColorPicker-ColorPickerOldColor");r.openEnd();r.close("div");r.openStart("div",c.getId()+"-ncBox");r.class("sapUiColorPicker-ColorPickerNewColor");r.openEnd();r.close("div");r.close("div");};
a.renderLFirst=function(r,c){r.renderControl(c.getAggregation("_oLitField"));r.openStart("div");r.class("sapUiCPPercentSymbol");r.openEnd();r.text("%");r.close("div");r.renderControl(c.getAggregation("_oValField"));};
a.renderVFirst=function(r,c){r.renderControl(c.getAggregation("_oValField"));this.renderEmptyDiv(r);r.renderControl(c.getAggregation("_oLitField"));};
a.renderEmptyDiv=function(r){r.openStart("div");r.class("sapUiCPEmptyDiv");r.openEnd();r.close("div");};
a.renderRGBLabel=function(r,c){r.openStart("div");r.class("sapUiCPRGBText");r.openEnd();r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("R");r.close("span");this.renderEmptyDiv(r);r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("G");r.close("span");this.renderEmptyDiv(r);r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("B");r.close("span");this.renderEmptyDiv(r);if(c.getDisplayMode()==="Default"){r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("A");r.close("span");}else{r.openStart("span");r.class("sapUiCPText");r.openEnd();r.close("span");}r.close("div");};
a.renderHSLVLabel=function(r,c){r.openStart("div");r.class("sapUiCPHSLVText");r.openEnd();r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("H");r.close("span");this.renderEmptyDiv(r);r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("S");r.close("span");this.renderEmptyDiv(r);if(c.getMode()==="HSL"){r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("L");r.close("span");}else{r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("V");r.close("span");}this.renderEmptyDiv(r);r.openStart("span");r.class("sapUiCPText");r.openEnd();r.text("A");r.close("span");r.close("div");};
return a;},true);
sap.ui.predefine('sap/ui/unified/Menu',['sap/ui/core/Element','sap/ui/core/Control','sap/ui/Device','sap/ui/core/Popup','./MenuItemBase','./library','sap/ui/core/library','sap/ui/unified/MenuRenderer',"sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave"],function(E,C,D,P,M,l,c,a,b,q,K,L,d,f,g){"use strict";var h=P.Dock;var O=c.OpenState;
var j=C.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.MenuItemBase",multiple:true,singularName:"item"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});
(function(w){j.prototype.bCozySupported=true;j._DELAY_SUBMENU_TIMER=300;j._DELAY_SUBMENU_TIMER_EXT=400;
j.prototype.init=function(){var t=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=q.proxy(function(e){var r=this.getRootMenu();if(r!=this||!this.bOpen||!this.getDomRef()||(e.type!="mousedown"&&e.type!="touchstart")){return;}r.handleOuterEvent(this.getId(),e);},this);this.fOrientationChangeHandler=function(){t.close();};this.bUseTopStyle=false;};
j.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e;};
j.prototype.enhanceAccessibilityState=function(e,A){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,A);}};
j.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup;}d.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){q(w).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false;}this._resetDelayedRerenderItems();this._detachResizeHandler();};
j.prototype.invalidate=function(o){if(o instanceof M&&this.getDomRef()){this._delayedRerenderItems();}else{C.prototype.invalidate.apply(this,arguments);}};
j.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove");};
j.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){L.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove();}var I=this.getItems();for(var i=0;i<I.length;i++){if(I[i].onAfterRendering&&I[i].getDomRef()){I[i].onAfterRendering();}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this);}m(this);this.$().on("mousemove",this._focusMenuItem.bind(this));};
j.prototype._focusMenuItem=function(e){if(!D.system.desktop){return;}var i=this.getItemByDomRef(e.target);if(!this.bOpen||!i){return;}if(this.oOpenedSubMenu&&b(this.oOpenedSubMenu.getDomRef(),e.target)){return;}this.setHoveredItem(i);i&&i.focus(this);this._openSubMenuDelayed(i);};
j.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===O.OPEN){m(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition);}};
j.prototype.addItem=function(i){this.addAggregation("items",i,!!this.getDomRef());this._delayedRerenderItems();return this;};
j.prototype.insertItem=function(i,e){this.insertAggregation("items",i,e,!!this.getDomRef());this._delayedRerenderItems();return this;};
j.prototype.removeItem=function(i){this.removeAggregation("items",i,!!this.getDomRef());this._delayedRerenderItems();return this;};
j.prototype.removeAllItems=function(){var r=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return r;};
j.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this;};
j.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return;}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var o=this.getDomRef();if(o){var r=sap.ui.getCore().createRenderManager();a.renderItems(r,this);r.flush(o);r.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition);}}.bind(this),0);};
j.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer;}};
j.prototype._detachResizeHandler=function(){if(this._hasResizeListener){D.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false;}};
j.prototype.open=function(W,o,e,i,n,p,r){var N;if(this.bOpen){return;}s(this,true);this.oOpenerRef=o;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,e,i,n,p||"0 0",r||"flipfit flipfit",function(t){var u=this.getPopup()._getOfDom(n);if(!u||!q(u).is(":visible")||!_(u)){this.close();}else{this.getPopup()._applyPosition(t.lastPosition);}}.bind(this));this.bOpen=true;D.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(W||this.getRootMenu().getId()===this.getId()){N=this.getNextSelectableItem(-1);this.setHoveredItem(N);N&&N.focus(this);}d.bindAnyEvent(this.fAnyEventHandlerProxy);if(D.support.orientation&&this.getRootMenu()===this){q(w).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true;}};
j.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition);};
j.prototype.openAsContextMenu=function(e,o){var i,n,r,p,t;o=o instanceof E?o.getDomRef():o;if(e instanceof q.Event){t=q(o).offset();i=e.pageX-t.left;n=e.pageY-t.top;this._iX=e.clientX;this._iY=e.clientY;}else{i=e.offsetX||0;n=e.offsetY||0;this._iX=e.left||0;this._iY=e.top||0;}r=sap.ui.getCore().getConfiguration().getRTL();p=h;if(r){i=o.clientWidth-i;}this._bOpenedAsContextMenu=true;this.open(true,o,p.BeginTop,p.BeginTop,o,i+" "+n,'fit');};
j.prototype._handleOpened=function(){var $,W,i,e,r,B,R,n,o,p;if(!this._bOpenedAsContextMenu){return;}$=this.$();W=q(w);i=this._iX;e=this._iY;r=W.scrollLeft()+W.width();B=W.scrollTop()+W.height();R=sap.ui.getCore().getConfiguration().getRTL();n=false;o=$.width();p=$.height();if(e+p>B){e=e-p;n=true;}if(R){if((r-i)+o>r){i=r-(i+o);n=true;}else{i=r-i;n=true;}}else{if(i+o>r){i=i-o;n=true;}}this._bOpenedAsContextMenu=false;n&&this.oPopup.setPosition("begin top","begin top",W,i+" "+e,"flipfit");};
j.prototype.close=function(W){if(!this.bOpen||j._dbg){return;}this._discardOpenSubMenuDelayed();s(this,false);delete this._bFixed;d.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){q(w).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false;}this.bOpen=false;this.closeSubmenu();this.setHoveredItem();if(!W){this.bIgnoreOpenerDOMRef=true;}this.getPopup().close(0);this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null;}};
j.prototype._menuClosed=function(){if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus();}catch(e){L.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e);}}this.oOpenerRef=undefined;}};
j.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation();};
j.prototype.onsapnext=function(e){var i,n,S=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==K.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(S&&this.checkEnabled(this.oHoveredItem)){if(S.bOpen){n=S.getNextSelectableItem(-1);S.setHoveredItem(n);n&&n.focus(this);}else{this.openSubmenu(this.oHoveredItem,true);}}return;}if(S&&S.bOpen){this.closeSubmenu(false,true);}i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;n=this.getNextSelectableItem(i);this.setHoveredItem(n);n&&n.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation();}};
j.prototype.onsapnextmodifiers=j.prototype.onsapnext;
j.prototype.onsapprevious=function(e){var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,p=this.getPreviousSelectableItem(i),S=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==K.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true);}e.preventDefault();e.stopPropagation();return;}if(S&&S.bOpen){this.closeSubmenu(false,true);}this.setHoveredItem(p);p&&p.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation();}};
j.prototype.onsappreviousmodifiers=j.prototype.onsapprevious;
j.prototype.onsaphome=function(e){var n=this.getNextSelectableItem(-1);this.setHoveredItem(n);n&&n.focus(this);e.preventDefault();e.stopPropagation();};
j.prototype.onsapend=function(e){var p=this.getPreviousSelectableItem(this.getItems().length);this.setHoveredItem(p);p&&p.focus(this);e.preventDefault();e.stopPropagation();};
j.prototype.onsappagedown=function(e){var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,n;if(this.getPageSize()<1){this.onsapend(e);return;}i+=this.getPageSize();if(i>=this.getItems().length){this.onsapend(e);return;}n=this.getNextSelectableItem(i-1);this.setHoveredItem(n);n&&n.focus(this);e.preventDefault();e.stopPropagation();};
j.prototype.onsappageup=function(e){var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,p;if(this.getPageSize()<1){this.onsaphome(e);return;}i-=this.getPageSize();if(i<0){this.onsaphome(e);return;}p=this.getPreviousSelectableItem(i+1);this.setHoveredItem(p);p&&p.focus(this);e.preventDefault();e.stopPropagation();};
j.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation();};
j.prototype.onkeyup=function(e){if(this.oHoveredItem&&(q(e.target).prop("tagName")!="INPUT")){var o=this.oHoveredItem.getDomRef();q(o).trigger("focus");}if(!this._sapSelectOnKeyDown&&(e.key!==K.Space||(!D.os.macintosh&&w.navigator.maxTouchPoints<=1))){return;}else{this._sapSelectOnKeyDown=false;}if(!f.events.sapselect.fnCheck(e)&&e.key!=="Enter"){return;}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation();};
j.prototype.onsapbackspace=function(e){if(q(e.target).prop("tagName")!="INPUT"){e.preventDefault();}};
j.prototype.onsapbackspacemodifiers=j.prototype.onsapbackspace;
j.prototype.onsapescape=function(e){this.close(true);e.preventDefault();e.stopPropagation();};
j.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault();}this.close(true);e.stopPropagation();};
j.prototype.onsaptabprevious=j.prototype.onsaptabnext;
j.prototype._openSubMenuDelayed=function(i){if(!i){return;}this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){this.checkEnabled(i)&&this.closeSubmenu(false,true);if(this.checkEnabled(i)&&i.getSubmenu()){this.setHoveredItem(i);i&&i.focus(this);this.openSubmenu(i,false,true);}}.bind(this),i.getSubmenu()&&this.checkEnabled(i)?j._DELAY_SUBMENU_TIMER:j._DELAY_SUBMENU_TIMER_EXT);};
j.prototype._discardOpenSubMenuDelayed=function(i){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null;}};
j.prototype.onmouseout=function(e){if(!D.system.desktop){return;}if(g(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem);}this._discardOpenSubMenuDelayed();}};
j.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.bOpen){return;}this.getRootMenu().handleOuterEvent(this.getId(),e);};
j.prototype.handleOuterEvent=function(o,e){var i=false,t=D.support.touch||D.system.combi;this.bIgnoreOpenerDOMRef=false;if(e.type=="mousedown"||e.type=="touchstart"){if(t&&(e.isMarked("delayedMouseEvent")||e.isMarked("cancelAutoClose"))){return;}var n=this;while(n&&!i){if(b(n.getDomRef(),e.target)){i=true;}n=n.oOpenedSubMenu;}}else if(e.type=="sapfocusleave"){if(t){return;}if(e.relatedControlId){var n=this;while(n&&!i){if((n.oOpenedSubMenu&&n.oOpenedSubMenu.getId()==e.relatedControlId)||b(n.getDomRef(),q(document.getElementById(e.relatedControlId)).get(0))){i=true;}n=n.oOpenedSubMenu;}}if(!i){this.bIgnoreOpenerDOMRef=true;}}if(!i){this.close();}};
j.prototype.getItemByDomRef=function(o){var I=this.getItems(),e=I.length;for(var i=0;i<e;i++){var n=I[i],p=n.getDomRef();if(b(p,o)){return n;}}return null;};
j.prototype.selectItem=function(i,W,e){if(!i||!(i instanceof M&&this.checkEnabled(i))){return;}var S=i.getSubmenu();if(!S){this.getRootMenu().close(true);}else{if(!D.system.desktop&&this.oOpenedSubMenu===S){this.closeSubmenu();}else{this.openSubmenu(i,W);}}i.fireSelect({item:i,ctrlKey:e});this.getRootMenu().fireItemSelect({item:i});};
j.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof j;};
j.prototype.getRootMenu=function(){var t=this;while(t.isSubMenu()){t=t.getParent().getParent();}return t;};
j.prototype.getMenuLevel=function(){var i=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();i++;}return i;};
j.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new P(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this);}return this.oPopup;};
j.prototype.setHoveredItem=function(i){if(this.oHoveredItem){this.oHoveredItem.hover(false,this);}if(!i){this.oHoveredItem=null;return;}this.oHoveredItem=i;i.hover(true,this);this.scrollToItem(this.oHoveredItem);};
j.prototype.openSubmenu=function(i,W,e){var S=i.getSubmenu();if(!S){return;}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==S){this.closeSubmenu();}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=(e&&this.oOpenedSubMenu._bFixed)||(!e&&!this.oOpenedSubMenu._bFixed);this.oOpenedSubMenu._bringToFront();}else{this.oOpenedSubMenu=S;var n=P.Dock;S.open(W,i,n.BeginTop,n.EndTop,i,"-4 4");}};
j.prototype.closeSubmenu=function(i,I){if(this.oOpenedSubMenu){if(i&&this.oOpenedSubMenu._bFixed){return;}if(I){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true;}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null;}};
j.prototype.scrollToItem=function(i){var o=this.getDomRef(),I=i?i.getDomRef():null;if(!I||!o){return;}var e=o.scrollTop,n=I.offsetTop,p=q(o).height(),r=q(I).height();if(e>n){o.scrollTop=n;}else if((n+r)>(e+p)){o.scrollTop=Math.ceil(n+r-p);}};
j.prototype._bringToFront=function(){q(document.getElementById(this.getPopup().getId())).mousedown();};
j.prototype.checkEnabled=function(i){return i&&i.getEnabled()&&this.getEnabled();};
j.prototype.getNextSelectableItem=function(I){var o=null;var e=this.getItems();for(var i=I+1;i<e.length;i++){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}if(!o){for(var i=0;i<=I;i++){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}}return o;};
j.prototype.getPreviousSelectableItem=function(I){var o=null;var e=this.getItems();for(var i=I-1;i>=0;i--){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}if(!o){for(var i=e.length-1;i>=I;i--){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}}return o;};
j.prototype.setRootMenuTopStyle=function(u){this.getRootMenu().bUseTopStyle=u;j.rerenderMenu(this.getRootMenu());};
j.rerenderMenu=function(o){var I=o.getItems();for(var i=0;i<I.length;i++){var S=I[i].getSubmenu();if(S){j.rerenderMenu(S);}}o.invalidate();o.rerender();};
j.prototype.focus=function(){if(this.bOpen){C.prototype.focus.apply(this,arguments);}};
j.prototype.isCozy=function(){if(!this.bCozySupported){return false;}if(this.hasStyleClass("sapUiSizeCozy")){return true;}if(k(this.oOpenerRef)){return true;}if(k(this.getParent())){return true;}return false;};
function k(r){if(!r){return false;}r=r.$?r.$():q(r);return r.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy").hasClass("sapUiSizeCozy");}
function s(o,e){var p=o.getParent();if(p&&p instanceof M){p.onSubmenuToggle(e);}}
function m(o){var e=o.getMaxVisibleItems(),n=document.documentElement.clientHeight-10,$=o.$();if(e>0){var I=o.getItems();for(var i=0;i<I.length;i++){if(I[i].getDomRef()){n=Math.min(n,I[i].$().outerHeight(true)*e);break;}}}if($.outerHeight(true)>n){$.css("max-height",n+"px").toggleClass("sapUiMnuScroll",true);}else{$.css("max-height","").toggleClass("sapUiMnuScroll",false);}}
function _(o){var r;if(!o){return false;}if(o instanceof q){o=o.get(0);}r=o.getBoundingClientRect();return(r.top>=0&&r.left>=0&&r.bottom<=(w.innerHeight||document.documentElement.clientHeight)&&r.right<=(w.innerWidth||document.documentElement.clientWidth));}
})(window);return j;});
sap.ui.predefine('sap/ui/unified/MenuItem',['sap/ui/core/IconPool','./MenuItemBase','./library','sap/ui/core/library'],function(I,M,l,c){"use strict";
var a=M.extend("sap.ui.unified.MenuItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:''},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});
I.insertFontFaceStyle();
a.prototype.render=function(r,i,m,o){var b=r,s=i.getSubmenu(),d=i.getEnabled();b.openStart("li",i);if(i.getVisible()&&d){b.attr("tabindex","0");}b.class("sapUiMnuItm");if(o.iItemNo==1){b.class("sapUiMnuItmFirst");}else if(o.iItemNo==o.iTotalItems){b.class("sapUiMnuItmLast");}if(!m.checkEnabled(i)){b.class("sapUiMnuItmDsbl");}if(i.getStartsSection()){b.class("sapUiMnuItmSepBefore");}if(!d){b.attr("disabled","disabled");}if(i.getTooltip_AsString()){b.attr("title",i.getTooltip_AsString());}if(o.bAccessible){b.accessibilityState(i,{role:"menuitem",disabled:null,posinset:o.iItemNo,setsize:o.iTotalItems,labelledby:{value:this.getId()+"-txt",append:true}});if(s){b.attr("aria-haspopup",c.aria.HasPopup.Menu.toLowerCase());b.attr("aria-owns",s.getId());}}b.openEnd();b.openStart("div");b.class("sapUiMnuItmL");b.openEnd();b.close("div");if(i.getIcon()){b.openStart("div");b.class("sapUiMnuItmIco");b.openEnd();b.icon(i.getIcon(),null,{title:null});b.close("div");}b.openStart("div",this.getId()+"-txt");b.class("sapUiMnuItmTxt");b.openEnd();b.text(i.getText());b.close("div");b.openStart("div",this.getId()+"-scuttxt");b.class("sapUiMnuItmSCut");b.openEnd();b.close("div");b.openStart("div");b.class("sapUiMnuItmSbMnu");b.openEnd();if(s){b.openStart("div");b.class("sapUiIconMirrorInRTL");b.openEnd();b.close("div");}b.close("div");b.openStart("div");b.class("sapUiMnuItmR");b.openEnd();b.close("div");b.close("li");};
a.prototype.hover=function(h,m){this.$().toggleClass("sapUiMnuItmHov",h);};
a.prototype.focus=function(m){if(this.getEnabled()&&this.getVisible()){this.$().trigger("focus");}else{m.focus();}};
return a;});
sap.ui.predefine('sap/ui/unified/MenuItemBase',['sap/ui/core/Element','./library'],function(E,l){"use strict";
var M=E.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});
M.prototype.init=function(){};
M.prototype.render=function(r,i,m){var a=r;a.openStart("li",i);a.openEnd();a.openStart("div",this.getId()+"-txt");a.style("white-space","nowrap");a.style("display","inline-block");a.style("padding","1px");a.style("color","black");a.openEnd();a.text(i.getId());if(this.getSubmenu()){a.text("&nbsp;&nbsp;->");}a.close("div");a.close("li");};
M.prototype.hover=function(h,m){this.$("txt").attr("style",h?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;");};
M.prototype.focus=function(){};
M.prototype.onSubmenuToggle=function(o){this.$().toggleClass("sapUiMnuItmSubMnuOpen",o);};
M.prototype.onAfterRendering=function(){};
M.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true);}e.preventDefault();};
M.prototype.onsaphide=M.prototype.onsapshow;return M;});
sap.ui.predefine('sap/ui/unified/MenuRenderer',[],function(){"use strict";var M={apiVersion:2};
M.render=function(r,m){var a=sap.ui.getCore().getConfiguration().getAccessibility(),R=m.getRootMenu();if(m.oHoveredItem&&m.indexOfItem(m.oHoveredItem)<0){m.oHoveredItem=null;}r.openStart("div",m);r.attr("tabindex",-1);r.attr("hideFocus",true);if(m.getTooltip_AsString()){r.attr("title",m.getTooltip_AsString());}if(a){r.accessibilityState(m,{disabled:null});}r.class("sapUiMnu");if(m.isSubMenu()){r.class("sapUiSubmenu");}if(R.bUseTopStyle){r.class("sapUiMnuTop");}if(R.isCozy()){r.class("sapUiSizeCozy");}if(m.bCozySupported){r.class("sapUiMnuCozySupport");}r.openEnd();M.renderItems(r,m);r.close("div");};
M.renderItems=function(r,m){var I=m.getItems(),a=sap.ui.getCore().getConfiguration().getAccessibility(),h=false,H=false,n=0,b=0,i,o;r.openStart("ul");r.attr("role","menu");r.class("sapUiMnuLst");for(i=0;i<I.length;i++){if(I[i].getIcon&&I[i].getIcon()){h=true;}if(I[i].getSubmenu()){H=true;}}if(!h){r.class("sapUiMnuNoIco");}if(!H){r.class("sapUiMnuNoSbMnu");}r.openEnd();n=0;for(i=0;i<I.length;i++){if(I[i].getVisible()&&I[i].render){n++;}}for(i=0;i<I.length;i++){o=I[i];if(o.getVisible()&&o.render){b++;if(o.getStartsSection()){r.openStart("li");if(a){r.attr("role","separator");}r.class("sapUiMnuDiv");r.openEnd();r.openStart("div");r.class("sapUiMnuDivL");r.openEnd();r.close("div");r.voidStart("hr").voidEnd();r.openStart("div");r.class("sapUiMnuDivR");r.openEnd();r.close("div");r.close("li");}o.render(r,o,m,{bAccessible:a,iItemNo:b,iTotalItems:n});}}r.close("ul");};
return M;},true);
sap.ui.predefine('sap/ui/util/_FeatureDetection',[],function(){"use strict";var d={};
function a(){var b=document.createElement("div");b.innerHTML='<div dir="rtl"><div><span></span><span></span></div></div>';b.firstChild.style='width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden';b.firstChild.firstChild.style='width: 2px';b.firstChild.firstChild.firstChild.style='display: inline-block; width: 1px';b.firstChild.firstChild.lastChild.style='display: inline-block; width: 1px';document.documentElement.appendChild(b);var c=b.firstChild;d.initialZero=c.scrollLeft==0;document.documentElement.removeChild(b);}
a();var _={initialScrollPositionIsZero:function(){return d.initialZero;}};return _;});
sap.ui.require.preload({
	"sap/ui/integration/customElements/CustomElementCardEditor.js":function(){sap.ui.require(["sap/ui/integration/designtime/editor/CardEditor","sap/ui/integration/customElements/CustomElementBase"],function(C,a){"use strict";var b=a.extend(C,{});b.prototype.getCurrentSettings=function(){return this._getControl().getCurrentSettings();};var d=["ui-integration-card"];a.define("ui-integration-card-editor",b,d);});
}
},"sap-ui-integration-card-editor"
);
sap.ui.requireSync("sap/ui/integration/customElements/CustomElementCardEditor");
//# sourceMappingURL=sap-ui-integration-card-editor.js.map