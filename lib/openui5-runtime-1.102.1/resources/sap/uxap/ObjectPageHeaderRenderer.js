/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ObjectImageHelper","sap/ui/Device"],function(O,D){"use strict";var a={apiVersion:2};a.render=function(r,c){var n=c.getNavigationBar(),t=(c.getIsObjectIconAlwaysVisible()||c.getIsObjectTitleAlwaysVisible()||c.getIsObjectSubtitleAlwaysVisible()||c.getIsActionAreaAlwaysVisible()),p=c.getParent(),e=c.getAggregation("_expandButton"),o=c._lazyLoadInternalAggregation("_objectImage",true),P,I=D.system.desktop,b=p&&p.isA("sap.uxap.ObjectPageLayout")&&((p.getHeaderContent()&&p.getHeaderContent().length>0&&p.getShowHeaderContent())||(p.getShowHeaderContent()&&p.getShowTitleInHeaderContent()));r.openStart("div",c).class('sapUxAPObjectPageHeader').class('sapUxAPObjectPageHeaderDesign-'+c.getHeaderDesign()).openEnd();if(n){r.openStart("div").class("sapUxAPObjectPageHeaderNavigation").openEnd();r.renderControl(n);r.close("div");}r.openStart("div",c.getId()+"-identifierLine").class('sapUxAPObjectPageHeaderIdentifier');if(t){r.class('sapUxAPObjectPageHeaderIdentifierForce');}r.openEnd();if(p&&p.isA("sap.uxap.ObjectPageLayout")&&p.getIsChildPage()){r.openStart("div").class("sapUxAPObjectChildPage").openEnd().close("div");}if(c.getShowPlaceholder()){P=c._lazyLoadInternalAggregation("_placeholder",true);}O._renderImageAndPlaceholder(r,{oHeader:c,oObjectImage:o,oPlaceholder:P,bIsObjectIconAlwaysVisible:c.getIsObjectIconAlwaysVisible(),bAddSubContainer:true,sBaseClass:'sapUxAPObjectPageHeaderObjectImageContainer'});r.openStart("span",c.getId()+"-identifierLineContainer").class('sapUxAPObjectPageHeaderIdentifierContainer').openEnd();this._renderObjectPageTitle(r,c);r.close("span");r.openStart("span",c.getId()+"-actions").class('sapUxAPObjectPageHeaderIdentifierActions');if(c.getIsActionAreaAlwaysVisible()){r.class('sapUxAPObjectPageHeaderIdentifierActionsForce');}r.openEnd();if(I&&b){e.addStyleClass("sapUxAPObjectPageHeaderExpandButton");r.renderControl(e);}var A=c.getActions();for(var i=0;i<A.length;i++){var d=A[i];r.renderControl(d);}var f=c.getAggregation("_overflowButton");r.renderControl(f);this._renderSideContentBtn(r,c);r.close("span");r.close("div");r.close("div");};a._renderObjectPageTitle=function(r,c,t){var o=c.getObjectTitle(),m=(c.getShowMarkers()&&(c.getMarkFavorite()||c.getMarkFlagged())),b=c._getBreadcrumbsAggregation(),T=c.getTooltip_Text(),i=t?"-content":"";if(!t&&b){r.renderControl(b);}r.openStart("h2",c.getId()+"-title"+i).class('sapUxAPObjectPageHeaderIdentifierTitle');if(c.getIsObjectTitleAlwaysVisible()){r.class('sapUxAPObjectPageHeaderIdentifierTitleForce');}if(t){r.class('sapUxAPObjectPageHeaderIdentifierTitleInContent');}if(c.getShowTitleSelector()){r.class('sapUxAPObjectPageHeaderTitleFollowArrow');}r.openEnd();r.openStart("span",c.getId()+"-innerTitle"+i).class("sapUxAPObjectPageHeaderTitleText").class("sapUxAPObjectPageHeaderTitleTextWrappable");if(T){r.attr("title",T);}r.openEnd();if(m||c.getShowTitleSelector()||c.getMarkLocked()||c.getMarkChanges()){var s=o.substr(o.lastIndexOf(" ")+1);var d=o.substr(0,o.lastIndexOf(" ")+1);if(s.length===1){s=o;d='';}r.text(d);r.close("span");r.openStart("span").class('sapUxAPObjectPageHeaderNowrapMarkers');if(c.getMarkLocked()||c.getMarkChanges()){r.class('sapUxAPObjectPageHeaderMarks');}r.openEnd();r.openStart("span").class("sapUxAPObjectPageHeaderTitleText").openEnd().text(s).close("span");this._renderMarkers(r,c);if(c.getMarkLocked()){this._renderLock(r,c,t);}else if(c.getMarkChanges()){this._renderMarkChanges(r,c,t);}this._renderSelectTitleArrow(r,c,t);r.close("span");}else{r.text(o);r.close("span");}r.close("h2");if(c.getObjectSubtitle()){r.openStart("div",c.getId()+"-subtitle"+i).class('sapUxAPObjectPageHeaderIdentifierDescription');if(c.getIsObjectSubtitleAlwaysVisible()){r.class('sapUxAPObjectPageHeaderIdentifierDescriptionForce');}if(t){r.class('sapUxAPObjectPageHeaderIdentifierSubTitleInContent');}r.openEnd();r.text(c.getObjectSubtitle());r.close("div");}};a._renderSelectTitleArrow=function(r,c,t){if(c.getShowTitleSelector()){r.openStart("span").class("sapUxAPObjectPageHeaderTitleArrow").openEnd();if(t){r.renderControl(c._oTitleArrowIconCont);}else{r.renderControl(c._oTitleArrowIcon);}r.close("span");}};a._renderSideContentBtn=function(r,c){var s=c.getSideContentButton();if(s){r.openStart("span");r.class("sapUxAPObjectPageHeaderSideContentBtn");r.openEnd();r.openStart("span").class("sapUxAPObjectPageHeaderSeparator").openEnd().close("span");r.renderControl(s);r.close("span");}};a._renderMarkChanges=function(r,c,t){r.openStart("span").class("sapUxAPObjectPageHeaderChangesBtn").class("sapUiSizeCompact").openEnd();if(t){r.renderControl(c._oChangesIconCont);}else{r.renderControl(c._oChangesIcon);}r.close("span");};a._renderLock=function(r,c,t){r.openStart("span").class("sapUxAPObjectPageHeaderLockBtn").class("sapUiSizeCompact").openEnd();if(t){r.renderControl(c._oLockIconCont);}else{r.renderControl(c._oLockIcon);}r.close("span");};a._renderMarkers=function(r,c){var I=[];if(c.getShowMarkers()){I.push(c._oFavIcon);I.push(c._oFlagIcon);this._renderMarkersAria(r,c);r.openStart("span",c.getId()+"-markers").class("sapMObjStatusMarker").attr("aria-describedby",c.getId()+"-markers-aria").openEnd();for(var i=0;i<I.length;i++){r.renderControl(I[i]);}r.close("span");}};a._renderMarkersAria=function(r,c){var A="";if(c.getMarkFlagged()){A+=(c.oLibraryResourceBundle.getText("ARIA_FLAG_MARK_VALUE")+" ");}if(c.getMarkFavorite()){A+=(c.oLibraryResourceBundle.getText("ARIA_FAVORITE_MARK_VALUE")+" ");}if(A!==""){r.openStart("div",c.getId()+"-markers-aria").attr("aria-hidden","false").class("sapUiHidden").openEnd().text(A).close("div");}};return a;},true);
