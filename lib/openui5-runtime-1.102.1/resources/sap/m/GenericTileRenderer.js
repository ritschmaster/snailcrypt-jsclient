/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/base/security/encodeCSS"],function(l,e){"use strict";var G=l.GenericTileMode;var L=l.LoadState;var f=l.FrameType;var V=l.ValueColor;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var a={apiVersion:2};a.render=function(R,c){var t=c._getTooltipText();var A=c._getAriaText();var h=c.getHeaderImage();var H=c.hasListeners("press");var s=c.getState();var S=e("sapMGTState"+s);var b;var d=c.getFrameType();var g=c.getAriaRoleDescription();var j=c.getAriaRole();var k=d===f.OneByHalf||d===f.TwoByHalf;var m=c.getUrl()&&!c._isInActionScope()&&s!==L.Disabled&&!c._isNavigateActionEnabled()&&!c._isActionMode();if(c._isInActionScope()){b=e("sapMGTScopeActions");}else{b=e("sapMGTScopeDisplay");}if(m){R.openStart("a",c);R.attr("href",c.getUrl());R.attr("rel","noopener noreferrer");R.attr("draggable","false");}else{R.openStart("div",c);}if(t&&s!==L.Loading){R.attr("title",t);}R.class("sapMGT");R.class(S);R.class(b);if(!c._isInActionScope()&&c._bShowActionsView){R.class("sapMGTScopeActions");}if(c._isIconMode()){if(d===f.OneByOne){var C="sapMGTOneByOne";}else if(d===f.TwoByHalf){var C="TwoByHalf";}}R.class(c._isIconMode()?C:d);var I=c.getMode()===G.ArticleMode,n=c.getMode()===G.ActionMode;if(n){R.class("sapMGTActionMode");}if(I){R.class("sapMGTArticleMode");}if(c._isIconMode()){R.class("sapMGTIconMode");if(this._isThemeHighContrast()){R.class("HighContrastTile");}}if(!I&&!n&&d!==f.OneByHalf&&(c.getSystemInfo()||c.getAppShortcut())){R.class("tileWithAppInfo");}if(c._isIconMode()){if(d===f.TwoByHalf){R.class("sapMGTTwoByHalf");}else if(d===f.OneByOne){if(!this._isThemeHighContrast()){R.style("background-color",c.getBackgroundColor());}else{R.style("border-color",c.getBackgroundColor());R.style("box-shadow","0 0 0 1px"+c.getBackgroundColor());}}}if(j){R.attr("role",j);}else if(!m){R.attr("role",H?"button":"presentation");}else{R.attr("role","link");}if(s===L.Loaded){R.attr("aria-label",A);}if(g){R.attr("aria-roledescription",g);}else{R.attr("aria-roledescription",r.getText("GENERIC_TILE_ROLE_DESCRIPTION"));}if(s!==L.Disabled){if(!c.isInActionRemoveScope()&&c.getPressEnabled()){R.class("sapMPointer");}if(!c.getPressEnabled()){R.class("sapMAutoPointer");}R.attr("tabindex","0");}if(c.getWidth()){R.style("width",c.getWidth());}if(c.getBackgroundImage()){R.style("background-image","url('"+e(c.getBackgroundImage())+"')");R.class("sapMGTBackgroundImage");}if(c.getMode()===G.HeaderMode){R.class("sapMGTHeaderMode");}R.openEnd();var T=c.getTileContent();var o=T.length;var p=false;var q=false;function u(R,x){if(d===f.OneByOne){R.openStart("div").class("sapMGTContentShimmerPlaceholderItemOneByOne");R.class("sapMGTContentShimmerPlaceholderWithDescriptionOneByOne");R.openEnd();R.openStart("div").class("sapMGTContentShimmerPlaceholderRowsOneByOne").openEnd();R.openStart("div").class("sapMGTContentShimmerPlaceholderIconOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div");if(x){R.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div");}}else{R.openStart("div").class("sapMGTContentShimmerPlaceholderItemTwoByHalf");R.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalf");if(!c.getIconLoaded()&&!x){R.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalfIconLoaded");}R.openEnd();R.openStart("div").class("sapMGTContentShimmerPlaceholderRowsTwoByHalf").openEnd();R.openStart("div").class("sapMGTContentShimmerPlaceholderIconTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div");if(x){R.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div");}}R.close("div");R.close("div");}if(s===L.Loading){if(c._isIconMode()){u(R,true);}else{R.openStart("div").class("sapMGTContentShimmerPlaceholderItem");R.class("sapMGTContentShimmerPlaceholderWithDescription");R.openEnd();R.openStart("div").class("sapMGTContentShimmerPlaceholderRows").openEnd();R.openStart("div").class("sapMGTContentShimmerPlaceholderItemHeader").class("sapMGTLoadingShimmer").openEnd().close("div");R.openStart("div").class("sapMGTContentShimmerPlaceholderItemText").class("sapMGTLoadingShimmer").openEnd().close("div");if(!k){for(var i=0;i<o;i++){R.renderControl(T[i]);}}R.close("div");R.close("div");}}else{if(!n&&this._isValueColorValid(c.getValueColor())){R.openStart("div");R.class("sapMGTCriticalBorder");R.class(c.getValueColor());R.openEnd();R.close("div");}if(c._isIconMode()){if(!c.getIconLoaded()){u(R,false);}else{R.openStart("div");if(d===f.OneByOne){R.class("sapMGTOneByOneIcon");}else{R.class("sapMGTTwoByHalfIcon");if(!this._isThemeHighContrast()){R.style("background-color",c.getBackgroundColor());}else{R.class("HighContrastTile");R.style("border-color",c.getBackgroundColor());R.style("box-shadow","0 0 0 1px"+c.getBackgroundColor());}}R.openEnd();if(c.getTileIcon()){var v=c._generateIconAggregation(c.getTileIcon());if(v){R.renderControl(c.getAggregation(v));}}R.close("div");}}if(this._shouldRenderInfoContainer(c)&&d===f.TwoByHalf){R.openStart("div",c.getId()+"-wrapper").class("sapMGTWrapper").openEnd();R.openStart("div",c.getId()+"-wrapper-content").class("sapMGTWrapperCnt").openEnd();}R.openStart("div");R.class("sapMGTHdrContent");if(c._isIconMode()){if(d===f.OneByOne){var C="sapMGTOneByOne";if(!c.getIconLoaded()){C=C.concat(" sapMGTOneByOneIconLoaded");}}else if(d===f.TwoByHalf){var C="TwoByHalf";}}R.class(c._isIconMode()?C:d);if(t){R.attr("title",t);}if(n&&c.getFrameType()===f.TwoByOne&&h){R.class("sapMGTHdrImage");}R.openEnd();if(h){c._oImage.removeStyleClass(V.None);if(this._sPreviousStyleClass){c._oImage.removeStyleClass(this._sPreviousStyleClass);}this._sPreviousStyleClass=this._isValueColorValid(c.getValueColor())?c.getValueColor():V.None;c._oImage.addStyleClass(this._sPreviousStyleClass);R.renderControl(c._oImage);}this._renderHeader(R,c);for(var i=0;i<o;i++){p=c._checkFooter(T[i],c)&&(T[i].getFooter()||T[i].getUnit());var w=T[i].getContent();if(w){if(d===f.OneByHalf&&w.getMetadata().getElementName()==="sap.m.ImageContent"){q=false;}else{q=true;break;}}}if(!(k&&q)){if(c.getSubheader()){if(!(c._isIconMode()&&c.getFrameType()==f.OneByOne)){this._renderSubheader(R,c);}}}R.close("div");if(!c._isIconMode()){R.openStart("div",c.getId()+"-content");R.class("sapMGTContent");if(c.getSystemInfo()||c.getAppShortcut()){if(T.length===0){R.class("appInfoWithoutTileCnt");}if(p&&d!==f.OneByHalf){R.class("appInfoWithFooter");}else{R.class("appInfoWithoutFooter");}}R.openEnd();for(var i=0;i<o;i++){R.renderControl(T[i]);}if(this._shouldRenderInfoContainer(c)&&d!==f.TwoByHalf){this._renderInfoContainer(R,c);}R.close("div");}if(this._shouldRenderInfoContainer(c)&&d===f.TwoByHalf){R.close("div");this._renderInfoContainer(R,c);R.close("div");}}if(s!==L.Loaded&&s!==L.Loading){this._renderStateOverlay(R,c,t);}if(s!==L.Disabled){this._renderHoverOverlay(R,c);this._renderFocusDiv(R,c);}if(c._isInActionScope()){this._renderActionsScope(R,c);}if(m){R.close("a");}else{R.close("div");}};a._shouldRenderInfoContainer=function(c){var b=c.getFrameType(),i=c.getMode()===G.ArticleMode,I=c.getMode()===G.ActionMode,d=c.getMode()===G.IconMode;if(b===f.OneByOne&&d){return true;}return!i&&!I&&!d&&b!==f.OneByHalf&&(c.getSystemInfo()||c.getAppShortcut());};a._renderInfoContainer=function(R,c){R.openStart("div",c.getId()+"-tInfo");R.class("sapMGTTInfoContainer");R.openEnd();R.openStart("div",c.getId()+"-tInfo-content");R.class("sapMGTTInfo");R.openEnd();if(c.getAppShortcut()){R.openStart("div",c.getId()+"-appShortcut");R.class("sapMGTAppShortcutText").openEnd();R.renderControl(c._oAppShortcut);R.close("div");}if(c.getSystemInfo()){R.openStart("div",c.getId()+"-sytemInfo");if(c.getAppShortcut()&&c.getSystemInfo()){R.class("sapMGTMarginTop4px");}R.class("sapMGTSystemInfoText").openEnd();R.renderControl(c._oSystemInfo);R.close("div");}R.close("div");R.close("div");};a._renderFocusDiv=function(R,c){R.openStart("div",c.getId()+"-focus");R.class("sapMGTFocusDiv");R.openEnd();R.close("div");};a._renderStateOverlay=function(R,c,t){var s=c.getState();R.openStart("div",c.getId()+"-overlay");R.class("sapMGTOverlay");if(t){R.attr("title",t);}R.openEnd();switch(s){case L.Loading:c._oBusy.setBusy(s==L.Loading);R.renderControl(c._oBusy);break;case L.Failed:R.openStart("div",c.getId()+"-failed-ftr");R.class("sapMGenericTileFtrFld");R.openEnd();R.openStart("div",c.getId()+"-failed-icon");R.class("sapMGenericTileFtrFldIcn");R.openEnd();R.renderControl(c._oWarningIcon);R.close("div");if(!c._isInActionScope()&&!c._bShowActionsView){R.openStart("div",c.getId()+"-failed-text");R.class("sapMGenericTileFtrFldTxt");R.openEnd();R.renderControl(c.getAggregation("_failedMessageText"));R.close("div");}R.close("div");break;default:}R.close("div");};a._renderActionsScope=function(R,c){if(c.getState()!==L.Disabled){R.renderControl(c._oRemoveButton);R.renderControl(c._oMoreIcon);}};a._renderHoverOverlay=function(R,c){R.openStart("div",c.getId()+"-hover-overlay");if(c.getBackgroundImage()){R.class("sapMGTWithImageHoverOverlay");}else{R.class("sapMGTWithoutImageHoverOverlay");if(c._isIconMode()){if(c.getFrameType()===f.OneByOne){R.style("border-radius","1rem");}else{R.style("border-radius","0.75rem");}}}R.openEnd();R.close("div");};a._renderHeader=function(R,c){R.openStart("div",c.getId()+"-hdr-text");R.class("sapMGTHdrTxt");if(c._isActionMode()&&this._isValueColorValid(c.getValueColor())){R.class("sapMGTCriticalHdrTxt");R.class(c.getValueColor());}R.openEnd();R.renderControl(c._oTitle);R.close("div");};a._renderSubheader=function(R,c){R.openStart("div",c.getId()+"-subHdr-text");R.class("sapMGTSubHdrTxt");R.openEnd();R.renderControl(c._oSubTitle);R.close("div");};a._isValueColorValid=function(v){if(v==V.Good||v==V.Error||v==V.Neutral||v==V.Critical){return true;}return false;};a._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(sap.ui.getCore().getConfiguration().getTheme());};return a;},true);
