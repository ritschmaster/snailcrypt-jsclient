/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/InvisibleText','sap/ui/core/Element','sap/ui/core/Control','sap/ui/core/ListItem','sap/ui/core/library',"sap/ui/core/Renderer",'sap/ui/core/message/MessageMixin','sap/m/DynamicDateFormat','sap/m/DynamicDateUtil','sap/ui/core/IconPool','sap/ui/core/Icon',"sap/ui/core/LabelEnablement",'sap/ui/core/format/DateFormat','sap/ui/core/format/TimezoneUtil','sap/ui/base/ManagedObjectObserver','sap/ui/Device','./Label','./GroupHeaderListItem','./StandardListItem','./StandardListItemRenderer','./Button','./List','./Input','./InputRenderer','./Toolbar','./ResponsivePopover','./Page','./NavContainer','./DynamicDateRangeRenderer','./StandardDynamicDateOption','./library','sap/ui/thirdparty/jquery','sap/ui/dom/jquery/Focusable'],function(I,E,C,L,c,R,M,D,d,e,f,g,h,T,i,j,k,G,S,l,B,m,n,p,q,r,P,N,s,t,u,Q){"use strict";var V=c.ValueState,v=u.ToolbarDesign,w=u.ToolbarStyle,x=u.ListType,y=u.ListMode,z=u.ListSeparators,A=sap.ui.getCore().getLibraryResourceBundle("sap.m");var F=C.extend("sap.m.DynamicDateRange",{metadata:{library:"sap.m",properties:{value:{type:"object"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueStateText:{type:"string",group:"Misc",defaultValue:null},required:{type:"boolean",group:"Misc",defaultValue:false},enableGroupHeaders:{type:"boolean",group:"Behavior",defaultValue:true},formatter:{type:"object"},options:{type:"string[]",group:"Behavior",defaultValue:["DATE","TODAY","YESTERDAY","TOMORROW","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR","DATERANGE","DATETIMERANGE","FROM","TO","FROMDATETIME","TODATETIME","YEARTODATE","DATETOYEAR","LASTDAYS","LASTWEEKS","LASTMONTHS","LASTQUARTERS","LASTYEARS","NEXTDAYS","NEXTWEEKS","NEXTMONTHS","NEXTQUARTERS","NEXTYEARS","TODAYFROMTO","THISWEEK","LASTWEEK","NEXTWEEK","SPECIFICMONTH","SPECIFICMONTHINYEAR","THISMONTH","LASTMONTH","NEXTMONTH","THISQUARTER","LASTQUARTER","NEXTQUARTER","QUARTER1","QUARTER2","QUARTER3","QUARTER4","THISYEAR","LASTYEAR","NEXTYEAR","DATETIME"]}},aggregations:{_input:{type:"sap.m.Input",multiple:false,visibility:"hidden"},_popup:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{change:{parameters:{value:{type:"object"},valid:{type:"boolean"}}}}},renderer:s});M.call(F.prototype);F.prototype.init=function(){this._oInput=new J(this.getId()+"-input",{showValueHelp:true,valueHelpIconSrc:e.getIconURI("sap-icon://check-availability"),valueHelpRequest:this._toggleOpen.bind(this),showSuggestion:true,suggest:this._handleSuggest.bind(this)});this._oListItemDelegate=undefined;this._onBeforeInputRenderingDelegate={onBeforeRendering:function(){this._oInput._getValueHelpIcon().setVisible(true);}};this._oInput._getValueHelpIcon().setTooltip(A.getText("INPUT_VALUEHELP_BUTTON"));this._oInput.addDelegate(this._onBeforeInputRenderingDelegate,this);this.setAggregation("_input",this._oInput,false);this._oInput._setControlOrigin(this);this._oInput.attachChange(this._handleInputChange,this);this.oValueObserver=new i(function(){delete this.oBoundValueFormatter;}.bind(this));this.oValueObserver.observe(this,{bindings:["value"]});};F.prototype.exit=function(){this._oInput.removeDelegate(this._onBeforeInputRenderingDelegate);this._onBeforeInputRenderingDelegate=undefined;this.oValueObserver.destroy();this._infoDatesFooter=undefined;this.aInputControls=undefined;this._removeAllListItemDelegates();};F.prototype._removeAllListItemDelegates=function(){if(this._oOptionsList){this._oOptionsList.getItems().forEach(function(o){o.removeDelegate(this._oListItemDelegate);},this);}};F.prototype.onBeforeRendering=function(){this._updateInputValue(this.getValue());this._oInput.setEditable(this.getEditable());this._oInput.setEnabled(this.getEnabled());this._oInput.setRequired(this.getRequired());this._oInput.setName(this.getName());this._oInput.setWidth(this.getWidth());this._oInput.setPlaceholder(this.getPlaceholder());this._oInput.setValueState(this.getValueState());this._oInput.setValueStateText(this.getValueStateText());this.setValue(this._substitudeMissingValue(this.getValue()));};F.prototype.setValue=function(o){var O=o&&o.operator;o=this._substitudeValue(o);this.setProperty("value",o);this._oSelectedOption=d.getOption(O);this._updateInputValue(o);return this;};F.prototype._toggleOpen=function(){if(this._oPopup&&this._oPopup.isOpen()){this._closePopup();}else{this.open();}};F.prototype.open=function(){if(this.getEditable()&&this.getEnabled()){this._createPopup();this._createPopupContent();if(!this._oListItemDelegate){this._oListItemDelegate={onsapshow:this._closePopup.bind(this),onsaphide:this._closePopup.bind(this)};}this._removeAllListItemDelegates();this._oOptionsList.destroyAggregation("items");this._collectValueHelpItems(this._getOptions(),true).map(function(o){if(typeof(o)==="string"){return this._createHeaderListItem(o);}if(o.getKey()==="FROMDATETIME"){o._bAdditionalTimeText=!!this._findOption("FROM");}else if(o.getKey()==="TODATETIME"){o._bAdditionalTimeText=!!this._findOption("TO");}else if(o.getKey()==="DATETIMERANGE"){o._bAdditionalTimeText=!!this._findOption("DATERANGE");}return this._createListItem(o);},this).forEach(function(o){o.addDelegate(this._oListItemDelegate,this);this._oOptionsList.addItem(o);},this);this._oNavContainer.to(this._oNavContainer.getPages()[0]);this._openPopup();}};F.prototype._findOption=function(a){return this._getOptions().find(function(o){return o.getKey()===a;});};F.prototype.addOption=function(a){var o=this.getOptions();if(o.indexOf(a)===-1){o.push(a);}this.setOptions(o);};F.prototype.getFocusDomRef=function(){return this.getAggregation("_input")&&this.getAggregation("_input").getFocusDomRef();};F.prototype._updateInputValue=function(o){var a;if(o&&o.operator!=="PARSEERROR"){a=this._enhanceInputValue(this._formatValue(o),o);this._oInput.setValue(a);}else if(o===undefined){this._oInput.setValue("");}};F.prototype._handleSuggest=function(o){if(this._oPopup&&this._oPopup.isOpen()){this._closePopup();}var a=o.getParameter("suggestValue");this._oInput.removeAllSuggestionItems();var b=this._getOptions().filter(function(U){var W={operator:U.getKey(),values:[]},X=U.getValueHelpUITypes(this);if(X.length&&X[0].getType()){return false;}var Y=d.getOption(W.operator).format(W,this._getFormatter()).toLowerCase();var Z=Y.indexOf(a.toLowerCase());return Z===0||(Z>0&&Y[Z-1]===" ");},this);this._collectValueHelpItems(b,true).forEach(function(U){if(U.getKey){var W={operator:U.getKey(),values:[]};this._addSuggestionItem(W);}else{this._addSuggestionGroupItem(U);}},this);var O=a.match(/\d+/);if(!O){return;}b=this._getOptions().filter(function(U){return U.getValueHelpUITypes(this).length===1&&U.getValueHelpUITypes(this)[0].getType()==="int";},this);this._collectValueHelpItems(b,false).forEach(function(U){if(U.getKey){var W={operator:U.getKey(),values:[parseInt(O[0])]};this._addSuggestionItem(W);}else{this._addSuggestionGroupItem(U);}},this);};F.prototype._getOptions=function(){var O=this.getOptions();var a=O.map(function(b){return d.getOption(b);},this);return a.filter(function(o){return!!o;});};F.prototype._getDatesLabelFormatter=function(){var o,a=this._oSelectedOption?this._oSelectedOption.getValueHelpUITypes():[],b=a&&a.length?a[0].getType():"";if(!this._oDatesLabelFormatter){switch(b){case"datetime":o=Object.create(this._getFormatter()._dateTimeFormatter.oFormatOptions);o.singleIntervalValue=true;o.interval=true;this._oDatesLabelFormatter=h.getDateTimeInstance(o);break;default:o=Object.create(this._getFormatter()._dateFormatter.oFormatOptions);o.singleIntervalValue=true;o.interval=true;this._oDatesLabelFormatter=h.getInstance(o);}}return this._oDatesLabelFormatter;};F.prototype._destroyInputControls=function(){if(!this.aInputControls){return;}this.aInputControls.forEach(function(o){o.destroy();});this.aInputControls=undefined;};F.prototype._addSuggestionItem=function(o){var a=d.toDates(o).map(function(O){return this._convertDate(O);},this);var b=new L({text:d.getOption(o.operator).format(o,this._getFormatter()),additionalText:this._getDatesLabelFormatter().format(a)});this._oInput.addSuggestionItem(b);};F.prototype._addSuggestionGroupItem=function(a){this._oInput.addSuggestionItemGroup({text:a});};F.prototype._handleInputChange=function(o){var a=o.getParameter("value");var b=this._parseValue(this._stripValue(a));var O=this.getValue();var U=a.trim()===""||!!b;if(!U){this.setValue({operator:"PARSEERROR",values:[A.getText("DDR_WRONG_VALUE"),a]});}else{this.setValue(b);}this.fireChange({value:this.getValue(),prevValue:O,valid:U});};F.prototype._enhanceInputValue=function(a,o){if(d.getOption(o.operator).enhanceFormattedValue()||(o.operator==="LASTDAYS"&&o.values[0]<=1)||(o.operator==="NEXTDAYS"&&o.values[0]<=1)){return a+" ("+this._toDatesString(o)+")";}return a;};F.prototype._stripValue=function(a){var o=a.indexOf("(");var b=a.lastIndexOf(")");var O=a;if(o!==-1&&b!==-1&&o<b){O=a.slice(0,o)+a.slice(b+1);O=O.trim();}return O;};F.prototype._toDatesString=function(o){var a=d.toDates(o).map(function(b){return this._convertDate(b);},this);return this._getDatesLabelFormatter().format(a);};F.prototype._convertDate=function(o){var a=this._getPickerParser().format(o,T.getLocalTimezone());var b=this._getPickerParser().parse(a,sap.ui.getCore().getConfiguration().getTimezone());var O=b?new Date(b[0].getTime()):b;return O;};F.prototype._reverseConvertDate=function(o){var a=this._getPickerParser().format(o,sap.ui.getCore().getConfiguration().getTimezone());var b=this._getPickerParser().parse(a,T.getLocalTimezone());var O=b?new Date(b[0].getTime()):b;return O;};F.prototype._getPickerParser=function(){if(!this._calendarParser){this._calendarParser=h.getDateTimeWithTimezoneInstance({showTimezone:false});}return this._calendarParser;};F.prototype._createPopup=function(){if(!this._oPopup){this._oPopup=new r(this.getId()+"-RP",{contentHeight:'512px',contentWidth:'320px',showCloseButton:false,showArrow:false,showHeader:false,placement:u.PlacementType.VerticalPreferedBottom,ariaLabelledBy:[I.getStaticId("sap.m","INPUT_AVALIABLE_VALUES")]});this._oPopup.addStyleClass("sapMDDRPopover");if(j.system.phone){this._oPopup.addStyleClass("sapUiNoContentPadding");}else{this._oPopup._oControl._getSingleNavContent=function(){return null;};}this._oPopup.attachAfterOpen(function(){var o=this._oNavContainer.getPages()[0];this._applyNavContainerPageFocus(o);this.invalidate();},this);this._oPopup.attachAfterClose(function(){this._oPreviousSelectedOption=this._oSelectedOption;this._setFooterVisibility(false);this.invalidate();},this);this._oPopup.setBeginButton(new B({type:u.ButtonType.Emphasized,text:A.getText("DYNAMIC_DATE_RANGE_CONFIRM"),press:this._applyValue.bind(this)}));this._oPopup.setEndButton(new B({text:A.getText("DYNAMIC_DATE_RANGE_CANCEL"),press:function(){this._oSelectedOption=this._oPreviousSelectedOption;this._oDatesLabelFormatter=null;this._closePopup();}.bind(this)}));this._setFooterVisibility(false);this._oPopup._getPopup().setAutoClose(true);this.setAggregation("_popup",this._oPopup,true);}};F.prototype._collectValueHelpItems=function(o,O){var U;var W;var X=[];var Y=o;var Z=d.getStandardKeys();Y.sort(function(a,b){var $=a.getGroup()-b.getGroup();if($){return $;}return Z.indexOf(a.getKey())-Z.indexOf(b.getKey());});if(O){Y=Y.reduce(function(a,b){if(t.LastXKeys.indexOf(b.getKey())!==-1){if(U){return a;}U=true;}if(t.NextXKeys.indexOf(b.getKey())!==-1){if(W){return a;}W=true;}a.push(b);return a;},[]);}if(this.getEnableGroupHeaders()){Y=Y.reduce(function(a,b){var $=b.getGroupHeader();if(X.indexOf($)===-1){X.push($);a.push($);}a.push(b);return a;},[]);}return Y;};F.prototype._createListItem=function(o){var b=this._isFixedOption(o);return new K(this.getId()+"-option-"+o.getKey().replaceAll(" ",""),{type:b?x.Active:x.Navigation,title:o.getText(this),wrapping:true,optionKey:o.getKey(),press:this._handleOptionPress.bind(this)});};F.prototype._createHeaderListItem=function(a){var o=new G();o.setTitle(a);o._bGroupHeader=true;return o;};F.prototype._handleOptionPress=function(o){var O=o.getSource().getOptionKey(),a=d.getOption(O);if(this._oPreviousSelectedOption&&this._oPreviousSelectedOption.getKey()!==O){this._oDatesLabelFormatter=null;}this._oPreviousSelectedOption=this._oSelectedOption;this._oSelectedOption=a;if(this._isFixedOption(a)){this._applyValue();}else{var b=this._createInfoDatesFooter();this._destroyInputControls();this.aInputControls=a.createValueHelpUI(this,this._updateInternalControls.bind(this));var U=this._oNavContainer.getPages()[1];U.removeAllContent();this.aInputControls.forEach(function(W){U.addContent(W);});U.setFooter(b);U.setTitle(a.getText(this));this._setFooterVisibility(true);this._updateInternalControls(a);this._oNavContainer.to(U);}};F.prototype._isFixedOption=function(o){return!o.getValueHelpUITypes(this).length;};F.prototype._createInfoDatesFooter=function(){this._infoDatesFooter=new q({design:v.Info,style:w.Clear,content:[new k({text:A.getText("DDR_INFO_DATES_EMPTY_HINT")})]});return this._infoDatesFooter;};F.prototype._getDatesLabel=function(){return this._infoDatesFooter.getContent()[0];};F.prototype._updateDatesLabel=function(){var o=this._oSelectedOption.getValueHelpOutput(this),a,b;if(!o||!o.operator||!d.getOption(o.operator)){return;}a=d.toDates(o).map(function(O){return this._convertDate(O);},this);if(a){if(this._oSelectedOption.getKey()==="FROMDATETIME"||this._oSelectedOption.getKey()==="TODATETIME"||this._oSelectedOption.getKey()==="FROM"||this._oSelectedOption.getKey()==="TO"){a.push(null);}b=this._getDatesLabelFormatter().format(a);this._getDatesLabel().setText(A.getText("DDR_INFO_DATES",[b]));}};F.prototype._setApplyButtonEnabled=function(b){if(!this._oPopup){return;}var a=this._oPopup.getBeginButton();if(a.getVisible()){a.setEnabled(b);}};F.prototype._updateInternalControls=function(o){var b=o.validateValueHelpUI(this);if(b){this._updateDatesLabel();}this._setApplyButtonEnabled(b);};F.prototype._setFooterVisibility=function(b){var o;if(!this._oPopup){return;}o=this._oPopup.getAggregation("_popup");if(j.system.phone){this._oPopup.getBeginButton().setVisible(b);}else{o.getFooter().setVisible(b);}o.invalidate();return this;};F.prototype._createPopupContent=function(){var o=new P({showHeader:false,showNavButton:false}),a=new P({showHeader:true,showNavButton:true}).addStyleClass("sapMDynamicDateRangePopover");a.attachNavButtonPress(function(){this._setFooterVisibility(false);this._oNavContainer.back();},this);if(j.system.phone){o.setShowHeader(true);o.setTitle(this._getOptionsPageTitleText());}if(!this._oOptionsList){this._oOptionsList=new m({showSeparators:z.None,mode:y.None});}if(!this._oNavContainer){this._oNavContainer=new N({autoFocus:false});this._oNavContainer.addPage(o);this._oNavContainer.setInitialPage(o);this._oNavContainer.addPage(a);this._oNavContainer.attachAfterNavigate(this._navContainerAfterNavigate,this);this._oPopup.addContent(this._oNavContainer);}this._oNavContainer.getPages()[0].removeAllContent();this._oNavContainer.getPages()[0].addContent(this._oOptionsList);return this._oOptionsList;};F.prototype._applyNavContainerPageFocus=function(o){var a=this.getValue(),O=this._oNavContainer.getPages()[0],b;if(o===O&&a){b=this._oOptionsList.getItems().find(function(U){return U.isA("sap.m.DynamicDateRangeListItem")&&(U.getOptionKey()===a.operator);});}if(!b){b=Q(o.getDomRef().querySelector("section")).firstFocusableDomRef();}b.focus();this._reApplyFocusToElement(o,a);};F.prototype._reApplyFocusToElement=function(o,a){};F.prototype._getOptionsPageTitleText=function(){return g.getReferencingLabels(this).concat(this.getAriaLabelledBy()).reduce(function(a,b){var o=E.registry.get(b);return a+" "+(o.getText?o.getText():"");},"").trim();};F.prototype._navContainerAfterNavigate=function(o){var O=this._oNavContainer.getPages()[1],a=o.getParameters()["to"];if(a===O){this.aInputControls.forEach(function(b){if(b.$().firstFocusableDomRef()){b.addAriaLabelledBy&&b.addAriaLabelledBy(a.getId()+"-title");if(!this._isCalendarBasedControl(b)&&b.addAriaDescribedBy){b.addAriaDescribedBy(a.getFooter().getContent()[0]);}}},this);}if(this._oPopup&&this._oPopup.isOpen()){this._applyNavContainerPageFocus(a);}else{this.focus();}};F.prototype._isCalendarBasedControl=function(o){return o.isA("sap.ui.unified.Calendar")||o.isA("sap.ui.unified.calendar.CustomMonthPicker")||o.isA("sap.ui.unified.calendar.MonthPicker")||o.isA("sap.ui.unified.calendar.YearPicker")||o.isA("sap.ui.unified.calendar.YearRangePicker")||o.isA("sap.ui.unified.calendar.Month");};F.prototype._openPopup=function(){if(!this._oPopup){return;}this._oPopup._getPopup().setExtraContent([this._oInput.getDomRef()]);this._oPopup.openBy(this._oInput);};F.prototype._applyValue=function(){this._oOutput=this._oSelectedOption.getValueHelpOutput(this);this._oOutput.values=this._oOutput.values.map(function(b){if(b instanceof Date){return this._convertDate(b);}return b;},this);var a=this.getValue();this.setValue(this._oOutput);this.fireChange({prevValue:a,value:this.getValue(),valid:true});this._closePopup();};F.prototype._closePopup=function(){this._setFooterVisibility(false);this._oNavContainer.to(this._oNavContainer.getPages()[0]);this._oPopup.close();};F.prototype._getFormatter=function(){var o=this.getFormatter(),b;if(o){return o;}if(this.oBoundValueFormatter){return this.oBoundValueFormatter;}b=this.getBinding("value");if(b&&b.getType()){this.oBoundValueFormatter=D.getInstance(b.getType().oFormatOptions);return this.oBoundValueFormatter;}if(!this.oDefaultFormatter){this.oDefaultFormatter=D.getInstance();}return this.oDefaultFormatter;};F.prototype._formatValue=function(o){return d.getOption(o.operator).format(o,this._getFormatter());};F.prototype._parseValue=function(a){var b=d.parse(a,this._getFormatter(),this.getOptions()).filter(function(o){return this.getOptions().indexOf(o.operator)!==-1;},this);return b.length?b[0]:null;};F.prototype._substitudeValue=function(o){var a,b,O;if(!o||!o.operator||!o.values){return o;}a=o.operator;b=o.values;if(a==="LASTDAYS"&&b[0]===1&&this.getOptions().includes("YESTERDAY")){O={operator:"YESTERDAY",values:[]};}else if(a==="NEXTDAYS"&&b[0]===1&&this.getOptions().includes("TOMORROW")){O={operator:"TOMORROW",values:[]};}else if((a==="LASTDAYS"||a==="NEXTDAYS")&&b[0]===0){O={operator:"TODAY",values:[]};}return O?O:o;};F.prototype.getIdForLabel=function(){return this.getAggregation("_input").getIdForLabel();};F.prototype._substitudeMissingValue=function(o){var a=o;if(o&&o.operator==="YESTERDAY"&&!this.getOptions().includes("YESTERDAY")&&this.getOptions().includes("LASTDAYS")){a={operator:"LASTDAYS",values:[1]};}else if(o&&o.operator==="TOMORROW"&&!this.getOptions().includes("TOMORROW")&&this.getOptions().includes("NEXTDAYS")){a={operator:"NEXTDAYS",values:[1]};}return a;};var H=R.extend(p);H.apiVersion=2;H.writeInnerAttributes=function(o,a){var b=a._getControlOrigin?a._getControlOrigin():null,O=this.getAccessibilityState(a);if(b&&b.isA("sap.m.DynamicDateRange")){o.accessibilityState(b,O);}o.attr("type","text");};H.getAccessibilityState=function(o){var a=p.getAccessibilityState(o),b=o._getControlOrigin(),O=b.getAriaLabelledBy(),U=g.getReferencingLabels(b),W=b.getAriaDescribedBy().join(" "),X;X=U.concat(O).join(" ");if(W){a.describedby=W;}if(X){a.labelledby=X;}a.roledescription=A.getText("ACC_CTR_TYPE_DYNAMIC_DATE_RANGE");a.role=this.getAriaRole();a.haspopup=c.aria.HasPopup.ListBox.toLowerCase();a.autocomplete="list";a.controls=b._oPopup&&b._oPopup.getDomRef()?b._oPopup.getDomRef().id:undefined;return a;};var J=n.extend("sap.m.internal.DynamicDateRangeInput",{metadata:{library:"sap.m"},renderer:H});J.prototype._setControlOrigin=function(o){this._oOriginControl=o;return this._oOriginControl;};J.prototype._getControlOrigin=function(){return this._oOriginControl;};J.prototype.preventChangeOnFocusLeave=function(o){return this.bFocusoutDueRendering;};J.prototype.shouldSuggetionsPopoverOpenOnMobile=function(o){var b=o.srcControl instanceof f;return this.isMobileDevice()&&this.getEditable()&&this.getEnabled()&&this.getShowSuggestion()&&!b&&(!this._bClearButtonPressed);};J.prototype.onfocusin=function(o){n.prototype.onfocusin.apply(this,arguments);if(this._getControlOrigin()._oPopup&&this._getControlOrigin()._oPopup.isOpen()){this._getControlOrigin()._closePopup();}};var K=S.extend("sap.m.DynamicDateRangeListItem",{metadata:{library:"sap.m",properties:{optionKey:{type:"string",group:"Misc",defaultValue:null}}},renderer:l});K.prototype.getNavigationControl=function(){var o=S.prototype.getNavigationControl.apply(this,arguments),O=this.getOptionKey(),a=d.getOption(O).getValueTypes(),b=["SPECIFICMONTH","DATE","DATERANGE","FROM","TO"].includes(O),U=a&&a.length&&a[0]==="datetime",W;if(b||U){o.addStyleClass("sapMDDRDateOption");W=b?e.getIconURI("appointment-2"):e.getIconURI("date-time");}else{W=e.getIconURI("slim-arrow-right");}o.setSrc(W);return o;};return F;});
