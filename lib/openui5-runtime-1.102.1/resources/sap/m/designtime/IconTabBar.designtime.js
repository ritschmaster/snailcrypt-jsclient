/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/core/Core","sap/ui/core/Fragment"],function(J,C,F){"use strict";var t=C.getLibraryResourceBundle("sap.m.designtime");var s=function(c,p){return new Promise(function(r){var i=[];var I=c.getItems();I.forEach(function(o){if(!o.isA("sap.m.IconTabSeparator")){i.push({'text':o.getText()||o.getKey(),'key':o.getKey()});}});var d={selectedKey:c.getSelectedKey(),titleText:t.getText("ICON_TAB_BAR_SELECT_TAB"),cancelBtn:t.getText("ICON_TAB_BAR_CANCEL_BTN"),okBtn:t.getText("ICON_TAB_BAR_SELECT_BTN"),items:i};var m=new J();m.setData(d);F.load({name:"sap.m.designtime.IconTabBarSelectTab",controller:this}).then(function(D){D.setModel(m);D.getBeginButton().attachPress(function(e){var n=sap.ui.getCore().byId("targetCombo").getSelectedKey();r(n);D.close();});D.getEndButton().attachPress(function(e){D.close();});D.attachEventOnce("afterClose",function(e){D.destroy();});D.addStyleClass(p.styleClass);D.open();});}).then(function(n){return[{selectorControl:c,changeSpecificData:{changeType:"selectIconTabBarFilter",content:{selectedKey:n,previousSelectedKey:c.getSelectedKey(),fireEvent:true}}}];});};return{name:{singular:"ICON_TAB_BAR_NAME",plural:"ICON_TAB_BAR_NAME_PLURAL"},palette:{group:"CONTAINER",icons:{svg:"sap/m/designtime/IconTabBar.icon.svg"}},aggregations:{items:{domRef:":sap-domref > .sapMITH",actions:{move:"moveControls"}},content:{domRef:function(c){var S=c._getIconTabHeader().oSelectedItem;if(S&&S.getContent().length){return;}return c.getDomRef("content");},actions:{move:"moveControls"}}},actions:{settings:function(){return{"selectIconTabBarFilter":{name:t.getText("ICON_TAB_BAR_SELECT_TAB"),isEnabled:function(c){return!!c._getIconTabHeader().oSelectedItem;},handler:s}};}},templates:{create:"sap/m/designtime/IconTabBar.create.fragment.xml"}};});
