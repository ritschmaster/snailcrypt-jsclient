/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/includes","sap/ui/fl/Layer"],function(i,L){"use strict";function c(e,s,S){if(Array.isArray(e)){e.forEach(function(d){f(d,s,S);});}else{f(e,s,S);}}function f(C,s,S){if(!C.propertyPath){throw new Error("Invalid change format: The mandatory 'propertyPath' is not defined. Please define the mandatory property 'propertyPath'");}if(!C.operation){throw new Error("Invalid change format: The mandatory 'operation' is not defined. Please define the mandatory property 'operation'");}if(!C.propertyValue){throw new Error("Invalid change format: The mandatory 'propertyValue' is not defined. Please define the mandatory property 'propertyValue'");}if(!i(s,C.propertyPath)){throw new Error("Changing "+C.propertyPath+" is not supported. The supported 'propertyPath' is: "+s.join("|"));}if(!i(S,C.operation)){throw new Error("Operation "+C.operation+" is not supported. The supported 'operation' is "+S.join("|"));}}function a(C,s,S){var d=Object.keys(C).filter(function(k){return k.endsWith("Id");}).shift();if(!C[d]){throw new Error("Mandatory \""+d+"\" parameter is not provided.");}if(!C.entityPropertyChange){throw new Error("Changes for \""+C[d]+"\" are not provided.");}c(C.entityPropertyChange,s,S);}var l={};l[L.CUSTOMER]="customer.";l[L.CUSTOMER_BASE]="customer.";l[L.PARTNER]="partner.";l[L.VENDOR]=null;function b(I,C){var s=C.getLayer();if(!s){throw new Error("Mandatory layer parameter is not provided.");}var p=g(s);if(p===null){Object.keys(l).forEach(function(k){if(l[k]&&I.startsWith(l[k])){throw new Error("Id "+I+" must not start with reserved "+l[k]);}});}else if(!I.startsWith(p)){throw new Error("Id "+I+" must start with "+p);}}function g(s){var p=l[s];if(p===undefined){throw new Error("Layer "+s+" not supported.");}return p;}return{checkEntityPropertyChange:a,checkIdNamespaceCompliance:b,getNamespacePrefixForLayer:g};});
