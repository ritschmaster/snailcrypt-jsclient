/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";function _(p){if(p&&p.$Type){if(p.$Type.toLowerCase().indexOf("edm")!==0){return true;}}return false;}function a(p,n){return n.some(function(N){if(p.startsWith(N)){return true;}});}function b(p,E,P,s,o,A,n){var m={name:p,bindingPath:p,entityType:s};var f=P["@com.sap.vocabularies.UI.v1.DataFieldDefault"];var l=(f&&f.Label)||P["@com.sap.vocabularies.Common.v1.Label"];m.label=l||"[LABEL_MISSING: "+p+"]";var h=P["@com.sap.vocabularies.UI.v1.Hidden"];m.hideFromReveal=h;if(h&&h.$Path){m.hideFromReveal=o.getBindingContext().getProperty(h.$Path);}var F;if(!m.hideFromReveal){F=P["@com.sap.vocabularies.Common.v1.FieldControl"];if(F){m.hideFromReveal=F.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden";}}F=P["@com.sap.vocabularies.Common.v1.FieldControl"];var g=F&&F.Path;if(g&&!m.hideFromReveal){var L=o.getBinding(A)instanceof sap.ui.model.ListBinding;if(!L){var i=o.getBindingContext().getProperty(g);m.hideFromReveal=i===0;}}if(f&&(f.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||f.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||f.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||f.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){m.unsupported=true;}if(a(p,n)||_(E)){m.unsupported=true;}return m;}function c(o,E,m,f,A){var p=[];var s="";var n=[];var g;for(s in o){g=o[s];if(g.$kind==="NavigationProperty"){n.push(s);}}for(s in o){g=o[s];if(g.$kind==="Property"){var P=m.getObject("/"+E+"/"+s+"@");var h=b(s,g,P,E,f,A,n);p.push(h);}}return p;}function d(E,p){if(p.path){return p.path;}var B=E.getBindingContext();if(B){return B.getPath();}}function e(E,A,p){var m=E.getModel(p.modelName);if(m){if(m.isA("sap.ui.model.odata.v4.ODataModel")){var M=m.getMetaModel();var B=d(E,p);if(B){var o=M.getMetaContext(B);var f=o.getObject();var O=o.getObject(f.$Type);return c(O,f.$Type,M,E,A);}}}return Promise.resolve([]);}var D={getPropertyInfo:function(p){return Promise.resolve().then(function(){return e(p.element,p.aggregationName,p.payload);});}};return D;});
