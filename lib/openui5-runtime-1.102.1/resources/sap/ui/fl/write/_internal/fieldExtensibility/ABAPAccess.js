/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/registry/Settings","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariantFactory","sap/ui/fl/write/_internal/fieldExtensibility/ServiceValidation"],function(S,M,A,a){"use strict";var _=null;var b=null;function g(){if(!b){return A.getInstance(_).then(function(e){b=e;return e;});}return Promise.resolve(b);}var c={};c.getTexts=function(){return g(_).then(function(e){return e.getTexts().then(function(t){return t;});});};c.isExtensibilityEnabled=function(C){var s=M.getFlexReferenceForControl(C);if(!s){return Promise.resolve(false);}return S.getInstance(s).then(function(o){return o.isModelS();});};c.getExtensionData=function(){return g(_).then(function(e){return e.getExtensionData().then(function(E){return E;});});};c.onControlSelected=function(C){if(C!==_){_=C;b=null;}};c.onTriggerCreateExtensionData=function(){return g().then(function(e){return e.getNavigationUri().then(function(n){if(n){c.openNewWindow(n);}});});};c.openNewWindow=function(u){window.open(u,"_blank","noopener noreferrer");};c.isServiceOutdated=function(s){return a.isServiceOutdated(s);};c.setServiceValid=function(s){a.setServiceValid(s);};c.setServiceInvalid=function(s){a.setServiceInvalid(s);};return c;},true);
