/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var s={v2:"v2",v4:"v4"};function p(S){var r=/.*sap\/opu\/odata\/([^\/]+)\/([^\/]+)/i;var R=/([^;]+);v=(\d{1,4})/i;var o="sap/opu/odata";var b;if(S.toLowerCase().indexOf(o)!==-1){var c=S.match(r);if(!c||c.length!==3){throw new Error("sap.ui.fl.fieldExt.UriParser.parseV2ServiceUri: Malformed service URI (Invalid service name)");}if(c[1].toLowerCase()!=="sap"){b="/"+c[1]+"/"+c[2];}else{b=c[2];}}else{if(S.length>0&&S.lastIndexOf("/")+1===S.length){S=S.substring(0,S.length-1);}b=S.substring(S.lastIndexOf("/")+1);}if(b.indexOf(";v=")!==-1){var v=b.match(R);if(!v||v.length!==3){throw new Error("sap.ui.fl.fieldExt.UriParser.parseV2ServiceUri: Malformed service URI (Invalid version)");}return{serviceName:v[1],serviceVersion:v[2],serviceType:s.v2};}return{serviceName:b,serviceVersion:"0001",serviceType:s.v2};}function a(S){var r=/^\/?sap\/opu\/odata4((?:\/[^/]+){5})(\/[^/]+){1}(\/.*)?/i;var b=S.match(r);if(!b||b.length!==4){throw new Error("sap.ui.fl.fieldExt.UriParser.parseV4ServiceUri: Malformed service URI");}var n=b[1].split("/");n.splice(0,3);var R=/(\d{1,4})/i;var v=b[2].match(R);return{serviceName:n.join("/"),serviceVersion:v[1],serviceType:s.v4};}var U={};U.mServiceType=s;U.sODataV4ResourcePathPrefix="sap/opu/odata4/";U.parseServiceUri=function(S){if(S.toLowerCase().indexOf(this.sODataV4ResourcePathPrefix)!==-1){return a(S);}return p(S);};return U;});
