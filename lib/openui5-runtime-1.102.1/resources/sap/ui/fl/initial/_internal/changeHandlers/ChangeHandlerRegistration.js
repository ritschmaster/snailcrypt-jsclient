/*!
* OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/ui/core/Core","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/changeHandler/AddXML","sap/ui/fl/changeHandler/AddXMLAtExtensionPoint","sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/MoveControls","sap/ui/fl/changeHandler/MoveElements","sap/ui/fl/changeHandler/PropertyBindingChange","sap/ui/fl/changeHandler/PropertyChange","sap/ui/fl/changeHandler/StashControl","sap/ui/fl/changeHandler/UnhideControl","sap/ui/fl/changeHandler/UnstashControl"],function(C,a,A,b,H,M,c,P,d,S,U,e){"use strict";var D={hideControl:H,moveElements:c,moveControls:M,stashControl:S,unhideControl:U,unstashControl:e};var m={addXML:A,addXMLAtExtensionPoint:b,propertyBindingChange:P,propertyChange:d};var r={};function f(k,p){r[k]=p;p.catch(function(){}).then(function(){delete r[k];});}function g(F){return a.registerChangeHandlersForLibrary(F);}function h(l){if(l.getParameter("operation")==="add"){var L=l.getParameter("metadata");var s=L.sName;var F=L&&L.extensions&&L.extensions.flChangeHandlers;if(F){var R=g(F);f(s,R);}}}var i={getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs:function(){var o=C.getLoadedLibraries();var p=[];Object.values(o).forEach(function(l){if(l.extensions&&l.extensions.flChangeHandlers){p.push(g(l.extensions.flChangeHandlers));}});C.attachLibraryChanged(h);return Promise.all(p);},waitForChangeHandlerRegistration:function(k){if(r[k]){return r[k].catch(function(){});}return Promise.resolve();},registerPredefinedChangeHandlers:function(){a.registerPredefinedChangeHandlers(D,m);}};return i;});
