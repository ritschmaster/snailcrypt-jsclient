//@ui5-bundle sap/ui/fl/library-preload-write.js
/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/fl/FakeLrepConnectorLocalStorage',["sap/ui/fl/FakeLrepConnector","sap/ui/fl/write/_internal/connectors/LocalStorageConnector"],function(F,L){"use strict";return{enableFakeConnector:function(p){var j=p?p.sInitialComponentJsonPath:undefined;F.setFlexibilityServicesAndClearCache("LocalStorageConnector",j);},disableFakeConnector:function(){F.disableFakeConnector();},forTesting:{spyWrite:function(s,a){return F.forTesting.spyMethod(s,a,L,"write");},getNumberOfChanges:function(r){return F.forTesting.getNumberOfChanges(L,r);},synchronous:{clearAll:function(){F.forTesting.synchronous.clearAll(window.localStorage);},store:function(k,i){F.forTesting.synchronous.store(window.localStorage,k,i);}}}};},true);
sap.ui.predefine('sap/ui/fl/FakeLrepConnectorSessionStorage',["sap/ui/fl/FakeLrepConnector","sap/ui/fl/write/_internal/connectors/SessionStorageConnector"],function(F,S){"use strict";return{enableFakeConnector:function(p){var j=p?p.sInitialComponentJsonPath:undefined;F.setFlexibilityServicesAndClearCache("SessionStorageConnector",j);},disableFakeConnector:function(){F.disableFakeConnector();},forTesting:{spyWrite:function(s,a){return F.forTesting.spyMethod(s,a,S,"write");},getNumberOfChanges:function(r){return F.forTesting.getNumberOfChanges(S,r);},clear:function(p){return F.forTesting.clear(S,p);},setStorage:function(n){F.forTesting.setStorage(S,n);},synchronous:{clearAll:function(){F.forTesting.synchronous.clearAll(window.sessionStorage);},getNumberOfChanges:function(r){return F.forTesting.synchronous.getNumberOfChanges(S.storage,r);}}}};},true);
sap.ui.predefine('sap/ui/fl/FakeLrepLocalStorage',["sap/ui/fl/FakeLrepConnectorLocalStorage"],function(F){"use strict";return{deleteChanges:function(){return F.forTesting.synchronous.clearAll();}};},true);
sap.ui.predefine('sap/ui/fl/initial/_internal/connectors/BackendConnector',["sap/ui/fl/initial/_internal/connectors/Utils","sap/base/util/restricted/_pick"],function(I,_){"use strict";return{xsrfToken:undefined,settings:undefined,loadFlexData:function(p){var P=_(p,["version"]);if(this.isLanguageInfoRequired){I.addLanguageInfo(P);}var d=I.getUrl(this.ROUTES.DATA,p,P);return I.sendRequest(d,"GET",{xsrfToken:this.xsrfToken}).then(function(r){var R=r.response;if(r.xsrfToken){this.xsrfToken=r.xsrfToken;}if(r.etag){R.cacheKey=r.etag;}R.changes=R.changes.concat(R.compVariants||[]);if(R.settings){this.settings=R.settings;}return R;}.bind(this));}};});
sap.ui.predefine('sap/ui/fl/initial/_internal/connectors/KeyUserConnector',["sap/base/util/merge","sap/ui/fl/initial/_internal/connectors/BackendConnector","sap/ui/fl/Layer"],function(m,B,L){"use strict";var P="/flex/keyuser";var A="/v1";var K=m({},B,{layers:[L.CUSTOMER],ROUTES:{DATA:P+A+"/data/"},isLanguageInfoRequired:true});return K;});
sap.ui.predefine('sap/ui/fl/initial/_internal/connectors/NeoLrepConnector',["sap/base/util/merge","sap/ui/fl/initial/_internal/connectors/LrepConnector"],function(m,L){"use strict";return m({},L,{});});
sap.ui.predefine('sap/ui/fl/initial/_internal/connectors/PersonalizationConnector',["sap/base/util/merge","sap/ui/fl/initial/_internal/connectors/BackendConnector","sap/ui/fl/Layer"],function(m,B,L){"use strict";var P="/flex/personalization";var A="/v1";var a=m({},B,{layers:[L.USER],ROUTES:{DATA:P+A+"/data/"}});return a;});
sap.ui.predefine('sap/ui/fl/write/_internal/SaveAs',["sap/ui/fl/write/_internal/appVariant/AppVariantFactory","sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes","sap/ui/fl/write/_internal/appVariant/AppVariantInlineChangeFactory","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/Utils","sap/base/Log","sap/ui/fl/Layer","sap/base/util/includes","sap/base/util/merge","sap/base/util/restricted/_omit","sap/ui/fl/registry/Settings"],function(A,D,a,C,U,L,b,i,m,_,S){"use strict";
function c(P){return S.getInstance().then(function(s){if(!P.package&&(P.layer===b.VENDOR||(P.layer===b.CUSTOMER_BASE&&!s.isAtoEnabled()))){return Promise.reject("Package must be provided or is valid");}if(P.isForSmartBusiness&&(P.package!=='$TMP'&&P.package!=='')&&!P.transport&&!s.isAtoEnabled()){return Promise.reject("Transport must be provided");}if(P.isForSmartBusiness&&P.transport||(P.package==="$TMP")){return Promise.resolve({packageName:P.package,transport:P.transport});}return Promise.resolve({packageName:"",transport:""});});}
function d(q,t){var T=t.transport?q.setTransportRequest(t.transport):Promise.resolve();return T.then(function(){if(t.packageName){return q.setPackage(t.packageName);}return Promise.resolve();});}
function e(q){var I=[];q.forEach(function(r){var s=r.getDefinition();var t={changeType:s.changeType,content:s.content};if(s.texts){t.texts=s.texts;}I.push(a.createNew(t));});return Promise.all(I);}
function f(q,r){var P={reference:r.getId()};var s=U.createNamespace(P,"changes");q.setNamespace(s);q.setComponent(r.getId());}
function g(q,r){var s=[];q.forEach(function(I){I.replaceHostingIdForTextKey(r.getId(),r.getReference(),I.getContent(),I.getTexts());s.push(r.addDescriptorInlineChange(I));});return Promise.all(s);}
function h(s){var q=C.getDescriptorFlexControllerInstance(s)._oChangePersistence;if(q){var r=q.getDirtyChanges();r=r.slice();return r;}return[];}
function j(s){var F=C.getFlexControllerInstance(s)._oChangePersistence;if(F){var u=F.getDirtyChanges();u=u.slice();return u;}return[];}
function k(s){var F=C.getFlexControllerInstance(s)._oChangePersistence;var q=C.getDescriptorFlexControllerInstance(s)._oChangePersistence;return F===q;}
function l(s,q,r){var t=[];if(q){h(s).forEach(function(u){if(i(D.getChangeTypes(),u.getDefinition().changeType)){t.push(u);}else{f(u,r);}});}else{j(s).forEach(function(u){f(u,r);});t=h(s);}return t;}
function n(s){h(s).forEach(function(q){if(i(D.getChangeTypes(),q.getChangeType())){C.getDescriptorFlexControllerInstance(s)._oChangePersistence.deleteChange(q);}});}
function o(q,P){if(!q){throw new Error("App variant with ID: "+P.id+"does not exist");}P.package=q.getPackage();P.layer=q.getDefinition().layer;return c(P).then(function(t){return d(q,t);}).then(function(){return q;});}
var p={saveAs:function(P){var q;var r;var s=false;return A.prepareCreate(P).then(function(t){q=m({},t);return c(P);}).then(function(t){return d(q,t);}).then(function(){s=k(P.selector);var t=l(P.selector,s,q);return e(t);}).then(function(t){return g(t,q);}).then(function(){return q.submit().catch(function(E){E.messageKey="MSG_SAVE_APP_VARIANT_FAILED";throw E;});}).then(function(R){r=m({},R);if(s){n(P.selector);}var F=C.getFlexControllerInstance(P.selector);var u=j(P.selector);if(u.length){return F.saveAll(C.getAppComponentForSelector(P.selector),true).catch(function(E){if(s){n(P.selector);}return this.deleteAppVariant({id:P.id}).then(function(){E.messageKey="MSG_COPY_UNSAVED_CHANGES_FAILED";throw E;});}.bind(this));}return Promise.resolve();}.bind(this)).then(function(){if(!s){n(P.selector);}return r;}).catch(function(E){if(h(P.selector).length){n(P.selector);}L.error("the app variant could not be created.",E.message||E);throw E;});},updateAppVariant:function(P){var q;var r;return A.prepareUpdate(_(P,"selector")).catch(function(E){E.messageKey="MSG_LOAD_APP_VARIANT_FAILED";throw E;}).then(function(s){if(!s){throw new Error("App variant with ID: "+P.id+"does not exist");}q=m({},s);P.package=q.getPackage();P.layer=q.getDefinition().layer;return c(P);}).then(function(t){return d(q,t);}).then(function(){var s=[];h(P.selector).forEach(function(t){if(i(D.getChangeTypes(),t.getDefinition().changeType)){s.push(t);}});return e(s);}).then(function(s){return g(s,q);}).then(function(){return q.submit().catch(function(E){if(P.isForSmartBusiness){n(P.selector);throw E;}E.messageKey="MSG_UPDATE_APP_VARIANT_FAILED";throw E;});}).then(function(R){r=m({},R);n(P.selector);return r;}).catch(function(E){if(h(P.selector).length){n(P.selector);}L.error("the app variant could not be updated.",E.message||E);throw E;});},deleteAppVariant:function(P){return A.prepareDelete(_(P,"selector")).catch(function(E){E.messageKey="MSG_LOAD_APP_VARIANT_FAILED";throw E;}).then(function(q){return((P.isForSmartBusiness)?Promise.resolve(q):o(q,P));}).then(function(q){return q.submit().catch(function(E){if(E==="cancel"){return Promise.reject("cancel");}E.messageKey="MSG_DELETE_APP_VARIANT_FAILED";throw E;});}).catch(function(E){if(E==="cancel"){return Promise.reject("cancel");}L.error("the app variant could not be deleted.",E.message||E);throw E;});}};return p;});
sap.ui.predefine('sap/ui/fl/write/_internal/appVariant/AppVariant',["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/ui/fl/descriptorRelated/internal/Utils","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/base/util/merge","sap/base/Log"],function(q,M,U,L,m,a){"use strict";
var A=M.extend("sap.ui.fl.write._internal.appVariant.AppVariant",{
constructor:function(p){M.apply(this);if(!q.isPlainObject(p)){a.error("Constructor : sap.ui.fl.write._internal.appVariant.AppVariant: mPropertyBag is not defined");}this._oDefinition=p;return this;},
metadata:{library:"sap.ui.fl",properties:{mode:{type:"string"}}}
});
A.modes={NEW:"NEW",EXISTING:"EXISTING",DELETION:"DELETION"};
A.prototype._isValidMode=function(s){var b=false;Object.keys(A.modes).some(function(k){if(A.modes[k]===s){b=true;}});return b;};
A.prototype.setMode=function(s){if(this._isValidMode(s)){this.setProperty("mode",s);}else{throw new Error("Provide a correct operation mode");}};
A.prototype.setTransportRequest=function(t){try{U.checkTransportRequest(t);}catch(e){return Promise.reject(e);}this._oDefinition.transport=t;return Promise.resolve();};
A.prototype.setReference=function(r){if(r===undefined||typeof r!=="string"){throw new Error("No parameter sReference of type string provided");}this._oDefinition.reference=r;};
A.prototype.setPackage=function(p){try{U.checkPackage(p);}catch(e){return Promise.reject(e);}this._oDefinition.packageName=p;return Promise.resolve();};
A.prototype.getDefinition=function(){return this._oDefinition;};
A.prototype.getId=function(){return this._oDefinition.id;};
A.prototype.getNamespace=function(){return this._oDefinition.namespace||U.getNameAndNameSpace(this._oDefinition.id,this._oDefinition.reference).namespace;};
A.prototype.getFileName=function(){return this._oDefinition.fileName||U.getNameAndNameSpace(this._oDefinition.id,this._oDefinition.reference).fileName;};
A.prototype.getReference=function(){return this._oDefinition.reference;};
A.prototype.getPackage=function(){return this._oDefinition.packageName;};
A.prototype.getVersion=function(){return this._oDefinition.version;};
A.prototype.getTransportRequest=function(){return this._oDefinition.transport;};
A.prototype.getJson=function(){return m({},this._getMap());};
A.prototype._getMap=function(){var b={};switch(this.getMode()){case A.modes.NEW:b={fileName:this.getFileName(),fileType:"appdescr_variant",namespace:this.getNamespace(),layer:this._oDefinition.layer,packageName:this._oDefinition.packageName?this._oDefinition.packageName:"",reference:this._oDefinition.reference,id:this._oDefinition.id,content:this._oDefinition.content||[]};if(this._oDefinition.referenceVersion){b.referenceVersion=this._oDefinition.referenceVersion;}if(this._oDefinition.version){b.version=this._oDefinition.version;}break;case A.modes.EXISTING:b={fileName:this._oDefinition.fileName,fileType:this._oDefinition.fileType,namespace:this._oDefinition.namespace,layer:this._oDefinition.layer,packageName:this._oDefinition.packageName,reference:this._oDefinition.reference,id:this._oDefinition.id,content:this._oDefinition.content};if(this._oDefinition.referenceVersion){b.referenceVersion=this._oDefinition.referenceVersion;}if(this._oDefinition.version){b.version=this._oDefinition.version;}break;case A.modes.DELETION:b={id:this._oDefinition.id};break;default:}return b;};
A.prototype.addDescriptorInlineChange=function(d){return new Promise(function(r){var s=function(_,i){if(_["setHostingIdForTextKey"]){_.setHostingIdForTextKey(i);}};s(d,this.getId());this._oDefinition.content.push(d.getMap());r(null);}.bind(this));};
A.prototype.submit=function(){var b=this._getMap();var p={flexObject:{},appVariant:this};if(this._oDefinition.transport){p.transport=this._oDefinition.transport;}if(this._oDefinition.skipIam){p.skipIam=this._oDefinition.skipIam;}if(this._oDefinition.isForSmartBusiness){p.isForSmartBusiness=this._oDefinition.isForSmartBusiness;}if(this._oDefinition.parentVersion){p.parentVersion=this._oDefinition.parentVersion;}if(b.layer){p.layer=b.layer;}p.url="/sap/bc/lrep";var B;switch(this.getMode()){case A.modes.NEW:Object.assign(p.flexObject,b);B=L.appVariant.create(p);break;case A.modes.EXISTING:p.reference=b.id;Object.assign(p.flexObject,b);B=L.appVariant.update(p);break;case A.modes.DELETION:p.reference=b.id;B=L.appVariant.remove(p);break;default:return Promise.reject("Please provide a valid operation.");}return B.then(function(r){return r;});};
return A;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/BackendConnector',["sap/base/util/merge","sap/ui/fl/write/connectors/BaseConnector","sap/ui/fl/initial/_internal/connectors/BackendConnector","sap/ui/fl/initial/_internal/connectors/Utils","sap/ui/fl/write/_internal/connectors/Utils","sap/base/util/restricted/_pick"],function(m,B,I,a,W,_){"use strict";
function b(p){var P={};if(p.parentVersion!==undefined){P.parentVersion=p.parentVersion;}if(this.isLanguageInfoRequired){a.addLanguageInfo(P);}var w=a.getUrl(this.ROUTES.CHANGES,p,P);delete p.fileName;delete P["sap-language"];var t=a.getUrl(this.ROUTES.TOKEN,p,P);var r=W.getRequestOptions(this.initialConnector,t,p.flexObjects||p.flexObject,"application/json; charset=utf-8","json");return W.sendRequest(w,p.method,r);}
function c(p){p.fileName=p.flexObject.fileName;return b.call(this,p);}
var d=m({},B,{xsrfToken:null,reset:function(p){var P=["reference","generator"];var e=_(p,P);if(p.selectorIds){e.selector=p.selectorIds;}if(p.changeTypes){e.changeType=p.changeTypes;}delete p.reference;var r=a.getUrl(this.ROUTES.CHANGES,p,e);var t=a.getUrl(this.ROUTES.TOKEN,p);var R=W.getRequestOptions(this.initialConnector,t);return W.sendRequest(r,"DELETE",R);},write:function(p){p.method="POST";return b.call(this,p).then(function(r){if(r.response&&!Array.isArray(r.response)){r.response=[r.response];}return r;});},update:function(p){p.method="PUT";return c.call(this,p);},remove:function(p){var P={namespace:p.flexObject.namespace};p.fileName=p.flexObject.fileName;var D=a.getUrl(this.ROUTES.CHANGES,p,P);delete p.fileName;var t=a.getUrl(this.ROUTES.TOKEN,p);var r=W.getRequestOptions(this.initialConnector,t,undefined,"application/json; charset=utf-8","json");return W.sendRequest(D,"DELETE",r);},loadFeatures:function(p){if(this.initialConnector.settings){return Promise.resolve({response:this.initialConnector.settings});}var f=a.getUrl(this.ROUTES.SETTINGS,p);return a.sendRequest(f).then(function(r){return r.response;});}});d.initialConnector=I;return d;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/JsObjectConnector',["sap/base/util/merge","sap/ui/fl/write/api/connectors/ObjectStorageConnector"],function(m,O){"use strict";var M={_itemsStoredAsObjects:true,_items:{},setItem:function(k,v){M._items[k]=v;},removeItem:function(k){delete M._items[k];},clear:function(){M._items={};},getItem:function(k){return M._items[k];},getItems:function(){return M._items;}};var J=m({},O,{storage:M});
J.loadFeatures=function(){return O.loadFeatures.apply(this,arguments).then(function(f){return m({isPublicLayerAvailable:true,isVariantAdaptationEnabled:true},f);});};
return J;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/KeyUserConnector',["sap/base/util/merge","sap/ui/fl/write/_internal/connectors/BackendConnector","sap/ui/fl/initial/_internal/connectors/KeyUserConnector","sap/ui/fl/initial/_internal/connectors/Utils","sap/ui/fl/write/_internal/connectors/Utils","sap/base/util/restricted/_pick"],function(m,B,I,a,W,_){"use strict";var P="/flex/keyuser";var A="/v1";var K=m({},B,{layers:I.layers,ROUTES:{CHANGES:P+A+"/changes/",SETTINGS:P+A+"/settings",TOKEN:P+A+"/settings",VERSIONS:{GET:P+A+"/versions/",ACTIVATE:P+A+"/versions/activate/",DISCARD:P+A+"/versions/draft/"},TRANSLATION:{UPLOAD:P+A+"/translation/texts",DOWNLOAD:P+A+"/translation/texts/",GET_SOURCELANGUAGE:P+A+"/translation/sourcelanguages/"},CONTEXTS:P+A+"/contexts/"},isLanguageInfoRequired:true,loadFeatures:function(p){return B.loadFeatures.call(K,p).then(function(f){f.isPublicLayerAvailable=f.isPublicLayerAvailable&&!f.isVariantAdaptationEnabled;return f;});},getContexts:function(p){var d=["type","$skip","$filter"];var e=_(p,d);var C=a.getUrl(K.ROUTES.CONTEXTS,p,e);return a.sendRequest(C).then(function(R){return R.response;});},loadContextDescriptions:function(p){var d={};a.addLanguageInfo(d);b(p);var C=a.getUrl(K.ROUTES.CONTEXTS,p,d);p.payload=JSON.stringify(p.flexObjects);p.dataType="json";p.contentType="application/json; charset=utf-8";return W.sendRequest(C,"POST",p);}});
function b(p){p.initialConnector=I;p.xsrfToken=I.xsrfToken;p.tokenUrl=K.ROUTES.TOKEN;}
function c(p){var o={title:p.title};p.payload=JSON.stringify(o);p.dataType="json";p.contentType="application/json; charset=utf-8";}
function r(v){v.version=v.versionNumber.toString();delete v.versionNumber;return v;}
K.versions={load:function(p){b(p);var d={};a.addLanguageInfo(d);d.limit=p.limit;var v=a.getUrl(K.ROUTES.VERSIONS.GET,p,d);return a.sendRequest(v,"GET",p).then(function(R){return R.response.map(function(V){return r(V);});});},activate:function(p){b(p);c(p);var d={version:p.version};a.addLanguageInfo(d);var v=a.getUrl(K.ROUTES.VERSIONS.ACTIVATE,p,d);return W.sendRequest(v,"POST",p).then(function(R){var V=R.response;return r(V);});},discardDraft:function(p){b(p);var v=a.getUrl(K.ROUTES.VERSIONS.DISCARD,p);return W.sendRequest(v,"DELETE",p);}};K.translation={getTexts:function(p){var d=_(p,["sourceLanguage","targetLanguage"]);var t=a.getUrl(K.ROUTES.TRANSLATION.DOWNLOAD,p,d);return a.sendRequest(t,"GET",p).then(function(R){return R.response;});},getSourceLanguages:function(p){var d={};var t=a.getUrl(K.ROUTES.TRANSLATION.GET_SOURCELANGUAGE,p,d);return a.sendRequest(t,"GET",p).then(function(R){return R&&R.response&&R.response.sourceLanguages?R.response.sourceLanguages:[];});},postTranslationTexts:function(p){b(p);var t=a.getUrl(K.ROUTES.TRANSLATION.UPLOAD,p,{});return a.sendRequest(t,"POST",p);}};K.initialConnector=I;return K;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/LocalStorageConnector',["sap/base/util/merge","sap/ui/fl/write/api/connectors/ObjectStorageConnector"],function(m,O){"use strict";var L=m({},O,{storage:window.localStorage});
L.loadFeatures=function(){return O.loadFeatures.apply(this,arguments).then(function(f){return m({isPublicLayerAvailable:true,isPublicFlVariantEnabled:true,isVariantAdaptationEnabled:true,isCondensingEnabled:false},f);});};
return L;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/NeoLrepConnector',["sap/base/util/merge","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/ui/fl/initial/_internal/connectors/NeoLrepConnector"],function(m,L,I){"use strict";return m({},L,{initialConnector:I,layers:I.layers,isContextSharingEnabled:function(){return Promise.resolve(false);},loadContextDescriptions:function(){return Promise.reject("loadContextsDescriptions is not implemented");},getContexts:function(){return Promise.reject("getContexts is not implemented");}});});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/ObjectPathConnector',["sap/base/util/merge","sap/ui/fl/write/connectors/BaseConnector","sap/ui/fl/initial/_internal/StorageUtils","sap/base/util/LoaderExtensions"],function(m,B,S,L){"use strict";var j;return m({},B,{layers:[],setJsonPath:function(i){j=i;},loadFlexData:function(p){var P=j||p.path;if(P){return L.loadResource({dataType:"json",url:P,async:true}).then(function(r){return Object.assign(S.getEmptyFlexDataResponse(),r);});}return Promise.resolve();},loadFeatures:function(p){var P=j||p.path;if(P){return L.loadResource({dataType:"json",url:P,async:true}).then(function(f,r){r.componentClassName=f;return r.settings||{};}.bind(null,p.flexReference));}return Promise.resolve({});}});});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/ObjectStorageConnector',["sap/base/util/merge","sap/ui/fl/write/api/connectors/ObjectStorageConnector"],function(m,P){"use strict";var O=m({},P,{oStorage:undefined});O.storage=O.oStorage;return O;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/PersonalizationConnector',["sap/base/util/merge","sap/ui/fl/write/_internal/connectors/BackendConnector","sap/ui/fl/initial/_internal/connectors/PersonalizationConnector"],function(m,B,I){"use strict";var P="/flex/personalization";var A="/v1";var F={isProductiveSystem:true};var a=m({},B,{layers:I.layers,ROUTES:{CHANGES:P+A+"/changes/",TOKEN:P+A+"/actions/getcsrftoken"},loadFeatures:function(){return Promise.resolve(F);}});a.initialConnector=I;return a;});
sap.ui.predefine('sap/ui/fl/write/_internal/connectors/SessionStorageConnector',["sap/base/util/merge","sap/ui/fl/write/api/connectors/ObjectStorageConnector"],function(m,O){"use strict";var S=m({},O,{storage:window.sessionStorage});
S.loadFeatures=function(){return O.loadFeatures.apply(this,arguments).then(function(f){return m({isPublicLayerAvailable:true,isVariantAdaptationEnabled:true},f);});};
return S;});
sap.ui.predefine('sap/ui/fl/write/_internal/delegates/ODataV4ReadDelegate',[],function(){"use strict";
function _(p){if(p&&p.$Type){if(p.$Type.toLowerCase().indexOf("edm")!==0){return true;}}return false;}
function a(p,n){return n.some(function(N){if(p.startsWith(N)){return true;}});}
function b(p,E,P,s,o,A,n){var m={name:p,bindingPath:p,entityType:s};var f=P["@com.sap.vocabularies.UI.v1.DataFieldDefault"];var l=(f&&f.Label)||P["@com.sap.vocabularies.Common.v1.Label"];m.label=l||"[LABEL_MISSING: "+p+"]";var h=P["@com.sap.vocabularies.UI.v1.Hidden"];m.hideFromReveal=h;if(h&&h.$Path){m.hideFromReveal=o.getBindingContext().getProperty(h.$Path);}var F;if(!m.hideFromReveal){F=P["@com.sap.vocabularies.Common.v1.FieldControl"];if(F){m.hideFromReveal=F.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden";}}F=P["@com.sap.vocabularies.Common.v1.FieldControl"];var g=F&&F.Path;if(g&&!m.hideFromReveal){var L=o.getBinding(A)instanceof sap.ui.model.ListBinding;if(!L){var i=o.getBindingContext().getProperty(g);m.hideFromReveal=i===0;}}if(f&&(f.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||f.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||f.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||f.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){m.unsupported=true;}if(a(p,n)||_(E)){m.unsupported=true;}return m;}
function c(o,E,m,f,A){var p=[];var s="";var n=[];var g;for(s in o){g=o[s];if(g.$kind==="NavigationProperty"){n.push(s);}}for(s in o){g=o[s];if(g.$kind==="Property"){var P=m.getObject("/"+E+"/"+s+"@");var h=b(s,g,P,E,f,A,n);p.push(h);}}return p;}
function d(E,p){if(p.path){return p.path;}var B=E.getBindingContext();if(B){return B.getPath();}}
function e(E,A,p){var m=E.getModel(p.modelName);if(m){if(m.isA("sap.ui.model.odata.v4.ODataModel")){var M=m.getMetaModel();var B=d(E,p);if(B){var o=M.getMetaContext(B);var f=o.getObject();var O=o.getObject(f.$Type);return c(O,f.$Type,M,E,A);}}}return Promise.resolve([]);}
var D={getPropertyInfo:function(p){return Promise.resolve().then(function(){return e(p.element,p.aggregationName,p.payload);});}};return D;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariant',["sap/ui/base/Object"],function(B){"use strict";
var A=B.extend("sap.ui.fl.write._internal.fieldExtensibility.ABAPExtensibilityVariant",{
_sServiceUri:null,
_mBindingInfo:null,
_mServiceInfo:null,
constructor:function(s,S,b){this._sServiceUri=s;this._mBindingInfo=b;this._mServiceInfo=S;this._oExtensionDataPromise=this._determineExtensionData();},
getExtensionData:function(){return Promise.resolve(null);},
getMetadata:function(){return this.getMetadata();},
getNavigationUri:function(){return Promise.resolve(null);},
getTexts:function(){return Promise.resolve(null);},
isActive:function(){return Promise.resolve(true);}
});
A.prototype._determineExtensionData=function(){return Promise.resolve(null);};
return A;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariantFactory',["sap/base/Log","sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariant","sap/ui/fl/write/_internal/fieldExtensibility/MultiTenantABAPExtensibilityVariant","sap/ui/fl/write/_internal/fieldExtensibility/SingleTenantABAPExtensibilityVariant","sap/ui/fl/write/_internal/fieldExtensibility/Utils","sap/ui/fl/write/_internal/fieldExtensibility/UriParser"],function(L,A,M,S,U,a){"use strict";var _={};var b=new A();
function c(C){return Promise.all([U.getBoundEntitySet(C),U.getBoundEntityType(C)]).then(function(r){return{entitySetName:r[0],entityTypeName:r[1]};});}
function d(E){L.error("Error occurred:");if(E){if(Array.isArray(E.errorMessages)){E.errorMessages.forEach(function(o){L.error(o.text);});}else{L.error(E);}}}
function e(s,B){try{var m=a.parseServiceUri(s);var o=new M(s,m,B);var j=new S(s,m,B);return Promise.all([o.isActive(),j.isActive()]).then(function(I){var k=b;if(I[0]===true){k=o;}else if(I[1]===true){k=j;}return k;}).catch(function(E){d(E);return Promise.resolve(b);});}catch(E){d(E);return Promise.resolve(b);}}
function f(s,B){if(_[s]){return _[s][B.entityTypeName];}return null;}
function g(s,B,I){if(!_[s]){_[s]={};}_[s][B.entityTypeName]=I;}
function h(C,B){var s=U.getServiceUri(C);var E=f(s,B);if(!E){return e(s,B).then(function(o){g(s,B,o);return Promise.resolve(o);});}return Promise.resolve(E);}
var i={};
i.getInstance=function(C){if(U.checkControlPrerequisites(C)){return c(C).then(function(B){return h(C,B).then(function(I){return I.getInterface();});}).catch(function(E){d(E);return Promise.resolve(b.getInterface());});}return Promise.resolve(b.getInterface());};
i.reset=function(){_={};};
return i;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/MultiTenantABAPExtensibilityVariant',["sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariant","sap/ui/fl/write/_internal/fieldExtensibility/Utils"],function(A,U){"use strict";var e="/sap/opu/odata/sap/APS_PREDEFINED_FIELD_SRV/GetExtensionDataByResourcePath";var n={semanticObject:"PredefinedCustomField",action:"configure"};
var M=A.extend("sap.ui.fl.write._internal.fieldExtensibility.MultiTenantABAPExtensibilityVariant",{
getExtensionData:function(){return this._oExtensionDataPromise.then(function(E){if(this._containsData(E)){return this._convertExtensionData(E);}return null;}.bind(this));},
getNavigationUri:function(){return this._oExtensionDataPromise.then(function(E){if(this._containsData(E)){return U.getNavigationUriForIntent({target:n,params:{businessObjectNodeName:E.BusinessObjectNodeName,cdsEntityName:E.CdsEntityName,serviceVersion:this._mServiceInfo.serviceVersion,serviceName:this._mServiceInfo.serviceName}});}return null;}.bind(this));},
getTexts:function(){return this._oExtensionDataPromise.then(function(E){if(this._containsData(E)){return{tooltip:U.getText("BTN_ADD_FIELD"),headerText:U.getText("BUSINESS_OBJECT_NODE_TITLE")};}return null;}.bind(this));},
isActive:function(){return this._oExtensionDataPromise.then(function(E){return this._containsData(E);}.bind(this));},
_containsData:function(E){return Boolean(E&&E.BusinessObjectNodeName&&E.CdsEntityName);},
_convertExtensionData:function(E){return{extensionData:[{businessContext:E.BusinessObjectNodeName,description:E.BusinessObjectNodeDescription}]};},
_determineExtensionData:function(){return new Promise(function(r,R){U.isNavigationSupportedForIntents([n]).then(function(N){var i=N.some(function(b){return b===true;});if(i){U.executeRequest(e,{ResourcePath:this._sServiceUri,EntitySetName:this._mBindingInfo.entitySetName}).then(function(o){if(o.errorOccurred===false){r(this._extractExtensionDataFromResponse(o.result));}else{R(o);}}.bind(this));}else{r(null);}}.bind(this));}.bind(this));},
_extractExtensionDataFromResponse:function(r){return r.GetExtensionDataByResourcePath;}
});
return M;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/SingleTenantABAPExtensibilityVariant',["sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariant","sap/ui/fl/write/_internal/fieldExtensibility/UriParser","sap/ui/fl/write/_internal/fieldExtensibility/Utils"],function(A,U,a){"use strict";var e="/sap/opu/odata/SAP/APS_CUSTOM_FIELD_MAINTENANCE_SRV/";var E={None:-1,Both:0,Fields:1,Logic:2};var n=[{semanticObject:"CustomField",action:"develop"},{semanticObject:"CustomField",action:"manage"},{semanticObject:"CustomLogic",action:"maintain"}];var t=["BTN_FREP_CCF","BTN_ADD_FIELD","BTN_ADD_LOGIC"];
var S=A.extend("sap.ui.fl.write._internal.fieldExtensibility.SingleTenantABAPExtensibilityVariant",{
_iExtensibilityType:E.None,
getExtensionData:function(){return this._oExtensionDataPromise.then(function(b){if(this._containsData(b)){return this._convertBusinessContextsToExtensionData(b);}return null;}.bind(this));},
getNavigationUri:function(){return this._oExtensionDataPromise.then(function(b){if(this._containsData(b)&&this._iExtensibilityType!==E.None){return a.getNavigationUriForIntent({target:n[this._iExtensibilityType],params:{businessContexts:b.map(function(B){return B.BusinessContext;}),serviceVersion:this._mServiceInfo.serviceVersion,serviceName:this._mServiceInfo.serviceName,entityType:this._mBindingInfo.entityTypeName}});}Promise.resolve(null);}.bind(this));},
getTexts:function(){return this._oExtensionDataPromise.then(function(b){if(this._containsData(b)){return{tooltip:a.getText(t[this._iExtensibilityType]),headerText:a.getText("BUSINESS_CONTEXT_TITLE")};}return null;}.bind(this));},
isActive:function(){return this._oExtensionDataPromise.then(function(b){return this._containsData(b);}.bind(this));},
_adjustExtensibilityTypeByAuthorizations:function(N,i){if(N[i]){return i;}else if(N[E.Both]){return E.Both;}else if(i===E.Both){if(N[E.Fields]){return E.Fields;}else if(N[E.Logic]){return E.Logic;}}return E.None;},
_containsData:function(b){return Boolean(b&&b.length>0);},
_convertBusinessContextsToExtensionData:function(b){var c=b.map(function(B){return{description:B.BusinessContextDescription,businessContext:B.BusinessContext};});return{extensionData:c};},
_determineExtensionData:function(){return new Promise(function(r,R){a.isNavigationSupportedForIntents(n).then(function(N){var i=N.some(function(b){return b===true;});if(i){a.executeRequest(this._getExtensionDataServiceUri(),this._getExtensionDataServiceParameters()).then(function(o){if(o.errorOccurred===false){var b=this._extractBusinessContextsFromResponse(o.result);this._iExtensibilityType=this._determineExtensibilityType(N,b);if(this._iExtensibilityType!==E.None){r(b);}else{r(null);}}else if(o.statusCode===404&&this._mServiceInfo.serviceType===U.mServiceType.v4){r(null);}else{R(o);}}.bind(this));}else{r(null);}}.bind(this));}.bind(this));},
_determineExtensibilityType:function(N,b){var i=this._determineExtensibilityTypeFromBusinessContexts(b);if(i!==E.None){return this._adjustExtensibilityTypeByAuthorizations(N,i);}return i;},
_determineExtensibilityTypeFromBusinessContexts:function(b){var s=false;var c=false;b.forEach(function(B){if(B.hasOwnProperty("SupportsLogicEnhancements")===false||B.SupportsLogicEnhancements===true){s=true;}if(B.hasOwnProperty("SupportsStructuralEnhancements")===false||B.SupportsStructuralEnhancements===true){c=true;}});if(s&&c){return E.Both;}else if(!s&&c){return E.Fields;}else if(s&&!c){return E.Logic;}return null;},
_extractBusinessContextsFromResponse:function(r){return r.results||[];},
_getExtensionDataServiceParameters:function(){var p={EntitySetName:"",EntityTypeName:this._mBindingInfo.entityTypeName};if(this._mServiceInfo.serviceType===U.mServiceType.v4){p.ResourcePath=U.sODataV4ResourcePathPrefix+this._mServiceInfo.serviceName+"/"+this._mServiceInfo.serviceVersion;}else{p.ServiceName=this._mServiceInfo.serviceName;p.ServiceVersion=this._mServiceInfo.serviceVersion;}return p;},
_getExtensionDataServiceUri:function(){if(this._mServiceInfo.serviceType===U.mServiceType.v4){return e+"GetBusinessContextsByResourcePath";}return e+"GetBusinessContextsByEntityType";}
});
return S;});
sap.ui.predefine('sap/ui/fl/write/_internal/flexState/FlexObjectState',["sap/base/util/restricted/_omit","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/LayerUtils","sap/ui/fl/apply/_internal/flexState/compVariants/Utils","sap/ui/fl/Utils"],function(_,F,M,S,C,a,b,c,L,d,U){"use strict";var e={};
function i(p){p.reference=M.getFlexReferenceForControl(p.selector);return F.initialize({componentId:p.componentId||U.getAppComponentForControl(p.selector).getId(),reference:p.reference,componentData:{},manifest:{}});}
function g(p){var m=F.getCompVariantsMap(p.reference);var E=[];if(p.invalidateCache){var D=F.getInitialNonFlCompVariantData(p.reference);if(D){Object.keys(D).forEach(function(P){m._initialize(P,D[P].variants);b.merge(P,m[P],D[P].standardVariant);});}}for(var P in m){var k=m[P];for(var I in k.byId){E.push(k.byId[I]);}}return L.filterChangeOrChangeDefinitionsByCurrentLayer(E,p.currentLayer);}
function s(p){var r=M.getFlexReferenceForControl(p.selector);return a.persistAll(r);}
function f(p){if(!p.reference){var A=C.getAppComponentForSelector(p.selector);p.reference=M.getFlexReferenceForControl(A);}return c.getChangePersistenceForComponent(p.reference);}
function h(p){var o=f(p);return o.getChangesForComponent(_(p,["invalidateCache","selector"]),p.invalidateCache).then(function(P){var D=[];if(p.includeDirtyChanges){D=o.getDirtyChanges();}return P.concat(D);});}
function j(p,A){var o=C.getFlexControllerInstance(p.selector);var D=C.getDescriptorFlexControllerInstance(p.selector);return o.saveAll(A,p.skipUpdateCache,p.draft,p.layer,p.removeOtherLayerChanges).then(D.saveAll.bind(D,A,p.skipUpdateCache,p.draft,p.layer,p.removeOtherLayerChanges));}
e.getFlexObjects=function(p){return i(p).then(function(){return h(p);}).then(function(k){return g(p).concat(k);});};
e.getDirtyFlexObjects=function(p){p.includeDirtyChanges=true;var o=f(p);var k=o.getDirtyChanges();var l=g(p);return k.concat(l).filter(function(m){return m.getState()!==S.PERSISTED;});};
e.saveFlexObjects=function(p){var A=C.getAppComponentForSelector(p.selector);return Promise.all([s(p),j(p,A)]).then(function(){if(p.layer){p.currentLayer=p.layer;}p.componentId=A.getId();p.invalidateCache=true;return e.getFlexObjects(_(p,"skipUpdateCache"));});};
return e;});
sap.ui.predefine('sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState',["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/base/util/UriParameters","sap/ui/fl/Layer","sap/ui/fl/Change","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/RevertData","sap/ui/fl/apply/_internal/flexObjects/CompVariantRevertData","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Utils","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/_internal/Versions","sap/ui/fl/write/api/Version"],function(_,a,U,L,C,b,c,R,d,S,e,F,f,g,h,V,j){"use strict";
function k(i,P){var D=l("/draftFilenames",P);if(D){return i.getState()===C.states.NEW||D.includes(i.getFileName());}return true;}
function l(P,i){var I=g.getInstanceOrUndef().isVersioningEnabled(i.layer);if(I&&i.layer===L.CUSTOMER){return V.getVersionsModel({reference:e.normalizeReference(i.reference),layer:i.layer}).getProperty(P);}return undefined;}
function m(i,P){if(!["defaultVariant","updateVariant"].includes(i.getChangeType())){return false;}var A=i.getLayer()===P.layer;var B=i.getDefinition().packageName;var N=!B||B==="$TMP";return A&&N&&k(i,P);}
function n(M,i){if(i.isVariant()){return M.variants;}switch(i.getChangeType()){case"defaultVariant":return M.defaultVariants;case"standardVariant":return M.standardVariants;default:return M.changes;}}
function u(O,A){for(var i=0;i<O.length;i++){if(O[i].fileName===A.fileName){O.splice(i,1,A);break;}}}
function o(i,A){var P=l("/persistedVersion",{layer:i.getLayer(),reference:i.getDefinition().reference});return h.update({flexObject:i.getDefinition(),layer:i.getLayer(),transport:i.getRequest(),parentVersion:P}).then(function(B){if(B&&B.response){i.setResponse(B.response);if(P){V.onAllChangesSaved({reference:B.response.reference,layer:B.response.layer});}}else{i.setState(S.PERSISTED);}return A;}).then(function(A){var O=n(A.changes.comp,i);u(O,i.getDefinition());return i.getDefinition();});}
function p(A,B,D,P){function E(O,A){for(var i=O.length-1;i>=0;i--){if((O[i].fileName||O[i].getFileName())===A.fileName){O.splice(i,1);break;}}}return h.remove({flexObject:A.getDefinition(),layer:A.getLayer(),transport:A.getRequest(),parentVersion:P}).then(function(){delete B.byId[A.getId()];if(A.getChangeType()==="standardVariant"){B.standardVariantChange=undefined;}else{E(n(B,A),A.getDefinition());}return D;}).then(function(D){E(n(D.changes.comp,A),A.getDefinition());return A.getDefinition();});}
function q(i){return i&&[S.NEW,S.DIRTY,S.DELETED].includes(i.getState());}
function r(i){return i.variants.concat(i.changes).concat(i.defaultVariants).concat(i.standardVariantChange);}
function s(P){var i={};if(typeof(P.texts)==="object"){Object.keys(P.texts).forEach(function(A){i[A]={value:P.texts[A],type:"XFLD"};});}return i;}
function t(P){if(P.layer){return P.layer;}if(P.isUserDependent){return L.USER;}var i=U.fromQuery(window.location.search).get("sap-ui-layer")||"";i=i.toUpperCase();if(i){return i;}if(!P.fileType==="variant"){return L.CUSTOMER;}var A=g.getInstanceOrUndef().isPublicLayerAvailable();return A?L.PUBLIC:L.CUSTOMER;}
function v(P){var i=F.getCompVariantsMap(P.reference)._getOrCreate(P.persistencyKey);return i.byId[P.id];}
function w(i){if(i instanceof c){i.removeAllRevertInfo();}}
function x(i,P){i.storeExecuteOnSelection(P.executeOnSelection);i.storeFavorite(P.favorite);i.storeContexts(P.contexts);if(P.name){i.setText("variantName",P.name);}i.storeContent(P.content||i.getContent());return i;}
function y(i,P){i.setExecuteOnSelection(P.executeOnSelection);i.setFavorite(P.favorite);i.setContexts(P.contexts);if(P.name){i.setName(P.name);}i.setContent(P.content||i.getContent());return i;}
var z={};
z.setDefault=function(P){var i={defaultVariantName:P.defaultVariantId};P.layer=P.layer||U.fromQuery(window.location.search).get("sap-ui-layer")||L.USER;var A=F.getCompVariantsMap(P.reference)._getOrCreate(P.persistencyKey);var B="defaultVariant";var D=A.defaultVariants;var E=D[D.length-1];if(!E||!m(E,P)){var G={fileName:e.createDefaultFileName(B),fileType:"change",changeType:B,layer:P.layer,content:i,namespace:e.createNamespace(P,"changes"),reference:P.reference,selector:{persistencyKey:P.persistencyKey},support:P.support||{}};G.support.generator=G.support.generator||"CompVariantState."+B;G.support.sapui5Version=sap.ui.version;E=new b(G);A.defaultVariants.push(E);A.byId[E.getId()]=E;E.addRevertInfo(new R({type:z.operationType.NewChange}));}else{E.addRevertInfo(new R({type:z.operationType.ContentUpdate,content:{previousState:E.getState(),previousContent:E.getContent()}}));E.setContent(i);}return E;};
z.revertSetDefaultVariantId=function(P){var i=F.getCompVariantsMap(P.reference)._getOrCreate(P.persistencyKey);var D=i.defaultVariants;var A=D[D.length-1];var B=A.popLatestRevertInfo();if(B.getType()===z.operationType.ContentUpdate){A.setContent(B.getContent().previousContent);A.setState(B.getContent().previousState);}else{A.setState(C.states.DELETED);i.defaultVariants.pop();}};
z.addVariant=function(P){if(!P){return undefined;}var i=P.changeSpecificData;var I={id:i.id,changeType:i.type,service:i.ODataService,content:i.content||{},reference:P.reference,fileType:"variant",packageName:i.packageName,layer:t(i),selector:{persistencyKey:P.persistencyKey},texts:s(i),command:P.command,generator:P.generator};if(i.favorite!==undefined){I.favorite=i.favorite;}if(i.executeOnSelection!==undefined){I.executeOnSelection=i.executeOnSelection;}if(i.contexts!==undefined){I.contexts=i.contexts;}var A=c.createInitialFileContent(I);var B=new c(A);var D=F.getCompVariantsMap(P.reference);var M=D._getOrCreate(P.persistencyKey);M.variants.push(B);M.byId[B.getId()]=B;return B;};
z.updateVariant=function(P){function i(H,I){var K=H.getLayer()===I;var M=H.getPackage();var N=!M||M==="$TMP";var O=H.getChanges().some(function(Q){return Q.getLayer()===I;});return H.getPersisted()&&K&&N&&!O&&k(H,P);}function A(H){return H.getChanges().reverse().find(function(K){return K.getChangeType()==="updateVariant"&&m(K,P);});}function B(P,H,O,K){var M={type:O,change:K,content:{previousState:H.getState(),previousContent:H.getContent(),previousFavorite:H.getFavorite(),previousExecuteOnSelection:H.getExecuteOnSelection(),previousContexts:H.getContexts()}};if(P.name){M.content.previousName=H.getText("variantName");}H.addRevertInfo(new d(M));}function D(P,H){B(P,H,z.operationType.ContentUpdate);if(P.executeOnSelection!==undefined){H.storeExecuteOnSelection(P.executeOnSelection);}if(P.favorite!==undefined){H.storeFavorite(P.favorite);}if(P.contexts){H.storeContexts(P.contexts);}if(P.name){H.storeName(P.name);}if(P.transportId){H.setRequest(P.transportId);}H.storeContent(P.content||H.getContent());}function E(P,H,K){var M=K.getRevertData()||[];var N=K.getContent();var O={previousContent:Object.assign({},N),previousState:K.getState(),change:a(Object.assign({},P),["favorite","executeOnSelection","contexts","content","name"])};M.push(O);K.setRevertData(M);if(P.executeOnSelection!==undefined){H.setExecuteOnSelection(P.executeOnSelection);N.executeOnSelection=P.executeOnSelection;}if(P.favorite!==undefined){H.setFavorite(P.favorite);N.favorite=P.favorite;}if(P.contexts){H.setContexts(P.contexts);N.contexts=P.contexts;}if(P.content){H.setContent(P.content);N.variantContent=P.content;}if(P.name){H.setName(P.name);N.texts={variantName:{value:P.name,type:"XFLD"}};}K.setContent(N);if(P.transportId){K.setRequest(P.transportId);}f.applyChangeOnVariant(H,K);B(P,H,z.operationType.UpdateVariantViaChangeUpdate,K);}function G(P,H){function K(N){var O=N.getDefinition();var Q=F.getCompVariantsMap(N.getComponent());var T=N.getSelector().persistencyKey;Q[T].changes.push(N);Q[T].byId[N.getId()]=N;return O;}var M=C.createInitialFileContent({changeType:"updateVariant",layer:I,fileType:"change",reference:P.reference,packageName:P.packageName,content:{},selector:{persistencyKey:P.persistencyKey,variantId:H.getId()}});["favorite","executeOnSelection","contexts"].forEach(function(O){if(P[O]!==undefined){M.content[O]=P[O];}});if(P.content!==undefined){M.content.variantContent=P.content;}if(P.name){M.texts.variantName={value:P.name,type:"XFLD"};}var N=new C(M);if(P.transportId){N.setRequest(P.transportId);}K(N);B(P,H,z.operationType.NewChange,N);f.applyChangeOnVariant(H,N);}var H=v(P);var I=t(P);if(i(H,I)){D(P,H);}else{var J=A(H);if(J){E(P,H,J);}else{G(P,H);}}return H;};
z.operationType={StateUpdate:"StateUpdate",ContentUpdate:"ContentUpdate",NewChange:"NewChange",UpdateVariantViaChange:"UpdateVariantViaChange",UpdateVariantViaChangeUpdate:"UpdateVariantViaChangeUpdate"};
z.removeVariant=function(P){var i=v(P);if(!P.revert){var A=new d({type:z.operationType.StateUpdate,content:{previousState:i.getState()}});i.addRevertInfo(A);}i.markForDeletion();return i;};
z.revert=function(P){function i(E){var H=E.getSelector().persistencyKey;var I=F.getCompVariantsMap(E.getComponent());delete I[H].byId[E.getId()];I[H].changes=I[H].changes.filter(function(J){return J!==E;});}var A=v(P);var B=A.getRevertInfo().pop();A.removeRevertInfo(B);var D=B.getContent();var E;switch(B.getType()){case z.operationType.ContentUpdate:x(A,Object.assign({name:D.previousName,content:D.previousContent,favorite:D.previousFavorite,executeOnSelection:D.previousExecuteOnSelection,contexts:D.previousContexts},a(P,["reference","persistencyKey","id"])));break;case z.operationType.NewChange:E=B.getChange();A.removeChange(E);i(E);y(A,Object.assign({name:D.previousName,content:D.previousContent,favorite:D.previousFavorite,executeOnSelection:D.previousExecuteOnSelection,contexts:D.previousContexts},a(P,["reference","persistencyKey","id"])));break;case z.operationType.UpdateVariantViaChangeUpdate:E=B.getChange();y(A,Object.assign({name:D.previousName,content:D.previousContent,favorite:D.previousFavorite,executeOnSelection:D.previousExecuteOnSelection,contexts:D.previousContexts},a(P,["reference","persistencyKey","id"])));var G=E.getRevertData().pop();E.setContent(G.previousContent);E.setState(G.previousState);break;case z.operationType.StateUpdate:default:break;}A.setState(D.previousState);return A;};
z.overrideStandardVariant=function(P){var i=F.getCompVariantsMap(P.reference)[P.persistencyKey];var A=i.byId[i.standardVariant.getId()];A.setExecuteOnSelection(!!P.executeOnSelection);var B=A.getChanges();A.removeAllChanges();B.forEach(function(D){f.applyChangeOnVariant(A,D);});};
z.persist=function(P){function i(H,I,J){return h.write({flexObjects:[H.getDefinition()],layer:H.getLayer(),transport:H.getRequest(),isLegacyVariant:H.isVariant(),parentVersion:J}).then(function(K){if(K&&K.response&&K.response[0]){H.setResponse(K.response[0]);if(J){V.onAllChangesSaved({reference:K.response[0].reference,layer:K.response[0].layer});}}else{H.setState(S.PERSISTED);}return I;}).then(function(I){n(I.changes.comp,H).push(H.getDefinition());return H.getDefinition();});}function A(H,G,I,J){switch(H.getState()){case S.NEW:w(H);return i(H,I,J);case S.DIRTY:w(H);return o(H,I,J);case S.DELETED:w(H);return p(H,G,I,J);default:break;}}var B=P.reference;var D=P.persistencyKey;var E=F.getCompVariantsMap(B);var G=E._getOrCreate(D);return F.getStorageResponse(B).then(function(H){var I=r(G).filter(q);var J=I.map(function(K,M){if(M===0){var N=l("/persistedVersion",{layer:K.getLayer(),reference:K.getDefinition().reference});return A(K,G,H,N).then(function(){var J=I.map(function(K,M){if(M!==0){var O=N?j.Number.Draft:undefined;return A(K,G,H,O);}});return J;});}});return Promise.all(J);});};
z.persistAll=function(i){var A=_(F.getCompVariantsMap(i),"_getOrCreate","_initialize");var P=Object.keys(A).map(function(B){return z.persist({reference:i,persistencyKey:B});});return Promise.all(P);};
return z;});
sap.ui.predefine('sap/ui/fl/write/api/AppVariantWriteAPI',["sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/write/_internal/SaveAs","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/ui/fl/write/api/FeaturesAPI","sap/ui/fl/write/_internal/Versions"],function(C,S,L,F,V){"use strict";var _=function(f,p){if(!p.layer){return Promise.reject("Layer must be provided");}var o=C.getDescriptorFlexControllerInstance(p.selector);p.reference=o.getComponentName();p.url="/sap/bc/lrep";return L.appVariant[f](p);};var A={saveAs:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}if(!p.id){return Promise.reject("App variant ID must be provided");}var f=C.getDescriptorFlexControllerInstance(p.selector);p.reference=f.getComponentName();return F.isVersioningEnabled(p.layer).then(function(v){if(v){p.parentVersion=V.getVersionsModel(p).getProperty("/displayedVersion");}return S.saveAs(p);});},deleteAppVariant:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}var f=C.getDescriptorFlexControllerInstance(p.selector);p.id=f.getComponentName();return S.deleteAppVariant(p);},listAllAppVariants:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}return _("list",p);},getManifest:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}if(!p.appVarUrl){return Promise.reject("appVarUrl must be provided");}return L.appVariant.getManifest(p);},assignCatalogs:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}if(!p.assignFromAppId){return Promise.reject("assignFromAppId must be provided");}if(!p.action){return Promise.reject("action must be provided");}return _("assignCatalogs",p);},unassignCatalogs:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}if(!p.action){return Promise.reject("action must be provided");}return _("unassignCatalogs",p);}};return A;});
sap.ui.predefine('sap/ui/fl/write/api/ContextSharingAPI',["sap/ui/fl/write/api/FeaturesAPI","sap/ui/fl/variants/context/Component","sap/ui/core/ComponentContainer"],function(F,C,a){"use strict";var c;var b={createComponent:function(p){return F.isContextSharingEnabled(p.layer).then(function(i){if(i){if(!c||c.bIsDestroyed){var o=new C("contextSharing");o.setSelectedContexts({role:[]});c=new a("contextSharingContainer",{component:o});}return c;}});}};return b;});
sap.ui.predefine('sap/ui/fl/write/api/ControlPersonalizationWriteAPI',["sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core","sap/ui/core/Element","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/registry/Settings","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Layer","sap/ui/fl/Utils"],function(L,J,C,E,V,F,a,S,b,c,U){"use strict";var m={};
function d(o,s){if(!o.changeSpecificData){return Promise.reject(new Error("No changeSpecificData available"));}if(!o.changeSpecificData.changeType){return Promise.reject(new Error("No valid changeType"));}if(!(o.selectorControl instanceof E)){return Promise.reject(new Error("No valid selectorControl"));}var h=o.selectorControl.getMetadata().getName();return a.getChangeHandler(o.changeSpecificData.changeType,h,o.selectorControl,J,s);}
function g(A,o,u){var v=V.getRelevantVariantManagementControlId(o,[],u);return J.getSelector(v,A).id;}
function e(A){var v=V.getAllVariantManagementControlIds(A);return v.reduce(function(h,s){var o=C.byId(s).getFor();if(o.length){h.push(J.getSelector(s,A).id);}return h;},[]);}
function l(M){L.error(M);return Promise.reject(M);}
var f={add:function(p){if(!p.changes.length){return Promise.resolve([]);}var r=(p.changes[0].selectorElement||p.changes[0].selectorControl);var A=U.getAppComponentForControl(r);var s=F.getFlexReference({element:r});var o=b.createForControl(A);var v=A.getModel(U.VARIANT_MODEL_NAME);var h=c.USER;var i=[];function j(){var n=[];return p.changes.reduce(function(q,P){return q.then(function(){P.selectorControl=P.selectorElement;return d(P,h);}).then(function(){if(!p.ignoreVariantManagement){if(!P.changeSpecificData.variantReference){var t=g(A,P.selectorControl,p.useStaticArea);if(t){var u=v.oData[t].currentVariant;P.changeSpecificData.variantReference=u;}}}else{delete P.changeSpecificData.variantReference;}P.changeSpecificData=Object.assign(P.changeSpecificData,{developerMode:false,layer:h});return o.addChange(P.changeSpecificData,P.selectorControl);}).then(function(t){n.push({changeInstance:t,selectorControl:P.selectorControl});}).catch(function(t){L.error("A Change was not added successfully. Reason:",t.message);});},Promise.resolve()).then(function(){return n;});}function k(n){return n.reduce(function(q,t){return q.then(function(){return o.applyChange(t.changeInstance,t.selectorControl);}).then(function(u){i.push(u);}).catch(function(u){L.error("A Change was not applied successfully. Reason:",u.message);});},Promise.resolve());}return j().then(k).then(function(){(m[s]||[]).forEach(function(n){n(i);});return i;});},reset:function(p){if(!p.selectors||p.selectors.length===0){return l("At least one control ID has to be provided as a parameter");}var A=p.selectors[0].appComponent||U.getAppComponentForControl(p.selectors[0]);if(!A){return l("App Component could not be determined");}var s=p.selectors.map(function(v){var h=v.id||v.getId();var i=A.getLocalId(h);return i||h;});var o=b.createForControl(A);return o.resetChanges(c.USER,undefined,A,s,p.changeTypes);},restore:function(p){if(!p||!p.selector){return Promise.reject("No selector was provided");}var A=U.getAppComponentForControl(p.selector);if(!A){return Promise.reject("App Component could not be determined");}var o=b.createForControl(A);return o.removeDirtyChanges(c.USER,A,p.selector,p.generator,p.changeTypes);},save:function(p){var A=p.selector.appComponent||U.getAppComponentForControl(p.selector);if(!A){return l("App Component could not be determined");}var o=b.createForControl(A);var v=A.getModel(U.VARIANT_MODEL_NAME);var h=e(A);return o.saveSequenceOfDirtyChanges(p.changes,A).then(function(r){v.checkDirtyStateForControlModels(h);return r;});},buildSelectorFromElementIdAndType:function(p){var A=U.getAppComponentForControl(p.element);if(!A||!p.elementId||!p.elementType){throw new Error("Not enough information given to build selector.");}return{elementId:p.elementId,elementType:p.elementType,appComponent:A,id:p.elementId,controlType:p.elementType};},isCondensingEnabled:function(){return S.getInstance().then(function(s){return s.isCondensingEnabled(c.USER);});},attachChangeCreation:function(o,h){var s=F.getFlexReference({element:o});m[s]=(m[s]||[]).concat(h);},detachChangeCreation:function(o,h){var s=F.getFlexReference({element:o});if(Array.isArray(m[s])){m[s]=m[s].filter(function(r){return r!==h;});}},detachAllChangeCreationListeners:function(o){if(o){var s=F.getFlexReference({element:o});delete m[s];}else{m={};}}};return f;});
sap.ui.predefine('sap/ui/fl/write/api/ExtensionPointRegistryAPI',["sap/ui/fl/write/_internal/extensionPoint/Registry"],function(E){"use strict";var a={getExtensionPointInfo:function(p){return E.getExtensionPointInfo(p.name,p.view);},getExtensionPointInfoByViewId:function(p){return E.getExtensionPointInfoByViewId(p.viewId);},getExtensionPointInfoByParentId:function(p){return E.getExtensionPointInfoByParentId(p.parentId);}};return a;});
sap.ui.predefine('sap/ui/fl/write/api/FeaturesAPI',["sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Layer"],function(S,a,L){"use strict";var F={isPublishAvailable:function(){return S.getInstance().then(function(s){return(!s.isProductiveSystem()&&s.isSystemWithTransports());});},isSaveAsAvailable:function(l){return S.getInstance().then(function(s){if(s.isAppVariantSaveAsEnabled()&&l===L.CUSTOMER&&sap.ushell_abap){return true;}return false;});},isKeyUser:function(){return S.getInstance().then(function(s){return s.isKeyUser();});},isVersioningEnabled:function(l){return S.getInstance().then(function(s){return s.isVersioningEnabled(l);});},isKeyUserTranslationEnabled:function(l){if(l===L.CUSTOMER){return S.getInstance().then(function(s){return s.isKeyUserTranslationEnabled();});}return Promise.resolve(false);},isContextSharingEnabled:function(l){if(l!==L.CUSTOMER){return Promise.resolve(false);}return a.isContextSharingEnabled({layer:l});}};return F;});
sap.ui.predefine('sap/ui/fl/write/api/FieldExtensibility',["sap/ui/fl/write/_internal/fieldExtensibility/ABAPAccess","sap/ui/fl/write/_internal/fieldExtensibility/cap/CAPAccess","sap/base/util/UriParameters","sap/ui/base/ManagedObject","sap/ui/fl/Utils"],function(A,C,U,M,F){"use strict";var a={};var _;
function g(o){if(!_){if(!(o instanceof M)){return undefined;}var b=F.getAppComponentForControl(o);var m=(b&&b.getManifestEntry("/sap.ui5/config"))||{};var u=U.fromQuery(window.location.search);if(m.experimentalCAPScenario||u.get("sap-ui-fl-xx-capScenario")==="true"){_=C;}else{_=A;}}return _;}
function c(){var b=Array.from(arguments);var f=b.shift();var i=g.apply(null,b);if(!i){return Promise.reject("Could not determine field extensibility scenario");}return Promise.resolve(i[f].apply(null,b));}
a.onControlSelected=function(o){return c("onControlSelected",o);};
a.isExtensibilityEnabled=function(o){return c("isExtensibilityEnabled",o);};
a.isServiceOutdated=function(s){return c("isServiceOutdated",s);};
a.setServiceValid=function(s){return c("setServiceValid",s);};
a.getTexts=function(){return c("getTexts");};
a.getExtensionData=function(){return c("getExtensionData");};
a.onTriggerCreateExtensionData=function(e,r){return c("onTriggerCreateExtensionData",e,r);};
a._resetCurrentScenario=function(){_=null;};
return a;});
sap.ui.predefine('sap/ui/fl/write/api/LocalResetAPI',["sap/ui/fl/write/api/PersistenceWriteAPI","sap/ui/fl/write/api/ChangesWriteAPI","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/Change","sap/ui/fl/Utils","sap/ui/fl/ChangePersistenceFactory","sap/base/util/restricted/_union"],function(P,C,J,a,U,b,u){"use strict";var L={};
function g(o,l,s){var p={includeDirtyChanges:true,layer:l};var d=b.getChangePersistenceForControl(o);return d.getAllUIChanges(p).filter(function(e){return(e.getState()!==a.states.DELETED&&e.getVariantReference()===(s||""));});}
function c(t){var o=U.getAppComponentForControl(t);var n=[];var O=[];function i(e,r){var R=(r||[]).concat(e);if(e===t||n.includes(e)){n=u(n,R);return true;}var p=e.getParent();if(O.includes(e)||!p){O=u(O,R);return false;}return i(p,R);}function d(e){return e.getDependentSelectorList().map(function(s){return J.bySelector(s,o);}).filter(Boolean).some(function(D){return i(D);});}return d;}
L.resetChanges=function(d,A){var r=d.slice().reverse();var R=r.map(function(o){var e=J.bySelector(o.getSelector(),A);return function(){return P.remove({change:o,selector:e}).then(function(){o.setQueuedForRevert();return C.revert({change:o,element:e});});};});return U.execPromiseQueueSequentially(R);};
L.restoreChanges=function(d,A){var e=d.map(function(o){return function(){o.restorePreviousState();var f=J.bySelector(o.getSelector(),A);P.add({change:o,selector:f});if(o.getState()===a.states.PERSISTED){var h=b.getChangePersistenceForControl(A);var D=h.getDirtyChanges();var i=D.indexOf(o);if(i>=0){D.splice(i,1);}}return C.apply({change:o,element:f,modifier:J});};});return U.execPromiseQueueSequentially(e);};
L.getNestedUIChangesForControl=function(o,p){var d=g(o,p.layer,p.currentVariant);var f=c(o);return d.filter(f);};
L.isResetEnabled=function(o,p){var d=g(o,p.layer,p.currentVariant);var f=c(o);return d.some(f);};
return L;});
sap.ui.predefine('sap/ui/fl/write/api/PersistenceWriteAPI',["sap/base/util/includes","sap/base/util/restricted/_omit","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes","sap/ui/fl/write/_internal/condenser/Condenser","sap/ui/fl/write/_internal/flexState/FlexObjectState","sap/ui/fl/write/_internal/Storage","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/write/api/FeaturesAPI","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(i,_,L,J,F,C,D,a,b,S,M,V,c,d,e,f,g){"use strict";var P={};
function h(o){return(o._getMap&&i(D.getChangeTypes(),o._getMap().changeType))||(o.getChangeType&&i(D.getChangeTypes(),o.getChangeType()));}
function j(p){p.includeCtrlVariants=true;p.invalidateCache=false;return P._getUIChanges(p).then(function(l){return l.length>0;});}
function k(l,o){var m=g.getAppComponentForControl(o);var n=m.getModel(g.VARIANT_MODEL_NAME);var s=n&&n.sFlexReference;var v=V.getVariantManagementReferences(s);if(v.length===0){return l;}var p=v.map(function(q){return n.getCurrentVariantReference(q);});return l.filter(function(q){return p.some(function(r){return q.getVariantReference()===r||!q.getVariantReference();});});}
P.hasHigherLayerChanges=function(p){p.upToLayer=p.upToLayer||e.getCurrentLayer();return b.getFlexObjects(p).then(function(l){return l.filter(function(o){return e.isOverLayer(o.getLayer(),p.upToLayer);});}).then(function(l){return l.length>0;});};
P.save=function(p){return b.saveFlexObjects(p);};
P.getResetAndPublishInfo=function(p){return Promise.all([j(p),c.isPublishAvailable()]).then(function(r){var H=r[0];var I=r[1];var l=p.layer!==d.USER&&p.layer!==d.PUBLIC;var o={isResetEnabled:H,isPublishEnabled:false,allContextsProvided:true};if(l){return S.getFlexInfo(p).then(function(R){o.allContextsProvided=R.allContextsProvided===undefined||R.allContextsProvided;o.isResetEnabled=R.isResetEnabled;o.isPublishEnabled=I&&R.isPublishEnabled;return o;}).catch(function(E){L.error("Sending request to flex/info route failed: "+E.message);return o;});}return o;});};
P.getResetAndPublishInfoFromSession=function(o){var p=M.getFlexReferenceForControl(o)||"true";return JSON.parse(window.sessionStorage.getItem("sap.ui.fl.info."+p));};
P.reset=function(p){var A=C.getAppComponentForSelector(p.selector);var o=C.getFlexControllerInstance(A);var l=[p.layer,p.generator,A,p.selectorIds,p.changeTypes];return o.resetChanges.apply(o,l);};
P.publish=function(p){p.styleClass=p.styleClass||"";var A=C.getAppComponentForSelector(p.selector);return C.getFlexControllerInstance(A)._oChangePersistence.transportAllUIChanges({},p.styleClass,p.layer,p.appVariantDescriptors);};
P.add=function(p){if(h(p.change)){return p.change.store();}var A=C.getAppComponentForSelector(p.selector);return C.getFlexControllerInstance(A).addPreparedChange(p.change,A);};
P.remove=function(p){var o;var A;return Promise.resolve().then(function(){if(!p.selector){return Promise.reject(new Error("An invalid selector was passed so change could not be removed with id: "+p.change.getId()));}A=C.getAppComponentForSelector(p.selector);if(!A){return Promise.reject(new Error("Invalid application component for selector, change could not be removed with id: "+p.change.getId()));}if(h(p.change)){var l=C.getDescriptorFlexControllerInstance(A);l.deleteChange(p.change,A);return undefined;}var E=J.bySelector(p.change.getSelector(),A);o=C.getFlexControllerInstance(A);if(E){F.sync.destroyAppliedCustomData(E,p.change,J);}o.deleteChange(p.change,A);return undefined;});};
P.getChangesWarning=function(p){return this._getUIChanges(p).then(function(l){var H=l.some(function(q){return q.isChangeFromOtherSystem();});var s=f.getInstanceOrUndef();var m=s&&s.isProductiveSystemWithTransports();var n=l.length===0;var o={showWarning:false};if(H){o={showWarning:true,warningType:"mixedChangesWarning"};}if(m&&n){o={showWarning:true,warningType:"noChangesAndPSystemWarning"};}return o;});};
P._condense=function(p){return Promise.resolve().then(function(){if(!p.selector){throw Error("An invalid selector was passed");}var A=C.getAppComponentForSelector(p.selector);if(!A){throw Error("Invalid application component for selector");}if(!p.changes||p.changes&&!Array.isArray(p.changes)){throw Error("Invalid array of changes");}return a.condense(A,p.changes);});};
P._getUIChanges=function(p){if(p.layer){p.currentLayer=p.layer;}return b.getFlexObjects(p).then(function(l){if(p.onlyCurrentVariants){return k(l,p.selector);}return l;});};
return P;});
sap.ui.predefine('sap/ui/fl/write/api/ReloadInfoAPI',["sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/fl/write/api/Version","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/api/VersionsAPI","sap/ui/fl/write/api/FeaturesAPI","sap/ui/fl/write/api/PersistenceWriteAPI","sap/base/util/UriParameters"],function(L,a,U,V,M,b,F,P){"use strict";
function i(r){var u=!!U.getParameter(V.UrlParameter,r.URLParsingService);if(u){return Promise.resolve(false);}return F.isVersioningEnabled(r.layer).then(function(v){return v&&b.isDraftAvailable({control:r.selector,layer:r.layer});});}
function c(r){var u=this.hasMaxLayerParameterWithValue({value:r.layer},r.URLParsingService);var e=r.layer===a.USER;if(e||u){return Promise.resolve(false);}return P.hasHigherLayerChanges({selector:r.selector,ignoreMaxLayerParameter:r.ignoreMaxLayerParameter,upToLayer:r.layer,includeCtrlVariants:r.includeCtrlVariants,includeDirtyChanges:true});}
function d(r){var C=g(r.selector);if(C!==null){return false;}var p={selector:r.selector,layer:r.layer};return P.getResetAndPublishInfo(p).then(function(o){s(o,r.selector);return!o.allContextsProvided;});}
function g(C){var f=M.getFlexReferenceForControl(C);var p=f||"true";var o=JSON.parse(window.sessionStorage.getItem("sap.ui.fl.info."+p));return o&&!o.allContextsProvided;}
function s(I,C){var f=M.getFlexReferenceForControl(C);var p=f||"true";window.sessionStorage.setItem("sap.ui.fl.info."+p,JSON.stringify(I));}
var R={getReloadReasonsForStart:function(r){return Promise.all([c.call(this,r),i(r),d(r)]).then(function(e){r.hasHigherLayerChanges=e[0];r.isDraftAvailable=e[1];r.allContexts=e[2];return r;});},removeInfoSessionStorage:function(C){var f=M.getFlexReferenceForControl(C);var p=f||"true";window.sessionStorage.removeItem("sap.ui.fl.info."+p);},hasVersionParameterWithValue:function(p,u){return U.hasParameterAndValue(V.UrlParameter,p.value,u);},hasMaxLayerParameterWithValue:function(p,u){var e=L.FL_MAX_LAYER_PARAM;return U.hasParameterAndValue(e,p.value,u);},handleUrlParametersForStandalone:function(r){if(r.hasHigherLayerChanges){r.parameters=U.handleUrlParameters(r.parameters,L.FL_MAX_LAYER_PARAM,r.layer,r.URLParsingService);}var v=new RegExp("\&*"+V.UrlParameter+"=-?\\d*\&?","g");r.parameters=r.parameters.replace(v,"");if(r.isDraftAvailable&&!r.onExit){r.parameters=U.handleUrlParameters(r.parameters,V.UrlParameter,V.Number.Draft,r.URLParsingService);}if(r.versionSwitch){r.parameters=U.handleUrlParameters(r.parameters,V.UrlParameter,r.version,r.URLParsingService);}if(r.parameters==="?"){r.parameters="";}return r.parameters;},handleParametersOnStart:function(r){var p=U.getParsedURLHash(r.URLParsingService);p.params=p.params||{};if(r.hasHigherLayerChanges){p.params[L.FL_MAX_LAYER_PARAM]=[r.layer];}if(r.isDraftAvailable){p.params[V.UrlParameter]=[V.Number.Draft];}return p;},initialDraftGotActivated:function(r){if(r.versioningEnabled){var u=this.hasVersionParameterWithValue({value:V.Number.Draft},r.URLParsingService);return!b.isDraftAvailable({control:r.selector,layer:r.layer})&&u;}return false;},getReloadMethod:function(r){var o={NOT_NEEDED:"NO_RELOAD",RELOAD_PAGE:"HARD_RELOAD",VIA_HASH:"CROSS_APP_NAVIGATION"};r.reloadMethod=o.NOT_NEEDED;r.isDraftAvailable=r.isDraftAvailable||R.hasVersionParameterWithValue({value:V.Number.Draft},r.URLParsingService);r.hasVersionUrlParameter=!!U.getParameter(V.UrlParameter,r.URLParsingService);if(r.activeVersion!==V.Number.Original){r.activeVersionNotSelected=r.activeVersion&&!R.hasVersionParameterWithValue({value:r.activeVersion},r.URLParsingService);}r.hasHigherLayerChanges=R.hasMaxLayerParameterWithValue({value:r.layer},r.URLParsingService);r.initialDraftGotActivated=R.initialDraftGotActivated(r);if(r.initialDraftGotActivated){r.isDraftAvailable=false;}r.allContexts=g(r.selector);if(r.changesNeedReload||r.isDraftAvailable||r.hasHigherLayerChanges||r.initialDraftGotActivated||r.activeVersionNotSelected||r.allContexts){r.reloadMethod=o.RELOAD_PAGE;if(!r.changesNeedReload&&U.getUshellContainer()){r.reloadMethod=o.VIA_HASH;}}this.removeInfoSessionStorage(r.selector);return r;}};return R;});
sap.ui.predefine('sap/ui/fl/write/api/SmartBusinessWriteAPI',["sap/ui/fl/write/_internal/appVariant/AppVariantFactory","sap/ui/fl/write/api/PersistenceWriteAPI","sap/ui/fl/write/api/ChangesWriteAPI","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/write/_internal/SaveAs","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/ui/fl/registry/Settings"],function(A,P,C,a,S,L,b){"use strict";
function _(s,p){return b.getInstance().then(function(o){if(o.isAtoEnabled()){p.skipIam=true;p.transport="ATO_NOTIFICATION";}return S[s](p);});}
function c(p){if(!p.appId){return Promise.reject("App Variant ID must be provided");}p.selector={appId:p.appId};var D=a.getDescriptorFlexControllerInstance(p.selector);p.id=D.getComponentName();p.isForSmartBusiness=true;}
var d={create:function(p){if(!p.layer){return Promise.reject("Layer must be provided");}if(!p.selector||!p.selector.appId){return Promise.reject("selector.appId must be provided");}if(!p.id){return Promise.reject("App variant ID must be provided");}var f=a.getDescriptorFlexControllerInstance(p.selector);p.reference=f.getComponentName();p.isForSmartBusiness=true;return _("saveAs",p);},update:function(p){c(p);return _("updateAppVariant",p);},remove:function(p){c(p);return _("deleteAppVariant",p);},getDesignTimeVariant:function(p){if(!p.id){return Promise.reject("App Variant ID must be provided");}return A.load(p);},getRunTimeVariant:function(p){if(!p.appId){return Promise.reject("Reference App ID must be provided");}if(!p.id){return Promise.reject("App Variant ID must be provided");}var s="/sap/bc/lrep/content/apps/"+p.appId+"/appVariants/"+p.id+"/manifest.appdescr_variant";return L.appVariant.getManifest({appVarUrl:s});},createDescriptorInlineChanges:function(p){if(!p.appId){return Promise.reject("appId must be provided");}if(!p.changeSpecificData){return Promise.reject("changeSpecificData must be provided");}p.selector={appId:p.appId};return C.create(p);},add:function(p){if(!p.appId){return Promise.reject("appId must be provided");}if(!p.change){return Promise.reject("Change instance must be provided");}p.selector={appId:p.appId};return P.add(p);}};return d;});
sap.ui.predefine('sap/ui/fl/write/api/SmartVariantManagementWriteAPI',["sap/ui/fl/apply/_internal/flexState/compVariants/Utils","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState","sap/ui/fl/write/_internal/transport/TransportSelection","sap/base/util/UriParameters","sap/ui/fl/registry/Settings"],function(C,M,a,T,U,S){"use strict";
function s(p,f){p.persistencyKey=C.getPersistencyKey(p.control);if(!p.reference){p.reference=M.getFlexReferenceForControl(p.control);}return f(p);}
var b={addVariant:function(p){return s(p,a.addVariant);},updateVariant:function(p){return s(p,a.updateVariant);},removeVariant:function(p){return s(p,a.removeVariant);},revert:function(p){return s(p,a.revert);},save:function(p){return s(p,a.persist);},setDefaultVariantId:function(p){return s(p,a.setDefault);},isVariantSharingEnabled:function(){return S.getInstance().then(function(i){return i.isVariantSharingEnabled();});},isVariantPersonalizationEnabled:function(){return S.getInstance().then(function(i){return i.isVariantPersonalizationEnabled();});},isVariantAdaptationEnabled:function(){return S.getInstance().then(function(i){return i.isVariantAdaptationEnabled();});},overrideStandardVariant:function(p){s(p,a.overrideStandardVariant);},revertSetDefaultVariantId:function(p){return s(p,a.revertSetDefaultVariantId);},_getTransportSelection:function(){function t(){var l=U.fromQuery(window.location.search).get("sap-ui-layer")||"";return!!l;}var o=new T();o.selectTransport=function(O,f,e,c,d,g){if(!t()){f(o._createEventObject(O,{transportId:""}));return;}T.prototype.selectTransport.call(this,O,f,e,c,d,g);};return o;}};return b;});
sap.ui.predefine('sap/ui/fl/write/api/TranslationAPI',["sap/ui/core/Core","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/write/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/Storage","sap/ui/fl/ChangePersistenceFactory","sap/base/util/isEmptyObject","sap/ui/fl/Utils"],function(C,a,F,b,M,S,c,i,U){"use strict";
function g(r){if(!r){return[];}var o=c.getChangePersistenceForComponent(r);return o.getDirtyChanges();}
function d(p){var A=U.getAppComponentForControl(p.selector);var f=M.getFlexReferenceForControl(A);return g(U.normalizeReference(f));}
var T={};
T.hasTranslationRelevantDirtyChanges=function(p){return[].concat(F.getDirtyFlexObjects(p),d(p)).some(function(o){return!i(o.getTexts());});};
T.getTexts=function(p){if(!p.selector){return Promise.reject("No selector was provided");}if(!p.sourceLanguage){return Promise.reject("No sourceLanguage was provided");}if(!p.targetLanguage){return Promise.reject("No targetLanguage was provided");}if(!p.layer){return Promise.reject("No layer was provided");}var A=U.getAppComponentForControl(p.selector);p.reference=M.getFlexReferenceForControl(A);return Promise.resolve().then(S.translation.getTexts.bind(undefined,p));};
T.getSourceLanguages=function(p){if(!p.selector){return Promise.reject("No selector was provided");}if(!p.layer){return Promise.reject("No layer was provided");}var A=U.getAppComponentForControl(p.selector);p.reference=M.getFlexReferenceForControl(A);return S.translation.getSourceLanguages(p).then(function(l){var s=C.getConfiguration().getLanguage();if(!l.includes(s)&&T.hasTranslationRelevantDirtyChanges(p)){l.push(s);}return l;});};
T.uploadTranslationTexts=function(p){if(!p.layer){return Promise.reject("No layer was provided");}if(!p.payload){return Promise.reject("No payload was provided");}return Promise.resolve().then(S.translation.postTranslationTexts.bind(undefined,p));};
return T;});
sap.ui.predefine('sap/ui/fl/write/api/UI2PersonalizationWriteAPI',["sap/ui/fl/apply/_internal/flexState/UI2Personalization/UI2PersonalizationState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/ChangesController","sap/base/util/restricted/_omit"],function(U,F,C,_){"use strict";var a={create:function(p){var f=C.getFlexControllerInstance(p.selector);p.reference=f.getComponentName();if(!p.reference||!p.containerKey||!p.itemName||!p.content||!p.category||!p.containerCategory){return Promise.reject(new Error("not all mandatory properties were provided for the storage of the personalization"));}return F.initialize({componentId:p.selector.getId()}).then(function(){return U.setPersonalization(_(p,["selector"]));});},deletePersonalization:function(p){var f=C.getFlexControllerInstance(p.selector);p.reference=f.getComponentName();if(!p.reference||!p.containerKey||!p.itemName){return Promise.reject(new Error("not all mandatory properties were provided for the deletion of the personalization"));}return F.initialize({componentId:p.selector.getId()}).then(function(){return U.deletePersonalization(p.reference,p.containerKey,p.itemName);});}};return a;});
sap.ui.predefine('sap/ui/fl/write/api/VersionsAPI',["sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/write/_internal/Versions","sap/ui/fl/Utils","sap/ui/fl/write/api/Version","sap/ui/fl/apply/_internal/flexState/ManifestUtils"],function(F,V,U,a,M){"use strict";
function g(d){var r=M.getFlexReferenceForControl(d);if(!r){throw Error("The application ID could not be determined");}return r;}
function b(p){if(!p.control){throw Error("No control was provided");}if(!p.layer){throw Error("No layer was provided");}var r=g(p.control);return V.getVersionsModel({nonNormalizedReference:r,reference:U.normalizeReference(r),layer:p.layer});}
var c={};
c.initialize=function(p){if(!p.control){return Promise.reject("No control was provided");}if(!p.layer){return Promise.reject("No layer was provided");}var A=U.getAppComponentForControl(p.control);return V.initialize({reference:U.normalizeReference(g(A)),layer:p.layer});};
c.isDraftAvailable=function(p){var m=b(p);var v=m.getProperty("/versions");var d=v.find(function(o){return o.version===a.Number.Draft;});return!!d;};
c.isOldVersionDisplayed=function(p){var m=b(p);var d=m.getProperty("/displayedVersion");var e=m.getProperty("/activeVersion");return d!==a.Number.Draft&&d!==e;};
c.loadDraftForApplication=function(p){p.version=a.Number.Draft;return c.loadVersionForApplication(p);};
c.loadVersionForApplication=function(p){if(!p.control){return Promise.reject("No control was provided");}if(!p.layer){return Promise.reject("No layer was provided");}if(p.version===undefined){var m=b(p);if(m){p.version=m.getProperty("/activeVersion");}}var A=U.getAppComponentForControl(p.control);var r=g(A);return F.clearAndInitialize({componentId:A.getId(),reference:r,version:p.version,allContexts:p.allContexts});};
c.activate=function(p){if(!p.control){return Promise.reject("No control was provided");}if(!p.layer){return Promise.reject("No layer was provided");}if(!p.title){return Promise.reject("No version title was provided");}var r=g(p.control);return V.activate({nonNormalizedReference:r,reference:U.normalizeReference(r),layer:p.layer,title:p.title,appComponent:U.getAppComponentForControl(p.control)});};
c.discardDraft=function(p){if(!p.control){return Promise.reject("No control was provided");}if(!p.layer){return Promise.reject("No layer was provided");}var A=U.getAppComponentForControl(p.control);var r=g(A);return V.discardDraft({nonNormalizedReference:r,reference:U.normalizeReference(r),layer:p.layer}).then(function(d){if(d.backendChangesDiscarded){F.clearAndInitialize({componentId:A.getId(),reference:r});}return d;});};
c.publish=function(p){if(!p.selector){return Promise.reject("No selector was provided");}if(!p.layer){return Promise.reject("No layer was provided");}if(!p.version){return Promise.reject("No version was provided");}p.styleClass=p.styleClass||"";p.reference=g(p.selector);return V.publish(p);};
return c;});
sap.ui.predefine('sap/ui/fl/write/api/connectors/FileListBaseConnector',["sap/ui/fl/initial/_internal/StorageUtils","sap/base/util/LoaderExtensions"],function(S,L){"use strict";return{getFileList:function(){return Promise.reject("not implemented");},layers:[],loadFlexData:function(p){return this.getFileList(p.reference).then(function(f){return Promise.all(f.map(function(u){return L.loadResource({dataType:"json",url:u,async:true});})).then(function(F){var g=S.getGroupedFlexObjects(F);return S.filterAndSortResponses(g);});});}};});
sap.ui.predefine('sap/ui/fl/write/api/connectors/ObjectStorageConnector',["sap/base/util/merge","sap/ui/fl/write/connectors/BaseConnector","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/apply/_internal/connectors/ObjectStorageUtils"],function(m,B,S,O){"use strict";
function l(p){var f=[];return O.forEachObjectInStorage(p,function(F){f.push(F.changeDefinition);}).then(function(){return f;});}
function s(p,c){var d=true;if(p.selectorIds){if(c.selector){d=p.selectorIds.indexOf(c.selector.id)>-1;}else{d=false;}}if(d&&p.changeTypes){d=p.changeTypes.indexOf(c.changeType)>-1;}return d;}
function a(f,c){if(!f.creation){var n=Date.now()+c;f.creation=new Date(n).toISOString();}return f;}
var b=m({},B,{storage:undefined,layers:["ALL"],loadFlexData:function(p){return l({storage:this.storage,reference:p.reference}).then(function(f){var g=S.getGroupedFlexObjects(f);return S.filterAndSortResponses(g);});},write:function(p){var P=p.flexObjects.map(function(f,i){var k=O.createFlexObjectKey(f);f=a(f,++i);var F=this.storage._itemsStoredAsObjects?f:JSON.stringify(f);return this.storage.setItem(k,F);}.bind(this));return Promise.all(P).then(function(){});},update:function(p){var f=p.flexObject;var k=O.createFlexObjectKey(p.flexObject);var F=this.storage._itemsStoredAsObjects?f:JSON.stringify(f);var v=this.storage.setItem(k,F);return Promise.resolve(v);},reset:function(p){return O.forEachObjectInStorage({storage:this.storage,reference:p.reference,layer:p.layer},function(f){if(s(p,f.changeDefinition)){return Promise.resolve(this.storage.removeItem(f.key)).then(function(){return{fileName:f.changeDefinition&&f.changeDefinition.fileName};});}}.bind(this)).then(function(r){return{response:r.filter(function(c){return!!c;})};});},remove:function(p){var k=O.createFlexObjectKey(p.flexObject);this.storage.removeItem(k);var r=this.storage.removeItem(k);return Promise.resolve(r);},loadFeatures:function(){return Promise.resolve({isKeyUser:true,isVariantSharingEnabled:true,isProductiveSystem:false});},getFlexInfo:function(p){p.storage=this.storage;return O.getAllFlexObjects(p).then(function(f){return{isResetEnabled:f.length>0};});}});return b;});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/fl/FakeLrepConnector',["sap/ui/fl/Cache","sap/ui/fl/write/_internal/connectors/ObjectPathConnector","sap/ui/fl/apply/_internal/connectors/ObjectStorageUtils"],function(C,O,a){"use strict";var F={};var b="sap.ui.fl";F.prototype={};
F.enableFakeConnector=function(i){this.setFlexibilityServicesAndClearCache("LocalStorageConnector",i);};
F.setFlexibilityServicesAndClearCache=function(s,i){this._oFlexibilityServices=sap.ui.getCore().getConfiguration().getFlexibilityServices();var c=[];if(i){O.setJsonPath(i);c.push({connector:"ObjectPathConnector"});}c.push({connector:s});sap.ui.getCore().getConfiguration().setFlexibilityServices(c);C.clearEntries();};
F.disableFakeConnector=function(){F.prototype={};C.clearEntries();if(this._oFlexibilityServices){sap.ui.getCore().getConfiguration().setFlexibilityServices(this._oFlexibilityServices);delete this._oFlexibilityServices;}};
F.forTesting={getNumberOfChanges:function(c,r){return c.loadFlexData({reference:r}).then(function(R){return R.reduce(function(n,o){return n+o.changes.length;},0);});},spyMethod:function(s,c,o,m){var S=s.spy(o,m);return function(n,i){i=i||0;var N=S.getCall(i).args[0].flexObjects.length;c.equal(N,n,m+" was called "+n+" times");};},clear:function(c,p){C.clearEntries();return c.reset(p);},setStorage:function(c,n){c.storage=n;},synchronous:{clearAll:function(s){var r=function(k){var i=k.includes(b);if(!i){return;}s.removeItem(k);};Object.keys(s).map(r);},store:function(s,k,i){var f=a.createFlexKey(k);var I=JSON.stringify(i);s.setItem(f,I);},getNumberOfChanges:function(s,r){var c=0;Object.keys(s).map(function(k){var i=k.includes(b);if(!i){return;}var f=JSON.parse(s.getItem(k));if(f.reference===r||f.reference+".Component"===r){c++;}});return c;}}};return F;},true);
sap.ui.predefine('sap/ui/fl/descriptorRelated/api/DescriptorInlineChangeFactory',["sap/ui/fl/write/_internal/appVariant/AppVariantInlineChangeFactory","sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes","sap/base/util/merge"],function(A,D,m){"use strict";
function _(c,p,t){var P=m({},{changeType:c},{content:p});if(t){P.texts=t;}return P;}
var a={};
a.getDescriptorChangeTypes=function(){return D.getChangeTypes();};
a.getCondensableDescriptorChangeTypes=function(){return D.getCondensableChangeTypes();};
a.createNew=function(c,p,t){var P=_(c,p,t);return A.createNew(P);};
a.createDescriptorInlineChange=function(d,p,t){var P=_(d,p,t);return A.createDescriptorInlineChange(P);};
a.create_ovp_addNewCard=function(p,t){var P=_("appdescr_ovp_addNewCard",p,t);return A.create_ovp_addNewCard(P);};
a.create_ovp_removeCard=function(p){var P=_("appdescr_ovp_removeCard",p);return A.create_ovp_removeCard(P);};
a.create_ovp_changeCard=function(p,t){var P=_("appdescr_ovp_changeCard",p,t);return A.create_ovp_changeCard(P);};
a.create_app_addNewInbound=function(p,t){var P=_("appdescr_app_addNewInbound",p,t);return A.create_app_addNewInbound(P);};
a.create_app_removeInbound=function(p){var P=_("appdescr_app_removeInbound",p);return A.create_app_removeInbound(P);};
a.create_app_removeAllInboundsExceptOne=function(p){var P=_("appdescr_app_removeAllInboundsExceptOne",p);return A.create_app_removeAllInboundsExceptOne(P);};
a.create_app_changeInbound=function(p,t){var P=_("appdescr_app_changeInbound",p,t);return A.create_app_changeInbound(P);};
a.create_app_addNewOutbound=function(p){var P=_("appdescr_app_addNewOutbound",p);return A.create_app_addNewOutbound(P);};
a.create_app_removeOutbound=function(p){var P=_("appdescr_app_removeOutbound",p);return A.create_app_removeOutbound(P);};
a.create_app_changeOutbound=function(p){var P=_("appdescr_app_changeOutbound",p);return A.create_app_changeOutbound(P);};
a.create_app_addNewDataSource=function(p){var P=_("appdescr_app_addNewDataSource",p);return A.create_app_addNewDataSource(P);};
a.create_app_removeDataSource=function(p){var P=_("appdescr_app_removeDataSource",p);return A.create_app_removeDataSource(P);};
a.create_app_changeDataSource=function(p){var P=_("appdescr_app_changeDataSource",p);return A.create_app_changeDataSource(P);};
var T={BEGINNING:"BEGINNING",END:"END"};
a.create_app_addAnnotationsToOData=function(p){var P=_("appdescr_app_addAnnotationsToOData",p);return A.create_app_addAnnotationsToOData(P);};
a.create_app_setTitle=function(p,t){if(!t){t={"":p};p={};}var P=_("appdescr_app_setTitle",p,t);return A.create_app_setTitle(P);};
a.create_app_setSubTitle=function(p,t){if(!t){t={"":p};p={};}var P=_("appdescr_app_setSubTitle",p,t);return A.create_app_setSubTitle(P);};
a.create_app_setShortTitle=function(p,t){if(!t){t={"":p};p={};}var P=_("appdescr_app_setShortTitle",p,t);return A.create_app_setShortTitle(P);};
a.create_app_setDescription=function(p,t){if(!t){t={"":p};p={};}var P=_("appdescr_app_setDescription",p,t);return A.create_app_setDescription(P);};
a.create_app_setInfo=function(p,t){if(!t){t={"":p};p={};}var P=_("appdescr_app_setInfo",p,t);return A.create_app_setInfo(P);};
a.create_app_setAch=function(p){var P=_("appdescr_app_setAch",p);return A.create_app_setAch(P);};
a.create_app_setDestination=function(p){var P=_("appdescr_app_setDestination",p);return A.create_app_setDestination(P);};
a.create_app_setKeywords=function(p,t){var P=_("appdescr_app_setKeywords",p,t);return A.create_app_setKeywords(P);};
a.create_app_addTechnicalAttributes=function(p){var P=_("appdescr_app_addTechnicalAttributes",p);return A.create_app_addTechnicalAttributes(P);};
a.create_app_removeTechnicalAttributes=function(p){var P=_("appdescr_app_removeTechnicalAttributes",p);return A.create_app_removeTechnicalAttributes(P);};
a.create_app_addCdsViews=function(p){var P=_("appdescr_app_addCdsViews",p);return A.create_app_addCdsViews(P);};
a.create_app_removeCdsViews=function(p){var P=_("appdescr_app_removeCdsViews",p);return A.create_app_removeCdsViews(P);};
a.create_flp_setConfig=function(p){var P=_("appdescr_flp_setConfig",p);return A.create_flp_setConfig(P);};
a.create_ui5_addNewModel=function(p){var P=_("appdescr_ui5_addNewModel",p);return A.create_ui5_addNewModel(P);};
a.create_ui5_removeModel=function(p){var P=_("appdescr_ui5_removeModel",p);return A.create_ui5_removeModel(P);};
a.create_ui5_addNewModelEnhanceWith=function(p,t){var P=_("appdescr_ui5_addNewModelEnhanceWith",p,t);return A.create_ui5_addNewModelEnhanceWith(P);};
a.create_ui5_replaceComponentUsage=function(p){var P=_("appdescr_ui5_replaceComponentUsage",p);return A.create_ui5_replaceComponentUsage(P);};
a.create_ui5_addLibraries=function(p){var P=_("appdescr_ui5_addLibraries",p);return A.create_ui5_addLibraries(P);};
a.create_ui5_setMinUI5Version=function(p){var P=_("appdescr_ui5_setMinUI5Version",p);return A.create_ui5_setMinUI5Version(P);};
a.create_smb_addNamespace=function(p){var P=_("appdescr_smb_addNamespace",p);return A.create_smb_addNamespace(P);};
a.create_smb_changeNamespace=function(p){var P=_("appdescr_smb_changeNamespace",p);return A.create_smb_changeNamespace(P);};
a.create_ui_generic_app_setMainPage=function(p,t){var P=_("appdescr_ui_generic_app_setMainPage",p,t);return A.create_ui_generic_app_setMainPage(P);};
a.create_ui_setIcon=function(p){var P=_("appdescr_ui_setIcon",p);return A.create_ui_setIcon(P);};
a.create_ui_setDeviceTypes=function(p){var P=_("appdescr_ui_setDeviceTypes",p);return A.create_ui_setDeviceTypes(P);};
a.create_url_setUri=function(p){var P=_("appdescr_url_setUri",p);return A.create_url_setUri(P);};
a.create_fiori_setRegistrationIds=function(p){var P=_("appdescr_fiori_setRegistrationIds",p);return A.create_fiori_setRegistrationIds(P);};
a.create_ui5_setFlexExtensionPointEnabled=function(p){var P=_("appdescr_ui5_setFlexExtensionPointEnabled",p);return A.create_ui5_setFlexExtensionPointEnabled(P);};
a.create_fiori_setAbstract=function(p){var P=_("appdescr_fiori_setAbstract",p);return A.create_fiori_setAbstract(P);};
return a;});
sap.ui.predefine('sap/ui/fl/descriptorRelated/api/DescriptorVariantFactory',["sap/ui/fl/write/_internal/appVariant/AppVariantFactory"],function(A){"use strict";var D={};
D.createNew=function(p){return D.createAppVariant(p);};
D.createAppVariant=function(p){return A.prepareCreate(p);};
D.createForExisting=function(i){return A.prepareUpdate({id:i});};
D.createDeletion=function(i){return A.prepareDelete({id:i});};
return D;});
sap.ui.predefine('sap/ui/fl/util/resolveBinding',["sap/ui/base/ManagedObject","sap/ui/fl/Utils"],function(M,F){"use strict";
var H=M.extend("sap.ui.fl.util.HelperControl",{metadata:{library:"sap.ui.fl",properties:{resolved:{type:"any"}}}});
return function(v,r){if(!F.isBinding(v)){return undefined;}var V=F.getViewForControl(r);var c=V&&V.getController();var b=typeof v==="string"?M.bindingParser(v,c):Object.assign({},v);if(!b){return undefined;}var h=new H();var p=b.parts||[b];p.forEach(function(B){var m=B.model;if(m){h.setModel(r.getModel(m),m);h.setBindingContext(r.getBindingContext(m),m);}else{h.setModel(r.getModel());h.setBindingContext(r.getBindingContext());}});h.bindProperty("resolved",b);var R=h.getResolved();h.destroy();return R;};});
sap.ui.predefine('sap/ui/fl/variants/context/Component',["sap/ui/core/UIComponent"],function(U){"use strict";return U.extend("sap.ui.fl.variants.context.Component",{metadata:{manifest:"json"},getSelectedContexts:function(){var s=this.getModel("selectedContexts").getProperty("/selected");var S=s.map(function(r){return r.id;});return{role:S};},setSelectedContexts:function(s){var S=s.role.map(function(r){return{id:r,description:""};});var o=this.getModel("selectedContexts");o.setProperty("/selected",S);o.refresh(true);},hasErrorsAndShowErrorMessage:function(){return false;}});});
sap.ui.predefine('sap/ui/fl/write/_internal/appVariant/AppVariantFactory',["sap/ui/fl/write/_internal/appVariant/AppVariant","sap/ui/thirdparty/jquery","sap/ui/fl/Layer","sap/ui/fl/descriptorRelated/internal/Utils","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/base/util/merge"],function(A,q,L,U,a,m){"use strict";
function _(p){if(!p.url){p.url="/sap/bc/lrep";}return a.appVariant.load(p);}
var b={};
b.load=function(p){if(p.id===undefined||typeof p.id!=="string"){throw new Error("Parameter "+p.id+" must be provided of type string");}return _({reference:p.id}).then(function(r){var o=r.response;if(!q.isPlainObject(o)){o=JSON.parse(o);}p=m({},p,o);return new A(p);});};
b.prepareCreate=function(p){try{U.checkParameterAndType(p,"reference","string");U.checkParameterAndType(p,"id","string");if(p.version){U.checkParameterAndType(p,"version","string");}if(!p.layer){p.layer=L.CUSTOMER;}else{U.checkParameterAndType(p,"layer","string");}if(p.skipIam){U.checkParameterAndType(p,"skipIam","boolean");}if(p.transport){U.checkTransportRequest(p.transport);}if(p.package){U.checkPackage(p.package);}}catch(e){return Promise.reject(e);}p.content=[];var o=new A(p);o.setMode("NEW");return Promise.resolve(o);};
b.prepareUpdate=function(p){return b.load(p).then(function(o){o.setMode("EXISTING");return o;});};
b.prepareDelete=function(p){return((p.isForSmartBusiness)?Promise.resolve(new A(p)):b.load(p)).then(function(o){o.setMode("DELETION");return o;});};
return b;});
sap.ui.predefine('sap/ui/fl/write/_internal/extensionPoint/Processor',["sap/ui/fl/apply/_internal/extensionPoint/Processor","sap/base/util/merge"],function(A,m){"use strict";
function a(e,s){var E=m({defaultContent:[]},e);return A.registerExtensionPoint(E).then(A.createDefaultContent.bind(this,e,s,a,[])).then(A.addDefaultContentToExtensionPointInfo.bind(this,E,s));}
var P={applyExtensionPoint:function(e){return a(e,false);}};return P;});
sap.ui.predefine('sap/ui/fl/write/_internal/extensionPoint/Registry',["sap/ui/base/ManagedObjectObserver","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/Utils"],function(M,J,F){"use strict";var E={};var o={};var e={};var m={};
function a(f){var p=f.object.getId();e[p].forEach(function(g){m[g.view.getId()][g.name].bParentIsDestroyed=true;});}
function b(f){var p=f.object.getId();e[p].forEach(function(g){var A=g.aggregationName;if(A===f.name){var C=F.getAggregation(f.object,A);var h=[].concat(C||[]).map(function(i){return i.getId();});if(f.mutation==="insert"){if(h.indexOf(f.child.getId())<g.index){g.index++;}}else if(g.aggregation.indexOf(f.child.getId())<g.index){g.index--;}g.aggregation=h;}});}
function c(f){if(f.type==="destroy"){a(f);}else{b(f);}}
function s(p,A){var P=p.getId();if(!o[P]){var O=new M(c.bind(this));O.observe(p,{aggregations:[A],destroy:true});o[P]={observer:O,aggregations:[A]};}else{var i=o[P].observer.isObserved(p,{aggregations:[A]});if(!i){o[P].aggregations.push(A);o[P].observer.observe(p,{aggregations:o[P].aggregations,destroy:true});}}}
function d(p,A,f){var v=f.view.getId();var g=F.getAggregation(p,A);var C=[].concat(g||[]).map(function(h){return h.getId();});var P=p.getId();if(!e[P]){e[P]=[];}if(!m[v]){m[v]={};}f.aggregation=C;e[P].push(f);m[v][f.name]=f;}
E.registerExtensionPoint=function(f){var p=f.targetControl;var A=f.aggregationName;s(p,A);d(p,A,f);};
E.getExtensionPointInfo=function(f,v){return m[v.getId()]&&m[v.getId()][f];};
E.getExtensionPointInfoByViewId=function(v){return m[v]||{};};
E.getExtensionPointInfoByParentId=function(p){return e[p]||[];};
E.clear=function(){Object.keys(o).forEach(function(p){o[p].observer.disconnect();o[p].observer.destroy();});o={};e={};m={};};
return E;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/ABAPAccess',["sap/ui/fl/registry/Settings","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/fieldExtensibility/ABAPExtensibilityVariantFactory","sap/ui/fl/write/_internal/fieldExtensibility/ServiceValidation"],function(S,M,A,a){"use strict";var _=null;var b=null;
function g(){if(!b){return A.getInstance(_).then(function(e){b=e;return e;});}return Promise.resolve(b);}
var c={};
c.getTexts=function(){return g(_).then(function(e){return e.getTexts().then(function(t){return t;});});};
c.isExtensibilityEnabled=function(C){var s=M.getFlexReferenceForControl(C);if(!s){return Promise.resolve(false);}return S.getInstance(s).then(function(o){return o.isModelS();});};
c.getExtensionData=function(){return g(_).then(function(e){return e.getExtensionData().then(function(E){return E;});});};
c.onControlSelected=function(C){if(C!==_){_=C;b=null;}};
c.onTriggerCreateExtensionData=function(){return g().then(function(e){return e.getNavigationUri().then(function(n){if(n){c.openNewWindow(n);}});});};
c.openNewWindow=function(u){window.open(u,"_blank","noopener noreferrer");};
c.isServiceOutdated=function(s){return a.isServiceOutdated(s);};
c.setServiceValid=function(s){a.setServiceValid(s);};
c.setServiceInvalid=function(s){a.setServiceInvalid(s);};
return c;},true);
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/ServiceValidation',["sap/ui/fl/Utils","sap/ui/util/Storage","sap/ui/fl/write/_internal/fieldExtensibility/UriParser"],function(U,S,a){"use strict";var b={};var _="sap.ui.fl.fieldExt.Access";var c=1*7*24*60*60*1000;
function d(){return Date.now();}
function e(){return b.getLocalStorage();}
function f(){return e()&&e().isSupported();}
function g(){if(!f()){return{};}var s=e().get(_);if(!s){return{};}return JSON.parse(s);}
function h(s){return s.expirationDate<=d();}
function i(s){return g()[s.serviceKey]||null;}
function j(s){var E=d()+c;var o=m();var p=k(s);return{serviceKey:o.getName()+o.getClient()+p.serviceName+p.serviceVersion,expirationDate:E};}
function k(s){if(typeof s==="string"){return a.parseServiceUri(s);}return s;}
function l(){return m();}
function m(){var u=U.getUshellContainer();return u&&u.getLogonSystem();}
function n(D){if(f()){e().put(_,JSON.stringify(D));}}
b.getLocalStorage=function(){return new S(S.Type.local);};
b.isServiceOutdated=function(s){if(!l()){return false;}var o=i(j(s));if(o){if(h(o)){this.setServiceValid(s);return false;}return true;}return false;};
b.setServiceValid=function(s){if(l()){var D=g();delete D[j(s).serviceKey];n(D);}};
b.setServiceInvalid=function(s){if(l()){var D=g();var I=j(s);D[I.serviceKey]=I;n(D);}};
return b;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/UriParser',[],function(){"use strict";var s={v2:"v2",v4:"v4"};
function p(S){var r=/.*sap\/opu\/odata\/([^\/]+)\/([^\/]+)/i;var R=/([^;]+);v=(\d{1,4})/i;var o="sap/opu/odata";var b;if(S.toLowerCase().indexOf(o)!==-1){var c=S.match(r);if(!c||c.length!==3){throw new Error("sap.ui.fl.fieldExt.UriParser.parseV2ServiceUri: Malformed service URI (Invalid service name)");}if(c[1].toLowerCase()!=="sap"){b="/"+c[1]+"/"+c[2];}else{b=c[2];}}else{if(S.length>0&&S.lastIndexOf("/")+1===S.length){S=S.substring(0,S.length-1);}b=S.substring(S.lastIndexOf("/")+1);}if(b.indexOf(";v=")!==-1){var v=b.match(R);if(!v||v.length!==3){throw new Error("sap.ui.fl.fieldExt.UriParser.parseV2ServiceUri: Malformed service URI (Invalid version)");}return{serviceName:v[1],serviceVersion:v[2],serviceType:s.v2};}return{serviceName:b,serviceVersion:"0001",serviceType:s.v2};}
function a(S){var r=/^\/?sap\/opu\/odata4((?:\/[^/]+){5})(\/[^/]+){1}(\/.*)?/i;var b=S.match(r);if(!b||b.length!==4){throw new Error("sap.ui.fl.fieldExt.UriParser.parseV4ServiceUri: Malformed service URI");}var n=b[1].split("/");n.splice(0,3);var R=/(\d{1,4})/i;var v=b[2].match(R);return{serviceName:n.join("/"),serviceVersion:v[1],serviceType:s.v4};}
var U={};U.mServiceType=s;U.sODataV4ResourcePathPrefix="sap/opu/odata4/";
U.parseServiceUri=function(S){if(S.toLowerCase().indexOf(this.sODataV4ResourcePathPrefix)!==-1){return a(S);}return p(S);};
return U;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/Utils',["sap/base/Log","sap/base/security/encodeURL","sap/ui/core/Core","sap/ui/fl/Utils","sap/ui/thirdparty/jquery"],function(L,a,C,F,q){"use strict";var p={v2:"v2",v4:"v4"};
function _(x){var m=[];try{var E=JSON.parse(x.responseText);if(E&&E.error&&E.error.message&&E.error.message.value){m.push({severity:"error",text:E.error.message.value});}else{m.push({severity:"error",text:x.responseText});}}catch(e){}return m;}
function b(o){var B=null;var e=o.getBindingContext?o.getBindingContext():null;if(e&&e.getPath){B=e.getPath();}if(!B){L.warning("Control not bound to a path");}return B;}
function c(m,B){return m.metadataLoaded().then(function(){var e=m.oMetadata._getEntitySetByPath(B);return e?e.name:null;});}
function d(m,B){var M=m.getMetaModel();var s=M.getMetaPath(B);return M.requestObject(s).then(function(e){var S=M.fetchEntityContainer().getResult();var E=S[S.$EntityContainer];var k=Object.keys(E).filter(function(l){return E[l]===e;});return k.length>0&&k[0];});}
function f(m,B){return m.metadataLoaded().then(function(){var e=m.oMetadata._getEntityTypeByPath(B);return e?e.name:null;});}
function g(m,B){var M=m.getMetaModel();var s=M.getMetaPath(B);return M.requestObject(s).then(function(e){var S=e.$Type.split(".");return S[S.length-1];});}
function h(m){var s=null;if(m&&m.sServiceUrl){s=m.sServiceUrl;}if(!s){L.warning("Model has no Service Uri");}return s;}
function i(m){if(m){if(m.isA("sap.ui.model.odata.v2.ODataModel")){return p.v2;}else if(m.isA("sap.ui.model.odata.v4.ODataModel")){return p.v4;}}return null;}
function j(o){if(o){var m=o.getModel?o.getModel():null;if(i(m)){return m;}L.warning("Unsupported model type or protocol");return null;}L.warning("No Control passed");return null;}
var U={};
U.checkControlPrerequisites=function(o){if(o){var m=j(o);var s=h(m);var B=b(o);return Boolean(s&&B);}L.warning("No Control passed");return false;};
U.executeRequest=function(r,P){var s=r+this.getUriParameters(P);return new Promise(function(R){var S={type:"GET",async:true,dataType:"json"};q.ajax(s,S).done(function(D){var o=D&&D.d;R({errorOccurred:false,result:o});}).fail(function(e){R({errorOccurred:true,errorMessages:_(e),statusCode:e.status});});});};
U.getBoundEntitySet=function(o){var m=j(o);var P=i(m);if(P===p.v2){return c(m,b(o));}else if(P===p.v4){return d(m,b(o));}return Promise.resolve(null);};
U.getBoundEntityType=function(o){var m=j(o);var P=i(m);if(P===p.v2){return f(m,b(o));}else if(P===p.v4){return g(m,b(o));}return Promise.resolve(null);};
U.getNavigationUriForIntent=function(I){return F.getUShellService("CrossApplicationNavigation").then(function(o){if(o&&o.hrefForExternal){return o.hrefForExternal(I);}return Promise.resolve(null);});};
U.getServiceUri=function(o){var m=j(o);return h(m);};
U.getText=function(t){return C.getLibraryResourceBundle("sap.ui.fl").getText(t);};
U.getUriParameters=function(P){if(!P){return"";}var u=[];Object.keys(P).forEach(function(n){if(n){var v="'"+a(P[n]||"")+"'";u.push(a(n)+"="+v);}});return u.length===0?"":"?"+u.join("&");};
U.isNavigationSupportedForIntents=function(I){return F.getUShellService("CrossApplicationNavigation").then(function(o){if(o&&o.isNavigationSupported){return o.isNavigationSupported(I).then(function(r){return r.map(function(R){return R&&R.supported===true;});});}return Promise.resolve(I.map(function(){return false;}));});};
return U;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/CAPAccess',["sap/ui/fl/write/_internal/fieldExtensibility/ServiceValidation","sap/ui/fl/write/_internal/fieldExtensibility/cap/dialog/CustomFieldCAPDialog"],function(S,C){"use strict";var c=null;var o=null;var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");var a={};
a.getTexts=function(){return{headerText:t.getText("BUSINESS_CONTEXT_TITLE"),tooltip:t.getText("BTN_ADD_FIELD")};};
a.isExtensibilityEnabled=function(){return true;};
a.getExtensionData=function(){var m=c.getModel();var p=c.getBindingContext().getPath();if(m.isA("sap.ui.model.odata.v2.ODataModel")){return Promise.reject();}else if(m.isA("sap.ui.model.odata.v4.ODataModel")){var M=m.getMetaModel();var s=M.getMetaPath(p);return M.requestObject(s).then(function(e){var b=M.fetchEntityContainer().getResult();var E=b[b.$EntityContainer];return{boundEntitySet:e,entityTypes:Object.values(E).map(function(e){return e.$Type;}).filter(Boolean)};});}return Promise.reject();};
a.onControlSelected=function(b){c=b;};
a.onTriggerCreateExtensionData=function(b,r){if(!o){o=new C();}o.open(b,r);};
a.isServiceOutdated=function(s){return S.isServiceOutdated(s);};
a.setServiceValid=function(s){S.setServiceValid(s);};
a.setServiceInvalid=function(s){S.setServiceInvalid(s);};
return a;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/dialog/CustomFieldCAPDialog',["sap/ui/base/ManagedObject","sap/ui/core/Fragment","sap/m/MessageToast","sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/getEditorConfig","sap/base/util/ObjectPath","sap/base/util/deepClone","sap/ui/model/resource/ResourceModel","sap/ui/model/json/JSONModel"],function(M,F,a,g,O,d,R,J){"use strict";var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");
function s(D,i,c){var e=D.getContent()[0];e.setJson(d(i));e.setConfig(g(c));return e;}
function p(o){if(!o||!o.element){return{};}var j=d(o);if(!O.get(["element","@Common.Label"],j)){var n=O.get(["element","name"],j);O.set(["element","@Common.Label"],n,j);}var r=O.get(["element","@assert.range"],j);if(O.get(["element","type"],j)==="cds.String"&&Array.isArray(r)){O.set(["element","enum"],r.reduce(function(e,b){e[b]={};return e;},{}),j);O.set(["element","@assert.range"],true,j);}if(j.element.annotations){j.element=Object.assign({},j.element,j.element.annotations);delete j.element.annotations;}var c={extend:j.extend,elements:{}};c.elements[j.element.name]=j.element;return c;}
var C=M.extend("sap.ui.fl.write._internal.fieldExtensibility.cap.dialog.CustomFieldCAPDialog",{metadata:{library:"sap.ui.fl",properties:{_dialog:{type:"sap.m.Dialog",visibility:"hidden"}}}});
C.prototype.open=function(e,r){var i={element:{name:"NewField",type:"cds.String"},extend:e.boundEntitySet.$Type};var D=this.getProperty("_dialog");if(D){this._oEditor.setJson(d(i));D.open();}else{F.load({name:"sap.ui.fl.write._internal.fieldExtensibility.cap.dialog.CustomFieldCAPDialog",controller:this}).then(function(A){this._oDialogModel=new J({isValid:true});this._oDialogModel.setDefaultBindingMode("OneWay");A.setModel(this._oDialogModel,"dialog");A.setModel(new R({bundle:t}),"i18n");A.addStyleClass(r);this.setProperty("_dialog",A);this._oJson=d(i);this._oEditor=s(A,this._oJson,{entityTypes:e.entityTypes});this._oEditor.attachJsonChange(function(E){this._oJson=E.getParameter("json");}.bind(this));this._oEditor.attachValidationErrorChange(function(E){var h=E.getParameter("hasError");this._oDialogModel.setData({isValid:!h});}.bind(this));A.open();}.bind(this));}};
C.prototype.exit=function(){var D=this.getProperty("_dialog");if(D){D.destroy();}if(this.oEditor){this.oEditor.destroy();}};
C.prototype.onSave=function(){var c=p(this._oJson);var P={extensions:[JSON.stringify(c)]};var A=new Promise(function(r,b){var x=new XMLHttpRequest();x.open("POST","/-/cds/extensibility/addExtension");x.setRequestHeader("Content-Type","application/json");x.onload=function(){if(x.status>=200&&x.status<400){r(x.response);}else{b({status:x.status,message:x.statusText});}};x.send(JSON.stringify(P));});A.then(function(){a.show(t.getText("CAP_ADD_FIELD_SUCCESS"));});this.getProperty("_dialog").close();};
C.prototype.onCancel=function(){this.getProperty("_dialog").close();};
return C;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/booleanEditor/BooleanEditor',["sap/ui/integration/designtime/baseEditor/propertyEditor/BasePropertyEditor"],function(B){"use strict";
var a=B.extend("sap.ui.fl.write._internal.fieldExtensibility.cap.editor.propertyEditor.booleanEditor.BooleanEditor",{
xmlFragment:"sap.ui.fl.write._internal.fieldExtensibility.cap.editor.propertyEditor.booleanEditor.BooleanEditor",
metadata:{library:"sap.ui.fl"},
renderer:B.getMetadata().getRenderer().render
});
a.prototype._onChange=function(e){var v=!!e.getParameter("selected");this.setValue(v);};
return a;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/rangeEditor/RangeEditor',["sap/ui/integration/designtime/baseEditor/propertyEditor/BasePropertyEditor","sap/ui/model/json/JSONModel"],function(B,J){"use strict";
var R=B.extend("sap.ui.fl.write._internal.fieldExtensibility.cap.editor.propertyEditor.rangeEditor.RangeEditor",{
xmlFragment:"sap.ui.fl.write._internal.fieldExtensibility.cap.editor.propertyEditor.rangeEditor.RangeEditor",
metadata:{library:"sap.ui.fl"},
renderer:B.getMetadata().getRenderer().render
});
R.configMetadata=Object.assign({},B.configMetadata,{rangeType:{defaultValue:"string"}});
R.prototype.init=function(){B.prototype.init.apply(this,arguments);this._oContentModel=new J();this._oContentModel.setDefaultBindingMode("OneWay");this.setModel(this._oContentModel,"contentModel");};
R.prototype.getExpectedWrapperCount=function(){return 2;};
R.prototype.setConfig=function(){B.prototype.setConfig.apply(this,arguments);this.setValue(this.getValue());};
R.prototype.setValue=function(v){B.prototype.setValue.apply(this,arguments);var c={type:this.getConfig().rangeType};var r=Array.isArray(v)?v:[];this._oContentModel.setData([{value:r[0],config:Object.assign({index:0},c)},{value:r[1],config:Object.assign({index:1},c)}]);};
R.prototype._onChange=function(e){var v=e.getParameter("value");var i=e.getSource().getConfig().index;var n=(this.getValue()||[]).slice();n[i]=v;this.setValue(n);};
return R;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/timeEditor/TimeEditor',["sap/ui/integration/designtime/baseEditor/propertyEditor/BasePropertyEditor","sap/ui/integration/designtime/baseEditor/propertyEditor/dateEditor/DateEditor","sap/ui/core/format/DateFormat"],function(B,D,a){"use strict";
var T=D.extend("sap.ui.fl.write._internal.fieldExtensibility.cap.editor.propertyEditor.timeEditor.TimeEditor",{
xmlFragment:"sap.ui.fl.write._internal.fieldExtensibility.cap.editor.propertyEditor.timeEditor.TimeEditor",
metadata:{library:"sap.ui.fl"},
renderer:B.getMetadata().getRenderer().render
});
T.configMetadata=Object.assign({},D.configMetadata,{pattern:{defaultValue:"HH:mm:ss"},utc:{defaultValue:false}});
T.prototype.getDefaultValidators=function(){return Object.assign({},D.prototype.getDefaultValidators.call(this));};
T.prototype.getFormatterInstance=function(o){return a.getTimeInstance(o||{pattern:"HH:mm:ss.SSSS"});};
return T;});
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/validators/IsRequired',[],function(){"use strict";return{async:false,errorMessage:"CAP_ERR_REQUIRED",validate:function(v){return(v===false||v===0||!!v);}};});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 *
 * @private
 * @experimental
 */
sap.ui.predefine('sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/getEditorConfig',[],function(){"use strict";return function(c){return{context:"/element",properties:{entityType:{tags:["general"],label:"Entity Type",path:"/extend",type:"select",items:(c.entityTypes||[]).map(function(e){return{key:e};}),allowCustomValues:false,validators:{isRequired:{type:"isRequired"}}},name:{tags:["general"],label:"Name",path:"name",type:"string",validators:{isRequired:{type:"isRequired"},namePattern:{type:"pattern",errorMessage:"CAP_ERR_WHITESPACE",config:{pattern:"^\\S+$"}}}},label:{tags:["general"],label:"Label",path:"@Common.Label",type:"string",placeholder:"{/element/name}"},type:{tags:["general"],label:"Type",path:"type",type:"select",items:[{key:"cds.String",title:"String"},{key:"cds.Integer",title:"Integer"},{key:"cds.Decimal",title:"Decimal"},{key:"cds.Date",title:"Date"},{key:"cds.Time",title:"Time"},{key:"cds.DateTime",title:"DateTime"},{key:"cds.Boolean",title:"Boolean"}],allowCustomValues:false,validators:{isRequired:{type:"isRequired"}}},numberPrecision:{tags:["general"],label:"Precision",path:"precision",type:"number",defaultValue:"",visible:"{= ${/element/type} === 'cds.Decimal' }"},numberScale:{tags:["general"],label:"Scale",path:"scale",type:"number",defaultValue:"",visible:"{= ${/element/type} === 'cds.Decimal' }"},stringLength:{tags:["general"],label:"Length",path:"length",type:"number",defaultValue:"",visible:"{= ${/element/type} === 'cds.String' }"},defaultValue:{tags:["general"],label:"Default",path:"default/val",defaultValue:"",type:"{/element/type}"},readonly:{tags:["validation"],label:"Readonly",path:"@readonly",type:"bool"},mandatory:{tags:["validation"],label:"Mandatory",path:"@mandatory",type:"bool"},format:{tags:["validation"],label:"Format",path:"@assert.format",type:"string",defaultValue:"",visible:"{= ${/element/type} === 'cds.String' }"},stringRange:{tags:["validation"],label:"Allowed Values",path:"@assert.range",type:"list",visible:"{= ${/element/type} === 'cds.String' }",active:"{= ${/element/type} === 'cds.String' }"},arrayRange:{tags:["validation"],label:"Range",path:"@assert.range",type:"range",rangeType:"{/element/type}",visible:"{= ${/element/type} === 'cds.Integer' || ${/element/type} === 'cds.Decimal' || ${/element/type} === 'cds.DateTime' || ${/element/type} === 'cds.Date' || ${/element/type} === 'cds.Time'}",active:"{= ${/element/type} === 'cds.Integer' || ${/element/type} === 'cds.Decimal' || ${/element/type} === 'cds.DateTime' || ${/element/type} === 'cds.Date' || ${/element/type} === 'cds.Time'}"},annotations:{tags:["advanced"],label:"Additional Annotations",allowedTypes:["json"],path:"annotations",type:"map",allowTypeChange:false,addItemLabelI18n:"CAP_ADD_FIELD_EDITOR.ANNOTATION",defaultType:"json"}},layout:{form:{groups:[{label:"General",items:[{type:"tag",value:"general"}]},{label:"Input Validation",items:[{type:"tag",value:"validation"}]},{label:"Advanced",items:[{type:"tag",value:"advanced"}]}]}},propertyEditors:{select:"sap/ui/integration/designtime/baseEditor/propertyEditor/selectEditor/SelectEditor",string:"sap/ui/integration/designtime/baseEditor/propertyEditor/stringEditor/StringEditor",integer:"sap/ui/integration/designtime/baseEditor/propertyEditor/integerEditor/IntegerEditor",number:"sap/ui/integration/designtime/baseEditor/propertyEditor/numberEditor/NumberEditor",map:"sap/ui/integration/designtime/baseEditor/propertyEditor/mapEditor/MapEditor",list:"sap/ui/integration/designtime/baseEditor/propertyEditor/listEditor/ListEditor",bool:"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/booleanEditor/BooleanEditor",range:"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/rangeEditor/RangeEditor",json:"sap/ui/integration/designtime/baseEditor/propertyEditor/jsonEditor/JsonEditor","cds.String":"sap/ui/integration/designtime/baseEditor/propertyEditor/stringEditor/StringEditor","cds.Integer":"sap/ui/integration/designtime/baseEditor/propertyEditor/integerEditor/IntegerEditor","cds.Decimal":"sap/ui/integration/designtime/baseEditor/propertyEditor/numberEditor/NumberEditor","cds.Date":"sap/ui/integration/designtime/baseEditor/propertyEditor/dateEditor/DateEditor","cds.Time":"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/timeEditor/TimeEditor","cds.DateTime":"sap/ui/integration/designtime/baseEditor/propertyEditor/dateTimeEditor/DateTimeEditor","cds.Boolean":"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/booleanEditor/BooleanEditor"},i18n:"sap/ui/fl/messagebundle.properties",validators:{isRequired:"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/validators/IsRequired"},propertyEditorConfigs:{"cds.Date":{pattern:"YYYY-MM-dd"},"cds.DateTime":{pattern:"YYYY-MM-dd'T'HH:mm:ss'Z'"}}};};});
sap.ui.require.preload({
	"sap/ui/fl/write/_internal/fieldExtensibility/cap/dialog/CustomFieldCAPDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:editor="sap.ui.integration.designtime.baseEditor"><Dialog class="sapUiContentPadding" title="{i18n&gt;CAP_ADD_FIELD_TITLE}" verticalScrolling="true" resizable="false" draggable="true" contentWidth="42rem" contentHeight="80vh"><content><editor:BaseEditor layout="form"/></content><beginButton><Button enabled="{dialog&gt;/isValid}" type="Emphasized" text="{i18n&gt;CAP_ADD_FIELD_CREATE}" press="onSave"/></beginButton><endButton><Button type="Transparent" text="{i18n&gt;CAP_ADD_FIELD_CANCEL}" press="onCancel"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/booleanEditor/BooleanEditor.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><CheckBox select="_onChange"/></core:FragmentDefinition>',
	"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/rangeEditor/RangeEditor.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:baseEditor="sap.ui.integration.designtime.baseEditor"><HBox><baseEditor:PropertyEditor init="wrapperInit" config="{contentModel&gt;/0/config}" value="{contentModel&gt;/0/value}" renderLabel="false" valueChange="_onChange"/><baseEditor:PropertyEditor init="wrapperInit" config="{contentModel&gt;/1/config}" value="{contentModel&gt;/1/value}" renderLabel="false" valueChange="_onChange"/></HBox></core:FragmentDefinition>',
	"sap/ui/fl/write/_internal/fieldExtensibility/cap/editor/propertyEditor/timeEditor/TimeEditor.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><TimePicker value="{displayValue}" valueFormat="HH:mm:ss.SSSS" change="_onChange"/></core:FragmentDefinition>'
},"sap/ui/fl/library-preload-write"
);
//# sourceMappingURL=library-preload-write.js.map