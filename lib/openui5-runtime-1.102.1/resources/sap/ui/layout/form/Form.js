/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/Control','sap/ui/base/ManagedObjectObserver','sap/ui/layout/library','./FormRenderer'],function(C,M,l,F){"use strict";var a=C.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/Form.designtime"}});a.prototype.init=function(){this._oObserver=new M(b.bind(this));this._oObserver.observe(this,{properties:["editable"],aggregations:["formContainers"]});};a.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined;};a.prototype.toggleContainerExpanded=function(o){var L=this.getLayout();if(L){L.toggleContainerExpanded(o);}};a.prototype.contentOnAfterRendering=function(f,o){var L=this.getLayout();if(L&&L.contentOnAfterRendering){L.contentOnAfterRendering(f,o);}};a.prototype.onLayoutDataChange=function(e){var L=this.getLayout();if(L&&L.onLayoutDataChange){L.onLayoutDataChange(e);}};a.prototype.onBeforeFastNavigationFocus=function(e){var L=this.getLayout();if(L&&L.onBeforeFastNavigationFocus){L.onBeforeFastNavigationFocus(e);}};a.prototype.setEditable=function(e){this.setProperty("editable",e,true);return this;};function _(e,o){if(e!=o&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly");}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true");}}var f=this.getFormContainers();for(var i=0;i<f.length;i++){var d=f[i];d._setEditable(e);}}a.prototype.setToolbar=function(t){t=l.form.FormHelper.setToolbar.call(this,t);this.setAggregation("toolbar",t);return this;};a.prototype.invalidate=function(o){if(!this._bNoInvalidate){C.prototype.invalidate.apply(this,arguments);}};a.prototype.getContainerRenderedDomRef=function(o){var L=this.getLayout();if(L&&L.getContainerRenderedDomRef){return L.getContainerRenderedDomRef(o);}else{return null;}};a.prototype.getElementRenderedDomRef=function(e){var L=this.getLayout();if(L&&L.getElementRenderedDomRef){return L.getElementRenderedDomRef(e);}else{return null;}};a.prototype.getVisibleFormContainers=function(){var d=this.getFormContainers();var v=[];for(var i=0;i<d.length;i++){var o=d[i];if(o.isVisible()){v.push(o);}}return v;};a.prototype._suggestTitleId=function(t){this._sSuggestedTitleId=t;if(this.getDomRef()){this.invalidate();}return this;};function b(o){if(o.name==="editable"){_.call(this,o.current,o.old);}else if(o.name==="formContainers"){c.call(this,o.mutation,o.child);}}function c(m,f){if(m==="insert"){f._setEditable(this.getEditable());}}return a;});
