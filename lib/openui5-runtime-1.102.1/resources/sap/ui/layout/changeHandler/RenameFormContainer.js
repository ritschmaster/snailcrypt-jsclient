/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/changeHandler/Base","sap/base/Log"],function(B,L){"use strict";var R={};var _={TARGET_ALIAS:"target"};R.applyChange=function(c,C,p){var m=p.modifier,o=c.getDefinition(),r=c.getDependentControl(_.TARGET_ALIAS,p);return Promise.resolve().then(function(){return m.getAggregation(r,"title");}).then(function(t){if(o.texts&&o.texts.formText&&this._isProvided(o.texts.formText.value)){var v=o.texts.formText.value;var a;if(typeof t==="string"){a=Promise.resolve(m.getProperty(r,"title")).then(function(T){c.setRevertData(T);m.setProperty(r,"title",v);});}else{a=Promise.resolve(m.getProperty(t,"text")).then(function(T){c.setRevertData(T);m.setProperty(t,"text",v);});}return a;}else{L.error("Change does not contain sufficient information to be applied: ["+o.layer+"]"+o.namespace+"/"+o.fileName+"."+o.fileType);}}.bind(this));};R.completeChangeContent=function(c,s,p){var C=c.getDefinition();if(!(s.renamedElement&&s.renamedElement.id)){throw new Error("Rename of the group cannot be executed: oSpecificChangeInfo.renamedElement attribute required");}if(!this._isProvided(s.value)){throw new Error("Rename of the group cannot be executed: oSpecificChangeInfo.value attribute required");}c.addDependentControl(s.renamedElement.id,_.TARGET_ALIAS,p);B.setTextInChange(C,"formText",s.value,"XGRP");};R.revertChange=function(c,C,p){var o=c.getRevertData(),m=p.modifier,r=c.getDependentControl(_.TARGET_ALIAS,p);return Promise.resolve().then(function(){return m.getAggregation(r,"title");}).then(function(t){if(typeof t==="string"){m.setProperty(r,"title",o);}else{m.setProperty(t,"text",o);}c.resetRevertData();});};R._isProvided=function(s){return typeof(s)==="string";};return R;},true);
