/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/unified/calendar/CalendarDate','sap/ui/unified/calendar/CalendarUtils','sap/ui/core/date/UniversalDate','sap/ui/core/InvisibleText'],function(C,a,U,I){"use strict";var Y={apiVersion:2};Y.render=function(r,y){var t=y.getTooltip_AsString();r.openStart("div",y);r.class("sapUiCalYearPicker");if(t){r.attr('title',t);}r.accessibilityState(y,this.getAccessibilityState(y));r.openEnd();this.renderCells(r,y);r.close("div");};Y.getAccessibilityState=function(y){return{role:"grid",readonly:"true",multiselectable:y.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_PICKER"),describedby:y._bCalendar?I.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""};};Y.renderCells=function(r,y){var d=y.getProperty("_middleDate")?y.getProperty("_middleDate"):y._getDate(),f=new C(d,y.getPrimaryCalendarType()),m=a._minDate(y.getProperty("primaryCalendarType")).getYear(),M=a._maxDate(y.getProperty("primaryCalendarType")).getYear(),b=y.getYears(),s=y.getId(),c=y.getColumns(),w="",e=false,A,g,h,j,i;f.setYear(f.getYear()-Math.floor(b/2));if(f.getYear()<m){f.setYear(m);}else if(f.getYear()+b>M){f.setYear(M-b+1);}if(c>0){w=(100/c)+"%";}else{w=(100/b)+"%";}for(i=0;i<b;i++){j=y._oFormatYyyymmdd.format(f.toUTCJSDate(),true);h={role:"gridcell"};e=y._checkDateEnabled(f);if(c>0&&i%c==0){r.openStart("div");r.accessibilityState(null,{role:"row"});r.openEnd();}r.openStart("div",s+"-y"+j);r.class("sapUiCalItem");A=y._fnShouldApplySelection(f);g=y._fnShouldApplySelectionBetween(f);if(A){r.class("sapUiCalItemSel");h["selected"]=true;}if(g){r.class("sapUiCalItemSelBetween");h["selected"]=true;}if(!A&&!g){h["selected"]=false;}if(!e){r.class("sapUiCalItemDsbl");h["disabled"]=true;}r.attr("tabindex","-1");r.attr("data-sap-year-start",j);r.style("width",w);r.accessibilityState(null,h);r.openEnd();r.text(y._oYearFormat.format(U.getInstance(f.toUTCJSDate(),f.getCalendarType()),true));r.close("div");f.setYear(f.getYear()+1);if(c>0&&((i+1)%c==0)){r.close("div");}}};return Y;},true);
