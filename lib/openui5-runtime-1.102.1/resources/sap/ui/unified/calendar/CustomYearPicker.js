/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(R,C,a,b,H,D){"use strict";var c=R.extend(a);c.apiVersion=2;var d=C.extend("sap.ui.unified.internal.CustomYearPicker",{metadata:{library:"sap.ui.unified"},renderer:c});d.prototype.init=function(){C.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","yearPicker");this._bNamesLengthChecked=true;};d.prototype.onBeforeRendering=function(){var s=this.getSelectedDates(),f=s.length?s[0].getStartDate():undefined,y=this._getYearPicker(),o,F;if(f){o=b.fromLocalJSDate(f);o.setMonth(0,1);F=new b(this._getFocusedDate());F.setMonth(0,1);if(F.isSame(o)){y.setDate(f);}}else{y.setProperty("_middleDate",this._getFocusedDate());y.setDate(this._getFocusedDate().toLocalJSDate());}C.prototype.onBeforeRendering.call(this,arguments);};d.prototype.exit=function(){C.prototype.exit.apply(this,arguments);if(this._fnYPDelegate){this.getAggregation("yearPicker").removeDelegate(this._fnYPDelegate);}};d.prototype._initializeHeader=function(){var h=new H(this.getId()+"--Head",{visibleButton1:false});h.attachEvent("pressPrevious",this._handlePrevious,this);h.attachEvent("pressNext",this._handleNext,this);h.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(h);h.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",h);};d.prototype._closePickers=function(){this.setProperty("_currentPicker","yearPicker");this._togglePrevNexYearPicker();};d.prototype._selectYear=function(){var o=this.getSelectedDates()[0],y=this._getYearPicker();if(!o){o=new D();}if(!y.getIntervalSelection()){o.setStartDate(this._getYearPicker().getDate());this.addSelectedDate(o);}this.fireSelect();};d.prototype.onsapescape=function(e){this.fireCancel();};d.prototype.setShowCurrentDateButton=function(s){return this;};return d;});
