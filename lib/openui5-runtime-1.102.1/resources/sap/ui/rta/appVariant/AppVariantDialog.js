/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/Button","sap/m/Dialog","sap/m/DialogRenderer","sap/m/GenericTile","sap/m/ImageContent","sap/m/Input","sap/m/Label","sap/m/SelectDialog","sap/m/StandardListItem","sap/m/TextArea","sap/m/TileContent","sap/m/VBox","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/core/Title","sap/ui/layout/form/SimpleForm","sap/ui/layout/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/rta/Utils","sap/ui/layout/form/ResponsiveGridLayout"],function(B,D,a,G,I,b,L,S,c,T,d,V,e,f,g,h,l,F,i,J,R){"use strict";var j=l.form.SimpleFormLayout;var k=e.ValueState;var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.rta");var o;var t;var m;var s;var n;var p;var q;var u;var v;var w;var x;var C;var y;function _(){o=new G("tile",{header:"{/title}",subheader:"{/subtitle}",ariaLabel:r.getText("APP_VARIANT_TILE_ARIA_LABEL"),tileContent:[new d({content:[new I({src:"{/icon}"})]})]}).addStyleClass("sapUiMediumMarginBegin").addStyleClass("sapUiTinyMarginTop").addStyleClass("sapUiTinyMarginBottom");}function z(O){var P=O.getParameter("value");var Q=new F("name",i.Contains,P);var U=O.getSource().getBinding("items");U.filter([Q]);}function A(O){var P=O.getParameter("selectedContexts");if(P&&P.length){P.forEach(function(Q){var U=Q.getObject().name;v.setValue(U);C.setProperty("/icon",Q.getObject().icon);});}O.getSource().getBinding("items").filter([]);}function E(){if(!x){x=new S("selectDialog",{noDataText:r.getText("APP_VARIANT_ICON_NO_DATA"),title:r.getText("APP_VARIANT_ICON_SELECT_ICON"),search:function(P){z(P);},confirm:function(P){A(P);},cancel:function(P){A(P);}});}x.addStyleClass(R.getRtaStyleClassName());x.bindAggregation("items",{path:"/icons",template:new c({title:"{name}",description:"",icon:"{icon}",iconDensityAware:false,iconInset:false,type:"Active"})});var U=f.getIconNames();var O=[];U.forEach(function(P){var Q=f.getIconInfo(P);O.push({icon:Q.uri,name:(Q.text==="")?P.toLowerCase():Q.text});});y.setProperty("/icons",O);x.setModel(y);x.getBinding("items").filter([]);x.open();}function H(){t=new L({required:true,text:r.getText("APP_DIALOG_TITLE_TEXT"),textAlign:"Left"});m=new b("titleInput",{value:"{/title}",valueLiveUpdate:true,placeholder:r.getText("SAVE_AS_DIALOG_PLACEHOLDER_TITLE_TEXT"),liveChange:function(){var O=sap.ui.getCore().byId("saveButton");if(this.getValue()===""){this.setValueState(k.Error);O.setEnabled(false);}else{this.setValueState(k.None);O.setEnabled(true);}}});s=new L({text:r.getText("APP_DIALOG_SUB_TITLE_TEXT"),textAlign:"Left"});n=new b({value:"{/subtitle}",valueLiveUpdate:true});p=new L({text:r.getText("APP_DIALOG_DESCRIPTION_TEXT"),textAlign:"Left"});q=new T({rows:4});u=new L({text:r.getText("APP_DIALOG_ICON_TEXT"),textAlign:"Left"});v=new b("selectInput",{showValueHelp:true,liveChange:function(O){E(O);},valueHelpRequest:function(O){E(O);},value:"{/iconname}",valueLiveUpdate:true});}function K(){w=new h({editable:true,layout:j.ResponsiveGridLayout,labelSpanXL:4,labelSpanL:4,labelSpanM:4,labelSpanS:4,adjustLabelSpan:false,emptySpanXL:0,emptySpanL:0,emptySpanM:0,emptySpanS:0,columnsXL:2,columnsL:2,columnsM:2,singleContainerFullSize:false,content:[new g("title1"),t,m,s,n,u,v,p,q,new g("title2"),o]});return w;}function M(){var O=new V({items:[K()]}).addStyleClass("sapUISmallMargin");return O;}var N=D.extend("sap.ui.rta.appVariant.AppVariantDialog",{metadata:{library:"sap.ui.rta",events:{create:{},cancel:{}}},init:function(){D.prototype.init.apply(this);this.setTitle(r.getText("CREATE_APP_VARIANT_DIALOG_TITLE"));this.setContentWidth("860px");this.setContentHeight("250px");C=new J({title:null,subtitle:null,icon:" ",iconname:null});y=new J({icons:null});sap.ui.getCore().setModel(C);_();H();this.addContent(M());this._createButtons();this.addStyleClass(R.getRtaStyleClassName());},onAfterRendering:function(){document.getElementById('title1').style.height="0px";document.getElementById('title2').style.height="0px";document.getElementById('tile').style.float="left";},_onCreate:function(){var O=m.getValue()||" ";var P=n.getValue()||" ";var Q=q.getValue()||" ";var U=v.getValue()?f.getIconInfo(v.getValue()).uri:" ";this.fireCreate({title:O,subTitle:P,description:Q,icon:U});this.close();this.destroy();},_createButtons:function(){this.addButton(new B("saveButton",{text:r.getText("APP_VARIANT_DIALOG_SAVE"),tooltip:r.getText("TOOLTIP_APP_VARIANT_DIALOG_SAVE"),enabled:false,press:function(){this._onCreate();}.bind(this)}));this.addButton(new B({text:r.getText("SAVE_AS_APP_VARIANT_DIALOG_CANCEL"),tooltip:r.getText("TOOLTIP_SAVE_AS_APP_VARIANT_DIALOG_CANCEL"),press:function(){this.fireCancel();this.close();this.destroy();}.bind(this)}));},destroy:function(){if(C){C.destroy();}D.prototype.destroy.apply(this,arguments);},renderer:a});return N;});
