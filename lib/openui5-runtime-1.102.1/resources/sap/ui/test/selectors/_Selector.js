/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/ui/test/_OpaLogger",'sap/ui/test/_ControlFinder','sap/ui/core/Element','sap/ui/core/mvc/View','sap/ui/base/ManagedObjectMetadata'],function($,M,_,a,U,V,b){"use strict";var c=M.extend("sap.ui.test.selectors._Selector",{constructor:function(){this._oLogger=_.getLogger(this.getMetadata().getName());return M.prototype.constructor.apply(this,arguments);},generate:function(C){var r=this._generate.apply(this,arguments);if(r){if(Array.isArray(r)){return r.filter(function(s){return s&&(!Array.isArray(s)||s.length);}).map(function(i){if(Array.isArray(i)){return i.map(function(I){return $.extend({},this._createSelectorBase(C,I),I);}.bind(this));}else{return $.extend({},this._createSelectorBase(C,i),i);}}.bind(this));}else{return $.extend(this._createSelectorBase(C,r),r);}}},_isAncestorRequired:function(){return false;},_getAncestor:function(){return null;},_isValidationRootRequired:function(){return false;},_getValidationRoot:function(){return null;},_createSelectorBase:function(C,s){if(a._isControlInStaticArea(C)){s.searchOpenDialogs=true;}if(s.skipBasic){delete s.skipBasic;return s;}else{var B={controlType:C.getMetadata()._sClassName};var v=this._getControlView(C);if(v){$.extend(B,this._getViewIdOrName(v));}return B;}},_getControlView:function(C){if(!C){return undefined;}if(C.getViewName){return C;}else{return this._getControlView(C.getParent());}},_findAncestor:function(C,f,d){if(C){var p=C.getParent();if(p){if(f(p)){return p;}else if(!d){return this._findAncestor(p,f);}}}},_getViewIdOrName:function(v){var s=v.getId();var d=v.getViewName();if(b.isGeneratedId(s)){var e=U.registry.filter(function(E){return E instanceof V;}).filter(function(E){return E.getViewName()===d;});return e.length>1?{}:{viewName:d};}else{return{viewId:s};}}});return c;});
