/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/test/actions/Action","sap/ui/thirdparty/jquery"],function(A,q){"use strict";var P=A.extend("sap.ui.test.actions.Press",{metadata:{properties:{altKey:{type:"boolean"},shiftKey:{type:"boolean"},ctrlKey:{type:"boolean"},xPercentage:{type:"float"},yPercentage:{type:"float"}},publicMethods:["executeOn"]},init:function(){A.prototype.init.apply(this,arguments);this.controlAdapters=q.extend(this.controlAdapters,P.controlAdapters);},executeOn:function(c){var a=this.$(c),o=a[0];var C,i;var b=this.getAltKey();var d=this.getCtrlKey();var s=this.getShiftKey();var x=this.getXPercentage();var y=this.getYPercentage();if(x<0||x>100){this.oLogger.error("Please provide a valid X percentage in the range: 0 - 100");return;}if(y<0||y>100){this.oLogger.error("Please provide a valid Y percentage in the range: 0 - 100");return;}var r=o.getBoundingClientRect();var w=r.width;var h=r.height;var X=r.left+window.scrollX;var Y=r.top+window.scrollY;if(x||x===0){C=((x/100)*w)+X;}if(y||y===0){i=((y/100)*h)+Y;}if(a.length){this.oLogger.timestamp("opa.actions.press");this.oLogger.debug("Pressed the control "+c);this._tryOrSimulateFocusin(a,c);this._createAndDispatchMouseEvent("mousedown",o,null,null,null,C,i);this.getUtils().triggerEvent("selectstart",o);this._createAndDispatchMouseEvent("mouseup",o,null,null,null,C,i);this._createAndDispatchMouseEvent("click",o,s,b,d);}}});P.controlAdapters={};P.controlAdapters["sap.m.Input"]="vhi";P.controlAdapters["sap.m.SearchField"]="search";P.controlAdapters["sap.m.ListBase"]="trigger";P.controlAdapters["sap.m.Page"]="navButton";P.controlAdapters["sap.m.semantic.FullscreenPage"]="navButton";P.controlAdapters["sap.m.semantic.DetailPage"]="navButton";P.controlAdapters["sap.m.ComboBox"]="arrow";P.controlAdapters["sap.ui.comp.smartfilterbar.SmartFilterBar"]="btnGo";P.controlAdapters["sap.m.ObjectAttribute"]="text";P.controlAdapters["sap.m.ObjectIdentifier"]=function(c){if(c.getTitleActive()){return"link";}else if(c.getTitle()){return"title";}else if(c.getText()){return"text";}else{return null;}};return P;});
