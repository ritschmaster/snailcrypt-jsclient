/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ExtensionBase","../utils/TableUtils","../library"],function(E,T,l){"use strict";var S=l.SelectionMode;var _=function(r,p,i,t,c){c=c||[];c.push("sapUiInvisibleText");r.openStart("span",p+"-"+i);c.forEach(function(C){r.class(C);});r.attr("aria-hidden","true");r.openEnd();if(t){r.text(t);}r.close("span");};var A=E.extend("sap.ui.table.extensions.AccessibilityRender",{_init:function(t,s,m){return"AccRenderExtension";},writeHiddenAccTexts:function(r,t){if(!t._getAccExtension().getAccMode()){return;}var s=t.getId();r.openStart("div");r.class("sapUiTableHiddenTexts");r.style("display","none");r.attr("aria-hidden","true");r.openEnd();_(r,s,"ariacount");_(r,s,"toggleedit",T.getResourceText("TBL_TOGGLE_EDIT_KEY"));var a=T.areAllRowsSelected(t);var R=t._getSelectionPlugin().getRenderConfig();var b;if(R.headerSelector.type==="toggle"){b=a?"TBL_DESELECT_ALL":"TBL_SELECT_ALL";}else if(R.headerSelector.type==="clear"){b="TBL_DESELECT_ALL";}_(r,s,"ariaselectall",T.getResourceText(b));_(r,s,"ariarowgrouplabel",T.getResourceText("TBL_ROW_GROUP_LABEL"));_(r,s,"ariagrandtotallabel",T.getResourceText("TBL_GRAND_TOTAL_ROW"));_(r,s,"ariagrouptotallabel",T.getResourceText("TBL_GROUP_TOTAL_ROW"));_(r,s,"rownumberofrows");_(r,s,"colnumberofcols");_(r,s,"cellacc");_(r,s,"ariarowselected",T.getResourceText("TBL_ROW_DESC_SELECTED"));_(r,s,"ariacolmenu",T.getResourceText("TBL_COL_DESC_MENU"));_(r,s,"ariacolspan");_(r,s,"ariacolfiltered",T.getResourceText("TBL_COL_DESC_FILTERED"));_(r,s,"ariacolsortedasc",T.getResourceText("TBL_COL_DESC_SORTED_ASC"));_(r,s,"ariacolsorteddes",T.getResourceText("TBL_COL_DESC_SORTED_DES"));_(r,s,"ariainvalid",T.getResourceText("TBL_TABLE_INVALID"));_(r,s,"ariashowcolmenu",T.getResourceText("TBL_COL_VISBILITY_MENUITEM_SHOW"));_(r,s,"ariahidecolmenu",T.getResourceText("TBL_COL_VISBILITY_MENUITEM_HIDE"));_(r,s,"rowexpandtext",T.getResourceText("TBL_ROW_EXPAND_KEY"));_(r,s,"rowcollapsetext",T.getResourceText("TBL_ROW_COLLAPSE_KEY"));var o=t.getSelectionMode();if(o!==S.None){_(r,s,"ariaselection",T.getResourceText(o==S.MultiToggle?"TBL_TABLE_SELECTION_MULTI":"TBL_TABLE_SELECTION_SINGLE"));}if(t.getComputedFixedColumnCount()>0){_(r,s,"ariafixedcolumn",T.getResourceText("TBL_FIXED_COLUMN"));}if(T.hasRowNavigationIndicators(t)){_(r,s,"rownavigatedtext",T.getResourceText("TBL_ROW_STATE_NAVIGATED"));}r.close("div");},writeAriaAttributesFor:function(r,t,s,p){var e=t._getAccExtension();if(!e.getAccMode()){return;}var a=e.getAriaAttributesFor(s,p);var v,k;for(k in a){v=a[k];if(Array.isArray(v)){v=v.join(" ");}if(v){r.attr(k.toLowerCase(),v);}}},writeAccRowSelectorText:function(r,t,R,i){if(!t._getAccExtension().getAccMode()){return;}var I=t._getSelectionPlugin().isIndexSelected(i);var m=t._getAccExtension().getAriaTextsForSelectionMode(true);var s=m.keyboard[I?"rowDeselect":"rowSelect"];if(!R.isGroupHeader()&&!R.isSummary()){_(r,R.getId(),"rowselecttext",R.isEmpty()?"":s,["sapUiTableAriaRowSel"]);}},writeAccRowHighlightText:function(r,t,R,i){if(!t._getAccExtension().getAccMode()){return;}var o=R.getAggregation("_settings");var h=o._getHighlightText();_(r,R.getId(),"highlighttext",h);},writeAccCreationRowText:function(r,t,c){if(!t._getAccExtension().getAccMode()){return;}_(r,c.getId(),"label",T.getResourceText("TBL_CREATEROW_LABEL"));}});return A;});
