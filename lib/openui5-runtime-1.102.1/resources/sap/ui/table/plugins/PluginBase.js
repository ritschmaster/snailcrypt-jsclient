/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/TableUtils","sap/ui/core/Element"],function(T,E){"use strict";var H=T.Hook.Keys;var h={};var _=T.createWeakMapFacade();var P=E.extend("sap.ui.table.plugins.PluginBase",{metadata:{"abstract":true,library:"sap.ui.table"}});P.prototype.init=function(){E.prototype.init.apply(this,arguments);_(this).bIsActive=false;};P.prototype.exit=function(){E.prototype.exit.apply(this,arguments);this.deactivate();};P.prototype.onActivate=function(t){};P.prototype.onDeactivate=function(t){};P.prototype.isActive=function(){return _(this).bIsActive;};P.prototype.isApplicable=function(c){return T.isA(c,"sap.ui.table.Table");};P.prototype.setParent=function(p){this.deactivate();E.prototype.setParent.apply(this,arguments);if(p){if(!this.isApplicable(this.getTable())){throw new Error(this+" is not applicable to "+p);}this.activate();}return this;};P.prototype.onTableBindRows=function(){};h[H.Table.BindRows]=function(b){this.onTableBindRows(b);};P.prototype.onTableRowsBound=function(b){};h[H.Table.RowsBound]=function(b){this.onTableRowsBound(b);};P.prototype.onTableUnbindRows=function(){};h[H.Table.UnbindRows]=function(){this.onTableUnbindRows();};P.prototype.getTable=function(){var p=this.getParent();return T.isA(p,"sap.ui.table.Table")?p:null;};P.prototype.getTableBinding=function(){var t=this.getTable();var b=t?t.getBinding():null;return b?b:null;};P.prototype.setRowCountConstraints=function(c){var t=this.getTable();if(t){t._setRowCountConstraints(c);}};P.prototype.activate=function(){var t=this.getTable();if(!t||this.isActive()){return;}T.Hook.install(t,h,this);this.onActivate(t);var o=this.getTableBinding();if(o){this.onTableRowsBound(o);}_(this).bIsActive=true;};P.prototype.deactivate=function(){var t=this.getTable();if(!this.isActive()){return;}T.Hook.uninstall(t,h,this);this.onDeactivate(t);_(this).bIsActive=false;};return P;});
