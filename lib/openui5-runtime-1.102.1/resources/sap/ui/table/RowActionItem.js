/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","./utils/TableUtils","sap/ui/core/Element","sap/ui/unified/MenuItem","sap/ui/core/IconPool"],function(l,T,E,M,I){"use strict";var R=l.RowActionType;var a=E.extend("sap.ui.table.RowActionItem",{metadata:{library:"sap.ui.table",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},text:{type:"string",group:"Misc",defaultValue:""},type:{type:"sap.ui.table.RowActionType",group:"Behavior",defaultValue:R.Custom}},events:{press:{item:{type:"sap.ui.table.RowActionItem"},row:{type:"sap.ui.table.Row"}}}}});a.prototype.init=function(){this._oMenuItem=null;};a.prototype.exit=function(){if(this._oMenuItem){this._oMenuItem.destroy();this._oMenuItem=null;}};a.prototype.getRowAction=function(){var p=this.getParent();return T.isA(p,"sap.ui.table.RowAction")?p:null;};a.prototype._firePress=function(){var r=this.getRowAction();this.firePress({item:this,row:r?r.getRow():null});};a.prototype._getMenuItem=function(){if(!this._oMenuItem){this._oMenuItem=new M({select:[this._firePress,this]});}this._oMenuItem.setIcon(this._getIcon());this._oMenuItem.setVisible(this.getVisible());this._oMenuItem.setText(this._getText(false));return this._oMenuItem;};a.prototype._getIcon=function(){var i=this.getIcon();if(i){return i;}if(this.getType()===R.Navigation){return I.getIconURI(T.ThemeParameters.navigationIcon);}if(this.getType()===R.Delete){return I.getIconURI(T.ThemeParameters.deleteIcon);}return null;};a.prototype._getText=function(p){var t=p?(this.getTooltip_AsString()||this.getText()):(this.getText()||this.getTooltip_AsString());if(t){return t;}if(this.getType()===R.Navigation){return T.getResourceText("TBL_ROW_ACTION_NAVIGATE");}if(this.getType()===R.Delete){return T.getResourceText("TBL_ROW_ACTION_DELETE");}return null;};a.prototype._syncIcon=function(i){i.setSrc(this._getIcon());i.setTooltip(this._getText(true));};return a;});
