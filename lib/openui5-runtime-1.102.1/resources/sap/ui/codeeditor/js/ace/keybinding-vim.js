ace.define("ace/ext/hardwrap",[],function(r,e,m){"use strict";var R=r("../range").Range;function h(a,o){var b=o.column||a.getOption("printMarginColumn");var c=Math.min(o.startRow,o.endRow);var d=Math.max(o.startRow,o.endRow);var s=a.session;while(c<=d){var l=s.getLine(c);if(l.length>b){var f=k(l,b,5);if(f){s.replace(new R(c,f.start,c,f.end),"\n");}d++;}else if(/\S/.test(l)&&c!=d){var n=s.getLine(c+1);if(n&&/\S/.test(n)){var t=l.replace(/\s+$/,"");var g=n.replace(/^\s+/,"");var i=t+" "+g;var f=k(i,b,5);if(f&&f.start>t.length||i.length<b){var j=new R(c,t.length,c+1,n.length-g.length);s.replace(j," ");c--;d--;}}}c++;}function k(l,b,p){if(l.length<b)return;var q=l.slice(0,b);var u=l.slice(b);var v=/^(?:(\s+)|(\S+)(\s+))/.exec(u);var w=/(?:(\s+)|(\s+)(\S+))$/.exec(q);var x=0;var y=0;if(w&&!w[2]){x=b-w[1].length;y=b;}if(v&&!v[2]){if(!x)x=b;y=b+v[1].length;}if(x){return{start:x,end:y};}if(w&&w[2]&&w.index>p){return{start:w.index,end:w.index+w[3].length};}}}e.hardWrap=h;});ace.define("ace/keyboard/vim",[],function(g,l,q){'use strict';function t(){var d="";function a(p){if(typeof p!="object")return p+"";if("line"in p){return p.line+":"+p.ch;}if("anchor"in p){return a(p.anchor)+"->"+a(p.head);}if(Array.isArray(p))return"["+p.map(function(x){return a(x);})+"]";return JSON.stringify(p);}for(var i=0;i<arguments.length;i++){var p=arguments[i];var f=a(p);d+=f+"  ";}console.log(d);}var R=g("../range").Range;var E=g("../lib/event_emitter").EventEmitter;var u=g("../lib/dom");var z=g("../lib/oop");var K=g("../lib/keys");var A=g("../lib/event");var S=g("../search").Search;var B=g("../lib/useragent");var C=g("../search_highlight").SearchHighlight;var D=g("../commands/multi_select_commands");var T=g("../mode/text").Mode.prototype.tokenRe;var F=g("../ext/hardwrap").hardWrap;g("../multi_select");var G=function(a){this.ace=a;this.state={};this.marks={};this.$uid=0;this.onChange=this.onChange.bind(this);this.onSelectionChange=this.onSelectionChange.bind(this);this.onBeforeEndOperation=this.onBeforeEndOperation.bind(this);this.ace.on('change',this.onChange);this.ace.on('changeSelection',this.onSelectionChange);this.ace.on('beforeEndOperation',this.onBeforeEndOperation);};G.Pos=function(a,c){if(!(this instanceof P))return new P(a,c);this.line=a;this.ch=c;};G.defineOption=function(n,v,s){};G.commands={redo:function(c){c.ace.redo();},undo:function(c){c.ace.undo();},newlineAndIndent:function(c){c.ace.insert("\n");}};G.keyMap={};G.addClass=G.rmClass=function(){};G.e_stop=G.e_preventDefault=A.stopEvent;G.keyName=function(e){var k=(K[e.keyCode]||e.key||"");if(k.length==1)k=k.toUpperCase();k=A.getModifierString(e).replace(/(^|-)\w/g,function(m){return m.toUpperCase();})+k;return k;};G.keyMap['default']=function(k){return function(c){var a=c.ace.commands.commandKeyBinding[k.toLowerCase()];return a&&c.ace.execCommand(a)!==false;};};G.lookupKey=function J3(k,m,h){if(!m)m="default";if(typeof m=="string")m=G.keyMap[m];var f=typeof m=="function"?m(k):m[k];if(f===false)return"nothing";if(f==="...")return"multi";if(f!=null&&h(f))return"handled";if(m.fallthrough){if(!Array.isArray(m.fallthrough))return J3(k,m.fallthrough,h);for(var i=0;i<m.fallthrough.length;i++){var r=J3(k,m.fallthrough[i],h);if(r)return r;}}};G.findMatchingTag=function(c,h){};G.signal=function(o,n,e){return o._signal(n,e)};G.on=A.addListener;G.off=A.removeListener;G.isWordChar=function(c){if(c<"\x7f")return/^\w$/.test(c);T.lastIndex=0;return T.test(c);};(function(){z.implement(G.prototype,E);this.destroy=function(){this.ace.off('change',this.onChange);this.ace.off('changeSelection',this.onSelectionChange);this.ace.off('beforeEndOperation',this.onBeforeEndOperation);this.removeOverlay();};this.virtualSelectionMode=function(){return this.ace.inVirtualSelectionMode&&this.ace.selection.index;};this.onChange=function(d){var a={text:d.action[0]=='i'?d.lines:[]};var e=this.curOp=this.curOp||{};if(!e.changeHandlers)e.changeHandlers=this._eventRegistry["change"]&&this._eventRegistry["change"].slice();if(!e.lastChange){e.lastChange=e.change=a;}else{e.lastChange.next=e.lastChange=a;}this.$updateMarkers(d);};this.onSelectionChange=function(){var a=this.curOp=this.curOp||{};if(!a.cursorActivityHandlers)a.cursorActivityHandlers=this._eventRegistry["cursorActivity"]&&this._eventRegistry["cursorActivity"].slice();this.curOp.cursorActivity=true;if(this.ace.inMultiSelectMode){this.ace.keyBinding.removeKeyboardHandler(D.keyboardHandler);}};this.operation=function(f,a){if(!a&&this.curOp||a&&this.curOp&&this.curOp.force){return f();}if(a||!this.ace.curOp){if(this.curOp)this.onBeforeEndOperation();}if(!this.ace.curOp){var p=this.ace.prevOp;this.ace.startOperation({command:{name:"vim",scrollIntoView:"cursor"}});}var d=this.curOp=this.curOp||{};this.curOp.force=a;var r=f();if(this.ace.curOp&&this.ace.curOp.command.name=="vim"){if(this.state.dialog)this.ace.curOp.command.scrollIntoView=false;this.ace.endOperation();if(!d.cursorActivity&&!d.lastChange&&p)this.ace.prevOp=p;}if(a||!this.ace.curOp){if(this.curOp)this.onBeforeEndOperation();}return r;};this.onBeforeEndOperation=function(){var o=this.curOp;if(o){if(o.change){this.signal("change",o.change,o);}if(o&&o.cursorActivity){this.signal("cursorActivity",null,o);}this.curOp=null;}};this.signal=function(a,e,h){var d=h?h[a+"Handlers"]:(this._eventRegistry||{})[a];if(!d)return;d=d.slice();for(var i=0;i<d.length;i++)d[i](this,e);};this.firstLine=function(){return 0;};this.lastLine=function(){return this.ace.session.getLength()-1;};this.lineCount=function(){return this.ace.session.getLength();};this.setCursor=function(a,d){if(typeof a==='object'){d=a.ch;a=a.line;}var s=!this.curOp&&!this.ace.inVirtualSelectionMode;if(!this.ace.inVirtualSelectionMode)this.ace.exitMultiSelectMode();this.ace.session.unfold({row:a,column:d});this.ace.selection.moveTo(a,d);if(s){this.ace.renderer.scrollCursorIntoView();this.ace.endOperation();}};this.getCursor=function(p){var s=this.ace.selection;var a=p=='anchor'?(s.isEmpty()?s.lead:s.anchor):p=='head'||!p?s.lead:s.getRange()[p];return I(a);};this.listSelections=function(p){var a=this.ace.multiSelect.rangeList.ranges;if(!a.length||this.ace.inVirtualSelectionMode)return[{anchor:this.getCursor('anchor'),head:this.getCursor('head')}];return a.map(function(r){return{anchor:this.clipPos(I(r.cursor==r.end?r.start:r.end)),head:this.clipPos(I(r.cursor))};},this);};this.setSelections=function(p,a){var s=this.ace.multiSelect;var d=p.map(function(x){var h=H(x.anchor);var j=H(x.head);var r=R.comparePoints(h,j)<0?new R.fromPoints(h,j):new R.fromPoints(j,h);r.cursor=R.comparePoints(r.start,j)?r.end:r.start;return r;});if(this.ace.inVirtualSelectionMode){this.ace.selection.fromOrientedRange(d[0]);return;}if(!a){d=d.reverse();}else if(d[a]){d.push(d.splice(a,1)[0]);}s.toSingleRange(d[0].clone());var e=this.ace.session;for(var i=0;i<d.length;i++){var f=e.$clipRangeToDocument(d[i]);s.addRange(f);}};this.setSelection=function(a,h,u1){var s=this.ace.selection;s.moveTo(a.line,a.ch);s.selectTo(h.line,h.ch);if(u1&&u1.origin=='*mouse'){this.onBeforeEndOperation();}};this.somethingSelected=function(p){return!this.ace.selection.isEmpty();};this.clipPos=function(p){var a=this.ace.session.$clipPositionToDocument(p.line,p.ch);return I(a);};this.foldCode=function(p){this.ace.session.$toggleFoldWidget(p.line,{});};this.markText=function(a){return{clear:function(){},find:function(){}};};this.$updateMarkers=function(d){var a=d.action=="insert";var s=d.start;var e=d.end;var r=(e.row-s.row)*(a?1:-1);var f=(e.column-s.column)*(a?1:-1);if(a)e=s;for(var i in this.marks){var p=this.marks[i];var h=R.comparePoints(p,s);if(h<0){continue;}if(h===0){if(a){if(p.bias==1){h=1;}else{p.bias=-1;continue;}}}var j=a?h:R.comparePoints(p,e);if(j>0){p.row+=r;p.column+=p.row==e.row?f:0;continue;}if(!a&&j<=0){p.row=s.row;p.column=s.column;if(j===0)p.bias=1;}}};var b=function(a,i,r,d){this.cm=a;this.id=i;this.row=r;this.column=d;a.marks[this.id]=this;};b.prototype.clear=function(){delete this.cm.marks[this.id]};b.prototype.find=function(){return I(this)};this.setBookmark=function(a,u1){var d=new b(this,this.$uid++,a.line,a.ch);if(!u1||!u1.insertLeft)d.$insertRight=true;this.marks[d.id]=d;return d;};this.moveH=function(i,a){if(a=='char'){var s=this.ace.selection;s.clearSelection();s.moveCursorBy(0,i);}};this.findPosV=function(s,a,d,e){if(d=='page'){var r=this.ace.renderer;var f=r.layerConfig;a=a*Math.floor(f.height/f.lineHeight);d='line';}if(d=='line'){var h=this.ace.session.documentToScreenPosition(s.line,s.ch);if(e!=null)h.column=e;h.row+=a;h.row=Math.min(Math.max(0,h.row),this.ace.session.getScreenLength()-1);var p=this.ace.session.screenToDocumentPosition(h.row,h.column);return I(p);}else{debugger;}};this.charCoords=function(p,m){if(m=='div'||!m){var s=this.ace.session.documentToScreenPosition(p.line,p.ch);return{left:s.column,top:s.row};}if(m=='local'){var r=this.ace.renderer;var s=this.ace.session.documentToScreenPosition(p.line,p.ch);var a=r.layerConfig.lineHeight;var d=r.layerConfig.characterWidth;var e=a*s.row;return{left:s.column*d,top:e,bottom:e+a};}};this.coordsChar=function(p,m){var r=this.ace.renderer;if(m=='local'){var a=Math.max(0,Math.floor(p.top/r.lineHeight));var d=Math.max(0,Math.floor(p.left/r.characterWidth));var e=r.session.screenToDocumentPosition(a,d);return I(e);}else if(m=='div'){throw"not implemented";}};this.getSearchCursor=function(a,p,d){var e=false;var i=false;if(a instanceof RegExp&&!a.global){e=!a.ignoreCase;a=a.source;i=true;}if(a=="\\n"){a="\n";i=false;}var s=new S();if(p.ch==undefined)p.ch=Number.MAX_VALUE;var f={row:p.line,column:p.ch};var h=this;var j=null;return{findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(k){s.setOptions({needle:a,caseSensitive:e,wrap:false,backwards:k,regExp:i,start:j||f});var r=s.find(h.ace.session);j=r;return j&&[!j.isEmpty()];},from:function(){return j&&I(j.start)},to:function(){return j&&I(j.end)},replace:function(k){if(j){j.end=h.ace.session.doc.replace(j,k);}}};};this.scrollTo=function(x,y){var r=this.ace.renderer;var a=r.layerConfig;var m=a.maxHeight;m-=(r.$size.scrollerHeight-r.lineHeight)*r.$scrollPastEnd;if(y!=null)this.ace.session.setScrollTop(Math.max(0,Math.min(y,m)));if(x!=null)this.ace.session.setScrollLeft(Math.max(0,Math.min(x,a.width)));};this.scrollInfo=function(){return 0;};this.scrollIntoView=function(p,m){if(p){var r=this.ace.renderer;var v={"top":0,"bottom":m};r.scrollCursorIntoView(H(p),(r.lineHeight*2)/r.$size.scrollerHeight,v);}};this.getLine=function(r){return this.ace.session.getLine(r)};this.getRange=function(s,e){return this.ace.session.getTextRange(new R(s.line,s.ch,e.line,e.ch));};this.replaceRange=function(a,s,e){if(!e)e=s;var r=new R(s.line,s.ch,e.line,e.ch);this.ace.session.$clipRangeToDocument(r);return this.ace.session.replace(r,a);};this.replaceSelection=this.replaceSelections=function(p){var s=this.ace.selection;if(this.ace.inVirtualSelectionMode){this.ace.session.replace(s.getRange(),p[0]||"");return;}s.inVirtualSelectionMode=true;var r=s.rangeList.ranges;if(!r.length)r=[this.ace.multiSelect.getRange()];for(var i=r.length;i--;)this.ace.session.replace(r[i],p[i]||"");s.inVirtualSelectionMode=false;};this.getSelection=function(){return this.ace.getSelectedText();};this.getSelections=function(){return this.listSelections().map(function(x){return this.getRange(x.anchor,x.head);},this);};this.getInputField=function(){return this.ace.textInput.getElement();};this.getWrapperElement=function(){return this.ace.container;};var c={indentWithTabs:"useSoftTabs",indentUnit:"tabSize",tabSize:"tabSize",firstLineNumber:"firstLineNumber",readOnly:"readOnly"};this.setOption=function(n,v){this.state[n]=v;switch(n){case'indentWithTabs':n=c[n];v=!v;break;case'keyMap':this.state.$keyMap=v;return;break;default:n=c[n];}if(n)this.ace.setOption(n,v);};this.getOption=function(n,v){var a=c[n];if(a)v=this.ace.getOption(a);switch(n){case'indentWithTabs':n=c[n];return!v;case'keyMap':return this.state.$keyMap;}return a?v:this.state[n];};this.toggleOverwrite=function(o){this.state.overwrite=o;return this.ace.setOverwrite(o);};this.addOverlay=function(o){if(!this.$searchHighlight||!this.$searchHighlight.session){var h=new C(null,"ace_highlight-marker","text");var m=this.ace.session.addDynamicMarker(h);h.id=m.id;h.session=this.ace.session;h.destroy=function(o){h.session.off("change",h.updateOnChange);h.session.off("changeEditor",h.destroy);h.session.removeMarker(h.id);h.session=null;};h.updateOnChange=function(d){var a=d.start.row;if(a==d.end.row)h.cache[a]=undefined;else h.cache.splice(a,h.cache.length);};h.session.on("changeEditor",h.destroy);h.session.on("change",h.updateOnChange);}var r=new RegExp(o.query.source,"gmi");this.$searchHighlight=o.highlight=h;this.$searchHighlight.setRegexp(r);this.ace.renderer.updateBackMarkers();};this.removeOverlay=function(o){if(this.$searchHighlight&&this.$searchHighlight.session){this.$searchHighlight.destroy();}};this.getScrollInfo=function(){var r=this.ace.renderer;var a=r.layerConfig;return{left:r.scrollLeft,top:r.scrollTop,height:a.maxHeight,width:a.width,clientHeight:a.height,clientWidth:a.width};};this.getValue=function(){return this.ace.getValue();};this.setValue=function(v){return this.ace.setValue(v,-1);};this.getTokenTypeAt=function(p){var a=this.ace.session.getTokenAt(p.line,p.ch);return a&&/comment|string/.test(a.type)?"string":"";};this.findMatchingBracket=function(p){var m=this.ace.session.findMatchingBracket(H(p));return{to:m&&I(m)};};this.indentLine=function(a,m){if(m===true)this.ace.session.indentRows(a,a,"\t");else if(m===false)this.ace.session.outdentRows(new R(a,0,a,0));};this.indexFromPos=function(p){return this.ace.session.doc.positionToIndex(H(p));};this.posFromIndex=function(i){return I(this.ace.session.doc.indexToPosition(i));};this.focus=function(i){return this.ace.textInput.focus();};this.blur=function(i){return this.ace.blur();};this.defaultTextHeight=function(i){return this.ace.renderer.layerConfig.lineHeight;};this.scanForBracket=function(p,d,_,u1){var r=u1.bracketRegex.source;var a=/paren|text|operator|tag/;if(d==1){var m=this.ace.session.$findClosingBracket(r.slice(1,2),H(p),a);}else{var m=this.ace.session.$findOpeningBracket(r.slice(-2,-1),{row:p.line,column:p.ch+1},a);}return m&&{pos:I(m)};};this.refresh=function(){return this.ace.resize(true);};this.getMode=function(){return{name:this.getOption("mode")};};this.execCommand=function(n){if(n=="indentAuto")this.ace.execCommand("autoindent");else console.log(n+" is not implemented");};this.getLineNumber=function(h){return h.row;};this.getLineHandle=function(r){return{text:this.ace.session.getLine(r),row:r};}}).call(G.prototype);function H(c){return{row:c.line,column:c.ch};}function I(a){return new P(a.row,a.column);}var J=G.StringStream=function(s,a){this.pos=this.start=0;this.string=s;this.tabSize=a||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;};J.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==this.lineStart;},peek:function(){return this.string.charAt(this.pos)||undefined;},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++);},eat:function(m){var c=this.string.charAt(this.pos);if(typeof m=="string")var o=c==m;else var o=c&&(m.test?m.test(c):m(c));if(o){++this.pos;return c;}},eatWhile:function(m){var s=this.pos;while(this.eat(m)){}return this.pos>s;},eatSpace:function(){var s=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>s;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(c){var f=this.string.indexOf(c,this.pos);if(f>-1){this.pos=f;return true;}},backUp:function(n){this.pos-=n;},column:function(){throw"not implemented";},indentation:function(){throw"not implemented";},match:function(p,c,a){if(typeof p=="string"){var b=function(d){return a?d.toLowerCase():d;};var s=this.string.substr(this.pos,p.length);if(b(s)==b(p)){if(c!==false)this.pos+=p.length;return true;}}else{var m=this.string.slice(this.pos).match(p);if(m&&m.index>0)return null;if(m&&c!==false)this.pos+=m[0].length;return m;}},current:function(){return this.string.slice(this.start,this.pos);},hideFirstChars:function(n,i){this.lineStart+=n;try{return i();}finally{this.lineStart-=n;}}};G.defineExtension=function(n,f){G.prototype[n]=f;};u.importCssString(".normal-mode .ace_cursor{    border: none;    background-color: rgba(255,0,0,0.5);}.normal-mode .ace_hidden-cursors .ace_cursor{  background-color: transparent;  border: 1px solid red;  opacity: 0.7}.ace_dialog {  position: absolute;  left: 0; right: 0;  background: inherit;  z-index: 15;  padding: .1em .8em;  overflow: hidden;  color: inherit;}.ace_dialog-top {  border-bottom: 1px solid #444;  top: 0;}.ace_dialog-bottom {  border-top: 1px solid #444;  bottom: 0;}.ace_dialog input {  border: none;  outline: none;  background: transparent;  width: 20em;  color: inherit;  font-family: monospace;}","vimMode",false);(function(){function d(a,b,e){var w=a.ace.container;var f;f=w.appendChild(document.createElement("div"));if(e)f.className="ace_dialog ace_dialog-bottom";else f.className="ace_dialog ace_dialog-top";if(typeof b=="string"){throw new Error("Can not use string template for the dialog. This is required to avoid CSP inline styles violations");}else{f.appendChild(b);}return f;}function c(a,n){if(a.state.currentNotificationClose)a.state.currentNotificationClose();a.state.currentNotificationClose=n;}G.defineExtension("openDialog",function(a,b,u1){if(this.virtualSelectionMode())return;if(!u1)u1={};c(this,null);var f=d(this,a,u1.bottom);var h=false,m=this;this.state.dialog=f;function i(n){if(typeof n=='string'){j.value=n;}else{if(h)return;if(n&&n.type=="blur"){if(document.activeElement===j)return;}m.state.dialog=null;h=true;f.parentNode.removeChild(f);m.focus();if(u1.onClose)u1.onClose(f);var e=m;if(e.state.vim){e.state.vim.status=null;e.ace._signal("changeStatus");e.ace.renderer.$loop.schedule(e.ace.renderer.CHANGE_CURSOR);}}}var j=f.getElementsByTagName("input")[0],k;if(j){if(u1.value){j.value=u1.value;if(u1.selectValueOnOpen!==false)j.select();}if(u1.onInput)G.on(j,"input",function(e){u1.onInput(e,j.value,i);});if(u1.onKeyUp)G.on(j,"keyup",function(e){u1.onKeyUp(e,j.value,i);});G.on(j,"keydown",function(e){if(u1&&u1.onKeyDown&&u1.onKeyDown(e,j.value,i)){return;}if(e.keyCode==13)b(j.value);if(e.keyCode==27||(u1.closeOnEnter!==false&&e.keyCode==13)){j.blur();G.e_stop(e);i();}});if(u1.closeOnBlur!==false)G.on(j,"blur",i);j.focus();}else if(k=f.getElementsByTagName("button")[0]){G.on(k,"click",function(){i();m.focus();});if(u1.closeOnBlur!==false)G.on(k,"blur",i);k.focus();}return i;});G.defineExtension("openNotification",function(a,u1){if(this.virtualSelectionMode())return;c(this,j);var b=d(this,a,u1&&u1.bottom);var f=false,h;var i=u1&&typeof u1.duration!=="undefined"?u1.duration:5000;function j(){if(f)return;f=true;clearTimeout(h);b.parentNode.removeChild(b);}G.on(b,'click',function(e){G.e_preventDefault(e);j();});if(i)h=setTimeout(j,i);return j;});})();var L=[{keys:'<Left>',type:'keyToKey',toKeys:'h'},{keys:'<Right>',type:'keyToKey',toKeys:'l'},{keys:'<Up>',type:'keyToKey',toKeys:'k'},{keys:'<Down>',type:'keyToKey',toKeys:'j'},{keys:'<Space>',type:'keyToKey',toKeys:'l'},{keys:'<BS>',type:'keyToKey',toKeys:'h',context:'normal'},{keys:'<Del>',type:'keyToKey',toKeys:'x',context:'normal'},{keys:'<C-Space>',type:'keyToKey',toKeys:'W'},{keys:'<C-BS>',type:'keyToKey',toKeys:'B',context:'normal'},{keys:'<S-Space>',type:'keyToKey',toKeys:'w'},{keys:'<S-BS>',type:'keyToKey',toKeys:'b',context:'normal'},{keys:'<C-n>',type:'keyToKey',toKeys:'j'},{keys:'<C-p>',type:'keyToKey',toKeys:'k'},{keys:'<C-[>',type:'keyToKey',toKeys:'<Esc>'},{keys:'<C-c>',type:'keyToKey',toKeys:'<Esc>'},{keys:'<C-[>',type:'keyToKey',toKeys:'<Esc>',context:'insert'},{keys:'<C-c>',type:'keyToKey',toKeys:'<Esc>',context:'insert'},{keys:'<C-Esc>',type:'keyToKey',toKeys:'<Esc>'},{keys:'<C-Esc>',type:'keyToKey',toKeys:'<Esc>',context:'insert'},{keys:'s',type:'keyToKey',toKeys:'cl',context:'normal'},{keys:'s',type:'keyToKey',toKeys:'c',context:'visual'},{keys:'S',type:'keyToKey',toKeys:'cc',context:'normal'},{keys:'S',type:'keyToKey',toKeys:'VdO',context:'visual'},{keys:'<Home>',type:'keyToKey',toKeys:'0'},{keys:'<End>',type:'keyToKey',toKeys:'$'},{keys:'<PageUp>',type:'keyToKey',toKeys:'<C-b>'},{keys:'<PageDown>',type:'keyToKey',toKeys:'<C-f>'},{keys:'<CR>',type:'keyToKey',toKeys:'j^',context:'normal'},{keys:'<Ins>',type:'action',action:'toggleOverwrite',context:'insert'},{keys:'H',type:'motion',motion:'moveToTopLine',motionArgs:{linewise:true,toJumplist:true}},{keys:'M',type:'motion',motion:'moveToMiddleLine',motionArgs:{linewise:true,toJumplist:true}},{keys:'L',type:'motion',motion:'moveToBottomLine',motionArgs:{linewise:true,toJumplist:true}},{keys:'h',type:'motion',motion:'moveByCharacters',motionArgs:{forward:false}},{keys:'l',type:'motion',motion:'moveByCharacters',motionArgs:{forward:true}},{keys:'j',type:'motion',motion:'moveByLines',motionArgs:{forward:true,linewise:true}},{keys:'k',type:'motion',motion:'moveByLines',motionArgs:{forward:false,linewise:true}},{keys:'gj',type:'motion',motion:'moveByDisplayLines',motionArgs:{forward:true}},{keys:'gk',type:'motion',motion:'moveByDisplayLines',motionArgs:{forward:false}},{keys:'w',type:'motion',motion:'moveByWords',motionArgs:{forward:true,wordEnd:false}},{keys:'W',type:'motion',motion:'moveByWords',motionArgs:{forward:true,wordEnd:false,bigWord:true}},{keys:'e',type:'motion',motion:'moveByWords',motionArgs:{forward:true,wordEnd:true,inclusive:true}},{keys:'E',type:'motion',motion:'moveByWords',motionArgs:{forward:true,wordEnd:true,bigWord:true,inclusive:true}},{keys:'b',type:'motion',motion:'moveByWords',motionArgs:{forward:false,wordEnd:false}},{keys:'B',type:'motion',motion:'moveByWords',motionArgs:{forward:false,wordEnd:false,bigWord:true}},{keys:'ge',type:'motion',motion:'moveByWords',motionArgs:{forward:false,wordEnd:true,inclusive:true}},{keys:'gE',type:'motion',motion:'moveByWords',motionArgs:{forward:false,wordEnd:true,bigWord:true,inclusive:true}},{keys:'{',type:'motion',motion:'moveByParagraph',motionArgs:{forward:false,toJumplist:true}},{keys:'}',type:'motion',motion:'moveByParagraph',motionArgs:{forward:true,toJumplist:true}},{keys:'(',type:'motion',motion:'moveBySentence',motionArgs:{forward:false}},{keys:')',type:'motion',motion:'moveBySentence',motionArgs:{forward:true}},{keys:'<C-f>',type:'motion',motion:'moveByPage',motionArgs:{forward:true}},{keys:'<C-b>',type:'motion',motion:'moveByPage',motionArgs:{forward:false}},{keys:'<C-d>',type:'motion',motion:'moveByScroll',motionArgs:{forward:true,explicitRepeat:true}},{keys:'<C-u>',type:'motion',motion:'moveByScroll',motionArgs:{forward:false,explicitRepeat:true}},{keys:'gg',type:'motion',motion:'moveToLineOrEdgeOfDocument',motionArgs:{forward:false,explicitRepeat:true,linewise:true,toJumplist:true}},{keys:'G',type:'motion',motion:'moveToLineOrEdgeOfDocument',motionArgs:{forward:true,explicitRepeat:true,linewise:true,toJumplist:true}},{keys:'0',type:'motion',motion:'moveToStartOfLine'},{keys:'^',type:'motion',motion:'moveToFirstNonWhiteSpaceCharacter'},{keys:'+',type:'motion',motion:'moveByLines',motionArgs:{forward:true,toFirstChar:true}},{keys:'-',type:'motion',motion:'moveByLines',motionArgs:{forward:false,toFirstChar:true}},{keys:'_',type:'motion',motion:'moveByLines',motionArgs:{forward:true,toFirstChar:true,repeatOffset:-1}},{keys:'$',type:'motion',motion:'moveToEol',motionArgs:{inclusive:true}},{keys:'%',type:'motion',motion:'moveToMatchedSymbol',motionArgs:{inclusive:true,toJumplist:true}},{keys:'f<character>',type:'motion',motion:'moveToCharacter',motionArgs:{forward:true,inclusive:true}},{keys:'F<character>',type:'motion',motion:'moveToCharacter',motionArgs:{forward:false}},{keys:'t<character>',type:'motion',motion:'moveTillCharacter',motionArgs:{forward:true,inclusive:true}},{keys:'T<character>',type:'motion',motion:'moveTillCharacter',motionArgs:{forward:false}},{keys:';',type:'motion',motion:'repeatLastCharacterSearch',motionArgs:{forward:true}},{keys:',',type:'motion',motion:'repeatLastCharacterSearch',motionArgs:{forward:false}},{keys:'\'<character>',type:'motion',motion:'goToMark',motionArgs:{toJumplist:true,linewise:true}},{keys:'`<character>',type:'motion',motion:'goToMark',motionArgs:{toJumplist:true}},{keys:']`',type:'motion',motion:'jumpToMark',motionArgs:{forward:true}},{keys:'[`',type:'motion',motion:'jumpToMark',motionArgs:{forward:false}},{keys:']\'',type:'motion',motion:'jumpToMark',motionArgs:{forward:true,linewise:true}},{keys:'[\'',type:'motion',motion:'jumpToMark',motionArgs:{forward:false,linewise:true}},{keys:']p',type:'action',action:'paste',isEdit:true,actionArgs:{after:true,isEdit:true,matchIndent:true}},{keys:'[p',type:'action',action:'paste',isEdit:true,actionArgs:{after:false,isEdit:true,matchIndent:true}},{keys:']<character>',type:'motion',motion:'moveToSymbol',motionArgs:{forward:true,toJumplist:true}},{keys:'[<character>',type:'motion',motion:'moveToSymbol',motionArgs:{forward:false,toJumplist:true}},{keys:'|',type:'motion',motion:'moveToColumn'},{keys:'o',type:'motion',motion:'moveToOtherHighlightedEnd',context:'visual'},{keys:'O',type:'motion',motion:'moveToOtherHighlightedEnd',motionArgs:{sameLine:true},context:'visual'},{keys:'d',type:'operator',operator:'delete'},{keys:'y',type:'operator',operator:'yank'},{keys:'c',type:'operator',operator:'change'},{keys:'=',type:'operator',operator:'indentAuto'},{keys:'>',type:'operator',operator:'indent',operatorArgs:{indentRight:true}},{keys:'<',type:'operator',operator:'indent',operatorArgs:{indentRight:false}},{keys:'g~',type:'operator',operator:'changeCase'},{keys:'gu',type:'operator',operator:'changeCase',operatorArgs:{toLower:true},isEdit:true},{keys:'gU',type:'operator',operator:'changeCase',operatorArgs:{toLower:false},isEdit:true},{keys:'n',type:'motion',motion:'findNext',motionArgs:{forward:true,toJumplist:true}},{keys:'N',type:'motion',motion:'findNext',motionArgs:{forward:false,toJumplist:true}},{keys:'gn',type:'motion',motion:'findAndSelectNextInclusive',motionArgs:{forward:true}},{keys:'gN',type:'motion',motion:'findAndSelectNextInclusive',motionArgs:{forward:false}},{keys:'x',type:'operatorMotion',operator:'delete',motion:'moveByCharacters',motionArgs:{forward:true},operatorMotionArgs:{visualLine:false}},{keys:'X',type:'operatorMotion',operator:'delete',motion:'moveByCharacters',motionArgs:{forward:false},operatorMotionArgs:{visualLine:true}},{keys:'D',type:'operatorMotion',operator:'delete',motion:'moveToEol',motionArgs:{inclusive:true},context:'normal'},{keys:'D',type:'operator',operator:'delete',operatorArgs:{linewise:true},context:'visual'},{keys:'Y',type:'operatorMotion',operator:'yank',motion:'expandToLine',motionArgs:{linewise:true},context:'normal'},{keys:'Y',type:'operator',operator:'yank',operatorArgs:{linewise:true},context:'visual'},{keys:'C',type:'operatorMotion',operator:'change',motion:'moveToEol',motionArgs:{inclusive:true},context:'normal'},{keys:'C',type:'operator',operator:'change',operatorArgs:{linewise:true},context:'visual'},{keys:'~',type:'operatorMotion',operator:'changeCase',motion:'moveByCharacters',motionArgs:{forward:true},operatorArgs:{shouldMoveCursor:true},context:'normal'},{keys:'~',type:'operator',operator:'changeCase',context:'visual'},{keys:'<C-w>',type:'operatorMotion',operator:'delete',motion:'moveByWords',motionArgs:{forward:false,wordEnd:false},context:'insert'},{keys:'<C-w>',type:'idle',context:'normal'},{keys:'<C-i>',type:'action',action:'jumpListWalk',actionArgs:{forward:true}},{keys:'<C-o>',type:'action',action:'jumpListWalk',actionArgs:{forward:false}},{keys:'<C-e>',type:'action',action:'scroll',actionArgs:{forward:true,linewise:true}},{keys:'<C-y>',type:'action',action:'scroll',actionArgs:{forward:false,linewise:true}},{keys:'a',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'charAfter'},context:'normal'},{keys:'A',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'eol'},context:'normal'},{keys:'A',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'endOfSelectedArea'},context:'visual'},{keys:'i',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'inplace'},context:'normal'},{keys:'gi',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'lastEdit'},context:'normal'},{keys:'I',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'firstNonBlank'},context:'normal'},{keys:'gI',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'bol'},context:'normal'},{keys:'I',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{insertAt:'startOfSelectedArea'},context:'visual'},{keys:'o',type:'action',action:'newLineAndEnterInsertMode',isEdit:true,interlaceInsertRepeat:true,actionArgs:{after:true},context:'normal'},{keys:'O',type:'action',action:'newLineAndEnterInsertMode',isEdit:true,interlaceInsertRepeat:true,actionArgs:{after:false},context:'normal'},{keys:'v',type:'action',action:'toggleVisualMode'},{keys:'V',type:'action',action:'toggleVisualMode',actionArgs:{linewise:true}},{keys:'<C-v>',type:'action',action:'toggleVisualMode',actionArgs:{blockwise:true}},{keys:'<C-q>',type:'action',action:'toggleVisualMode',actionArgs:{blockwise:true}},{keys:'gv',type:'action',action:'reselectLastSelection'},{keys:'J',type:'action',action:'joinLines',isEdit:true},{keys:'gJ',type:'action',action:'joinLines',actionArgs:{keepSpaces:true},isEdit:true},{keys:'p',type:'action',action:'paste',isEdit:true,actionArgs:{after:true,isEdit:true}},{keys:'P',type:'action',action:'paste',isEdit:true,actionArgs:{after:false,isEdit:true}},{keys:'r<character>',type:'action',action:'replace',isEdit:true},{keys:'@<character>',type:'action',action:'replayMacro'},{keys:'q<character>',type:'action',action:'enterMacroRecordMode'},{keys:'R',type:'action',action:'enterInsertMode',isEdit:true,actionArgs:{replace:true},context:'normal'},{keys:'R',type:'operator',operator:'change',operatorArgs:{linewise:true,fullLine:true},context:'visual',exitVisualBlock:true},{keys:'u',type:'action',action:'undo',context:'normal'},{keys:'u',type:'operator',operator:'changeCase',operatorArgs:{toLower:true},context:'visual',isEdit:true},{keys:'U',type:'operator',operator:'changeCase',operatorArgs:{toLower:false},context:'visual',isEdit:true},{keys:'<C-r>',type:'action',action:'redo'},{keys:'m<character>',type:'action',action:'setMark'},{keys:'"<character>',type:'action',action:'setRegister'},{keys:'zz',type:'action',action:'scrollToCursor',actionArgs:{position:'center'}},{keys:'z.',type:'action',action:'scrollToCursor',actionArgs:{position:'center'},motion:'moveToFirstNonWhiteSpaceCharacter'},{keys:'zt',type:'action',action:'scrollToCursor',actionArgs:{position:'top'}},{keys:'z<CR>',type:'action',action:'scrollToCursor',actionArgs:{position:'top'},motion:'moveToFirstNonWhiteSpaceCharacter'},{keys:'z-',type:'action',action:'scrollToCursor',actionArgs:{position:'bottom'}},{keys:'zb',type:'action',action:'scrollToCursor',actionArgs:{position:'bottom'},motion:'moveToFirstNonWhiteSpaceCharacter'},{keys:'.',type:'action',action:'repeatLastEdit'},{keys:'<C-a>',type:'action',action:'incrementNumberToken',isEdit:true,actionArgs:{increase:true,backtrack:false}},{keys:'<C-x>',type:'action',action:'incrementNumberToken',isEdit:true,actionArgs:{increase:false,backtrack:false}},{keys:'<C-t>',type:'action',action:'indent',actionArgs:{indentRight:true},context:'insert'},{keys:'<C-d>',type:'action',action:'indent',actionArgs:{indentRight:false},context:'insert'},{keys:'a<character>',type:'motion',motion:'textObjectManipulation'},{keys:'i<character>',type:'motion',motion:'textObjectManipulation',motionArgs:{textObjectInner:true}},{keys:'/',type:'search',searchArgs:{forward:true,querySrc:'prompt',toJumplist:true}},{keys:'?',type:'search',searchArgs:{forward:false,querySrc:'prompt',toJumplist:true}},{keys:'*',type:'search',searchArgs:{forward:true,querySrc:'wordUnderCursor',wholeWordOnly:true,toJumplist:true}},{keys:'#',type:'search',searchArgs:{forward:false,querySrc:'wordUnderCursor',wholeWordOnly:true,toJumplist:true}},{keys:'g*',type:'search',searchArgs:{forward:true,querySrc:'wordUnderCursor',toJumplist:true}},{keys:'g#',type:'search',searchArgs:{forward:false,querySrc:'wordUnderCursor',toJumplist:true}},{keys:':',type:'ex'}];var M=L.length;var N=[{name:'colorscheme',shortName:'colo'},{name:'map'},{name:'imap',shortName:'im'},{name:'nmap',shortName:'nm'},{name:'vmap',shortName:'vm'},{name:'unmap'},{name:'write',shortName:'w'},{name:'undo',shortName:'u'},{name:'redo',shortName:'red'},{name:'set',shortName:'se'},{name:'setlocal',shortName:'setl'},{name:'setglobal',shortName:'setg'},{name:'sort',shortName:'sor'},{name:'substitute',shortName:'s',possiblyAsync:true},{name:'nohlsearch',shortName:'noh'},{name:'yank',shortName:'y'},{name:'delmarks',shortName:'delm'},{name:'registers',shortName:'reg',excludeFromCommandHistory:true},{name:'vglobal',shortName:'v'},{name:'global',shortName:'g'}];var P=G.Pos;var V=function(){return F1;};function O(c){c.setOption('disableInput',true);c.setOption('showCursorWhenSelecting',false);G.signal(c,"vim-mode-change",{mode:"normal"});c.on('cursorActivity',A3);B1(c);G.on(c.getInputField(),'paste',a1(c));}function Q(c){c.setOption('disableInput',false);c.off('cursorActivity',A3);G.off(c.getInputField(),'paste',a1(c));c.state.vim=null;}function U(c,n){if(this==G.keyMap.vim)G.rmClass(c.getWrapperElement(),"cm-fat-cursor");if(!n||n.attach!=W)Q(c);}function W(c,p){if(this==G.keyMap.vim)G.addClass(c.getWrapperElement(),"cm-fat-cursor");if(!p||p.attach!=W)O(c);}G.defineOption('vimMode',false,function(c,v,p){if(v&&c.getOption("keyMap")!="vim")c.setOption("keyMap","vim");else if(!v&&p!=G.Init&&/^vim/.test(c.getOption("keyMap")))c.setOption("keyMap","default");});function X(k,c){if(!c){return undefined;}if(this[k]){return this[k];}var v=$(k);if(!v){return false;}var a=G.Vim.findKey(c,v);if(typeof a=='function'){G.signal(c,'vim-keypress',v);}return a;}var Y={Shift:'S',Ctrl:'C',Alt:'A',Cmd:'D',Mod:'A',CapsLock:''};var Z={Enter:'CR',Backspace:'BS',Delete:'Del',Insert:'Ins'};function $(k){if(k.charAt(0)=='\''){return k.charAt(1);}var p=k.split(/-(?!$)/);var a=p[p.length-1];if(p.length==1&&p[0].length==1){return false;}else if(p.length==2&&p[0]=='Shift'&&a.length==1){return false;}var h=false;for(var i=0;i<p.length;i++){var b=p[i];if(b in Y){p[i]=Y[b];}else{h=true;}if(b in Z){p[i]=Z[b];}}if(!h){return false;}if(p1(a)){p[p.length-1]=a.toLowerCase();}return'<'+p.join('-')+'>';}function a1(c){var v=c.state.vim;if(!v.onPasteFn){v.onPasteFn=function(){if(!v.insertMode){c.setCursor(W1(c.getCursor(),0,1));S1.enterInsertMode(c,{},v);}};}return v.onPasteFn;}var b1=/[\d]/;var c1=[G.isWordChar,function(c){return c&&!G.isWordChar(c)&&!/\s/.test(c);}],d1=[function(c){return/\S/.test(c);}];function e1(s,a){var k=[];for(var i=s;i<s+a;i++){k.push(String.fromCharCode(i));}return k;}var f1=e1(65,26);var g1=e1(97,26);var h1=e1(48,10);var i1=[].concat(f1,g1,h1,['<','>']);var j1=[].concat(f1,g1,h1,['-','"','.',':','_','/']);var k1;try{k1=new RegExp("^[\\p{Lu}]$","u");}catch(_){k1=/^[A-Z]$/;}function l1(c,a){return a>=c.firstLine()&&a<=c.lastLine();}function m1(k){return(/^[a-z]$/).test(k);}function n1(k){return'()[]{}'.indexOf(k)!=-1;}function o1(k){return b1.test(k);}function p1(k){return k1.test(k);}function q1(k){return(/^\s*$/).test(k);}function s1(k){return'.?!'.indexOf(k)!=-1;}function t1(v,a){for(var i=0;i<a.length;i++){if(a[i]==v){return true;}}return false;}var u1={};function v1(n,d,a,b,c){if(d===undefined&&!c){throw Error('defaultValue is required unless callback is provided');}if(!a){a='string';}u1[n]={type:a,defaultValue:d,callback:c};if(b){for(var i=0;i<b.length;i++){u1[b[i]]=u1[n];}}if(d){w1(n,d);}}function w1(n,v,c,a){var o=u1[n];a=a||{};var s=a.scope;if(!o){return new Error('Unknown option: '+n);}if(o.type=='boolean'){if(v&&v!==true){return new Error('Invalid argument: '+n+'='+v);}else if(v!==false){v=true;}}if(o.callback){if(s!=='local'){o.callback(v,undefined);}if(s!=='global'&&c){o.callback(v,c);}}else{if(s!=='local'){o.value=o.type=='boolean'?!!v:v;}if(s!=='global'&&c){c.state.vim.options[n]={value:v};}}}function x1(n,c,a){var o=u1[n];a=a||{};var s=a.scope;if(!o){return new Error('Unknown option: '+n);}if(o.callback){var b=c&&o.callback(undefined,c);if(s!=='global'&&b!==undefined){return b;}if(s!=='local'){return o.callback();}return;}else{var b=(s!=='global')&&(c&&c.state.vim.options[n]);return(b||(s!=='local')&&o||{}).value;}}v1('filetype',undefined,'string',['ft'],function(n,c){if(c===undefined){return;}if(n===undefined){var m=c.getOption('mode');return m=='null'?'':m;}else{var m=n==''?'null':n;c.setOption('mode',m);}});var y1=function(){var s=100;var p=-1;var h=0;var a=0;var b=new Array(s);function c(d,o,n){var e=p%s;var i=b[e];function j(r){var v=++p%s;var w=b[v];if(w){w.clear();}b[v]=d.setBookmark(r);}if(i){var k=i.find();if(k&&!a2(k,o)){j(o);}}else{j(o);}j(n);h=p;a=p-s+1;if(a<0){a=0;}}function m(d,o){p+=o;if(p>h){p=h;}else if(p<a){p=a;}var e=b[(s+p)%s];if(e&&!e.find()){var i=o>0?1:-1;var n;var j=d.getCursor();do{p+=i;e=b[(s+p)%s];if(e&&(n=e.find())&&!a2(j,n)){break;}}while(p<h&&p>a);}return e;}function f(d,o){var e=p;var i=m(d,o);p=e;return i&&i.find();}return{cachedCursor:undefined,add:c,find:f,move:m};};var z1=function(c){if(c){return{changes:c.changes,expectCursorActivityForChange:c.expectCursorActivityForChange};}return{changes:[],expectCursorActivityForChange:false};};function A1(){this.latestRegister=undefined;this.isPlaying=false;this.isRecording=false;this.replaySearchQueries=[];this.onRecordingDone=undefined;this.lastInsertModeChanges=z1();}A1.prototype={exitMacroRecordMode:function(){var m=C1.macroModeState;if(m.onRecordingDone){m.onRecordingDone();}m.onRecordingDone=undefined;m.isRecording=false;},enterMacroRecordMode:function(c,r){var a=C1.registerController.getRegister(r);if(a){a.clear();this.latestRegister=r;if(c.openDialog){this.onRecordingDone=c.openDialog(document.createTextNode('(recording)['+r+']'),null,{bottom:true});}this.isRecording=true;}}};function B1(c){if(!c.state.vim){c.state.vim={inputState:new G1(),lastEditInputState:undefined,lastEditActionCommand:undefined,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:false,insertModeRepeat:undefined,visualMode:false,visualLine:false,visualBlock:false,lastSelection:null,lastPastedText:null,sel:{},options:{}};}return c.state.vim;}var C1;function D1(){C1={searchQuery:null,searchIsReversed:false,lastSubstituteReplacePart:undefined,jumpList:y1(),macroModeState:new A1,lastCharacterSearch:{increment:0,forward:true,selectedCharacter:''},registerController:new K1({}),searchHistoryController:new L1(),exCommandHistoryController:new L1()};for(var o in u1){var a=u1[o];a.value=a.defaultValue;}}var E1;var F1={buildKeyMap:function(){},getRegisterController:function(){return C1.registerController;},resetVimGlobalState_:D1,getVimGlobalState_:function(){return C1;},maybeInitVimState_:B1,suppressErrorLogging:false,InsertModeKey:E3,map:function(a,r,c){q3.map(a,r,c);},unmap:function(a,c){q3.unmap(a,c);},noremap:function(a,r,c){function b(c){return c?[c]:['normal','insert','visual'];}var d=b(c);var e=L.length,o=M;for(var i=e-o;i<e&&d.length;i++){var m=L[i];if(m.keys==r&&(!c||!m.context||m.context===c)&&m.type.substr(0,2)!=='ex'&&m.type.substr(0,3)!=='key'){var n={};for(var k in m){n[k]=m[k];}n.keys=a;if(c&&!n.context){n.context=c;}this._mapCommand(n);var f=b(m.context);d=d.filter(function(h){return f.indexOf(h)===-1;});}}},mapclear:function(c){var a=L.length,o=M;var b=L.slice(0,a-o);L=L.slice(a-o);if(c){for(var i=b.length-1;i>=0;i--){var m=b[i];if(c!==m.context){if(m.context){this._mapCommand(m);}else{var d=['normal','insert','visual'];for(var j in d){if(d[j]!==c){var n={};for(var k in m){n[k]=m[k];}n.context=d[j];this._mapCommand(n);}}}}}}},setOption:w1,getOption:x1,defineOption:v1,defineEx:function(n,p,f){if(!p){p=n;}else if(n.indexOf(p)!==0){throw new Error('(Vim.defineEx) "'+p+'" is not a prefix of "'+n+'", command not registered');}p3[n]=f;q3.commandMap_[p]={name:n,shortName:p,type:'api'};},handleKey:function(c,k,o){var a=this.findKey(c,k,o);if(typeof a==='function'){return a();}},findKey:function(c,k,o){var v=B1(c);function h(){var m=C1.macroModeState;if(m.isRecording){if(k=='q'){m.exitMacroRecordMode();H1(c);return true;}if(o!='mapping'){w3(m,k);}}}function a(){if(k=='<Esc>'){H1(c);if(v.visualMode){t2(c);}else if(v.insertMode){s3(c);}return true;}}function d(e){var m;while(e){m=(/<\w+-.+?>|<\w+>|./).exec(e);k=m[0];e=e.substring(m.index+k.length);G.Vim.handleKey(c,k,'mapping');}}function b(){if(a()){return true;}var e=v.inputState.keyBuffer=v.inputState.keyBuffer+k;var m=k.length==1;var n=M1.matchCommand(e,L,v.inputState,'insert');while(e.length>1&&n.type!='full'){var e=v.inputState.keyBuffer=e.slice(1);var p=M1.matchCommand(e,L,v.inputState,'insert');if(p.type!='none'){n=p;}}if(n.type=='none'){H1(c);return false;}else if(n.type=='partial'){if(E1){window.clearTimeout(E1);}E1=window.setTimeout(function(){if(v.insertMode&&v.inputState.keyBuffer){H1(c);}},x1('insertModeEscKeysTimeout'));return!m;}if(E1){window.clearTimeout(E1);}if(m){var s=c.listSelections();for(var i=0;i<s.length;i++){var r=s[i].head;c.replaceRange('',W1(r,0,-(e.length-1)),r,'+input');}C1.macroModeState.lastInsertModeChanges.changes.pop();}H1(c);return n.command;}function f(){if(h()||a()){return true;}var e=v.inputState.keyBuffer=v.inputState.keyBuffer+k;if(/^[1-9]\d*$/.test(e)){return true;}var i=/^(\d*)(.*)$/.exec(e);if(!i){H1(c);return false;}var m=v.visualMode?'visual':'normal';var n=i[2]||i[1];if(v.inputState.operatorShortcut&&v.inputState.operatorShortcut.slice(-1)==n){n=v.inputState.operatorShortcut;}var p=M1.matchCommand(n,L,v.inputState,m);if(p.type=='none'){H1(c);return false;}else if(p.type=='partial'){return true;}v.inputState.keyBuffer='';var i=/^(\d*)(.*)$/.exec(e);if(i[1]&&i[1]!='0'){v.inputState.pushRepeatDigit(i[1]);}return p.command;}var j;if(v.insertMode){j=b();}else{j=f();}if(j===false){return undefined;}else if(j===true){return function(){return true;};}else{return function(){if((j.operator||j.isEdit)&&c.getOption('readOnly'))return;return c.operation(function(){c.curOp.isVimOp=true;try{if(j.type=='keyToKey'){d(j.toKeys);}else{M1.processCommand(c,v,j);}}catch(e){c.state.vim=undefined;B1(c);if(!G.Vim.suppressErrorLogging){console['log'](e);}throw e;}return true;});};}},handleEx:function(c,i){q3.processCommand(c,i);},defineMotion:O1,defineAction:T1,defineOperator:R1,mapCommand:u3,_mapCommand:t3,defineRegister:J1,exitVisualMode:t2,exitInsertMode:s3};function G1(){this.prefixRepeat=[];this.motionRepeat=[];this.operator=null;this.operatorArgs=null;this.motion=null;this.motionArgs=null;this.keyBuffer=[];this.registerName=null;}G1.prototype.pushRepeatDigit=function(n){if(!this.operator){this.prefixRepeat=this.prefixRepeat.concat(n);}else{this.motionRepeat=this.motionRepeat.concat(n);}};G1.prototype.getRepeat=function(){var r=0;if(this.prefixRepeat.length>0||this.motionRepeat.length>0){r=1;if(this.prefixRepeat.length>0){r*=parseInt(this.prefixRepeat.join(''),10);}if(this.motionRepeat.length>0){r*=parseInt(this.motionRepeat.join(''),10);}}return r;};function H1(c,r){c.state.vim.inputState=new G1();G.signal(c,'vim-command-done',r);}function I1(a,b,c){this.clear();this.keyBuffer=[a||''];this.insertModeChanges=[];this.searchQueries=[];this.linewise=!!b;this.blockwise=!!c;}I1.prototype={setText:function(a,b,c){this.keyBuffer=[a||''];this.linewise=!!b;this.blockwise=!!c;},pushText:function(a,b){if(b){if(!this.linewise){this.keyBuffer.push('\n');}this.linewise=true;}this.keyBuffer.push(a);},pushInsertModeChanges:function(c){this.insertModeChanges.push(z1(c));},pushSearchQuery:function(a){this.searchQueries.push(a);},clear:function(){this.keyBuffer=[];this.insertModeChanges=[];this.searchQueries=[];this.linewise=false;},toString:function(){return this.keyBuffer.join('');}};function J1(n,r){var a=C1.registerController.registers;if(!n||n.length!=1){throw Error('Register name must be 1 character');}a[n]=r;j1.push(n);}function K1(r){this.registers=r;this.unnamedRegister=r['"']=new I1();r['.']=new I1();r[':']=new I1();r['/']=new I1();}K1.prototype={pushText:function(r,o,a,b,c){if(r==='_')return;if(b&&a.charAt(a.length-1)!=='\n'){a+='\n';}var d=this.isValidRegister(r)?this.getRegister(r):null;if(!d){switch(o){case'yank':this.registers['0']=new I1(a,b,c);break;case'delete':case'change':if(a.indexOf('\n')==-1){this.registers['-']=new I1(a,b);}else{this.shiftNumericRegisters_();this.registers['1']=new I1(a,b);}break;}this.unnamedRegister.setText(a,b,c);return;}var e=p1(r);if(e){d.pushText(a,b);}else{d.setText(a,b,c);}this.unnamedRegister.setText(d.toString(),b);},getRegister:function(n){if(!this.isValidRegister(n)){return this.unnamedRegister;}n=n.toLowerCase();if(!this.registers[n]){this.registers[n]=new I1();}return this.registers[n];},isValidRegister:function(n){return n&&t1(n,j1);},shiftNumericRegisters_:function(){for(var i=9;i>=2;i--){this.registers[i]=this.getRegister(''+(i-1));}}};function L1(){this.historyBuffer=[];this.iterator=0;this.initialPrefix=null;}L1.prototype={nextMatch:function(a,b){var h=this.historyBuffer;var d=b?-1:1;if(this.initialPrefix===null)this.initialPrefix=a;for(var i=this.iterator+d;b?i>=0:i<h.length;i+=d){var e=h[i];for(var j=0;j<=e.length;j++){if(this.initialPrefix==e.substring(0,j)){this.iterator=i;return e;}}}if(i>=h.length){this.iterator=h.length;return this.initialPrefix;}if(i<0)return a;},pushInput:function(i){var a=this.historyBuffer.indexOf(i);if(a>-1)this.historyBuffer.splice(a,1);if(i.length)this.historyBuffer.push(i);},reset:function(){this.initialPrefix=null;this.iterator=this.historyBuffer.length;}};var M1={matchCommand:function(k,a,b,c){var m=X1(k,a,c,b);if(!m.full&&!m.partial){return{type:'none'};}else if(!m.full&&m.partial){return{type:'partial'};}var d;for(var i=0;i<m.full.length;i++){var e=m.full[i];if(!d){d=e;}}if(d.keys.slice(-11)=='<character>'){var f=Z1(k);if(/<C-.>/.test(f)||!f)return{type:'none'};b.selectedCharacter=f;}return{type:'full',command:d};},processCommand:function(c,v,a){v.inputState.repeatOverride=a.repeatOverride;switch(a.type){case'motion':this.processMotion(c,v,a);break;case'operator':this.processOperator(c,v,a);break;case'operatorMotion':this.processOperatorMotion(c,v,a);break;case'action':this.processAction(c,v,a);break;case'search':this.processSearch(c,v,a);break;case'ex':case'keyToEx':this.processEx(c,v,a);break;default:break;}},processMotion:function(c,v,a){v.inputState.motion=a.motion;v.inputState.motionArgs=V1(a.motionArgs);this.evalInput(c,v);},processOperator:function(c,v,a){var i=v.inputState;if(i.operator){if(i.operator==a.operator){i.motion='expandToLine';i.motionArgs={linewise:true};this.evalInput(c,v);return;}else{H1(c);}}i.operator=a.operator;i.operatorArgs=V1(a.operatorArgs);if(a.keys.length>1){i.operatorShortcut=a.keys;}if(a.exitVisualBlock){v.visualBlock=false;p2(c);}if(v.visualMode){this.evalInput(c,v);}},processOperatorMotion:function(c,v,a){var b=v.visualMode;var o=V1(a.operatorMotionArgs);if(o){if(b&&o.visualLine){v.visualLine=true;}}this.processOperator(c,v,a);if(!b){this.processMotion(c,v,a);}},processAction:function(c,v,a){var i=v.inputState;var r=i.getRepeat();var b=!!r;var d=V1(a.actionArgs)||{};if(i.selectedCharacter){d.selectedCharacter=i.selectedCharacter;}if(a.operator){this.processOperator(c,v,a);}if(a.motion){this.processMotion(c,v,a);}if(a.motion||a.operator){this.evalInput(c,v);}d.repeat=r||1;d.repeatIsExplicit=b;d.registerName=i.registerName;H1(c);v.lastMotion=null;if(a.isEdit){this.recordLastEdit(v,i,a);}S1[a.action](c,d,v);},processSearch:function(c,v,a){if(!c.getSearchCursor){return;}var f=a.searchArgs.forward;var w=a.searchArgs.wholeWordOnly;Q2(c).setReversed(!f);var p=(f)?'/':'?';var o=Q2(c).getQuery();var b=c.getScrollInfo();function h(k,s,x){C1.searchHistoryController.pushInput(k);C1.searchHistoryController.reset();try{e3(c,k,s,x);}catch(e){a3(c,'Invalid regex: '+k);H1(c);return;}M1.processMotion(c,v,{type:'motion',motion:'findNext',motionArgs:{forward:true,toJumplist:a.searchArgs.toJumplist}});}function d(k){h(k,true,true);var m=C1.macroModeState;if(m.isRecording){y3(m,k);}}function i(e,k,s){var x=G.keyName(e),y,r1;if(x=='Up'||x=='Down'){y=x=='Up'?true:false;r1=e.target?e.target.selectionEnd:0;k=C1.searchHistoryController.nextMatch(k,y)||'';s(k);if(r1&&e.target)e.target.selectionEnd=e.target.selectionStart=Math.min(r1,e.target.value.length);}else{if(x!='Left'&&x!='Right'&&x!='Ctrl'&&x!='Alt'&&x!='Shift')C1.searchHistoryController.reset();}var r2;try{r2=e3(c,k,true,true);}catch(e){}if(r2){c.scrollIntoView(h3(c,!f,r2),30);}else{j3(c);c.scrollTo(b.left,b.top);}}function j(e,k,s){var x=G.keyName(e);if(x=='Esc'||x=='Ctrl-C'||x=='Ctrl-['||(x=='Backspace'&&k=='')){C1.searchHistoryController.pushInput(k);C1.searchHistoryController.reset();e3(c,o);j3(c);c.scrollTo(b.left,b.top);G.e_stop(e);H1(c);s();c.focus();}else if(x=='Up'||x=='Down'){G.e_stop(e);}else if(x=='Ctrl-U'){G.e_stop(e);s('');}}switch(a.searchArgs.querySrc){case'prompt':var m=C1.macroModeState;if(m.isPlaying){var k=m.replaySearchQueries.shift();h(k,true,false);}else{c3(c,{onClose:d,prefix:p,desc:'(JavaScript regexp)',onKeyUp:i,onKeyDown:j});}break;case'wordUnderCursor':var n=x2(c,false,true,false,true);var r=true;if(!n){n=x2(c,false,true,false,false);r=false;}if(!n){return;}var k=c.getLine(n.start.line).substring(n.start.ch,n.end.ch);if(r&&w){k='\\b'+k+'\\b';}else{k=h2(k);}C1.jumpList.cachedCursor=c.getCursor();c.setCursor(n.start);h(k,true,false);break;}},processEx:function(c,v,a){function o(i){C1.exCommandHistoryController.pushInput(i);C1.exCommandHistoryController.reset();q3.processCommand(c,i);}function b(e,i,d){var k=G.keyName(e),f,h;if(k=='Esc'||k=='Ctrl-C'||k=='Ctrl-['||(k=='Backspace'&&i=='')){C1.exCommandHistoryController.pushInput(i);C1.exCommandHistoryController.reset();G.e_stop(e);H1(c);d();c.focus();}if(k=='Up'||k=='Down'){G.e_stop(e);f=k=='Up'?true:false;h=e.target?e.target.selectionEnd:0;i=C1.exCommandHistoryController.nextMatch(i,f)||'';d(i);if(h&&e.target)e.target.selectionEnd=e.target.selectionStart=Math.min(h,e.target.value.length);}else if(k=='Ctrl-U'){G.e_stop(e);d('');}else{if(k!='Left'&&k!='Right'&&k!='Ctrl'&&k!='Alt'&&k!='Shift')C1.exCommandHistoryController.reset();}}if(a.type=='keyToEx'){q3.processCommand(c,a.exArgs.input);}else{if(v.visualMode){c3(c,{onClose:o,prefix:':',value:'\'<,\'>',onKeyDown:b,selectValueOnOpen:false});}else{c3(c,{onClose:o,prefix:':',onKeyDown:b});}}},evalInput:function(c,v){var a=v.inputState;var m=a.motion;var b=a.motionArgs||{};var o=a.operator;var d=a.operatorArgs||{};var r=a.registerName;var s=v.sel;var e=_1(v.visualMode?U1(c,s.head):c.getCursor('head'));var f=_1(v.visualMode?U1(c,s.anchor):c.getCursor('anchor'));var h=_1(e);var j=_1(f);var n,k;var p;if(o){this.recordLastEdit(v,a);}if(a.repeatOverride!==undefined){p=a.repeatOverride;}else{p=a.getRepeat();}if(p>0&&b.explicitRepeat){b.repeatIsExplicit=true;}else if(b.noRepeat||(!b.explicitRepeat&&p===0)){p=1;b.repeatIsExplicit=false;}if(a.selectedCharacter){b.selectedCharacter=d.selectedCharacter=a.selectedCharacter;}b.repeat=p;H1(c);if(m){var w=N1[m](c,e,b,v,a);v.lastMotion=N1[m];if(!w){return;}if(b.toJumplist){if(!o&&c.ace.curOp!=null)c.ace.curOp.command.scrollIntoView="center-animate";var x=C1.jumpList;var y=x.cachedCursor;if(y){z2(c,y,w);delete x.cachedCursor;}else{z2(c,e,w);}}if(w instanceof Array){k=w[0];n=w[1];}else{n=w;}if(!n){n=_1(e);}if(v.visualMode){if(!(v.visualBlock&&n.ch===Infinity)){n=U1(c,n);}if(k){k=U1(c,k);}k=k||j;s.anchor=k;s.head=n;p2(c);J2(c,v,'<',b2(k,n)?k:n);J2(c,v,'>',b2(k,n)?n:k);}else if(!o){n=U1(c,n);c.setCursor(n.line,n.ch);}}if(o){if(d.lastSel){k=j;var r1=d.lastSel;var r2=Math.abs(r1.head.line-r1.anchor.line);var P3=Math.abs(r1.head.ch-r1.anchor.ch);if(r1.visualLine){n=P(j.line+r2,j.ch);}else if(r1.visualBlock){n=P(j.line+r2,j.ch+P3);}else if(r1.head.line==r1.anchor.line){n=P(j.line,j.ch+P3);}else{n=P(j.line+r2,j.ch);}v.visualMode=true;v.visualLine=r1.visualLine;v.visualBlock=r1.visualBlock;s=v.sel={anchor:k,head:n};p2(c);}else if(v.visualMode){d.lastSel={anchor:_1(s.anchor),head:_1(s.head),visualBlock:v.visualBlock,visualLine:v.visualLine};}var Q3,R3,S3,T3;var U3;if(v.visualMode){Q3=c2(s.head,s.anchor);R3=d2(s.head,s.anchor);S3=v.visualLine||d.linewise;T3=v.visualBlock?'block':S3?'line':'char';U3=q2(c,{anchor:Q3,head:R3},T3);if(S3){var V3=U3.ranges;if(T3=='block'){for(var i=0;i<V3.length;i++){V3[i].head.ch=f2(c,V3[i].head.line);}}else if(T3=='line'){V3[0].head=P(V3[0].head.line+1,0);}}}else{Q3=_1(k||j);R3=_1(n||h);if(b2(R3,Q3)){var W3=Q3;Q3=R3;R3=W3;}S3=b.linewise||d.linewise;if(S3){v2(c,Q3,R3);}else if(b.forward){u2(c,Q3,R3);}T3='char';var X3=!b.inclusive||S3;U3=q2(c,{anchor:Q3,head:R3},T3,X3);}c.setSelections(U3.ranges,U3.primary);v.lastMotion=null;d.repeat=p;d.registerName=r;d.linewise=S3;var Y3=Q1[o](c,d,U3.ranges,j,n);if(v.visualMode){t2(c,Y3!=null);}if(Y3){c.setCursor(Y3);}}},recordLastEdit:function(v,i,a){var m=C1.macroModeState;if(m.isPlaying){return;}v.lastEditInputState=i;v.lastEditActionCommand=a;m.lastInsertModeChanges.changes=[];m.lastInsertModeChanges.expectCursorActivityForChange=false;m.lastInsertModeChanges.visualBlock=v.visualBlock?v.sel.head.line-v.sel.anchor.line:0;}};var N1={moveToTopLine:function(c,a,m){var b=l3(c).top+m.repeat-1;return P(b,w2(c.getLine(b)));},moveToMiddleLine:function(c){var r=l3(c);var a=Math.floor((r.top+r.bottom)*0.5);return P(a,w2(c.getLine(a)));},moveToBottomLine:function(c,a,m){var b=l3(c).bottom-m.repeat+1;return P(b,w2(c.getLine(b)));},expandToLine:function(a,h,m){var c=h;return P(c.line+m.repeat-1,Infinity);},findNext:function(c,a,m){var s=Q2(c);var b=s.getQuery();if(!b){return;}var p=!m.forward;p=(s.isReversed())?!p:p;g3(c,b);return h3(c,p,b,m.repeat);},findAndSelectNextInclusive:function(c,a,m,v,p){var s=Q2(c);var b=s.getQuery();if(!b){return;}var d=!m.forward;d=(s.isReversed())?!d:d;var n=i3(c,d,b,m.repeat,v);if(!n){return;}if(p.operator){return n;}var f=n[0];var e=P(n[1].line,n[1].ch-1);if(v.visualMode){if(v.visualLine||v.visualBlock){v.visualLine=false;v.visualBlock=false;G.signal(c,"vim-mode-change",{mode:"visual",subMode:""});}var h=v.sel.anchor;if(h){if(s.isReversed()){if(m.forward){return[h,f];}return[h,e];}else{if(m.forward){return[h,e];}return[h,f];}}}else{v.visualMode=true;v.visualLine=false;v.visualBlock=false;G.signal(c,"vim-mode-change",{mode:"visual",subMode:""});}return d?[e,f]:[f,e];},goToMark:function(c,a,m,v){var p=m3(c,v,m.selectedCharacter);if(p){return m.linewise?{line:p.line,ch:w2(c.getLine(p.line))}:p;}return null;},moveToOtherHighlightedEnd:function(c,a,m,v){if(v.visualBlock&&m.sameLine){var s=v.sel;return[U1(c,P(s.anchor.line,s.head.ch)),U1(c,P(s.head.line,s.anchor.ch))];}else{return([v.sel.head,v.sel.anchor]);}},jumpToMark:function(c,h,m,v){var b=h;for(var i=0;i<m.repeat;i++){var a=b;for(var k in v.marks){if(!m1(k)){continue;}var d=v.marks[k].find();var e=(m.forward)?b2(d,a):b2(a,d);if(e){continue;}if(m.linewise&&(d.line==a.line)){continue;}var f=a2(a,b);var j=(m.forward)?e2(a,d,b):e2(b,d,a);if(f||j){b=d;}}}if(m.linewise){b=P(b.line,w2(c.getLine(b.line)));}return b;},moveByCharacters:function(a,h,m){var c=h;var r=m.repeat;var b=m.forward?c.ch+r:c.ch-r;return P(c.line,b);},moveByLines:function(c,h,m,v){var a=h;var e=a.ch;switch(v.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:e=v.lastHPos;break;default:v.lastHPos=e;}var r=m.repeat+(m.repeatOffset||0);var b=m.forward?a.line+r:a.line-r;var f=c.firstLine();var d=c.lastLine();if(b<f&&a.line==f){return this.moveToStartOfLine(c,h,m,v);}else if(b>d&&a.line==d){return G2(c,h,m,v,true);}var i=c.ace.session.getFoldLine(b);if(i){if(m.forward){if(b>i.start.row)b=i.end.row+1;}else{b=i.start.row;}}if(m.toFirstChar){e=w2(c.getLine(b));v.lastHPos=e;}v.lastHSPos=c.charCoords(P(b,e),'div').left;return P(b,e);},moveByDisplayLines:function(c,h,m,v){var a=h;switch(v.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:v.lastHSPos=c.charCoords(a,'div').left;}var r=m.repeat;var b=c.findPosV(a,(m.forward?r:-r),'line',v.lastHSPos);if(b.hitSide){if(m.forward){var d=c.charCoords(b,'div');var e={top:d.top+8,left:v.lastHSPos};var b=c.coordsChar(e,'div');}else{var f=c.charCoords(P(c.firstLine(),0),'div');f.left=v.lastHSPos;b=c.coordsChar(f,'div');}}v.lastHPos=b.ch;return b;},moveByPage:function(c,h,m){var a=h;var r=m.repeat;return c.findPosV(a,(m.forward?r:-r),'page');},moveByParagraph:function(c,h,m){var d=m.forward?1:-1;return L2(c,h,m.repeat,d);},moveBySentence:function(c,h,m){var d=m.forward?1:-1;return M2(c,h,m.repeat,d);},moveByScroll:function(c,h,m,v){var s=c.getScrollInfo();var a=null;var r=m.repeat;if(!r){r=s.clientHeight/(2*c.defaultTextHeight());}var o=c.charCoords(h,'local');m.repeat=r;var a=N1.moveByDisplayLines(c,h,m,v);if(!a){return null;}var d=c.charCoords(a,'local');c.scrollTo(null,s.top+d.top-o.top);return a;},moveByWords:function(c,h,m){return F2(c,h,m.repeat,!!m.forward,!!m.wordEnd,!!m.bigWord);},moveTillCharacter:function(c,a,m){var r=m.repeat;var b=H2(c,r,m.forward,m.selectedCharacter);var i=m.forward?-1:1;A2(i,m);if(!b)return null;b.ch+=i;return b;},moveToCharacter:function(c,h,m){var r=m.repeat;A2(0,m);return H2(c,r,m.forward,m.selectedCharacter)||h;},moveToSymbol:function(c,h,m){var r=m.repeat;return D2(c,r,m.forward,m.selectedCharacter)||h;},moveToColumn:function(c,h,m,v){var r=m.repeat;v.lastHPos=r-1;v.lastHSPos=c.charCoords(h,'div').left;return I2(c,r);},moveToEol:function(c,h,m,v){return G2(c,h,m,v,false);},moveToFirstNonWhiteSpaceCharacter:function(c,h){var a=h;return P(a.line,w2(c.getLine(a.line)));},moveToMatchedSymbol:function(c,h){var a=h;var b=a.line;var d=a.ch;var e=c.getLine(b);var s;for(;d<e.length;d++){s=e.charAt(d);if(s&&n1(s)){var f=c.getTokenTypeAt(P(b,d+1));if(f!=="string"&&f!=="comment"){break;}}}if(d<e.length){var r=/[<>]/.test(e[d])?/[(){}[\]<>]/:/[(){}[\]]/;var m=c.findMatchingBracket(P(b,d+1),{bracketRegex:r});return m.to;}else{return a;}},moveToStartOfLine:function(a,h){return P(h.line,0);},moveToLineOrEdgeOfDocument:function(c,a,m){var b=m.forward?c.lastLine():c.firstLine();if(m.repeatIsExplicit){b=m.repeat-c.getOption('firstLineNumber');}return P(b,w2(c.getLine(b)));},textObjectManipulation:function(c,h,m,v){var a={'(':')',')':'(','{':'}','}':'{','[':']',']':'[','<':'>','>':'<'};var s={'\'':true,'"':true,'`':true};var b=m.selectedCharacter;if(b=='b'){b='(';}else if(b=='B'){b='{';}var i=!m.textObjectInner;var d;if(a[b]){d=N2(c,h,b,i);}else if(s[b]){d=O2(c,h,b,i);}else if(b==='W'){d=x2(c,i,true,true);}else if(b==='w'){d=x2(c,i,true,false);}else if(b==='p'){d=L2(c,h,m.repeat,0,i);m.linewise=true;if(v.visualMode){if(!v.visualLine){v.visualLine=true;}}else{var o=v.inputState.operatorArgs;if(o){o.linewise=true;}d.end.line--;}}else if(b==='t'){d=y2(c,h,i);}else{return null;}if(!c.state.vim.visualMode){return[d.start,d.end];}else{return o2(c,d.start,d.end);}},repeatLastCharacterSearch:function(c,h,m){var a=C1.lastCharacterSearch;var r=m.repeat;var f=m.forward===a.forward;var i=(a.increment?1:0)*(f?-1:1);c.moveH(-i,'char');m.inclusive=f?true:false;var b=H2(c,r,f,a.selectedCharacter);if(!b){c.moveH(i,'char');return h;}b.ch+=i;return b;}};function O1(n,f){N1[n]=f;}function P1(v,a){var b=[];for(var i=0;i<a;i++){b.push(v);}return b;}var Q1={change:function(c,a,r){var f,b;var v=c.state.vim;var d=r[0].anchor,h=r[0].head;if(!v.visualMode){b=c.getRange(d,h);var e=v.lastEditInputState||{};if(e.motion=="moveByWords"&&!q1(b)){var m=(/\s+$/).exec(b);if(m&&e.motionArgs&&e.motionArgs.forward){h=W1(h,0,-m[0].length);b=b.slice(0,-m[0].length);}}var p=new P(d.line-1,Number.MAX_VALUE);var w=c.firstLine()==c.lastLine();if(h.line>c.lastLine()&&a.linewise&&!w){c.replaceRange('',p,h);}else{c.replaceRange('',d,h);}if(a.linewise){if(!w){c.setCursor(p);G.commands.newlineAndIndent(c);}d.ch=Number.MAX_VALUE;}f=d;}else if(a.fullLine){h.ch=Number.MAX_VALUE;h.line--;c.setSelection(d,h);b=c.getSelection();c.replaceSelection("");f=d;}else{b=c.getSelection();var i=P1('',r.length);c.replaceSelections(i);f=c2(r[0].head,r[0].anchor);}C1.registerController.pushText(a.registerName,'change',b,a.linewise,r.length>1);S1.enterInsertMode(c,{head:f},c.state.vim);},'delete':function(c,a,r){var f,b;var v=c.state.vim;if(!v.visualBlock){var d=r[0].anchor,h=r[0].head;if(a.linewise&&h.line!=c.firstLine()&&d.line==c.lastLine()&&d.line==h.line-1){if(d.line==c.firstLine()){d.ch=0;}else{d=P(d.line-1,f2(c,d.line-1));}}b=c.getRange(d,h);c.replaceRange('',d,h);f=d;if(a.linewise){f=N1.moveToFirstNonWhiteSpaceCharacter(c,d);}}else{b=c.getSelection();var e=P1('',r.length);c.replaceSelections(e);f=r[0].anchor;}C1.registerController.pushText(a.registerName,'delete',b,a.linewise,v.visualBlock);return U1(c,f);},indent:function(c,a,r){var v=c.state.vim;var s=r[0].anchor.line;var e=v.visualBlock?r[r.length-1].anchor.line:r[0].head.line;var b=(v.visualMode)?a.repeat:1;if(a.linewise){e--;}for(var i=s;i<=e;i++){for(var j=0;j<b;j++){c.indentLine(i,a.indentRight);}}return N1.moveToFirstNonWhiteSpaceCharacter(c,r[0].anchor);},indentAuto:function(c,a,r){if(r.length>1){c.setSelection(r[0].anchor,r[r.length-1].head);}c.execCommand("indentAuto");return N1.moveToFirstNonWhiteSpaceCharacter(c,r[0].anchor);},changeCase:function(c,a,r,o,n){var s=c.getSelections();var b=[];var d=a.toLower;for(var j=0;j<s.length;j++){var e=s[j];var f='';if(d===true){f=e.toLowerCase();}else if(d===false){f=e.toUpperCase();}else{for(var i=0;i<e.length;i++){var h=e.charAt(i);f+=p1(h)?h.toLowerCase():h.toUpperCase();}}b.push(f);}c.replaceSelections(b);if(a.shouldMoveCursor){return n;}else if(!c.state.vim.visualMode&&a.linewise&&r[0].anchor.line+1==r[0].head.line){return N1.moveToFirstNonWhiteSpaceCharacter(c,o);}else if(a.linewise){return o;}else{return c2(r[0].anchor,r[0].head);}},yank:function(c,a,r,o){var v=c.state.vim;var b=c.getSelection();var e=v.visualMode?c2(v.sel.anchor,v.sel.head,r[0].head,r[0].anchor):o;C1.registerController.pushText(a.registerName,'yank',b,a.linewise,v.visualBlock);return e;}};function R1(n,f){Q1[n]=f;}var S1={jumpListWalk:function(c,a,v){if(v.visualMode){return;}var r=a.repeat;var f=a.forward;var j=C1.jumpList;var m=j.move(c,f?r:-r);var b=m?m.find():undefined;b=b?b:c.getCursor();c.setCursor(b);c.ace.curOp.command.scrollIntoView="center-animate";},scroll:function(c,a,v){if(v.visualMode){return;}var r=a.repeat||1;var b=c.defaultTextHeight();var d=c.getScrollInfo().top;var e=b*r;var n=a.forward?d+e:d-e;var f=_1(c.getCursor());var h=c.charCoords(f,'local');if(a.forward){if(n>h.top){f.line+=(n-h.top)/b;f.line=Math.ceil(f.line);c.setCursor(f);h=c.charCoords(f,'local');c.scrollTo(null,h.top);}else{c.scrollTo(null,n);}}else{var i=n+c.getScrollInfo().clientHeight;if(i<h.bottom){f.line-=(h.bottom-i)/b;f.line=Math.floor(f.line);c.setCursor(f);h=c.charCoords(f,'local');c.scrollTo(null,h.bottom-c.getScrollInfo().clientHeight);}else{c.scrollTo(null,n);}}},scrollToCursor:function(c,a){var b=c.getCursor().line;var d=c.charCoords(P(b,0),'local');var h=c.getScrollInfo().clientHeight;var y=d.top;var e=d.bottom-y;switch(a.position){case'center':y=y-(h/2)+e;break;case'bottom':y=y-h+e;break;}c.scrollTo(null,y);},replayMacro:function(c,a,v){var r=a.selectedCharacter;var b=a.repeat;var m=C1.macroModeState;if(r=='@'){r=m.latestRegister;}else{m.latestRegister=r;}while(b--){v3(c,v,m,r);}},enterMacroRecordMode:function(c,a){var m=C1.macroModeState;var r=a.selectedCharacter;if(C1.registerController.isValidRegister(r)){m.enterMacroRecordMode(c,r);}},toggleOverwrite:function(c){if(!c.state.overwrite){c.toggleOverwrite(true);c.setOption('keyMap','vim-replace');G.signal(c,"vim-mode-change",{mode:"replace"});}else{c.toggleOverwrite(false);c.setOption('keyMap','vim-insert');G.signal(c,"vim-mode-change",{mode:"insert"});}},enterInsertMode:function(c,a,v){if(c.getOption('readOnly')){return;}v.insertMode=true;v.insertModeRepeat=a&&a.repeat||1;var i=(a)?a.insertAt:null;var s=v.sel;var h=a.head||c.getCursor('head');var b=c.listSelections().length;if(i=='eol'){h=P(h.line,f2(c,h.line));}else if(i=='bol'){h=P(h.line,0);}else if(i=='charAfter'){h=W1(h,0,1);}else if(i=='firstNonBlank'){h=N1.moveToFirstNonWhiteSpaceCharacter(c,h);}else if(i=='startOfSelectedArea'){if(!v.visualMode)return;if(!v.visualBlock){if(s.head.line<s.anchor.line){h=s.head;}else{h=P(s.anchor.line,0);}}else{h=P(Math.min(s.head.line,s.anchor.line),Math.min(s.head.ch,s.anchor.ch));b=Math.abs(s.head.line-s.anchor.line)+1;}}else if(i=='endOfSelectedArea'){if(!v.visualMode)return;if(!v.visualBlock){if(s.head.line>=s.anchor.line){h=W1(s.head,0,1);}else{h=P(s.anchor.line,0);}}else{h=P(Math.min(s.head.line,s.anchor.line),Math.max(s.head.ch+1,s.anchor.ch));b=Math.abs(s.head.line-s.anchor.line)+1;}}else if(i=='inplace'){if(v.visualMode){return;}}else if(i=='lastEdit'){h=n3(c)||h;}c.setOption('disableInput',false);if(a&&a.replace){c.toggleOverwrite(true);c.setOption('keyMap','vim-replace');G.signal(c,"vim-mode-change",{mode:"replace"});}else{c.toggleOverwrite(false);c.setOption('keyMap','vim-insert');G.signal(c,"vim-mode-change",{mode:"insert"});}if(!C1.macroModeState.isPlaying){c.on('change',z3);G.on(c.getInputField(),'keydown',F3);}if(v.visualMode){t2(c);}k2(c,h,b);},toggleVisualMode:function(c,a,v){var r=a.repeat;var b=c.getCursor();var h;if(!v.visualMode){v.visualMode=true;v.visualLine=!!a.linewise;v.visualBlock=!!a.blockwise;h=U1(c,P(b.line,b.ch+r-1));v.sel={anchor:b,head:h};G.signal(c,"vim-mode-change",{mode:"visual",subMode:v.visualLine?"linewise":v.visualBlock?"blockwise":""});p2(c);J2(c,v,'<',c2(b,h));J2(c,v,'>',d2(b,h));}else if(v.visualLine^a.linewise||v.visualBlock^a.blockwise){v.visualLine=!!a.linewise;v.visualBlock=!!a.blockwise;G.signal(c,"vim-mode-change",{mode:"visual",subMode:v.visualLine?"linewise":v.visualBlock?"blockwise":""});p2(c);}else{t2(c);}},reselectLastSelection:function(c,a,v){var b=v.lastSelection;if(v.visualMode){n2(c,v);}if(b){var d=b.anchorMark.find();var h=b.headMark.find();if(!d||!h){return;}v.sel={anchor:d,head:h};v.visualMode=true;v.visualLine=b.visualLine;v.visualBlock=b.visualBlock;p2(c);J2(c,v,'<',c2(d,h));J2(c,v,'>',d2(d,h));G.signal(c,'vim-mode-change',{mode:'visual',subMode:v.visualLine?'linewise':v.visualBlock?'blockwise':''});}},joinLines:function(c,a,v){var b,d;if(v.visualMode){b=c.getCursor('anchor');d=c.getCursor('head');if(b2(d,b)){var e=d;d=b;b=e;}d.ch=f2(c,d.line)-1;}else{var r=Math.max(a.repeat,2);b=c.getCursor();d=U1(c,P(b.line+r-1,Infinity));}var f=0;for(var i=b.line;i<d.line;i++){f=f2(c,b.line);var e=P(b.line+1,f2(c,b.line+1));var h=c.getRange(b,e);h=a.keepSpaces?h.replace(/\n\r?/g,''):h.replace(/\n\s*/g,' ');c.replaceRange(h,b,e);}var j=P(b.line,f);if(v.visualMode){t2(c,false);}c.setCursor(j);},newLineAndEnterInsertMode:function(c,a,v){v.insertMode=true;var i=_1(c.getCursor());if(i.line===c.firstLine()&&!a.after){c.replaceRange('\n',P(c.firstLine(),0));c.setCursor(c.firstLine(),0);}else{i.line=(a.after)?i.line:i.line-1;i.ch=f2(c,i.line);c.setCursor(i);var n=G.commands.newlineAndIndentContinueComment||G.commands.newlineAndIndent;n(c);}this.enterInsertMode(c,{repeat:a.repeat},v);},paste:function(c,a,v){var b=_1(c.getCursor());var r=C1.registerController.getRegister(a.registerName);var d=r.toString();if(!d){return;}if(a.matchIndent){var e=c.getOption("tabSize");var w=function(U3){var V3=(U3.split("\t").length-1);var W3=(U3.split(" ").length-1);return V3*e+W3*1;};var f=c.getLine(c.getCursor().line);var h=w(f.match(/^\s*/)[0]);var j=d.replace(/\n$/,'');var k=d!==j;var m=w(d.match(/^\s*/)[0]);var d=j.replace(/^\s*/gm,function(U3){var V3=h+(w(U3)-m);if(V3<0){return"";}else if(c.getOption("indentWithTabs")){var W3=Math.floor(V3/e);return Array(W3+1).join('\t');}else{return Array(V3+1).join(' ');}});d+=k?"\n":"";}if(a.repeat>1){var d=Array(a.repeat+1).join(d);}var n=r.linewise;var o=r.blockwise;if(o){d=d.split('\n');if(n){d.pop();}for(var i=0;i<d.length;i++){d[i]=(d[i]=='')?' ':d[i];}b.ch+=a.after?1:0;b.ch=Math.min(f2(c,b.line),b.ch);}else if(n){if(v.visualMode){d=v.visualLine?d.slice(0,-1):'\n'+d.slice(0,d.length-1)+'\n';}else if(a.after){d='\n'+d.slice(0,d.length-1);b.ch=f2(c,b.line);}else{b.ch=0;}}else{b.ch+=a.after?1:0;}var p;var s;if(v.visualMode){v.lastPastedText=d;var x;var y=m2(c,v);var r1=y[0];var r2=y[1];var P3=c.getSelection();var Q3=c.listSelections();var R3=new Array(Q3.length).join('1').split('1');if(v.lastSelection){x=v.lastSelection.headMark.find();}C1.registerController.unnamedRegister.setText(P3);if(o){c.replaceSelections(R3);r2=P(r1.line+d.length-1,r1.ch);c.setCursor(r1);j2(c,r2);c.replaceSelections(d);p=r1;}else if(v.visualBlock){c.replaceSelections(R3);c.setCursor(r1);c.replaceRange(d,r1,r1);p=r1;}else{c.replaceRange(d,r1,r2);p=c.posFromIndex(c.indexFromPos(r1)+d.length-1);}if(x){v.lastSelection.headMark=c.setBookmark(x);}if(n){p.ch=0;}}else{if(o){c.setCursor(b);for(var i=0;i<d.length;i++){var S3=b.line+i;if(S3>c.lastLine()){c.replaceRange('\n',P(S3,0));}var T3=f2(c,S3);if(T3<b.ch){i2(c,S3,b.ch);}}c.setCursor(b);j2(c,P(b.line+d.length-1,b.ch));c.replaceSelections(d);p=b;}else{c.replaceRange(d,b);if(n&&a.after){p=P(b.line+1,w2(c.getLine(b.line+1)));}else if(n&&!a.after){p=P(b.line,w2(c.getLine(b.line)));}else if(!n&&a.after){s=c.indexFromPos(b);p=c.posFromIndex(s+d.length-1);}else{s=c.indexFromPos(b);p=c.posFromIndex(s+d.length);}}}if(v.visualMode){t2(c,false);}c.setCursor(p);},undo:function(c,a){c.operation(function(){$1(c,G.commands.undo,a.repeat)();c.setCursor(c.getCursor('anchor'));});},redo:function(c,a){$1(c,G.commands.redo,a.repeat)();},setRegister:function(a,b,v){v.inputState.registerName=b.selectedCharacter;},setMark:function(c,a,v){var m=a.selectedCharacter;J2(c,v,m,c.getCursor());},replace:function(c,a,v){var r=a.selectedCharacter;var b=c.getCursor();var d;var e;var s=c.listSelections();if(v.visualMode){b=c.getCursor('start');e=c.getCursor('end');}else{var f=c.getLine(b.line);d=b.ch+a.repeat;if(d>f.length){d=f.length;}e=P(b.line,d);}if(r=='\n'){if(!v.visualMode)c.replaceRange('',b,e);(G.commands.newlineAndIndentContinueComment||G.commands.newlineAndIndent)(c);}else{var h=c.getRange(b,e);h=h.replace(/[^\n]/g,r);if(v.visualBlock){var i=new Array(c.getOption("tabSize")+1).join(' ');h=c.getSelection();h=h.replace(/\t/g,i).replace(/[^\n]/g,r).split('\n');c.replaceSelections(h);}else{c.replaceRange(h,b,e);}if(v.visualMode){b=b2(s[0].anchor,s[0].head)?s[0].anchor:s[0].head;c.setCursor(b);t2(c,false);}else{c.setCursor(W1(e,0,-1));}}},incrementNumberToken:function(c,a){var b=c.getCursor();var d=c.getLine(b.line);var r=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;var m;var s;var e;var n;while((m=r.exec(d))!==null){s=m.index;e=s+m[0].length;if(b.ch<e)break;}if(!a.backtrack&&(e<=b.ch))return;if(m){var f=m[2]||m[4];var h=m[3]||m[5];var i=a.increase?1:-1;var j={'0b':2,'0':8,'':10,'0x':16}[f.toLowerCase()];var k=parseInt(m[1]+h,j)+(i*a.repeat);n=k.toString(j);var o=f?new Array(h.length-n.length+1+m[1].length).join('0'):'';if(n.charAt(0)==='-'){n='-'+f+o+n.substr(1);}else{n=f+o+n;}var p=P(b.line,s);var v=P(b.line,e);c.replaceRange(n,p,v);}else{return;}c.setCursor(P(b.line,s+n.length-1));},repeatLastEdit:function(c,a,v){var b=v.lastEditInputState;if(!b){return;}var r=a.repeat;if(r&&a.repeatIsExplicit){v.lastEditInputState.repeatOverride=r;}else{r=v.lastEditInputState.repeatOverride||r;}G3(c,v,r,false);},indent:function(c,a){c.indentLine(c.getCursor().line,a.indentRight);},exitInsertMode:s3};function T1(n,f){S1[n]=f;}function U1(c,a){var v=c.state.vim;var i=v.insertMode||v.visualMode;var b=Math.min(Math.max(c.firstLine(),a.line),c.lastLine());var m=f2(c,b)-1+!!i;var d=Math.min(Math.max(0,a.ch),m);return P(b,d);}function V1(a){var r={};for(var p in a){if(a.hasOwnProperty(p)){r[p]=a[p];}}return r;}function W1(c,o,a){if(typeof o==='object'){a=o.ch;o=o.line;}return P(c.line+o,c.ch+a);}function X1(k,a,c,b){var m,p=[],f=[];for(var i=0;i<a.length;i++){var d=a[i];if(c=='insert'&&d.context!='insert'||d.context&&d.context!=c||b.operator&&d.type=='action'||!(m=Y1(k,d.keys))){continue;}if(m=='partial'){p.push(d);}if(m=='full'){f.push(d);}}return{partial:p.length&&p,full:f.length&&f};}function Y1(p,m){if(m.slice(-11)=='<character>'){var a=m.length-11;var b=p.slice(0,a);var c=m.slice(0,a);return b==c&&p.length>a?'full':c.indexOf(b)==0?'partial':false;}else{return p==m?'full':m.indexOf(p)==0?'partial':false;}}function Z1(k){var m=/^.*(<[^>]+>)$/.exec(k);var s=m?m[1]:k.slice(-1);if(s.length>1){switch(s){case'<CR>':s='\n';break;case'<Space>':s=' ';break;default:s='';break;}}return s;}function $1(c,f,r){return function(){for(var i=0;i<r;i++){f(c);}};}function _1(c){return P(c.line,c.ch);}function a2(c,a){return c.ch==a.ch&&c.line==a.line;}function b2(c,a){if(c.line<a.line){return true;}if(c.line==a.line&&c.ch<a.ch){return true;}return false;}function c2(c,a){if(arguments.length>2){a=c2.apply(undefined,Array.prototype.slice.call(arguments,1));}return b2(c,a)?c:a;}function d2(c,a){if(arguments.length>2){a=d2.apply(undefined,Array.prototype.slice.call(arguments,1));}return b2(c,a)?a:c;}function e2(c,a,b){var d=b2(c,a);var e=b2(a,b);return d&&e;}function f2(c,a){return c.getLine(a).length;}function g2(s){if(s.trim){return s.trim();}return s.replace(/^\s+|\s+$/g,'');}function h2(s){return s.replace(/([.?*+$\[\]\/\\(){}|\-])/g,'\\$1');}function i2(c,a,b){var e=f2(c,a);var s=new Array(b-e+1).join(' ');c.setCursor(P(a,e));c.replaceRange(s,c.getCursor());}function j2(c,s){var a=[],r=c.listSelections();var h=_1(c.clipPos(s));var i=!a2(s,h);var b=c.getCursor('head');var p=l2(r,b);var w=a2(r[p].head,r[p].anchor);var m=r.length-1;var d=m-p>p?m:0;var e=r[d].anchor;var f=Math.min(e.line,h.line);var j=Math.max(e.line,h.line);var k=e.ch,n=h.ch;var o=r[d].head.ch-k;var v=n-k;if(o>0&&v<=0){k++;if(!i){n--;}}else if(o<0&&v>=0){k--;if(!w){n++;}}else if(o<0&&v==-1){k--;n++;}for(var x=f;x<=j;x++){var y={anchor:new P(x,k),head:new P(x,n)};a.push(y);}c.setSelections(a);s.ch=n;e.ch=k;return e;}function k2(c,h,a){var s=[];for(var i=0;i<a;i++){var b=W1(h,i,0);s.push({anchor:b,head:b});}c.setSelections(s,0);}function l2(r,c,e){for(var i=0;i<r.length;i++){var a=e!='head'&&a2(r[i].anchor,c);var b=e!='anchor'&&a2(r[i].head,c);if(a||b){return i;}}return-1;}function m2(c,v){var a=v.lastSelection;var b=function(){var s=c.listSelections();var e=s[0];var f=s[s.length-1];var h=b2(e.anchor,e.head)?e.anchor:e.head;var i=b2(f.anchor,f.head)?f.head:f.anchor;return[h,i];};var d=function(){var s=c.getCursor();var e=c.getCursor();var f=a.visualBlock;if(f){var w=f.width;var h=f.height;e=P(s.line+h,s.ch+w);var j=[];for(var i=s.line;i<e.line;i++){var k=P(i,s.ch);var m=P(i,e.ch);var r={anchor:k,head:m};j.push(r);}c.setSelections(j);}else{var n=a.anchorMark.find();var o=a.headMark.find();var p=o.line-n.line;var x=o.ch-n.ch;e={line:e.line+p,ch:p?e.ch:x+e.ch};if(a.visualLine){s=P(s.line,0);e=P(e.line,f2(c,e.line));}c.setSelection(s,e);}return[s,e];};if(!v.visualMode){return d();}else{return b();}}function n2(c,v){var a=v.sel.anchor;var h=v.sel.head;if(v.lastPastedText){h=c.posFromIndex(c.indexFromPos(a)+v.lastPastedText.length);v.lastPastedText=null;}v.lastSelection={'anchorMark':c.setBookmark(a),'headMark':c.setBookmark(h),'anchor':_1(a),'head':_1(h),'visualMode':v.visualMode,'visualLine':v.visualLine,'visualBlock':v.visualBlock};}function o2(c,s,e){var a=c.state.vim.sel;var h=a.head;var b=a.anchor;var d;if(b2(e,s)){d=e;e=s;s=d;}if(b2(h,b)){h=c2(s,h);b=d2(b,e);}else{b=c2(s,b);h=d2(h,e);h=W1(h,0,-1);if(h.ch==-1&&h.line!=c.firstLine()){h=P(h.line-1,f2(c,h.line-1));}}return[b,h];}function p2(c,s,m){var v=c.state.vim;s=s||v.sel;var m=m||v.visualLine?'line':v.visualBlock?'block':'char';var a=q2(c,s,m);c.setSelections(a.ranges,a.primary);B3(c);}function q2(c,s,m,e){var h=_1(s.head);var a=_1(s.anchor);if(m=='char'){var b=!e&&!b2(s.head,s.anchor)?1:0;var d=b2(s.head,s.anchor)?1:0;h=W1(s.head,0,b);a=W1(s.anchor,0,d);return{ranges:[{anchor:a,head:h}],primary:0};}else if(m=='line'){if(!b2(s.head,s.anchor)){a.ch=0;var f=c.lastLine();if(h.line>f){h.line=f;}h.ch=f2(c,h.line);}else{h.ch=0;a.ch=f2(c,a.line);}return{ranges:[{anchor:a,head:h}],primary:0};}else if(m=='block'){var j=Math.min(a.line,h.line),k=Math.min(a.ch,h.ch),n=Math.max(a.line,h.line),r=Math.max(a.ch,h.ch)+1;var o=n-j+1;var p=h.line==j?0:o-1;var v=[];for(var i=0;i<o;i++){v.push({anchor:P(j+i,k),head:P(j+i,r)});}return{ranges:v,primary:p};}}function s2(c){var a=c.getCursor('head');if(c.getSelection().length==1){a=c2(a,c.getCursor('anchor'));}return a;}function t2(c,m){var v=c.state.vim;if(m!==false){c.setCursor(U1(c,v.sel.head));}n2(c,v);v.visualMode=false;v.visualLine=false;v.visualBlock=false;if(!v.insertMode)G.signal(c,"vim-mode-change",{mode:"normal"});C3(v);}function u2(c,a,b){var s=c.getRange(a,b);if(/\n\s*$/.test(s)){var d=s.split('\n');d.pop();var e;for(var e=d.pop();d.length>0&&e&&q1(e);e=d.pop()){b.line--;b.ch=0;}if(e){b.line--;b.ch=f2(c,b.line);}else{b.ch=0;}}}function v2(a,c,b){c.ch=0;b.ch=0;b.line++;}function w2(a){if(!a){return 0;}var f=a.search(/\S/);return f==-1?a.length:f;}function x2(c,i,a,b,n){var d=s2(c);var e=c.getLine(d.line);var f=d.ch;var h=n?c1[0]:d1[0];while(!h(e.charAt(f))){f++;if(f>=e.length){return null;}}if(b){h=d1[0];}else{h=c1[0];if(!h(e.charAt(f))){h=c1[1];}}var j=f,s=f;while(h(e.charAt(j))&&j<e.length){j++;}while(h(e.charAt(s))&&s>=0){s--;}s++;if(i){var w=j;while(/\s/.test(e.charAt(j))&&j<e.length){j++;}if(w==j){var k=s;while(/\s/.test(e.charAt(s-1))&&s>0){s--;}if(!s){s=k;}}}return{start:P(d.line,s),end:P(d.line,j)};}function y2(c,h,i){var a=h;if(!G.findMatchingTag||!G.findEnclosingTag){return{start:a,end:a};}var b=G.findMatchingTag(c,h)||G.findEnclosingTag(c,h);if(!b||!b.open||!b.close){return{start:a,end:a};}if(i){return{start:b.open.from,end:b.close.to};}return{start:b.open.to,end:b.close.from};}function z2(c,o,n){if(!a2(o,n)){C1.jumpList.add(c,o,n);}}function A2(i,a){C1.lastCharacterSearch.increment=i;C1.lastCharacterSearch.forward=a.forward;C1.lastCharacterSearch.selectedCharacter=a.selectedCharacter;}var B2={'(':'bracket',')':'bracket','{':'bracket','}':'bracket','[':'section',']':'section','*':'comment','/':'comment','m':'method','M':'method','#':'preprocess'};var C2={bracket:{isComplete:function(s){if(s.nextCh===s.symb){s.depth++;if(s.depth>=1)return true;}else if(s.nextCh===s.reverseSymb){s.depth--;}return false;}},section:{init:function(s){s.curMoveThrough=true;s.symb=(s.forward?']':'[')===s.symb?'{':'}';},isComplete:function(s){return s.index===0&&s.nextCh===s.symb;}},comment:{isComplete:function(s){var f=s.lastCh==='*'&&s.nextCh==='/';s.lastCh=s.nextCh;return f;}},method:{init:function(s){s.symb=(s.symb==='m'?'{':'}');s.reverseSymb=s.symb==='{'?'}':'{';},isComplete:function(s){if(s.nextCh===s.symb)return true;return false;}},preprocess:{init:function(s){s.index=0;},isComplete:function(s){if(s.nextCh==='#'){var a=s.lineText.match(/^#(\w+)/)[1];if(a==='endif'){if(s.forward&&s.depth===0){return true;}s.depth++;}else if(a==='if'){if(!s.forward&&s.depth===0){return true;}s.depth--;}if(a==='else'&&s.depth===0)return true;}return false;}}};function D2(c,r,f,s){var a=_1(c.getCursor());var i=f?1:-1;var e=f?c.lineCount():-1;var b=a.ch;var d=a.line;var h=c.getLine(d);var j={lineText:h,nextCh:h.charAt(b),lastCh:null,index:b,symb:s,reverseSymb:(f?{')':'(','}':'{'}:{'(':')','{':'}'})[s],forward:f,depth:0,curMoveThrough:false};var m=B2[s];if(!m)return a;var k=C2[m].init;var n=C2[m].isComplete;if(k){k(j);}while(d!==e&&r){j.index+=i;j.nextCh=j.lineText.charAt(j.index);if(!j.nextCh){d+=i;j.lineText=c.getLine(d)||'';if(i>0){j.index=0;}else{var o=j.lineText.length;j.index=(o>0)?(o-1):0;}j.nextCh=j.lineText.charAt(j.index);}if(n(j)){a.line=d;a.ch=j.index;r--;}}if(j.nextCh||j.curMoveThrough){return P(d,j.index);}return a;}function E2(c,a,f,b,e){var d=a.line;var p=a.ch;var h=c.getLine(d);var j=f?1:-1;var k=b?d1:c1;if(e&&h==''){d+=j;h=c.getLine(d);if(!l1(c,d)){return null;}p=(f)?0:h.length;}while(true){if(e&&h==''){return{from:0,to:0,line:d};}var s=(j>0)?h.length:-1;var w=s,m=s;while(p!=s){var n=false;for(var i=0;i<k.length&&!n;++i){if(k[i](h.charAt(p))){w=p;while(p!=s&&k[i](h.charAt(p))){p+=j;}m=p;n=w!=m;if(w==a.ch&&d==a.line&&m==w+j){continue;}else{return{from:Math.min(w,m+1),to:Math.max(w,m),line:d};}}}if(!n){p+=j;}}d+=j;if(!l1(c,d)){return null;}h=c.getLine(d);p=(j>0)?0:h.length;}}function F2(c,a,r,f,w,b){var d=_1(a);var e=[];if(f&&!w||!f&&w){r++;}var h=!(f&&w);for(var i=0;i<r;i++){var j=E2(c,a,f,b,h);if(!j){var k=f2(c,c.lastLine());e.push(f?{line:c.lastLine(),from:k,to:k}:{line:0,from:0,to:0});break;}e.push(j);a=P(j.line,f?(j.to-1):j.from);}var s=e.length!=r;var m=e[0];var n=e.pop();if(f&&!w){if(!s&&(m.from!=d.ch||m.line!=d.line)){n=e.pop();}return P(n.line,n.from);}else if(f&&w){return P(n.line,n.to-1);}else if(!f&&w){if(!s&&(m.to!=d.ch||m.line!=d.line)){n=e.pop();}return P(n.line,n.to);}else{return P(n.line,n.from);}}function G2(c,h,m,v,k){var a=h;var r=P(a.line+m.repeat-1,Infinity);var e=c.clipPos(r);e.ch--;if(!k){v.lastHPos=Infinity;v.lastHSPos=c.charCoords(e,'div').left;}return r;}function H2(c,r,f,a){var b=c.getCursor();var s=b.ch;var d;for(var i=0;i<r;i++){var e=c.getLine(b.line);d=K2(s,e,a,f,true);if(d==-1){return null;}s=d;}return P(c.getCursor().line,d);}function I2(c,r){var a=c.getCursor().line;return U1(c,P(a,r-1));}function J2(c,v,m,p){if(!t1(m,i1)){return;}if(v.marks[m]){v.marks[m].clear();}v.marks[m]=c.setBookmark(p);}function K2(s,a,c,f,i){var b;if(f){b=a.indexOf(c,s+1);if(b!=-1&&!i){b-=1;}}else{b=a.lastIndexOf(c,s-1);if(b!=-1&&!i){b+=1;}}return b;}function L2(c,h,r,d,a){var b=h.line;var m=c.firstLine();var e=c.lastLine();var s,f,i=b;function j(i){return!/\S/.test(c.getLine(i));}function k(i,d,w){if(w){return j(i)!=j(i+d);}return!j(i)&&j(i+d);}function n(i){d=d>0?1:-1;var w=c.ace.session.getFoldLine(i);if(w){if(i+d>w.start.row&&i+d<w.end.row)d=(d>0?w.end.row:w.start.row)-i;}}if(d){while(m<=i&&i<=e&&r>0){n(i);if(k(i,d)){r--;}i+=d;}return new P(i,0);}var v=c.state.vim;if(v.visualLine&&k(b,1,true)){var o=v.sel.anchor;if(k(o.line,-1,true)){if(!a||o.line!=b){b+=1;}}}var p=j(b);for(i=b;i<=e&&r;i++){if(k(i,1,true)){if(!a||j(i)!=p){r--;}}}f=new P(i,0);if(i>e&&!p){p=true;}else{a=false;}for(i=b;i>m;i--){if(!a||j(i)==p||i==b){if(k(i,-1,true)){break;}}}s=new P(i,0);return{start:s,end:f};}function M2(c,a,r,d){function n(c,i){if(i.pos+i.dir<0||i.pos+i.dir>=i.line.length){i.ln+=i.dir;if(!l1(c,i.ln)){i.line=null;i.ln=null;i.pos=null;return;}i.line=c.getLine(i.ln);i.pos=(i.dir>0)?0:i.line.length-1;}else{i.pos+=i.dir;}}function f(c,h,p,d){var j=c.getLine(h);var s=(j==="");var k={line:j,ln:h,pos:p,dir:d,};var m={ln:k.ln,pos:k.pos,};var o=(k.line==="");n(c,k);while(k.line!==null){m.ln=k.ln;m.pos=k.pos;if(k.line===""&&!o){return{ln:k.ln,pos:k.pos,};}else if(s&&k.line!==""&&!q1(k.line[k.pos])){return{ln:k.ln,pos:k.pos,};}else if(s1(k.line[k.pos])&&!s&&(k.pos===k.line.length-1||q1(k.line[k.pos+1]))){s=true;}n(c,k);}var j=c.getLine(m.ln);m.pos=0;for(var i=j.length-1;i>=0;--i){if(!q1(j[i])){m.pos=i;break;}}return m;}function b(c,h,p,d){var j=c.getLine(h);var k={line:j,ln:h,pos:p,dir:d,};var m={ln:k.ln,pos:null,};var s=(k.line==="");n(c,k);while(k.line!==null){if(k.line===""&&!s){if(m.pos!==null){return m;}else{return{ln:k.ln,pos:k.pos};}}else if(s1(k.line[k.pos])&&m.pos!==null&&!(k.ln===m.ln&&k.pos+1===m.pos)){return m;}else if(k.line!==""&&!q1(k.line[k.pos])){s=false;m={ln:k.ln,pos:k.pos}}n(c,k);}var j=c.getLine(m.ln);m.pos=0;for(var i=0;i<j.length;++i){if(!q1(j[i])){m.pos=i;break;}}return m;}var e={ln:a.line,pos:a.ch,};while(r>0){if(d<0){e=b(c,e.ln,e.pos,d);}else{e=f(c,e.ln,e.pos,d);}r--;}return P(e.ln,e.pos);}function N2(c,h,s,i){var a=h,b,e;var d=({'(':/[()]/,')':/[()]/,'[':/[[\]]/,']':/[[\]]/,'{':/[{}]/,'}':/[{}]/,'<':/[<>]/,'>':/[<>]/})[s];var o=({'(':'(',')':'(','[':'[',']':'[','{':'{','}':'{','<':'<','>':'<'})[s];var f=c.getLine(a.line).charAt(a.ch);var j=f===o?1:0;b=c.scanForBracket(P(a.line,a.ch+j),-1,undefined,{'bracketRegex':d});e=c.scanForBracket(P(a.line,a.ch+j),1,undefined,{'bracketRegex':d});if(!b||!e){return{start:a,end:a};}b=b.pos;e=e.pos;if((b.line==e.line&&b.ch>e.ch)||(b.line>e.line)){var k=b;b=e;e=k;}if(i){e.ch+=1;}else{b.ch+=1;}return{start:b,end:e};}function O2(c,h,s,a){var b=_1(h);var d=c.getLine(b.line);var e=d.split('');var f,j,i,k;var m=e.indexOf(s);if(b.ch<m){b.ch=m;}else if(m<b.ch&&e[b.ch]==s){j=b.ch;--b.ch;}if(e[b.ch]==s&&!j){f=b.ch+1;}else{for(i=b.ch;i>-1&&!f;i--){if(e[i]==s){f=i+1;}}}if(f&&!j){for(i=f,k=e.length;i<k&&!j;i++){if(e[i]==s){j=i;}}}if(!f||!j){return{start:b,end:b};}if(a){--f;++j;}return{start:P(b.line,f),end:P(b.line,j)};}v1('pcre',true,'boolean');function P2(){}P2.prototype={getQuery:function(){return C1.query;},setQuery:function(a){C1.query=a;},getOverlay:function(){return this.searchOverlay;},setOverlay:function(o){this.searchOverlay=o;},isReversed:function(){return C1.isReversed;},setReversed:function(r){C1.isReversed=r;},getScrollbarAnnotate:function(){return this.annotate;},setScrollbarAnnotate:function(a){this.annotate=a;}};function Q2(c){var v=c.state.vim;return v.searchState_||(v.searchState_=new P2());}function R2(a){return T2(a,'/');}function S2(a){return U2(a,'/');}function T2(a,s){var b=U2(a,s)||[];if(!b.length)return[];var c=[];if(b[0]!==0)return;for(var i=0;i<b.length;i++){if(typeof b[i]=='number')c.push(a.substring(b[i]+1,b[i+1]));}return c;}function U2(s,a){if(!a)a='/';var e=false;var b=[];for(var i=0;i<s.length;i++){var c=s.charAt(i);if(!e&&c==a){b.push(i);}e=!e&&(c=='\\');}return b;}function V2(s){var a='|(){';var b='}';var e=false;var o=[];for(var i=-1;i<s.length;i++){var c=s.charAt(i)||'';var n=s.charAt(i+1)||'';var d=(n&&a.indexOf(n)!=-1);if(e){if(c!=='\\'||!d){o.push(c);}e=false;}else{if(c==='\\'){e=true;if(n&&b.indexOf(n)!=-1){d=true;}if(!d||n==='\\'){o.push(c);}}else{o.push(c);if(d&&n!=='\\'){o.push('\\');}}}}return o.join('');}var W2={'\\n':'\n','\\r':'\r','\\t':'\t'};function X2(s){var e=false;var o=[];for(var i=-1;i<s.length;i++){var c=s.charAt(i)||'';var n=s.charAt(i+1)||'';if(W2[c+n]){o.push(W2[c+n]);i++;}else if(e){o.push(c);e=false;}else{if(c==='\\'){e=true;if((o1(n)||n==='$')){o.push('$');}else if(n!=='/'&&n!=='\\'){o.push('\\');}}else{if(c==='$'){o.push('$');}o.push(c);if(n==='/'){o.push('\\');}}}}return o.join('');}var Y2={'\\/':'/','\\\\':'\\','\\n':'\n','\\r':'\r','\\t':'\t','\\&':'&'};function Z2(s){var a=new G.StringStream(s);var o=[];while(!a.eol()){while(a.peek()&&a.peek()!='\\'){o.push(a.next());}var m=false;for(var b in Y2){if(a.match(b,true)){m=true;o.push(Y2[b]);break;}}if(!m){o.push(a.next());}}return o.join('');}function $2(a,i,s){var b=C1.registerController.getRegister('/');b.setText(a);if(a instanceof RegExp){return a;}var c=S2(a);var r;var f;if(!c.length){r=a;}else{r=a.substring(0,c[0]);var d=a.substring(c[0]);f=(d.indexOf('i')!=-1);}if(!r){return null;}if(!x1('pcre')){r=V2(r);}if(s){i=(/^[^A-Z]*$/).test(r);}var e=new RegExp(r,(i||f)?'im':'m');return e;}function _2(n){if(typeof n==='string')n=document.createElement(n);for(var a,i=1;i<arguments.length;i++){if(!(a=arguments[i]))continue;if(typeof a!=='object')a=document.createTextNode(a);if(a.nodeType)n.appendChild(a);else for(var k in a){if(!Object.prototype.hasOwnProperty.call(a,k))continue;if(k[0]==='$')n.style[k.slice(1)]=a[k];else n.setAttribute(k,a[k]);}}return n;}function a3(c,a){var p=_2('span',{$color:'red',$whiteSpace:'pre'},a);if(c.openNotification){c.openNotification(p,{bottom:true,duration:5000});}else{alert(p.innerText);}}function b3(p,d){return _2(document.createDocumentFragment(),_2('span',{$fontFamily:'monospace',$whiteSpace:'pre'},p,_2('input',{type:'text',autocorrect:'off',autocapitalize:'off',spellcheck:'false'})),d&&_2('span',{$color:'#888'},d));}function c3(c,u1){var s=(u1.prefix||'')+' '+(u1.desc||'');var a=b3(u1.prefix,u1.desc);if(c.openDialog){c.openDialog(a,u1.onClose,{onKeyDown:u1.onKeyDown,onKeyUp:u1.onKeyUp,bottom:true,selectValueOnOpen:false,value:u1.value});}else{u1.onClose(prompt(s,''));}}function d3(r,a){if(r instanceof RegExp&&a instanceof RegExp){var p=['global','multiline','ignoreCase','source'];for(var i=0;i<p.length;i++){var b=p[i];if(r[b]!==a[b]){return false;}}return true;}return false;}function e3(c,r,i,s){if(!r){return;}var a=Q2(c);var b=$2(r,!!i,!!s);if(!b){return;}g3(c,b);if(d3(b,a.getQuery())){return b;}a.setQuery(b);return b;}function f3(a){if(a.source.charAt(0)=='^'){var m=true;}return{token:function(s){if(m&&!s.sol()){s.skipToEnd();return;}var b=s.match(a,false);if(b){if(b[0].length==0){s.next();return'searching';}if(!s.sol()){s.backUp(1);if(!a.exec(s.next()+b[0])){s.next();return null;}}s.match(a);return'searching';}while(!s.eol()){s.next();if(s.match(a,false))break;}},query:a};}function g3(c,a){var s=Q2(c);var o=s.getOverlay();if(!o||a!=o.query){if(o){c.removeOverlay(o);}o=f3(a);c.addOverlay(o);if(c.showMatchesOnScrollbar){if(s.getScrollbarAnnotate()){s.getScrollbarAnnotate().clear();}s.setScrollbarAnnotate(c.showMatchesOnScrollbar(a));}s.setOverlay(o);}}function h3(c,p,a,r){if(r===undefined){r=1;}return c.operation(function(){var b=c.getCursor();var d=c.getSearchCursor(a,b);for(var i=0;i<r;i++){var f=d.find(p);if(i==0&&f&&a2(d.from(),b)){var e=p?d.from():d.to();f=d.find(p);if(f&&!f[0]&&a2(d.from(),e)){if(c.getLine(e.line).length==e.ch)f=d.find(p);}}if(!f){d=c.getSearchCursor(a,(p)?P(c.lastLine()):P(c.firstLine(),0));if(!d.find(p)){return;}}}return d.from();});}function i3(c,p,a,r,v){if(r===undefined){r=1;}return c.operation(function(){var b=c.getCursor();var d=c.getSearchCursor(a,b);var f=d.find(!p);if(!v.visualMode&&f&&a2(d.from(),b)){d.find(!p);}for(var i=0;i<r;i++){f=d.find(p);if(!f){d=c.getSearchCursor(a,(p)?P(c.lastLine()):P(c.firstLine(),0));if(!d.find(p)){return;}}}return[d.from(),d.to()];});}function j3(c){var s=Q2(c);c.removeOverlay(Q2(c).getOverlay());s.setOverlay(null);if(s.getScrollbarAnnotate()){s.getScrollbarAnnotate().clear();s.setScrollbarAnnotate(null);}}function k3(p,s,e){if(typeof p!='number'){p=p.line;}if(s instanceof Array){return t1(p,s);}else{if(typeof e=='number'){return(p>=s&&p<=e);}else{return p==s;}}}function l3(c){var r=c.ace.renderer;return{top:r.getFirstFullyVisibleRow(),bottom:r.getLastFullyVisibleRow()}}function m3(c,v,m){if(m=='\''||m=='`'){return C1.jumpList.find(c,-1)||P(0,0);}else if(m=='.'){return n3(c);}var a=v.marks[m];return a&&a.find();}function n3(c){var a=c.ace.session.$undoManager;if(a&&a.$lastDelta)return I(a.$lastDelta.end);}var o3=function(){this.buildCommandMap_();};o3.prototype={processCommand:function(c,i,o){var a=this;c.operation(function(){c.curOp.isVimOp=true;a._processCommand(c,i,o);});},_processCommand:function(c,a,o){var v=c.state.vim;var b=C1.registerController.getRegister(':');var p=b.toString();if(v.visualMode){t2(c);}var d=new G.StringStream(a);b.setText(a);var f=o||{};f.input=a;try{this.parseInput_(c,d,f);}catch(e){a3(c,e.toString());throw e;}var h;var j;if(!f.commandName){if(f.line!==undefined){j='move';}}else{h=this.matchCommand_(f.commandName);if(h){j=h.name;if(h.excludeFromCommandHistory){b.setText(p);}this.parseCommandArgs_(d,f,h);if(h.type=='exToKey'){for(var i=0;i<h.toKeys.length;i++){G.Vim.handleKey(c,h.toKeys[i],'mapping');}return;}else if(h.type=='exToEx'){this.processCommand(c,h.toInput);return;}}}if(!j){a3(c,'Not an editor command ":'+a+'"');return;}try{p3[j](c,f);if((!h||!h.possiblyAsync)&&f.callback){f.callback();}}catch(e){a3(c,e.toString());throw e;}},parseInput_:function(c,i,r){i.eatWhile(':');if(i.eat('%')){r.line=c.firstLine();r.lineEnd=c.lastLine();}else{r.line=this.parseLineSpec_(c,i);if(r.line!==undefined&&i.eat(',')){r.lineEnd=this.parseLineSpec_(c,i);}}var Y1=i.match(/^(\w+|!!|@@|[!#&*<=>@~])/);if(Y1){r.commandName=Y1[1];}else{r.commandName=i.match(/.*/)[0];}return r;},parseLineSpec_:function(c,i){var n=i.match(/^(\d+)/);if(n){return parseInt(n[1],10)-1;}switch(i.next()){case'.':return this.parseLineSpecOffset_(i,c.getCursor().line);case'$':return this.parseLineSpecOffset_(i,c.lastLine());case'\'':var m=i.next();var a=m3(c,c.state.vim,m);if(!a)throw new Error('Mark not set');return this.parseLineSpecOffset_(i,a.line);case'-':case'+':i.backUp(1);return this.parseLineSpecOffset_(i,c.getCursor().line);default:i.backUp(1);return undefined;}},parseLineSpecOffset_:function(i,a){var o=i.match(/^([+-])?(\d+)/);if(o){var b=parseInt(o[2],10);if(o[1]=="-"){a-=b;}else{a+=b;}}return a;},parseCommandArgs_:function(i,p,c){if(i.eol()){return;}p.argString=i.match(/.*/)[0];var d=c.argDelimiter||/\s+/;var a=g2(p.argString).split(d);if(a.length&&a[0]){p.args=a;}},matchCommand_:function(c){for(var i=c.length;i>0;i--){var p=c.substring(0,i);if(this.commandMap_[p]){var a=this.commandMap_[p];if(a.name.indexOf(c)===0){return a;}}}return null;},buildCommandMap_:function(){this.commandMap_={};for(var i=0;i<N.length;i++){var c=N[i];var k=c.shortName||c.name;this.commandMap_[k]=c;}},map:function(a,r,c){if(a!=':'&&a.charAt(0)==':'){if(c){throw Error('Mode not supported for ex mappings');}var b=a.substring(1);if(r!=':'&&r.charAt(0)==':'){this.commandMap_[b]={name:b,type:'exToEx',toInput:r.substring(1),user:true};}else{this.commandMap_[b]={name:b,type:'exToKey',toKeys:r,user:true};}}else{if(r!=':'&&r.charAt(0)==':'){var m={keys:a,type:'keyToEx',exArgs:{input:r.substring(1)}};if(c){m.context=c;}L.unshift(m);}else{var m={keys:a,type:'keyToKey',toKeys:r};if(c){m.context=c;}L.unshift(m);}}},unmap:function(a,c){if(a!=':'&&a.charAt(0)==':'){if(c){throw Error('Mode not supported for ex mappings');}var b=a.substring(1);if(this.commandMap_[b]&&this.commandMap_[b].user){delete this.commandMap_[b];return;}}else{var k=a;for(var i=0;i<L.length;i++){if(k==L[i].keys&&L[i].context===c){L.splice(i,1);return;}}}}};var p3={colorscheme:function(c,p){if(!p.args||p.args.length<1){a3(c,c.getOption('theme'));return;}c.setOption('theme',p.args[0]);},map:function(c,p,a){var m=p.args;if(!m||m.length<2){if(c){a3(c,'Invalid mapping: '+p.input);}return;}q3.map(m[0],m[1],a);},imap:function(c,p){this.map(c,p,'insert');},nmap:function(c,p){this.map(c,p,'normal');},vmap:function(c,p){this.map(c,p,'visual');},unmap:function(c,p,a){var m=p.args;if(!m||m.length<1){if(c){a3(c,'No such mapping: '+p.input);}return;}q3.unmap(m[0],a);},move:function(c,p){M1.processCommand(c,c.state.vim,{type:'motion',motion:'moveToLineOrEdgeOfDocument',motionArgs:{forward:false,explicitRepeat:true,linewise:true},repeatOverride:p.line+1});},set:function(c,p){var s=p.args;var a=p.setCfg||{};if(!s||s.length<1){if(c){a3(c,'Invalid mapping: '+p.input);}return;}var e=s[0].split('=');var o=e[0];var v=e[1];var f=false;if(o.charAt(o.length-1)=='?'){if(v){throw Error('Trailing characters: '+p.argString);}o=o.substring(0,o.length-1);f=true;}if(v===undefined&&o.substring(0,2)=='no'){o=o.substring(2);v=false;}var b=u1[o]&&u1[o].type=='boolean';if(b&&v==undefined){v=true;}if(!b&&v===undefined||f){var d=x1(o,c,a);if(d instanceof Error){a3(c,d.message);}else if(d===true||d===false){a3(c,' '+(d?'':'no')+o);}else{a3(c,'  '+o+'='+d);}}else{var h=w1(o,v,c,a);if(h instanceof Error){a3(c,h.message);}}},setlocal:function(c,p){p.setCfg={scope:'local'};this.set(c,p);},setglobal:function(c,p){p.setCfg={scope:'global'};this.set(c,p);},registers:function(c,p){var r=p.args;var a=C1.registerController.registers;var b='----------Registers----------\n\n';if(!r){for(var d in a){var e=a[d].toString();if(e.length){b+='"'+d+'    '+e+'\n'}}}else{var d;r=r.join('');for(var i=0;i<r.length;i++){d=r.charAt(i);if(!C1.registerController.isValidRegister(d)){continue;}var f=a[d]||new I1();b+='"'+d+'    '+f.toString()+'\n'}}a3(c,b);},sort:function(c,p){var r,d,e,n,f;function h(){if(p.argString){var a=new G.StringStream(p.argString);if(a.eat('!')){r=true;}if(a.eol()){return;}if(!a.eatSpace()){return'Invalid arguments';}var b=a.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!b&&!a.eol()){return'Invalid arguments';}if(b[1]){d=b[1].indexOf('i')!=-1;e=b[1].indexOf('u')!=-1;var S3=b[1].indexOf('d')!=-1||b[1].indexOf('n')!=-1&&1;var T3=b[1].indexOf('x')!=-1&&1;var U3=b[1].indexOf('o')!=-1&&1;if(S3+T3+U3>1){return'Invalid arguments';}n=S3&&'decimal'||T3&&'hex'||U3&&'octal';}if(b[2]){f=new RegExp(b[2].substr(1,b[2].length-2),d?'i':'');}}}var j=h();if(j){a3(c,j+': '+p.argString);return;}var k=p.line||c.firstLine();var m=p.lineEnd||p.line||c.lastLine();if(k==m){return;}var o=P(k,0);var s=P(m,f2(c,m));var v=c.getRange(o,s).split('\n');var b1=f?f:(n=='decimal')?/(-?)([\d]+)/:(n=='hex')?/(-?)(?:0x)?([0-9a-f]+)/i:(n=='octal')?/([0-7]+)/:null;var w=(n=='decimal')?10:(n=='hex')?16:(n=='octal')?8:null;var x=[],y=[];if(n||f){for(var i=0;i<v.length;i++){var r1=f?v[i].match(f):null;if(r1&&r1[0]!=''){x.push(r1);}else if(!f&&b1.exec(v[i])){x.push(v[i]);}else{y.push(v[i]);}}}else{y=v;}function r2(a,b){if(r){var S3;S3=a;a=b;b=S3;}if(d){a=a.toLowerCase();b=b.toLowerCase();}var T3=n&&b1.exec(a);var U3=n&&b1.exec(b);if(!T3){return a<b?-1:1;}T3=parseInt((T3[1]+T3[2]).toLowerCase(),w);U3=parseInt((U3[1]+U3[2]).toLowerCase(),w);return T3-U3;}function P3(a,b){if(r){var S3;S3=a;a=b;b=S3;}if(d){a[0]=a[0].toLowerCase();b[0]=b[0].toLowerCase();}return(a[0]<b[0])?-1:1;}x.sort(f?P3:r2);if(f){for(var i=0;i<x.length;i++){x[i]=x[i].input;}}else if(!n){y.sort(r2);}v=(!r)?y.concat(x):x.concat(y);if(e){var Q3=v;var R3;v=[];for(var i=0;i<Q3.length;i++){if(Q3[i]!=R3){v.push(Q3[i]);}R3=Q3[i];}}c.replaceRange(v.join('\n'),o,s);},vglobal:function(c,p){this.global(c,p);},global:function(c,p){var a=p.argString;if(!a){a3(c,'Regular Expression missing from global');return;}var b=p.commandName[0]==='v';var d=(p.line!==undefined)?p.line:c.firstLine();var f=p.lineEnd||p.line||c.lastLine();var h=R2(a);var r=a,j;if(h.length){r=h[0];j=h.slice(1,h.length).join('/');}if(r){try{e3(c,r,true,true);}catch(e){a3(c,'Invalid regex: '+r);return;}}var k=Q2(c).getQuery();var m=[];for(var i=d;i<=f;i++){var n=c.getLineHandle(i);var o=k.test(n.text);if(o!==b){m.push(j?n:n.text);}}if(!j){a3(c,m.join('\n'));return;}var s=0;var v=function(){if(s<m.length){var n=m[s++];var w=c.getLineNumber(n);if(w==null){v();return;}var x=(w+1)+j;q3.processCommand(c,x,{callback:v});}};v();},substitute:function(c,p){if(!c.getSearchCursor){throw new Error('Search feature not available. Requires searchcursor.js or '+'any other getSearchCursor implementation.');}var a=p.argString;var b=a?T2(a,a[0]):[];var r,d='',f,h,i;var j=false;var k=false;if(b.length){r=b[0];if(x1('pcre')&&r!==''){r=new RegExp(r).source;}d=b[1];if(d!==undefined){if(x1('pcre')){d=Z2(d.replace(/([^\\])&/g,"$1$$&"));}else{d=X2(d);}C1.lastSubstituteReplacePart=d;}f=b[2]?b[2].split(' '):[];}else{if(a&&a.length){a3(c,'Substitutions should be of the form '+':s/pattern/replace/');return;}}if(f){h=f[0];i=parseInt(f[1]);if(h){if(h.indexOf('c')!=-1){j=true;}if(h.indexOf('g')!=-1){k=true;}if(x1('pcre')){r=r+'/'+h;}else{r=r.replace(/\//g,"\\/")+'/'+h;}}}if(r){try{e3(c,r,true,true);}catch(e){a3(c,'Invalid regex: '+r);return;}}d=d||C1.lastSubstituteReplacePart;if(d===undefined){a3(c,'No previous substitute regular expression');return;}var s=Q2(c);var m=s.getQuery();var n=(p.line!==undefined)?p.line:c.getCursor().line;var o=p.lineEnd||n;if(n==c.firstLine()&&o==c.lastLine()){o=Infinity;}if(i){n=o;o=n+i-1;}var v=U1(c,P(n,0));var w=c.getSearchCursor(m,v);r3(c,j,k,n,o,w,m,d,p.callback);},redo:G.commands.redo,undo:G.commands.undo,write:function(c){if(G.commands.save){G.commands.save(c);}else if(c.save){c.save();}},nohlsearch:function(c){j3(c);},yank:function(c){var a=_1(c.getCursor());var b=a.line;var d=c.getLine(b);C1.registerController.pushText('0','yank',d,true,true);},delmarks:function(c,p){if(!p.argString||!g2(p.argString)){a3(c,'Argument required');return;}var s=c.state.vim;var a=new G.StringStream(g2(p.argString));while(!a.eol()){a.eatSpace();var b=a.pos;if(!a.match(/[a-zA-Z]/,false)){a3(c,'Invalid argument: '+p.argString.substring(b));return;}var d=a.next();if(a.match('-',true)){if(!a.match(/[a-zA-Z]/,false)){a3(c,'Invalid argument: '+p.argString.substring(b));return;}var e=d;var f=a.next();if(m1(e)&&m1(f)||p1(e)&&p1(f)){var h=e.charCodeAt(0);var i=f.charCodeAt(0);if(h>=i){a3(c,'Invalid argument: '+p.argString.substring(b));return;}for(var j=0;j<=i-h;j++){var m=String.fromCharCode(h+j);delete s.marks[m];}}else{a3(c,'Invalid argument: '+e+'-');return;}}else{delete s.marks[d];}}}};var q3=new o3();function r3(c,a,b,d,f,s,h,r,i){c.state.vim.exMode=true;var j=false;var k,m,n;function o(){c.operation(function(){while(!j){p();w();}x();});}function p(){var e=c.getRange(s.from(),s.to());var r1=e.replace(h,r);var r2=s.to().line;s.replace(r1);m=s.to().line;f+=m-r2;n=m<r2;}function v(){var e=k&&_1(s.to());var r1=s.findNext();if(r1&&!r1[0]&&e&&a2(s.from(),e)){r1=s.findNext();}return r1;}function w(){while(v()&&k3(s.from(),d,f)){if(!b&&s.from().line==m&&!n){continue;}c.scrollIntoView(s.from(),30);c.setSelection(s.from(),s.to());k=s.from();j=false;return;}j=true;}function x(e){if(e){e();}c.focus();if(k){c.setCursor(k);var r1=c.state.vim;r1.exMode=false;r1.lastHPos=r1.lastHSPos=k.ch;}if(i){i();}}function y(e,r1,r2){G.e_stop(e);var P3=G.keyName(e);switch(P3){case'Y':p();w();break;case'N':w();break;case'A':var Q3=i;i=undefined;c.operation(o);i=Q3;break;case'L':p();case'Q':case'Esc':case'Ctrl-C':case'Ctrl-[':x(r2);break;}if(j){x(r2);}return true;}w();if(j){a3(c,'No matches for '+h.source);return;}if(!a){o();if(i){i();}return;}c3(c,{prefix:_2('span','replace with ',_2('strong',r),' (y/n/a/q/l)'),onKeyDown:y});}G.keyMap.vim={attach:W,detach:U,call:X};function s3(c){var v=c.state.vim;var m=C1.macroModeState;var i=C1.registerController.getRegister('.');var a=m.isPlaying;var b=m.lastInsertModeChanges;if(!a){c.off('change',z3);G.off(c.getInputField(),'keydown',F3);}if(!a&&v.insertModeRepeat>1){G3(c,v,v.insertModeRepeat-1,true);v.lastEditInputState.repeatOverride=v.insertModeRepeat;}delete v.insertModeRepeat;v.insertMode=false;c.setCursor(c.getCursor().line,c.getCursor().ch-1);c.setOption('keyMap','vim');c.setOption('disableInput',true);c.toggleOverwrite(false);i.setText(b.changes.join(''));G.signal(c,"vim-mode-change",{mode:"normal"});if(m.isRecording){x3(m);}}function t3(c){L.unshift(c);}function u3(k,a,n,b,e){var c={keys:k,type:a};c[a]=n;c[a+"Args"]=b;for(var d in e)c[d]=e[d];t3(c);}v1('insertModeEscKeysTimeout',200,'number');G.keyMap['vim-insert']={fallthrough:['default'],attach:W,detach:U,call:X};G.keyMap['vim-replace']={'Backspace':'goCharLeft',fallthrough:['vim-insert'],attach:W,detach:U,call:X};function v3(c,v,m,r){var a=C1.registerController.getRegister(r);if(r==':'){if(a.keyBuffer[0]){q3.processCommand(c,a.keyBuffer[0]);}m.isPlaying=false;return;}var k=a.keyBuffer;var b=0;m.isPlaying=true;m.replaySearchQueries=a.searchQueries.slice(0);for(var i=0;i<k.length;i++){var d=k[i];var e,f;while(d){e=(/<\w+-.+?>|<\w+>|./).exec(d);f=e[0];d=d.substring(e.index+f.length);G.Vim.handleKey(c,f,'macro');if(v.insertMode){var h=a.insertModeChanges[b++].changes;C1.macroModeState.lastInsertModeChanges.changes=h;H3(c,h,1);s3(c);}}}m.isPlaying=false;}function w3(m,k){if(m.isPlaying){return;}var r=m.latestRegister;var a=C1.registerController.getRegister(r);if(a){a.pushText(k);}}function x3(m){if(m.isPlaying){return;}var r=m.latestRegister;var a=C1.registerController.getRegister(r);if(a&&a.pushInsertModeChanges){a.pushInsertModeChanges(m.lastInsertModeChanges);}}function y3(m,a){if(m.isPlaying){return;}var r=m.latestRegister;var b=C1.registerController.getRegister(r);if(b&&b.pushSearchQuery){b.pushSearchQuery(a);}}function z3(c,a){var m=C1.macroModeState;var b=m.lastInsertModeChanges;if(!m.isPlaying){while(a){b.expectCursorActivityForChange=true;if(b.ignoreCount>1){b.ignoreCount--;}else if(a.origin=='+input'||a.origin=='paste'||a.origin===undefined){var s=c.listSelections().length;if(s>1)b.ignoreCount=s;var d=a.text.join('\n');if(b.maybeReset){b.changes=[];b.maybeReset=false;}if(d){if(c.state.overwrite&&!/\n/.test(d)){b.changes.push([d]);}else{b.changes.push(d);}}}a=a.next;}}}function A3(c){var v=c.state.vim;if(v.insertMode){var m=C1.macroModeState;if(m.isPlaying){return;}var a=m.lastInsertModeChanges;if(a.expectCursorActivityForChange){a.expectCursorActivityForChange=false;}else{a.maybeReset=true;}}else if(!c.curOp.isVimOp){D3(c,v);}if(v.visualMode){B3(c);}}function B3(c){}function C3(v){}function D3(c,v,k){var a=c.getCursor('anchor');var h=c.getCursor('head');if(v.visualMode&&!c.somethingSelected()){t2(c,false);}else if(!v.visualMode&&!v.insertMode&&c.somethingSelected()){v.visualMode=true;v.visualLine=false;G.signal(c,"vim-mode-change",{mode:"visual"});}if(v.visualMode){var b=!b2(h,a)?-1:0;var d=b2(h,a)?-1:0;h=W1(h,0,b);a=W1(a,0,d);v.sel={anchor:a,head:h};J2(c,v,'<',c2(h,a));J2(c,v,'>',d2(h,a));}else if(!v.insertMode&&!k){v.lastHPos=c.getCursor().ch;}}function E3(k){this.keyName=k;}function F3(e){var m=C1.macroModeState;var a=m.lastInsertModeChanges;var k=G.keyName(e);if(!k){return;}function o(){if(a.maybeReset){a.changes=[];a.maybeReset=false;}a.changes.push(new E3(k));return true;}if(k.indexOf('Delete')!=-1||k.indexOf('Backspace')!=-1){G.lookupKey(k,'vim-insert',o);}}function G3(c,v,r,a){var m=C1.macroModeState;m.isPlaying=true;var b=!!v.lastEditActionCommand;var d=v.inputState;function e(){if(b){M1.processAction(c,v,v.lastEditActionCommand);}else{M1.evalInput(c,v);}}function f(r){if(m.lastInsertModeChanges.changes.length>0){r=!v.lastEditActionCommand?1:r;var h=m.lastInsertModeChanges;H3(c,h.changes,r);}}v.inputState=v.lastEditInputState;if(b&&v.lastEditActionCommand.interlaceInsertRepeat){for(var i=0;i<r;i++){e();f(1);}}else{if(!a){e();}f(r);}v.inputState=d;if(v.insertMode&&!a){s3(c);}m.isPlaying=false;}function H3(c,a,r){function k(f){if(typeof f=='string'){G.commands[f](c);}else{f(c);}return true;}var h=c.getCursor('head');var v=C1.macroModeState.lastInsertModeChanges.visualBlock;if(v){k2(c,h,v+1);r=c.listSelections().length;c.setCursor(h);}for(var i=0;i<r;i++){if(v){c.setCursor(W1(h,i,0));}for(var j=0;j<a.length;j++){var b=a[j];if(b instanceof E3){G.lookupKey(b.keyName,'vim-insert',k);}else if(typeof b=="string"){var d=c.getCursor();c.replaceRange(b,d,d);}else{var s=c.getCursor();var e=W1(s,0,b[0].length);c.replaceRange(b[0],s,e);}}}if(v){c.setCursor(W1(h,0,1));}}D1();G.Vim=V();V=G.Vim;var I3={'return':'CR',backspace:'BS','delete':'Del',esc:'Esc',left:'Left',right:'Right',up:'Up',down:'Down',space:'Space',home:'Home',end:'End',pageup:'PageUp',pagedown:'PageDown',enter:'CR'};function J3(h,k,e){if(k.length>1&&k[0]=="n"){k=k.replace("numpad","");}k=I3[k]||k;var n='';if(e.ctrlKey){n+='C-';}if(e.altKey){n+='A-';}if((n||k.length>1)&&e.shiftKey){n+='S-';}n+=k;if(n.length>1){n='<'+n+'>';}return n;}var K3=V.handleKey.bind(V);V.handleKey=function(c,k,o){return c.operation(function(){return K3(c,k,o);},true);};function L3(s){var n=new s.constructor();Object.keys(s).forEach(function(k){var o=s[k];if(Array.isArray(o))o=o.slice();else if(o&&typeof o=="object"&&o.constructor!=Object)o=L3(o);n[k]=o;});if(s.sel){n.sel={head:s.sel.head&&_1(s.sel.head),anchor:s.sel.anchor&&_1(s.sel.anchor)};}return n;}function M3(c,k,o){var i=false;var v=V.maybeInitVimState_(c);var a=v.visualBlock||v.wasInVisualBlock;var w=c.ace.inMultiSelectMode;if(v.wasInVisualBlock&&!w){v.wasInVisualBlock=false;}else if(w&&v.visualBlock){v.wasInVisualBlock=true;}if(k=='<Esc>'&&!v.insertMode&&!v.visualMode&&w){c.ace.exitMultiSelectMode();}else if(a||!w||c.ace.inVirtualSelectionMode){i=V.handleKey(c,k,o);}else{var b=L3(v);c.operation(function(){c.ace.forEachSelection(function(){var s=c.ace.selection;c.state.vim.lastHPos=s.$desiredColumn==null?s.lead.column:s.$desiredColumn;var h=c.getCursor("head");var d=c.getCursor("anchor");var e=!b2(h,d)?-1:0;var f=b2(h,d)?-1:0;h=W1(h,0,e);d=W1(d,0,f);c.state.vim.sel.head=h;c.state.vim.sel.anchor=d;i=K3(c,k,o);s.$desiredColumn=c.state.vim.lastHPos==-1?null:c.state.vim.lastHPos;if(c.virtualSelectionMode()){c.state.vim=L3(b);}});if(c.curOp.cursorActivity&&!i)c.curOp.cursorActivity=false;},true);}if(i&&!v.visualMode&&!v.insert&&v.visualMode!=c.somethingSelected()){D3(c,v,true);}return i;}l.CodeMirror=G;var N3=V.maybeInitVimState_;l.handler={$id:"ace/keyboard/vim",drawCursor:function(e,p,c,s,a){var v=this.state.vim||{};var w=c.characterWidth;var h=c.lineHeight;var b=p.top;var d=p.left;if(!v.insertMode){var i=!s.cursor?a.selection.isBackwards()||a.selection.isEmpty():R.comparePoints(s.cursor,s.start)<=0;if(!i&&d>w)d-=w;}if(!v.insertMode&&v.status){h=h/2;b+=h;}u.translate(e,d,b);u.setStyle(e.style,"width",w+"px");u.setStyle(e.style,"height",h+"px");},handleKeyboard:function(d,h,k,a,e){var b=d.editor;var c=b.state.cm;var v=N3(c);if(a==-1)return;if(!v.insertMode){if(h==-1){if(k.charCodeAt(0)>0xFF){if(d.inputKey){k=d.inputKey;if(k&&d.inputHash==4)k=k.toUpperCase();}}d.inputChar=k;}else if(h==4||h==0){if(d.inputKey==k&&d.inputHash==h&&d.inputChar){k=d.inputChar;h=-1}else{d.inputChar=null;d.inputKey=k;d.inputHash=h;}}else{d.inputChar=d.inputKey=null;}}if(k=="c"&&h==1){if(!B.isMac&&b.getCopyText()){b.once("copy",function(){b.selection.clearSelection();});return{command:"null",passEvent:true};}}if(k=="esc"&&!v.insertMode&&!v.visualMode&&!c.ace.inMultiSelectMode){var s=Q2(c);var o=s.getOverlay();if(o)c.removeOverlay(o);}if(h==-1||h&1||h===0&&k.length>1){var i=v.insertMode;var n=J3(h,k,e||{});if(v.status==null)v.status="";var f=M3(c,n,'user');v=N3(c);if(f&&v.status!=null)v.status+=n;else if(v.status==null)v.status="";c._signal("changeStatus");if(!f&&(h!=-1||i))return;return{command:"null",passEvent:!f};}},attach:function(e){if(!e.state)e.state={};var c=new G(e);e.state.cm=c;e.$vimModeHandler=this;G.keyMap.vim.attach(c);N3(c).status=null;c.on('vim-command-done',function(){if(c.virtualSelectionMode())return;N3(c).status=null;c.ace._signal("changeStatus");c.ace.session.markUndoGroup();});c.on("changeStatus",function(){c.ace.renderer.updateCursor();c.ace._signal("changeStatus");});c.on("vim-mode-change",function(){if(c.virtualSelectionMode())return;a();c._signal("changeStatus");});function a(){var i=N3(c).insertMode;c.ace.renderer.setStyle("normal-mode",!i);e.textInput.setCommandMode(!i);e.renderer.$keepTextAreaAtCursor=i;e.renderer.$blockCursor=!i;}a();e.renderer.$cursorLayer.drawCursor=this.drawCursor.bind(c);},detach:function(e){var c=e.state.cm;G.keyMap.vim.detach(c);c.destroy();e.state.cm=null;e.$vimModeHandler=null;e.renderer.$cursorLayer.drawCursor=null;e.renderer.setStyle("normal-mode",false);e.textInput.setCommandMode(false);e.renderer.$keepTextAreaAtCursor=true;},getStatusText:function(e){var c=e.state.cm;var v=N3(c);if(v.insertMode)return"INSERT";var s="";if(v.visualMode){s+="VISUAL";if(v.visualLine)s+=" LINE";if(v.visualBlock)s+=" BLOCK";}if(v.status)s+=(s?" ":"")+v.status;return s;}};V.defineOption({name:"wrap",set:function(v,c){if(c){c.ace.setOption("wrap",v)}},type:"boolean"},false);V.defineEx('write','w',function(){console.log(':write is not implemented')});L.push({keys:'zc',type:'action',action:'fold',actionArgs:{open:false}},{keys:'zC',type:'action',action:'fold',actionArgs:{open:false,all:true}},{keys:'zo',type:'action',action:'fold',actionArgs:{open:true}},{keys:'zO',type:'action',action:'fold',actionArgs:{open:true,all:true}},{keys:'za',type:'action',action:'fold',actionArgs:{toggle:true}},{keys:'zA',type:'action',action:'fold',actionArgs:{toggle:true,all:true}},{keys:'zf',type:'action',action:'fold',actionArgs:{open:true,all:true}},{keys:'zd',type:'action',action:'fold',actionArgs:{open:true,all:true}},{keys:'<C-A-k>',type:'action',action:'aceCommand',actionArgs:{name:"addCursorAbove"}},{keys:'<C-A-j>',type:'action',action:'aceCommand',actionArgs:{name:"addCursorBelow"}},{keys:'<C-A-S-k>',type:'action',action:'aceCommand',actionArgs:{name:"addCursorAboveSkipCurrent"}},{keys:'<C-A-S-j>',type:'action',action:'aceCommand',actionArgs:{name:"addCursorBelowSkipCurrent"}},{keys:'<C-A-h>',type:'action',action:'aceCommand',actionArgs:{name:"selectMoreBefore"}},{keys:'<C-A-l>',type:'action',action:'aceCommand',actionArgs:{name:"selectMoreAfter"}},{keys:'<C-A-S-h>',type:'action',action:'aceCommand',actionArgs:{name:"selectNextBefore"}},{keys:'<C-A-S-l>',type:'action',action:'aceCommand',actionArgs:{name:"selectNextAfter"}});L.push({keys:'gq',type:'operator',operator:'hardWrap'});V.defineOperator("hardWrap",function(c,o,r,a,n){var b=r[0].anchor.line;var h=r[0].head.line;if(o.linewise)h--;F(c.ace,{startRow:b,endRow:h});return P(h,0);});v1('textwidth',undefined,'number',['tw'],function(w,c){if(c===undefined){return;}if(w===undefined){var v=c.ace.getOption('printMarginColumn');return v;}else{var a=Math.round(w);if(a>1){c.ace.setOption('printMarginColumn',a);}}});S1.aceCommand=function(c,a,v){c.vimCmd=a;if(c.ace.inVirtualSelectionMode)c.ace.on("beforeEndOperation",O3);else O3(null,c.ace);};function O3(o,a){a.off("beforeEndOperation",O3);var c=a.state.cm.vimCmd;if(c){a.execCommand(c.exec?c:c.name,c.args);}a.curOp=a.prevOp;}S1.fold=function(c,a,v){c.ace.execCommand(['toggleFoldWidget','toggleFoldWidget','foldOther','unfoldall'][(a.all?2:0)+(a.open?1:0)]);};l.handler.defaultKeymap=L;l.handler.actions=S1;l.Vim=V;});(function(){ace.require(["ace/keyboard/vim"],function(m){if(typeof module=="object"&&typeof exports=="object"&&module){module.exports=m;}});})();
