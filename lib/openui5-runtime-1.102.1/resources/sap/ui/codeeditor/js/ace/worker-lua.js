"no use strict";!(function(w){if(typeof w.window!="undefined"&&w.document)return;if(w.require&&w.define)return;if(!w.console){w.console=function(){var a=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:a});};w.console.error=w.console.warn=w.console.log=w.console.trace=w.console;}w.window=w;w.ace=w;w.onerror=function(a,f,l,c,e){postMessage({type:"error",data:{message:a,data:e.data,file:f,line:l,col:c,stack:e.stack}});};w.normalizeModule=function(p,a){if(a.indexOf("!")!==-1){var c=a.split("!");return w.normalizeModule(p,c[0])+"!"+w.normalizeModule(p,c[1]);}if(a.charAt(0)=="."){var b=p.split("/").slice(0,-1).join("/");a=(b?b+"/":"")+a;while(a.indexOf(".")!==-1&&d!=a){var d=a;a=a.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");}}return a;};w.require=function c(p,i){if(!i){i=p;p=null;}if(!i.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");i=w.normalizeModule(p,i);var a=w.require.modules[i];if(a){if(!a.initialized){a.initialized=true;a.exports=a.factory().exports;}return a.exports;}if(!w.require.tlns)return console.log("unable to load "+i);var b=r(i,w.require.tlns);if(b.slice(-3)!=".js")b+=".js";w.require.id=i;w.require.modules[i]={};importScripts(b);return w.require(p,i);};function r(a,p){var t=a,b="";while(t){var c=p[t];if(typeof c=="string"){return c+b;}else if(c){return c.location.replace(/\/*$/,"/")+(b||c.main||c.name);}else if(c===false){return"";}var i=t.lastIndexOf("/");if(i===-1)break;b=t.substr(i)+b;t=t.slice(0,i);}return a;}w.require.modules={};w.require.tlns={};w.define=function(i,d,f){if(arguments.length==2){f=d;if(typeof i!="string"){d=i;i=w.require.id;}}else if(arguments.length==1){f=i;d=[];i=w.require.id;}if(typeof f!="function"){w.require.modules[i]={exports:f,initialized:true};return;}if(!d.length)d=["require","exports","module"];var a=function(c){return w.require(i,c);};w.require.modules[i]={exports:{},factory:function(){var b=this;var c=f.apply(this,d.slice(0,f.length).map(function(e){switch(e){case"require":return a;case"exports":return b.exports;case"module":return b;default:return a(e);}}));if(c)b.exports=c;return b;}};};w.define.amd={};require.tlns={};w.initBaseUrls=function a(t){for(var i in t)require.tlns[i]=t[i];};w.initSender=function i(){var E=w.require("ace/lib/event_emitter").EventEmitter;var o=w.require("ace/lib/oop");var S=function(){};(function(){o.implement(this,E);this.callback=function(d,c){postMessage({type:"call",id:c,data:d});};this.emit=function(n,d){postMessage({type:"event",name:n,data:d});};}).call(S.prototype);return new S();};var m=w.main=null;var s=w.sender=null;w.onmessage=function(e){var a=e.data;if(a.event&&s){s._signal(a.event,a.data);}else if(a.command){if(m[a.command])m[a.command].apply(m,a.args);else if(w[a.command])w[a.command].apply(w,a.args);else throw new Error("Unknown command:"+a.command);}else if(a.init){w.initBaseUrls(a.tlns);s=w.sender=w.initSender();var c=require(a.module)[a.classname];m=w.main=new c(s);}};})(this);ace.define("ace/lib/oop",[],function(r,e,m){"use strict";e.inherits=function(c,s){c.super_=s;c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:false,writable:true,configurable:true}});};e.mixin=function(o,a){for(var k in a){o[k]=a[k];}return o;};e.implement=function(p,a){e.mixin(p,a);};});ace.define("ace/range",[],function(r,e,m){"use strict";var c=function(p,a){return p.row-a.row||p.column-a.column;};var R=function(s,a,b,d){this.start={row:s,column:a};this.end={row:b,column:d};};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column;};this.toString=function(){return("Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]");};this.contains=function(a,b){return this.compare(a,b)==0;};this.compareRange=function(a){var b,d=a.end,s=a.start;b=this.compare(d.row,d.column);if(b==1){b=this.compare(s.row,s.column);if(b==1){return 2;}else if(b==0){return 1;}else{return 0;}}else if(b==-1){return-2;}else{b=this.compare(s.row,s.column);if(b==-1){return-1;}else if(b==1){return 42;}else{return 0;}}};this.comparePoint=function(p){return this.compare(p.row,p.column);};this.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0;};this.intersects=function(a){var b=this.compareRange(a);return(b==-1||b==0||b==1);};this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b;};this.isStart=function(a,b){return this.start.row==a&&this.start.column==b;};this.setStart=function(a,b){if(typeof a=="object"){this.start.column=a.column;this.start.row=a.row;}else{this.start.row=a;this.start.column=b;}};this.setEnd=function(a,b){if(typeof a=="object"){this.end.column=a.column;this.end.row=a.row;}else{this.end.row=a;this.end.column=b;}};this.inside=function(a,b){if(this.compare(a,b)==0){if(this.isEnd(a,b)||this.isStart(a,b)){return false;}else{return true;}}return false;};this.insideStart=function(a,b){if(this.compare(a,b)==0){if(this.isEnd(a,b)){return false;}else{return true;}}return false;};this.insideEnd=function(a,b){if(this.compare(a,b)==0){if(this.isStart(a,b)){return false;}else{return true;}}return false;};this.compare=function(a,b){if(!this.isMultiLine()){if(a===this.start.row){return b<this.start.column?-1:(b>this.end.column?1:0);}}if(a<this.start.row)return-1;if(a>this.end.row)return 1;if(this.start.row===a)return b>=this.start.column?0:-1;if(this.end.row===a)return b<=this.end.column?0:1;return 0;};this.compareStart=function(a,b){if(this.start.row==a&&this.start.column==b){return-1;}else{return this.compare(a,b);}};this.compareEnd=function(a,b){if(this.end.row==a&&this.end.column==b){return 1;}else{return this.compare(a,b);}};this.compareInside=function(a,b){if(this.end.row==a&&this.end.column==b){return 1;}else if(this.start.row==a&&this.start.column==b){return-1;}else{return this.compare(a,b);}};this.clipRows=function(f,l){if(this.end.row>l)var a={row:l+1,column:0};else if(this.end.row<f)var a={row:f,column:0};if(this.start.row>l)var s={row:l+1,column:0};else if(this.start.row<f)var s={row:f,column:0};return R.fromPoints(s||this.start,a||this.end);};this.extend=function(a,b){var d=this.compare(a,b);if(d==0)return this;else if(d==-1)var s={row:a,column:b};else var f={row:a,column:b};return R.fromPoints(s||this.start,f||this.end);};this.isEmpty=function(){return(this.start.row===this.end.row&&this.start.column===this.end.column);};this.isMultiLine=function(){return(this.start.row!==this.end.row);};this.clone=function(){return R.fromPoints(this.start,this.end);};this.collapseRows=function(){if(this.end.column==0)return new R(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);else return new R(this.start.row,0,this.end.row,0);};this.toScreenRange=function(s){var a=s.documentToScreenPosition(this.start);var b=s.documentToScreenPosition(this.end);return new R(a.row,a.column,b.row,b.column);};this.moveBy=function(a,b){this.start.row+=a;this.start.column+=b;this.end.row+=a;this.end.column+=b;};}).call(R.prototype);R.fromPoints=function(s,a){return new R(s.row,s.column,a.row,a.column);};R.comparePoints=c;R.comparePoints=function(p,a){return p.row-a.row||p.column-a.column;};e.Range=R;});ace.define("ace/apply_delta",[],function(r,e,m){"use strict";function t(d,a){console.log("Invalid Delta:",d);throw"Invalid Delta: "+a;}function p(d,a){return a.row>=0&&a.row<d.length&&a.column>=0&&a.column<=d[a.row].length;}function v(d,a){if(a.action!="insert"&&a.action!="remove")t(a,"delta.action must be 'insert' or 'remove'");if(!(a.lines instanceof Array))t(a,"delta.lines must be an Array");if(!a.start||!a.end)t(a,"delta.start/end must be an present");var s=a.start;if(!p(d,a.start))t(a,"delta.start must be contained in document");var b=a.end;if(a.action=="remove"&&!p(d,b))t(a,"delta.end must contained in document for 'remove' actions");var n=b.row-s.row;var c=(b.column-(n==0?s.column:0));if(n!=a.lines.length-1||a.lines[n].length!=c)t(a,"delta.range must match delta lines");}e.applyDelta=function(d,a,b){var c=a.start.row;var s=a.start.column;var l=d[c]||"";switch(a.action){case"insert":var f=a.lines;if(f.length===1){d[c]=l.substring(0,s)+a.lines[0]+l.substring(s);}else{var g=[c,1].concat(a.lines);d.splice.apply(d,g);d[c]=l.substring(0,s)+d[c];d[c+a.lines.length-1]+=l.substring(s);}break;case"remove":var h=a.end.column;var i=a.end.row;if(c===i){d[c]=l.substring(0,s)+l.substring(h);}else{d.splice(c,i-c+1,l.substring(0,s)+d[i].substring(h));}break;}};});ace.define("ace/lib/event_emitter",[],function(r,a,m){"use strict";var E={};var s=function(){this.propagationStopped=true;};var p=function(){this.defaultPrevented=true;};E._emit=E._dispatchEvent=function(b,e){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var l=this._eventRegistry[b]||[];var d=this._defaultHandlers[b];if(!l.length&&!d)return;if(typeof e!="object"||!e)e={};if(!e.type)e.type=b;if(!e.stopPropagation)e.stopPropagation=s;if(!e.preventDefault)e.preventDefault=p;l=l.slice();for(var i=0;i<l.length;i++){l[i](e,this);if(e.propagationStopped)break;}if(d&&!e.defaultPrevented)return d(e,this);};E._signal=function(b,e){var l=(this._eventRegistry||{})[b];if(!l)return;l=l.slice();for(var i=0;i<l.length;i++)l[i](e,this);};E.once=function(e,c){var _=this;this.on(e,function n(){_.off(e,n);c.apply(null,arguments);});if(!c){return new Promise(function(b){c=b;});}};E.setDefaultHandler=function(e,c){var h=this._defaultHandlers;if(!h)h=this._defaultHandlers={_disabled_:{}};if(h[e]){var o=h[e];var d=h._disabled_[e];if(!d)h._disabled_[e]=d=[];d.push(o);var i=d.indexOf(c);if(i!=-1)d.splice(i,1);}h[e]=c;};E.removeDefaultHandler=function(e,c){var h=this._defaultHandlers;if(!h)return;var d=h._disabled_[e];if(h[e]==c){if(d)this.setDefaultHandler(e,d.pop());}else if(d){var i=d.indexOf(c);if(i!=-1)d.splice(i,1);}};E.on=E.addEventListener=function(e,c,b){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[e];if(!l)l=this._eventRegistry[e]=[];if(l.indexOf(c)==-1)l[b?"unshift":"push"](c);return c;};E.off=E.removeListener=E.removeEventListener=function(e,c){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[e];if(!l)return;var i=l.indexOf(c);if(i!==-1)l.splice(i,1);};E.removeAllListeners=function(e){if(!e)this._eventRegistry=this._defaultHandlers=undefined;if(this._eventRegistry)this._eventRegistry[e]=undefined;if(this._defaultHandlers)this._defaultHandlers[e]=undefined;};a.EventEmitter=E;});ace.define("ace/anchor",[],function(r,e,m){"use strict";var o=r("./lib/oop");var E=r("./lib/event_emitter").EventEmitter;var A=e.Anchor=function(d,a,c){this.$onChange=this.onChange.bind(this);this.attach(d);if(typeof c=="undefined")this.setPosition(a.row,a.column);else this.setPosition(a,c);};(function(){o.implement(this,E);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column);};this.getDocument=function(){return this.document;};this.$insertRight=false;this.onChange=function(d){if(d.start.row==d.end.row&&d.start.row!=this.row)return;if(d.start.row>this.row)return;var p=a(d,{row:this.row,column:this.column},this.$insertRight);this.setPosition(p.row,p.column,true);};function $(p,b,c){var C=c?p.column<=b.column:p.column<b.column;return(p.row<b.row)||(p.row==b.row&&C);}function a(d,p,b){var c=d.action=="insert";var f=(c?1:-1)*(d.end.row-d.start.row);var g=(c?1:-1)*(d.end.column-d.start.column);var h=d.start;var i=c?h:d.end;if($(p,h,b)){return{row:p.row,column:p.column};}if($(i,p,!b)){return{row:p.row+f,column:p.column+(p.row==i.row?g:0)};}return{row:h.row,column:h.column};}this.setPosition=function(b,c,n){var p;if(n){p={row:b,column:c};}else{p=this.$clipPositionToDocument(b,c);}if(this.row==p.row&&this.column==p.column)return;var d={row:this.row,column:this.column};this.row=p.row;this.column=p.column;this._signal("change",{old:d,value:p});};this.detach=function(){this.document.off("change",this.$onChange);};this.attach=function(d){this.document=d||this.document;this.document.on("change",this.$onChange);};this.$clipPositionToDocument=function(b,c){var p={};if(b>=this.document.getLength()){p.row=Math.max(0,this.document.getLength()-1);p.column=this.document.getLine(p.row).length;}else if(b<0){p.row=0;p.column=0;}else{p.row=b;p.column=Math.min(this.document.getLine(p.row).length,Math.max(0,c));}if(c<0)p.column=0;return p;};}).call(A.prototype);});ace.define("ace/document",[],function(r,e,m){"use strict";var o=r("./lib/oop");var a=r("./apply_delta").applyDelta;var E=r("./lib/event_emitter").EventEmitter;var R=r("./range").Range;var A=r("./anchor").Anchor;var D=function(t){this.$lines=[""];if(t.length===0){this.$lines=[""];}else if(Array.isArray(t)){this.insertMergedLines({row:0,column:0},t);}else{this.insert({row:0,column:0},t);}};(function(){o.implement(this,E);this.setValue=function(t){var l=this.getLength()-1;this.remove(new R(0,0,l,this.getLine(l).length));this.insert({row:0,column:0},t);};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter());};this.createAnchor=function(b,c){return new A(this,b,c);};if("aaa".split(/a/).length===0){this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n");};}else{this.$split=function(t){return t.split(/\r\n|\r|\n/);};}this.$detectNewLine=function(t){var b=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:"\n";this._signal("changeNewLineMode");};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n";}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(n){if(this.$newLineMode===n)return;this.$newLineMode=n;this._signal("changeNewLineMode");};this.getNewLineMode=function(){return this.$newLineMode;};this.isNewLine=function(t){return(t=="\r\n"||t=="\r"||t=="\n");};this.getLine=function(b){return this.$lines[b]||"";};this.getLines=function(f,l){return this.$lines.slice(f,l+1);};this.getAllLines=function(){return this.getLines(0,this.getLength());};this.getLength=function(){return this.$lines.length;};this.getTextRange=function(b){return this.getLinesForRange(b).join(this.getNewLineCharacter());};this.getLinesForRange=function(b){var c;if(b.start.row===b.end.row){c=[this.getLine(b.start.row).substring(b.start.column,b.end.column)];}else{c=this.getLines(b.start.row,b.end.row);c[0]=(c[0]||"").substring(b.start.column);var l=c.length-1;if(b.end.row-b.start.row==l)c[l]=c[l].substring(0,b.end.column);}return c;};this.insertLines=function(b,l){console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");return this.insertFullLines(b,l);};this.removeLines=function(f,l){console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");return this.removeFullLines(f,l);};this.insertNewLine=function(p){console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");return this.insertMergedLines(p,["",""]);};this.insert=function(p,t){if(this.getLength()<=1)this.$detectNewLine(t);return this.insertMergedLines(p,this.$split(t));};this.insertInLine=function(p,t){var s=this.clippedPos(p.row,p.column);var b=this.pos(p.row,p.column+t.length);this.applyDelta({start:s,end:b,action:"insert",lines:[t]},true);return this.clonePos(b);};this.clippedPos=function(b,c){var l=this.getLength();if(b===undefined){b=l;}else if(b<0){b=0;}else if(b>=l){b=l-1;c=undefined;}var d=this.getLine(b);if(c==undefined)c=d.length;c=Math.min(Math.max(c,0),d.length);return{row:b,column:c};};this.clonePos=function(p){return{row:p.row,column:p.column};};this.pos=function(b,c){return{row:b,column:c};};this.$clipPosition=function(p){var l=this.getLength();if(p.row>=l){p.row=Math.max(0,l-1);p.column=this.getLine(l-1).length;}else{p.row=Math.max(0,p.row);p.column=Math.min(Math.max(p.column,0),this.getLine(p.row).length);}return p;};this.insertFullLines=function(b,l){b=Math.min(Math.max(b,0),this.getLength());var c=0;if(b<this.getLength()){l=l.concat([""]);c=0;}else{l=[""].concat(l);b--;c=this.$lines[b].length;}this.insertMergedLines({row:b,column:c},l);};this.insertMergedLines=function(p,l){var s=this.clippedPos(p.row,p.column);var b={row:s.row+l.length-1,column:(l.length==1?s.column:0)+l[l.length-1].length};this.applyDelta({start:s,end:b,action:"insert",lines:l});return this.clonePos(b);};this.remove=function(b){var s=this.clippedPos(b.start.row,b.start.column);var c=this.clippedPos(b.end.row,b.end.column);this.applyDelta({start:s,end:c,action:"remove",lines:this.getLinesForRange({start:s,end:c})});return this.clonePos(s);};this.removeInLine=function(b,s,c){var d=this.clippedPos(b,s);var f=this.clippedPos(b,c);this.applyDelta({start:d,end:f,action:"remove",lines:this.getLinesForRange({start:d,end:f})},true);return this.clonePos(d);};this.removeFullLines=function(f,l){f=Math.min(Math.max(0,f),this.getLength()-1);l=Math.min(Math.max(0,l),this.getLength()-1);var d=l==this.getLength()-1&&f>0;var b=l<this.getLength()-1;var s=(d?f-1:f);var c=(d?this.getLine(s).length:0);var g=(b?l+1:l);var h=(b?0:this.getLine(g).length);var i=new R(s,c,g,h);var j=this.$lines.slice(f,l+1);this.applyDelta({start:i.start,end:i.end,action:"remove",lines:this.getLinesForRange(i)});return j;};this.removeNewLine=function(b){if(b<this.getLength()-1&&b>=0){this.applyDelta({start:this.pos(b,this.getLine(b).length),end:this.pos(b+1,0),action:"remove",lines:["",""]});}};this.replace=function(b,t){if(!(b instanceof R))b=R.fromPoints(b.start,b.end);if(t.length===0&&b.isEmpty())return b.start;if(t==this.getTextRange(b))return b.end;this.remove(b);var c;if(t){c=this.insert(b.start,t);}else{c=b.start;}return c;};this.applyDeltas=function(d){for(var i=0;i<d.length;i++){this.applyDelta(d[i]);}};this.revertDeltas=function(d){for(var i=d.length-1;i>=0;i--){this.revertDelta(d[i]);}};this.applyDelta=function(d,b){var i=d.action=="insert";if(i?d.lines.length<=1&&!d.lines[0]:!R.comparePoints(d.start,d.end)){return;}if(i&&d.lines.length>20000){this.$splitAndapplyLargeDelta(d,20000);}else{a(this.$lines,d,b);this._signal("change",d);}};this.$safeApplyDelta=function(d){var b=this.$lines.length;if(d.action=="remove"&&d.start.row<b&&d.end.row<b||d.action=="insert"&&d.start.row<=b){this.applyDelta(d);}};this.$splitAndapplyLargeDelta=function(d,M){var b=d.lines;var l=b.length-M+1;var c=d.start.row;var f=d.start.column;for(var g=0,t=0;g<l;g=t){t+=M-1;var h=b.slice(g,t);h.push("");this.applyDelta({start:this.pos(c+g,f),end:this.pos(c+t,f=0),action:d.action,lines:h},true);}d.lines=b.slice(g);d.start.row=c+g;d.start.column=f;this.applyDelta(d,true);};this.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:(d.action=="insert"?"remove":"insert"),lines:d.lines.slice()});};this.indexToPosition=function(b,s){var c=this.$lines||this.getAllLines();var n=this.getNewLineCharacter().length;for(var i=s||0,l=c.length;i<l;i++){b-=c[i].length+n;if(b<0)return{row:i,column:b+c[i].length+n};}return{row:l-1,column:b+c[l-1].length+n};};this.positionToIndex=function(p,s){var l=this.$lines||this.getAllLines();var n=this.getNewLineCharacter().length;var b=0;var c=Math.min(p.row,l.length);for(var i=s||0;i<c;++i)b+=l[i].length+n;return b+p.column;};}).call(D.prototype);e.Document=D;});ace.define("ace/lib/lang",[],function(r,e,m){"use strict";e.last=function(a){return a[a.length-1];};e.stringReverse=function(s){return s.split("").reverse().join("");};e.stringRepeat=function(s,c){var a='';while(c>0){if(c&1)a+=s;if(c>>=1)s+=s;}return a;};var t=/^\s\s*/;var b=/\s\s*$/;e.stringTrimLeft=function(s){return s.replace(t,'');};e.stringTrimRight=function(s){return s.replace(b,'');};e.copyObject=function(o){var c={};for(var k in o){c[k]=o[k];}return c;};e.copyArray=function(a){var c=[];for(var i=0,l=a.length;i<l;i++){if(a[i]&&typeof a[i]=="object")c[i]=this.copyObject(a[i]);else c[i]=a[i];}return c;};e.deepCopy=function d(o){if(typeof o!=="object"||!o)return o;var c;if(Array.isArray(o)){c=[];for(var k=0;k<o.length;k++){c[k]=d(o[k]);}return c;}if(Object.prototype.toString.call(o)!=="[object Object]")return o;c={};for(var k in o)c[k]=d(o[k]);return c;};e.arrayToMap=function(a){var c={};for(var i=0;i<a.length;i++){c[a[i]]=1;}return c;};e.createMap=function(p){var a=Object.create(null);for(var i in p){a[i]=p[i];}return a;};e.arrayRemove=function(a,v){for(var i=0;i<=a.length;i++){if(v===a[i]){a.splice(i,1);}}};e.escapeRegExp=function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,'\\$1');};e.escapeHTML=function(s){return(""+s).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;");};e.getMatchOffsets=function(s,a){var c=[];s.replace(a,function(d){c.push({offset:arguments[arguments.length-2],length:d.length});});return c;};e.deferredCall=function(f){var a=null;var c=function(){a=null;f();};var d=function(g){d.cancel();a=setTimeout(c,g||0);return d;};d.schedule=d;d.call=function(){this.cancel();f();return d;};d.cancel=function(){clearTimeout(a);a=null;return d;};d.isPending=function(){return a;};return d;};e.delayedCall=function(f,d){var a=null;var c=function(){a=null;f();};var _=function(g){if(a==null)a=setTimeout(c,g||d);};_.delay=function(g){a&&clearTimeout(a);a=setTimeout(c,g||d);};_.schedule=_;_.call=function(){this.cancel();f();};_.cancel=function(){a&&clearTimeout(a);a=null;};_.isPending=function(){return a;};return _;};});ace.define("ace/worker/mirror",[],function(r,a,m){"use strict";var R=r("../range").Range;var D=r("../document").Document;var l=r("../lib/lang");var M=a.Mirror=function(s){this.sender=s;var b=this.doc=new D("");var c=this.deferredUpdate=l.delayedCall(this.onUpdate.bind(this));var _=this;s.on("change",function(e){var f=e.data;if(f[0].start){b.applyDeltas(f);}else{for(var i=0;i<f.length;i+=2){if(Array.isArray(f[i+1])){var d={action:"insert",start:f[i],lines:f[i+1]};}else{var d={action:"remove",start:f[i],end:f[i+1]};}b.applyDelta(d,true);}}if(_.$timeout)return c.schedule(_.$timeout);_.onUpdate();});};(function(){this.$timeout=500;this.setTimeout=function(t){this.$timeout=t;};this.setValue=function(v){this.doc.setValue(v);this.deferredUpdate.schedule(this.$timeout);};this.getValue=function(c){this.sender.callback(this.doc.getValue(),c);};this.onUpdate=function(){};this.isPending=function(){return this.deferredUpdate.isPending();};}).call(M.prototype);});ace.define("ace/mode/lua/luaparse",[],function(r,a,c){(function(b,n,f){f(a)}(this,'luaparse',function(a){'use strict';a.version="0.3.1";var d,o,f,g,h;var j=a.defaultOptions={wait:false,comments:true,scope:false,locations:false,ranges:false,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:'5.1',encodingMode:'none'};function k(b,e){e=e||0;if(b<0x80){return String.fromCharCode(b);}else if(b<0x800){return String.fromCharCode(e|0xc0|(b>>6),e|0x80|(b&0x3f));}else if(b<0x10000){return String.fromCharCode(e|0xe0|(b>>12),e|0x80|((b>>6)&0x3f),e|0x80|(b&0x3f));}else if(b<0x110000){return String.fromCharCode(e|0xf0|(b>>18),e|0x80|((b>>12)&0x3f),e|0x80|((b>>6)&0x3f),e|0x80|(b&0x3f));}else{return null;}}function t(b,e){var i=b.toString(16);while(i.length<e)i='0'+i;return i;}function n(b){return function(s){var m=b.exec(s);if(!m)return s;G(null,u.invalidCodeUnit,t(m[0].charCodeAt(0),4).toUpperCase());};}var p={'pseudo-latin1':{fixup:n(/[^\x00-\xff]/),encodeByte:function(b){if(b===null)return'';return String.fromCharCode(b);},encodeUTF8:function(b){return k(b);},},'x-user-defined':{fixup:n(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(b){if(b===null)return'';if(b>=0x80)return String.fromCharCode(b|0xf700);return String.fromCharCode(b);},encodeUTF8:function(b){return k(b,0xf700);}},'none':{discardStrings:true,fixup:function(s){return s;},encodeByte:function(b){return'';},encodeUTF8:function(b){return'';}}};var E=1,S=2,K=4,I=8,N=16,P=32,B=64,q=128,V=256;a.tokenTypes={EOF:E,StringLiteral:S,Keyword:K,Identifier:I,NumericLiteral:N,Punctuator:P,BooleanLiteral:B,NilLiteral:q,VarargLiteral:V};var u=a.errors={unexpected:'unexpected %1 \'%2\' near \'%3\'',unexpectedEOF:'unexpected symbol near \'<eof>\'',expected:'\'%1\' expected near \'%2\'',expectedToken:'%1 expected near \'%2\'',unfinishedString:'unfinished string near \'%1\'',malformedNumber:'malformed number near \'%1\'',decimalEscapeTooLarge:'decimal escape too large near \'%1\'',invalidEscape:'invalid escape sequence near \'%1\'',hexadecimalDigitExpected:'hexadecimal digit expected near \'%1\'',braceExpected:'missing \'%1\' near \'%2\'',tooLargeCodepoint:'UTF-8 value too large near \'%1\'',unfinishedLongString:'unfinished long string (starting at line %1) near \'%2\'',unfinishedLongComment:'unfinished long comment (starting at line %1) near \'%2\'',ambiguousSyntax:'ambiguous syntax (function call x new statement) near \'%1\'',noLoopToBreak:'no loop to break near \'%1\'',labelAlreadyDefined:'label \'%1\' already defined on line %2',labelNotVisible:'no visible label \'%1\' for <goto>',gotoJumpInLocalScope:'<goto %1> jumps into the scope of local \'%2\'',cannotUseVararg:'cannot use \'...\' outside a vararg function near \'%1\'',invalidCodeUnit:'code unit U+%1 is not allowed in the current encoding mode'};var v=a.ast={labelStatement:function(l){return{type:'LabelStatement',label:l};},breakStatement:function(){return{type:'BreakStatement'};},gotoStatement:function(l){return{type:'GotoStatement',label:l};},returnStatement:function(b){return{type:'ReturnStatement','arguments':b};},ifStatement:function(b){return{type:'IfStatement',clauses:b};},ifClause:function(b,e){return{type:'IfClause',condition:b,body:e};},elseifClause:function(b,e){return{type:'ElseifClause',condition:b,body:e};},elseClause:function(b){return{type:'ElseClause',body:b};},whileStatement:function(b,e){return{type:'WhileStatement',condition:b,body:e};},doStatement:function(b){return{type:'DoStatement',body:b};},repeatStatement:function(b,e){return{type:'RepeatStatement',condition:b,body:e};},localStatement:function(b,i){return{type:'LocalStatement',variables:b,init:i};},assignmentStatement:function(b,i){return{type:'AssignmentStatement',variables:b,init:i};},callStatement:function(e){return{type:'CallStatement',expression:e};},functionStatement:function(i,b,e,l){return{type:'FunctionDeclaration',identifier:i,isLocal:e,parameters:b,body:l};},forNumericStatement:function(b,s,s2,e,i){return{type:'ForNumericStatement',variable:b,start:s,end:s2,step:e,body:i};},forGenericStatement:function(b,i,e){return{type:'ForGenericStatement',variables:b,iterators:i,body:e};},chunk:function(b){return{type:'Chunk',body:b};},identifier:function(b){return{type:'Identifier',name:b};},literal:function(b,e,i){b=(b===S)?'StringLiteral':(b===N)?'NumericLiteral':(b===B)?'BooleanLiteral':(b===q)?'NilLiteral':'VarargLiteral';return{type:b,value:e,raw:i};},tableKey:function(b,e){return{type:'TableKey',key:b,value:e};},tableKeyString:function(b,e){return{type:'TableKeyString',key:b,value:e};},tableValue:function(b){return{type:'TableValue',value:b};},tableConstructorExpression:function(b){return{type:'TableConstructorExpression',fields:b};},binaryExpression:function(b,l,e){var i=('and'===b||'or'===b)?'LogicalExpression':'BinaryExpression';return{type:i,operator:b,left:l,right:e};},unaryExpression:function(b,e){return{type:'UnaryExpression',operator:b,argument:e};},memberExpression:function(b,i,e){return{type:'MemberExpression',indexer:i,identifier:e,base:b};},indexExpression:function(b,M){return{type:'IndexExpression',base:b,index:M};},callExpression:function(b,e){return{type:'CallExpression',base:b,'arguments':e};},tableCallExpression:function(b,e){return{type:'TableCallExpression',base:b,'arguments':e};},stringCallExpression:function(b,e){return{type:'StringCallExpression',base:b,argument:e};},comment:function(b,e){return{type:'Comment',value:b,raw:e};}};function w(b){if(J1){var l=I1.pop();l.complete();l.bless(b);}if(o.onCreateNode)o.onCreateNode(b);return b;}var x=Array.prototype.slice,y=Object.prototype.toString;var z=function(b,e){for(var i=0,f=b.length;i<f;++i){if(b[i]===e)return i;}return-1;};if(Array.prototype.indexOf)z=function(b,e){return b.indexOf(e);};function A(b,e,l){for(var i=0,f=b.length;i<f;++i){if(b[i][e]===l)return i;}return-1;}function C(b){var e=x.call(arguments,1);b=b.replace(/%(\d)/g,function(m,M){return''+e[M-1]||'';});return b;}var D=function(b){var e=x.call(arguments,1),s,l;for(var i=0,f=e.length;i<f;++i){s=e[i];for(l in s)if(Object.prototype.hasOwnProperty.call(s,l)){b[l]=s[l];}}return b;};if(Object.assign)D=Object.assign;a.SyntaxError=SyntaxError;function F(e){if(!Object.create)return e;return Object.create(e,{'line':{'writable':true,value:e.line},'index':{'writable':true,value:e.index},'column':{'writable':true,value:e.column}});}function G(O){var m=C.apply(null,x.call(arguments,1)),e,b;if(O===null||typeof O.line==='undefined'){b=M-X+1;e=F(new SyntaxError(C('[%1:%2] %3',W,b,m)));e.index=M;e.line=W;e.column=b;}else{b=O.range[0]-O.lineStart;e=F(new SyntaxError(C('[%1:%2] %3',O.line,b,m)));e.line=O.line;e.index=O.range[0];e.column=b;}throw e;}function H(O){var b=d.slice(O.range[0],O.range[1]);if(b)return b;return O.value;}function J(b,O){G(O,u.expectedToken,b,H(O));}function L(b){var e=H(R);if('undefined'!==typeof b.type){var i;switch(b.type){case S:i='string';break;case K:i='keyword';break;case I:i='identifier';break;case N:i='number';break;case P:i='symbol';break;case B:i='boolean';break;case q:return G(b,u.unexpected,'symbol','nil',e);case E:return G(b,u.unexpectedEOF);}return G(b,u.unexpected,i,H(b),e);}return G(b,u.unexpected,'symbol',b,e);}var M,O,Q,R,T,U,W,X;a.lex=Y;function Y(){$();while(45===d.charCodeAt(M)&&45===d.charCodeAt(M+1)){l1();$();}if(M>=f)return{type:E,value:'<eof>',line:W,lineStart:X,range:[M,M]};var b=d.charCodeAt(M),n1=d.charCodeAt(M+1);U=M;if(u1(b))return _();switch(b){case 39:case 34:return c1();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return e1();case 46:if(s1(n1))return e1();if(46===n1){if(46===d.charCodeAt(M+2))return b1();return a1('..');}return a1('.');case 61:if(61===n1)return a1('==');return a1('=');case 62:if(g.bitwiseOperators)if(62===n1)return a1('>>');if(61===n1)return a1('>=');return a1('>');case 60:if(g.bitwiseOperators)if(60===n1)return a1('<<');if(61===n1)return a1('<=');return a1('<');case 126:if(61===n1)return a1('~=');if(!g.bitwiseOperators)break;return a1('~');case 58:if(g.labels)if(58===n1)return a1('::');return a1(':');case 91:if(91===n1||61===n1)return d1();return a1('[');case 47:if(g.integerDivision)if(47===n1)return a1('//');return a1('/');case 38:case 124:if(!g.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return a1(d.charAt(M));}return L(d.charAt(M));}function Z(){var b=d.charCodeAt(M),e=d.charCodeAt(M+1);if(r1(b)){if(10===b&&13===e)++M;if(13===b&&10===e)++M;++W;X=++M;return true;}return false;}function $(){while(M<f){var b=d.charCodeAt(M);if(q1(b)){++M;}else if(!Z()){break;}}}function _(){var b,e;while(v1(d.charCodeAt(++M)));b=h.fixup(d.slice(U,M));if(w1(b)){e=K;}else if('true'===b||'false'===b){e=B;b=('true'===b);}else if('nil'===b){e=q;b=null;}else{e=I;}return{type:e,value:b,line:W,lineStart:X,range:[U,M]};}function a1(b){M+=b.length;return{type:P,value:b,line:W,lineStart:X,range:[U,M]};}function b1(){M+=3;return{type:V,value:'...',line:W,lineStart:X,range:[U,M]};}function c1(){var b=d.charCodeAt(M++),e=W,i=X,s=M,l=h.discardStrings?null:'',m;for(;;){m=d.charCodeAt(M++);if(b===m)break;if(M>f||r1(m)){l+=d.slice(s,M-1);G(null,u.unfinishedString,d.slice(U,M-1));}if(92===m){if(!h.discardStrings){var t2=d.slice(s,M-1);l+=h.fixup(t2);}var u2=k1();if(!h.discardStrings)l+=u2;s=M;}}if(!h.discardStrings){l+=h.encodeByte(null);l+=h.fixup(d.slice(s,M-1));}return{type:S,value:l,line:e,lineStart:i,lastLine:W,lastLineStart:X,range:[U,M]};}function d1(){var b=W,e=X,s=m1(false);if(false===s)G(O,u.expected,'[',H(O));return{type:S,value:h.discardStrings?null:h.fixup(s),line:b,lineStart:e,lastLine:W,lastLineStart:X,range:[U,M]};}function e1(){var b=d.charAt(M),n1=d.charAt(M+1);var l=('0'===b&&'xX'.indexOf(n1||null)>=0)?h1():i1();var e=f1(),i=g1();if(i&&(e||l.hasFractionPart)){G(null,u.malformedNumber,d.slice(U,M));}return{type:N,value:l.value,line:W,lineStart:X,range:[U,M]};}function f1(){if(!g.imaginaryNumbers)return;if('iI'.indexOf(d.charAt(M)||null)>=0){++M;return true;}else{return false;}}function g1(){if(!g.integerSuffixes)return;if('uU'.indexOf(d.charAt(M)||null)>=0){++M;if('lL'.indexOf(d.charAt(M)||null)>=0){++M;if('lL'.indexOf(d.charAt(M)||null)>=0){++M;return'ULL';}else{G(null,u.malformedNumber,d.slice(U,M));}}else{G(null,u.malformedNumber,d.slice(U,M));}}else if('lL'.indexOf(d.charAt(M)||null)>=0){++M;if('lL'.indexOf(d.charAt(M)||null)>=0){++M;return'LL';}else{G(null,u.malformedNumber,d.slice(U,M));}}}function h1(){var b=0,e=1,i=1,l,m,s,t2;t2=M+=2;if(!t1(d.charCodeAt(M)))G(null,u.malformedNumber,d.slice(U,M));while(t1(d.charCodeAt(M)))++M;l=parseInt(d.slice(t2,M),16);var u2=false;if('.'===d.charAt(M)){u2=true;m=++M;while(t1(d.charCodeAt(M)))++M;b=d.slice(m,M);b=(m===M)?0:parseInt(b,16)/Math.pow(16,M-m);}var v2=false;if('pP'.indexOf(d.charAt(M)||null)>=0){v2=true;++M;if('+-'.indexOf(d.charAt(M)||null)>=0)i=('+'===d.charAt(M++))?1:-1;s=M;if(!s1(d.charCodeAt(M)))G(null,u.malformedNumber,d.slice(U,M));while(s1(d.charCodeAt(M)))++M;e=d.slice(s,M);e=Math.pow(2,e*i);}return{value:(l+b)*e,hasFractionPart:u2||v2};}function i1(){while(s1(d.charCodeAt(M)))++M;var b=false;if('.'===d.charAt(M)){b=true;++M;while(s1(d.charCodeAt(M)))++M;}var e=false;if('eE'.indexOf(d.charAt(M)||null)>=0){e=true;++M;if('+-'.indexOf(d.charAt(M)||null)>=0)++M;if(!s1(d.charCodeAt(M)))G(null,u.malformedNumber,d.slice(U,M));while(s1(d.charCodeAt(M)))++M;}return{value:parseFloat(d.slice(U,M)),hasFractionPart:b||e};}function j1(){var s=M++;if(d.charAt(M++)!=='{')G(null,u.braceExpected,'{','\\'+d.slice(s,M));if(!t1(d.charCodeAt(M)))G(null,u.hexadecimalDigitExpected,'\\'+d.slice(s,M));while(d.charCodeAt(M)===0x30)++M;var e=M;while(t1(d.charCodeAt(M))){++M;if(M-e>6)G(null,u.tooLargeCodepoint,'\\'+d.slice(s,M));}var b=d.charAt(M++);if(b!=='}'){if((b==='"')||(b==="'"))G(null,u.braceExpected,'}','\\'+d.slice(s,M--));else G(null,u.hexadecimalDigitExpected,'\\'+d.slice(s,M));}var i=parseInt(d.slice(e,M-1)||'0',16);var l='\\'+d.slice(s,M);if(i>0x10ffff){G(null,u.tooLargeCodepoint,l);}return h.encodeUTF8(i,l);}function k1(){var s=M;switch(d.charAt(M)){case'a':++M;return'\x07';case'n':++M;return'\n';case'r':++M;return'\r';case't':++M;return'\t';case'v':++M;return'\x0b';case'b':++M;return'\b';case'f':++M;return'\f';case'\r':case'\n':Z();return'\n';case'0':case'1':case'2':case'3':case'4':case'5':case'6':case'7':case'8':case'9':while(s1(d.charCodeAt(M))&&M-s<3)++M;var b=d.slice(s,M);var e=parseInt(b,10);if(e>255){G(null,u.decimalEscapeTooLarge,'\\'+e);}return h.encodeByte(e,'\\'+b);case'z':if(g.skipWhitespaceEscape){++M;$();return'';}break;case'x':if(g.hexEscapes){if(t1(d.charCodeAt(M+1))&&t1(d.charCodeAt(M+2))){M+=3;return h.encodeByte(parseInt(d.slice(s+1,M),16),'\\'+d.slice(s,M));}G(null,u.hexadecimalDigitExpected,'\\'+d.slice(s,M+2));}break;case'u':if(g.unicodeEscapes)return j1();break;case'\\':case'"':case"'":return d.charAt(M++);}if(g.strictEscapes)G(null,u.invalidEscape,'\\'+d.slice(s,M+1));return d.charAt(M++);}function l1(){U=M;M+=2;var b=d.charAt(M),e='',i=false,l=M,m=X,s=W;if('['===b){e=m1(true);if(false===e)e=b;else i=true;}if(!i){while(M<f){if(r1(d.charCodeAt(M)))break;++M;}if(o.comments)e=d.slice(l,M);}if(o.comments){var t2=v.comment(e,d.slice(U,M));if(o.locations){t2.loc={start:{line:s,column:U-m},end:{line:W,column:M-X}};}if(o.ranges){t2.range=[U,M];}if(o.onCreateNode)o.onCreateNode(t2);T.push(t2);}}function m1(b){var l=0,e='',m=false,s,t2,u2=W;++M;while('='===d.charAt(M+l))++l;if('['!==d.charAt(M+l))return false;M+=l+1;if(r1(d.charCodeAt(M)))Z();t2=M;while(M<f){while(r1(d.charCodeAt(M)))Z();s=d.charAt(M++);if(']'===s){m=true;for(var i=0;i<l;++i){if('='!==d.charAt(M+i))m=false;}if(']'!==d.charAt(M+l))m=false;}if(m){e+=d.slice(t2,M-1);M+=l+1;return e;}}G(null,b?u.unfinishedLongComment:u.unfinishedLongString,u2,'<eof>');}function n1(){Q=O;O=R;R=Y();}function o1(b){if(b===O.value){n1();return true;}return false;}function p1(b){if(b===O.value)n1();else G(O,u.expected,b,H(O));}function q1(b){return 9===b||32===b||0xB===b||0xC===b;}function r1(b){return 10===b||13===b;}function s1(b){return b>=48&&b<=57;}function t1(b){return(b>=48&&b<=57)||(b>=97&&b<=102)||(b>=65&&b<=70);}function u1(b){if((b>=65&&b<=90)||(b>=97&&b<=122)||95===b)return true;if(g.extendedIdentifiers&&b>=128)return true;return false;}function v1(b){if((b>=65&&b<=90)||(b>=97&&b<=122)||95===b||(b>=48&&b<=57))return true;if(g.extendedIdentifiers&&b>=128)return true;return false;}function w1(i){switch(i.length){case 2:return'do'===i||'if'===i||'in'===i||'or'===i;case 3:return'and'===i||'end'===i||'for'===i||'not'===i;case 4:if('else'===i||'then'===i)return true;if(g.labels&&!g.contextualGoto)return('goto'===i);return false;case 5:return'break'===i||'local'===i||'until'===i||'while'===i;case 6:return'elseif'===i||'repeat'===i||'return'===i;case 8:return'function'===i;}return false;}function x1(O){if(P===O.type)return'#-~'.indexOf(O.value)>=0;if(K===O.type)return'not'===O.value;return false;}function y1(O){if(E===O.type)return true;if(K!==O.type)return false;switch(O.value){case'else':case'elseif':case'end':case'until':return true;default:return false;}}var z1,A1,B1;function C1(){var s=z1[A1++].slice();z1.push(s);if(o.onCreateScope)o.onCreateScope();}function D1(){var s=z1.pop();--A1;if(o.onDestroyScope)o.onDestroyScope();}function E1(b){if(o.onLocalDeclaration)o.onLocalDeclaration(b);if(-1!==z(z1[A1],b))return;z1[A1].push(b);}function F1(b){E1(b.name);G1(b,true);}function G1(b,i){if(!i&&-1===A(B1,'name',b.name))B1.push(b);b.isLocal=i;}function H1(b){return(-1!==z(z1[A1],b));}var I1=[],J1;function K1(){return new L1(O);}function L1(O){if(o.locations){this.loc={start:{line:O.line,column:O.range[0]-O.lineStart},end:{line:0,column:0}};}if(o.ranges)this.range=[O.range[0],0];}L1.prototype.complete=function(){if(o.locations){this.loc.end.line=Q.lastLine||Q.line;this.loc.end.column=Q.range[1]-(Q.lastLineStart||Q.lineStart);}if(o.ranges){this.range[1]=Q.range[1];}};L1.prototype.bless=function(b){if(this.loc){var l=this.loc;b.loc={start:{line:l.start.line,column:l.start.column},end:{line:l.end.line,column:l.end.column}};}if(this.range){b.range=[this.range[0],this.range[1]];}};function M1(){if(J1)I1.push(K1());}function N1(m){if(J1)I1.push(m);}function O1(){this.scopes=[];this.pendingGotos=[];}O1.prototype.isInLoop=function(){var i=this.scopes.length;while(i-->0){if(this.scopes[i].isLoop)return true;}return false;};O1.prototype.pushScope=function(i){var s={labels:{},locals:[],deferredGotos:[],isLoop:!!i};this.scopes.push(s);};O1.prototype.popScope=function(){for(var i=0;i<this.pendingGotos.length;++i){var b=this.pendingGotos[i];if(b.maxDepth>=this.scopes.length)if(--b.maxDepth<=0)G(b.token,u.labelNotVisible,b.target);}this.scopes.pop();};O1.prototype.addGoto=function(b,O){var l=[];for(var i=0;i<this.scopes.length;++i){var s=this.scopes[i];l.push(s.locals.length);if(Object.prototype.hasOwnProperty.call(s.labels,b))return;}this.pendingGotos.push({maxDepth:this.scopes.length,target:b,token:O,localCounts:l});};O1.prototype.addLabel=function(b,O){var s=this.currentScope();if(Object.prototype.hasOwnProperty.call(s.labels,b)){G(O,u.labelAlreadyDefined,b,s.labels[b].line);}else{var e=[];for(var i=0;i<this.pendingGotos.length;++i){var l=this.pendingGotos[i];if(l.maxDepth>=this.scopes.length&&l.target===b){if(l.localCounts[this.scopes.length-1]<s.locals.length){s.deferredGotos.push(l);}continue;}e.push(l);}this.pendingGotos=e;}s.labels[b]={localCount:s.locals.length,line:O.line};};O1.prototype.addLocal=function(b,O){this.currentScope().locals.push({name:b,token:O});};O1.prototype.currentScope=function(){return this.scopes[this.scopes.length-1];};O1.prototype.raiseDeferredErrors=function(){var s=this.currentScope();var b=s.deferredGotos;for(var i=0;i<b.length;++i){var e=b[i];G(e.token,u.gotoJumpInLocalScope,e.target,s.locals[e.localCounts[this.scopes.length-1]].name);}};function P1(){this.level=0;this.loopLevels=[];}P1.prototype.isInLoop=function(){return!!this.loopLevels.length;};P1.prototype.pushScope=function(i){++this.level;if(i)this.loopLevels.push(this.level);};P1.prototype.popScope=function(){var l=this.loopLevels;var b=l.length;if(b){if(l[b-1]===this.level)l.pop();}--this.level;};P1.prototype.addGoto=P1.prototype.addLabel=function(){throw new Error('This should never happen');};P1.prototype.addLocal=P1.prototype.raiseDeferredErrors=function(){};function Q1(){return g.labels?new O1():new P1();}function R1(){n1();M1();if(o.scope)C1();var b=Q1();b.allowVararg=true;b.pushScope();var e=S1(b);b.popScope();if(o.scope)D1();if(E!==O.type)L(O);if(J1&&!e.length)Q=O;return w(v.chunk(e));}function S1(b){var e=[],s;while(!y1(O)){if('return'===O.value||(!g.relaxedBreak&&'break'===O.value)){e.push(T1(b));break;}s=T1(b);o1(';');if(s)e.push(s);}return e;}function T1(b){M1();if(P===O.type){if(o1('::'))return U1(b);}if(g.emptyStatement){if(o1(';')){if(J1)I1.pop();return;}}b.raiseDeferredErrors();if(K===O.type){switch(O.value){case'local':n1();return b2(b);case'if':n1();return _1(b);case'return':n1();return $1(b);case'function':n1();var e=f2();return e2(e);case'while':n1();return Y1(b);case'for':n1();return a2(b);case'repeat':n1();return Z1(b);case'break':n1();if(!b.isInLoop())G(O,u.noLoopToBreak,O.value);return V1();case'do':n1();return X1(b);case'goto':n1();return W1(b);}}if(g.contextualGoto&&O.type===I&&O.value==='goto'&&R.type===I&&R.value!=='goto'){n1();return W1(b);}if(J1)I1.pop();return c2(b);}function U1(b){var e=O,l=d2();if(o.scope){E1('::'+e.value+'::');G1(l,true);}p1('::');b.addLabel(e.value,e);return w(v.labelStatement(l));}function V1(){return w(v.breakStatement());}function W1(b){var e=O.value,i=Q,l=d2();b.addGoto(e,i);return w(v.gotoStatement(l));}function X1(b){if(o.scope)C1();b.pushScope();var e=S1(b);b.popScope();if(o.scope)D1();p1('end');return w(v.doStatement(e));}function Y1(b){var e=i2(b);p1('do');if(o.scope)C1();b.pushScope(true);var i=S1(b);b.popScope();if(o.scope)D1();p1('end');return w(v.whileStatement(e,i));}function Z1(b){if(o.scope)C1();b.pushScope(true);var e=S1(b);p1('until');b.raiseDeferredErrors();var i=i2(b);b.popScope();if(o.scope)D1();return w(v.repeatStatement(i,e));}function $1(b){var e=[];if('end'!==O.value){var i=h2(b);if(null!=i)e.push(i);while(o1(',')){i=i2(b);e.push(i);}o1(';');}return w(v.returnStatement(e));}function _1(b){var e=[],i,l,m;if(J1){m=I1[I1.length-1];I1.push(m);}i=i2(b);p1('then');if(o.scope)C1();b.pushScope();l=S1(b);b.popScope();if(o.scope)D1();e.push(w(v.ifClause(i,l)));if(J1)m=K1();while(o1('elseif')){N1(m);i=i2(b);p1('then');if(o.scope)C1();b.pushScope();l=S1(b);b.popScope();if(o.scope)D1();e.push(w(v.elseifClause(i,l)));if(J1)m=K1();}if(o1('else')){if(J1){m=new L1(Q);I1.push(m);}if(o.scope)C1();b.pushScope();l=S1(b);b.popScope();if(o.scope)D1();e.push(w(v.elseClause(l)));}p1('end');return w(v.ifStatement(e));}function a2(b){var e=d2(),i;if(o.scope){C1();F1(e);}if(o1('=')){var s=i2(b);p1(',');var s2=i2(b);var l=o1(',')?i2(b):null;p1('do');b.pushScope(true);i=S1(b);b.popScope();p1('end');if(o.scope)D1();return w(v.forNumericStatement(e,s,s2,l,i));}else{var m=[e];while(o1(',')){e=d2();if(o.scope)F1(e);m.push(e);}p1('in');var t2=[];do{var u2=i2(b);t2.push(u2);}while(o1(','));p1('do');b.pushScope(true);i=S1(b);b.popScope();p1('end');if(o.scope)D1();return w(v.forGenericStatement(m,t2,i));}}function b2(b){var e,m=Q;if(I===O.type){var s=[],t2=[];do{e=d2();s.push(e);b.addLocal(e.name,m);}while(o1(','));if(o1('=')){do{var u2=i2(b);t2.push(u2);}while(o1(','));}if(o.scope){for(var i=0,l=s.length;i<l;++i){F1(s[i]);}}return w(v.localStatement(s,t2));}if(o1('function')){e=d2();b.addLocal(e.name,m);if(o.scope){F1(e);C1();}return e2(e,true);}else{J('<name>',O);}}function c2(b){var e=O,m,s;var l,i,t2;var u2=[];if(J1)s=K1();do{if(J1)m=K1();if(I===O.type){t2=O.value;i=d2();if(o.scope)G1(i,H1(t2));l=true;}else if('('===O.value){n1();i=i2(b);p1(')');l=false;}else{return L(O);}both:for(;;){var v2;switch(S===O.type?'"':O.value){case'.':case'[':l=true;break;case':':case'(':case'{':case'"':l=null;break;default:break both;}i=l2(i,m,b);}u2.push(i);if(','!==O.value)break;if(!l){return L(O);}n1();}while(true);if(u2.length===1&&l===null){N1(m);return w(v.callStatement(u2[0]));}else if(!l){return L(O);}p1('=');var w2=[];do{w2.push(i2(b));}while(o1(','));N1(s);return w(v.assignmentStatement(u2,w2));}function d2(){M1();var i=O.value;if(I!==O.type)J('<name>',O);n1();return w(v.identifier(i));}function e2(b,i){var e=Q1();e.pushScope();var l=[];p1('(');if(!o1(')')){while(true){if(I===O.type){var m=d2();if(o.scope)F1(m);l.push(m);if(o1(','))continue;}else if(V===O.type){e.allowVararg=true;l.push(o2(e));}else{J('<name> or \'...\'',O);}p1(')');break;}}var s=S1(e);e.popScope();p1('end');if(o.scope)D1();i=i||false;return w(v.functionStatement(b,l,i,s));}function f2(){var b,e,m;if(J1)m=K1();b=d2();if(o.scope){G1(b,H1(b.name));C1();}while(o1('.')){N1(m);e=d2();b=w(v.memberExpression(b,'.',e));}if(o1(':')){N1(m);e=d2();b=w(v.memberExpression(b,':',e));if(o.scope)E1('self');}return b;}function g2(b){var e=[],i,l;while(true){M1();if(P===O.type&&o1('[')){i=i2(b);p1(']');p1('=');l=i2(b);e.push(w(v.tableKey(i,l)));}else if(I===O.type){if('='===R.value){i=d2();n1();l=i2(b);e.push(w(v.tableKeyString(i,l)));}else{l=i2(b);e.push(w(v.tableValue(l)));}}else{if(null==(l=h2(b))){I1.pop();break;}e.push(w(v.tableValue(l)));}if(',;'.indexOf(O.value)>=0){n1();continue;}break;}p1('}');return w(v.tableConstructorExpression(e));}function h2(b){var e=k2(0,b);return e;}function i2(b){var e=h2(b);if(null==e)J('<expression>',O);else return e;}function j2(b){var e=b.charCodeAt(0),f=b.length;if(1===f){switch(e){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3;}}else if(2===f){switch(e){case 47:return 10;case 46:return 8;case 60:case 62:if('<<'===b||'>>'===b)return 7;return 3;case 61:case 126:return 3;case 111:return 1;}}else if(97===e&&'and'===b)return 2;return 0;}function k2(m,b){var e=O.value,i,l;if(J1)l=K1();if(x1(O)){M1();n1();var s=k2(10,b);if(s==null)J('<expression>',O);i=w(v.unaryExpression(e,s));}if(null==i){i=o2(b);if(null==i){i=m2(b);}}if(null==i)return null;var t2;while(true){e=O.value;t2=(P===O.type||K===O.type)?j2(e):0;if(t2===0||t2<=m)break;if('^'===e||'..'===e)--t2;n1();var u2=k2(t2,b);if(null==u2)J('<expression>',O);if(J1)I1.push(l);i=w(v.binaryExpression(e,i,u2));}return i;}function l2(b,m,e){var i,l;if(P===O.type){switch(O.value){case'[':N1(m);n1();i=i2(e);p1(']');return w(v.indexExpression(b,i));case'.':N1(m);n1();l=d2();return w(v.memberExpression(b,'.',l));case':':N1(m);n1();l=d2();b=w(v.memberExpression(b,':',l));N1(m);return n2(b,e);case'(':case'{':N1(m);return n2(b,e);}}else if(S===O.type){N1(m);return n2(b,e);}return null;}function m2(b){var e,i,m;if(J1)m=K1();if(I===O.type){i=O.value;e=d2();if(o.scope)G1(e,H1(i));}else if(o1('(')){e=i2(b);p1(')');}else{return null;}for(;;){var l=l2(e,m,b);if(l===null)break;e=l;}return e;}function n2(b,e){if(P===O.type){switch(O.value){case'(':if(!g.emptyStatement){if(O.line!==Q.line)G(null,u.ambiguousSyntax,O.value);}n1();var i=[];var l=h2(e);if(null!=l)i.push(l);while(o1(',')){l=i2(e);i.push(l);}p1(')');return w(v.callExpression(b,i));case'{':M1();n1();var m=g2(e);return w(v.tableCallExpression(b,m));}}else if(S===O.type){return w(v.stringCallExpression(b,o2(e)));}J('function arguments',O);}function o2(b){var l=S|N|B|q|V,e=O.value,i=O.type,m;if(J1)m=K1();if(i===V&&!b.allowVararg){G(O,u.cannotUseVararg,O.value);}if(i&l){N1(m);var s=d.slice(O.range[0],O.range[1]);n1();return w(v.literal(i,e,s));}else if(K===i&&'function'===e){N1(m);n1();if(o.scope)C1();return e2(null);}else if(o1('{')){N1(m);return g2(b);}}a.parse=q2;var p2={'5.1':{},'5.2':{labels:true,emptyStatement:true,hexEscapes:true,skipWhitespaceEscape:true,strictEscapes:true,relaxedBreak:true},'5.3':{labels:true,emptyStatement:true,hexEscapes:true,skipWhitespaceEscape:true,strictEscapes:true,unicodeEscapes:true,bitwiseOperators:true,integerDivision:true,relaxedBreak:true},'LuaJIT':{labels:true,contextualGoto:true,hexEscapes:true,skipWhitespaceEscape:true,strictEscapes:true,unicodeEscapes:true,imaginaryNumbers:true,integerSuffixes:true}};function q2(b,e){if('undefined'===typeof e&&'object'===typeof b){e=b;b=undefined;}if(!e)e={};d=b||'';o=D({},j,e);M=0;W=1;X=0;f=d.length;z1=[[]];A1=0;B1=[];I1=[];if(!Object.prototype.hasOwnProperty.call(p2,o.luaVersion)){throw new Error(C("Lua version '%1' not supported",o.luaVersion));}g=D({},p2[o.luaVersion]);if(o.extendedIdentifiers!==void 0)g.extendedIdentifiers=!!o.extendedIdentifiers;if(!Object.prototype.hasOwnProperty.call(p,o.encodingMode)){throw new Error(C("Encoding mode '%1' not supported",o.encodingMode));}h=p[o.encodingMode];if(o.comments)T=[];if(!o.wait)return s2();return a;}a.write=r2;function r2(b){d+=String(b);f=d.length;return a;}a.end=s2;function s2(b){if('undefined'!==typeof b)r2(b);if(d&&d.substr(0,2)==='#!')d=d.replace(/^.*/,function(W){return W.replace(/./g,' ');});f=d.length;J1=o.locations||o.ranges;R=Y();var e=R1();if(o.comments)e.comments=T;if(o.scope)e.globals=B1;if(I1.length>0)throw new Error('Location tracking failed. This is most likely a bug in luaparse');return e;}}));});ace.define("ace/mode/lua_worker",[],function(r,a,m){"use strict";var o=r("../lib/oop");var M=r("../worker/mirror").Mirror;var l=r("../mode/lua/luaparse");var W=a.Worker=function(s){M.call(this,s);this.setTimeout(500);};o.inherits(W,M);(function(){this.onUpdate=function(){var v=this.doc.getValue();var b=[];try{l.parse(v);}catch(e){if(e instanceof l.SyntaxError){b.push({row:e.line-1,column:e.column,text:e.message,type:"error"});}}this.sender.emit("annotate",b);};}).call(W.prototype);});
