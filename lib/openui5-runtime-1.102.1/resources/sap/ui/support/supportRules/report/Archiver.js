/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/base/Log','sap/base/util/isPlainObject','sap/ui/thirdparty/jszip','sap/ui/core/util/File'],function(L,i,J,F){"use strict";var A=function(){this._mData={};};A.prototype.add=function(n,d,t){if(!n){L.error("Archiver: No name was given.");return false;}if(!d){L.error("Archiver: No data was given.");return false;}if(typeof d==="string"){this._mData[n]=d;return true;}else if(t){if((t==="json"||t==="har")&&(i(d)||Array.isArray(d))){try{this._mData[n]=JSON.stringify(d);return true;}catch(e){L.error("Archiver: JSON data could not be serialized for "+n);}}else{L.error("Archiver: JSON data could not be serialized for "+t+". Either the type is unknown or the data has a wrong format.");}}else{L.error("Archiver: Data could not be serialized for "+n+". Data is is not a string or has a an invalid type.");return false;}return false;};A.prototype.download=function(f){var z=new J();if(z){for(var n in this._mData){z.file(n,this._mData[n]);}var c=z.generate({type:"blob"});F.save(c,f,"zip","application/zip");}};A.prototype.clear=function(){this._mData={};return true;};A.prototype.hasData=function(n){if(n!==undefined){return this._mData.hasOwnProperty(n);}return Object.keys(this._mData).length>0;};return A;},true);
