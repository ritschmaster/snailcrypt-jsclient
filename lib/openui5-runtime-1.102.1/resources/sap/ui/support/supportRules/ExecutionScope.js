/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/Component","sap/ui/core/Element"],function(L,C,E){"use strict";var _=null,e=[];var g={setScope:function(){e=E.registry.filter(function(){return true;});}};var c={setScope:function(){var a=E.registry.get(_.parentId);e=a.findAggregatedObjects(true);}};var d={setScope:function(){var s={};_.components.forEach(function(a){var b=C.registry.get(a),j=b.findAggregatedObjects(true);j.forEach(function(l){s[l.getId()]=l;});});for(var i in s){if(s.hasOwnProperty(i)){e.push(s[i]);}}}};var f={global:g,subtree:c,components:d};function h(a){var b=a.getParent().getMetadata().getAggregation(a.sParentAggregationName);return!!b;}function k(a){var r;if(a.getRootControl){r=a.getRootControl();if(r){return[r].concat(r.findAggregatedObjects(true,h));}}return[];}function m(a){var P=a.sParentAggregationName,b=a.getParent();if(b&&P){var B=b.getBindingInfo(P);if(B&&a instanceof B.template.getMetadata().getClass()){return true;}else{return m(b);}}return false;}function n(a){var P=a.sParentAggregationName,b=a.getParent();if(b&&P){var B=b.getBindingInfo(P);if(B&&a instanceof B.template.getMetadata().getClass()){return b.getId();}else{return n(b);}}return null;}function o(a,b){var r=[];for(var i=0,l=a.length;i<l;i++){for(var j=0,s=b.length;j<s;j++){if(a[i]===b[j]){r.push(a[i]);}}}return r;}function p(a,b){e=[];_=b;f[_.type].setScope();return{getElements:function(i){var t=this;var j={"type":null,"public":false,"cloned":true};if(i&&Object.keys(i).length){var l=e;var r={};Object.keys(j).forEach(function(q){if(i.hasOwnProperty(q)){switch(q){case"type":var s=t.getElementsByClassName(i["type"]);l=o(l,s);break;case"public":if(i["public"]===true){var u=t.getPublicElements();l=o(l,u);}break;case"cloned":if(!i["cloned"]){l=l.filter(function(v){var I=m(v);if(I){var w=n(v);if(!r.hasOwnProperty(w)){r[w]=v;}}return(I===false);});}break;}}});Object.keys(r).forEach(function(R){l.push(r[R]);});return l;}return e;},getPublicElements:function(){var P=[];var u=a.mUIAreas;C.registry.forEach(function(j){P=P.concat(k(j));});for(var i in u){P=P.concat(k(u[i]));}return P;},getElementsByClassName:function(i){if(typeof i==="string"){return e.filter(function(j){return j.getMetadata().getName()===i;});}if(typeof i==="function"){return e.filter(function(j){return j instanceof i;});}},getLoggedObjects:function(t){var l=L.getLogEntries(),i=[],j;l.forEach(function(q){if(!q.supportInfo){return;}if(!j){j=e.map(function(v){return v.getId();});}var r=!!q.supportInfo.elementId,s=q.supportInfo.type===t||t===undefined,u=!r||j.indexOf(q.supportInfo.elementId)>-1;if(typeof t==="function"&&t(q)&&u){i.push(q);return;}if(s&&u){i.push(q);}});return i;},getType:function(){return _.type;},_getContext:function(){return _;}};}p.possibleScopes=Object.getOwnPropertyNames(f);return p;},true);
