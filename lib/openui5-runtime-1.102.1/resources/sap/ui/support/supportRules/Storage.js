/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/support/supportRules/RuleSerializer","sap/ui/support/supportRules/Constants"],function(R,C){"use strict";function e(D){return window.btoa(unescape(encodeURIComponent(D)));}function d(D){return decodeURIComponent(escape(window.atob(D)));}var _=localStorage,a={get cookie(){return document.cookie;},set cookie(v){document.cookie=v;}};return{getRules:function(){var t=[],r;try{r=_.getItem(C.LOCAL_STORAGE_TEMP_RULES_KEY);if(!r){return null;}t=JSON.parse(d(r));t=t.map(function(b){return R.deserialize(b,true);});}catch(E){}return t;},setRules:function(r){var s=e(JSON.stringify(r));_.setItem(C.LOCAL_STORAGE_TEMP_RULES_KEY,s);},getSelectedRules:function(){var r=_.getItem(C.LOCAL_STORAGE_SELECTED_RULES_KEY);if(!r){return null;}return JSON.parse(r);},setSelectedRules:function(s){_.setItem(C.LOCAL_STORAGE_SELECTED_RULES_KEY,JSON.stringify(s));},setSelectedContext:function(s){_.setItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_KEY,JSON.stringify(s));},getSelectedContext:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_KEY));},setSelectedScopeComponents:function(c){_.setItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY,JSON.stringify(c));},getSelectedScopeComponents:function(){var c=_.getItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);return JSON.parse(c);},removeSelectedRules:function(s){this.setRules(s);},setVisibleColumns:function(v){_.setItem(C.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY,JSON.stringify(v));},getVisibleColumns:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY));},getSelectionPresets:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_SELECTION_PRESETS_KEY));},getCustomPresets:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY));},setSelectionPresets:function(s){_.setItem(C.LOCAL_STORAGE_SELECTION_PRESETS_KEY,JSON.stringify(s));},setCustomPresets:function(c){_.setItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY,JSON.stringify(c));},removeAllData:function(){_.removeItem(C.LOCAL_STORAGE_TEMP_RULES_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_RULES_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTION_PRESETS_KEY);_.removeItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY);_.removeItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY);_.removeItem(C.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED);},createPersistenceCookie:function(c,s){a.cookie=c+"="+s;},readPersistenceCookie:function(s){var n=s+"=",b=decodeURIComponent(a.cookie),f=b.split(';'),o="";for(var i=0;i<f.length;i++){var c=f[i];while(c.charAt(0)==' '){c=c.substring(1);}if(c.indexOf(n)==0){o=c.substring(n.length,c.length);return o;}}return o;},deletePersistenceCookie:function(c){a.cookie=c+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';},markTempRulesDisabledWarned:function(){_.setItem(C.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED,true);},getTempRulesDisabledWarned:function(){return _.getItem(C.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED);},_setStorage:function(s){_=s;},_getStorage:function(){return _;},_setCookieInterface:function(c){a=c;},_getCookieInterface:function(){return a;}};},true);
