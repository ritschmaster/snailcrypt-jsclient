//@ui5-bundle sap/ui/support/library-preload.js
/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/support/supportRules/ui/models/CustomJSONListSelection',["./CustomListSelection","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/ui/models/SelectionUtils","sap/ui/support/supportRules/Constants"],function(C,S,a,b){"use strict";
var c=C.extend("sap.ui.support.supportRules.ui.models.CustomJSONListSelection",{
constructor:function(o,d,k){C.call(this,o,k);this._dependent=d;},
_updateModelAfterSelectionChange:function(e){var B=this._getBinding();var m=B.getModel();var d=e.getParameter("rowIndices")||[];var s=this._getSelectionModel();var t=this;function f(p,g,h){var n=m.getProperty(p+"/nodes");if(t._isTree()&&t._dependent){if(n&&n.length){for(var j=0;j<n.length;j++){f(p+"/nodes/"+j+"",g,true);t.updateModelAfterChangedSelection(m,p,g);}}else{if(!g&&!h){var P=p.split("/");P.pop();P.pop();var k=P.join("/");t._setSelectionForContext(m,m.createBindingContext(k),g);}}}t.updateModelAfterChangedSelection(m,p,g);t._setSelectionForContext(m,m.createBindingContext(p),g);}for(var i=0;i<d.length;i++){var o=this._getContextByIndex(d[i]);if(o){f(o.getPath(),s.isSelectedIndex(d[i]));}}this.syncParentNodeSelectionWithChildren(B.getModel("ruleSets"));this._finalizeSelectionUpdate();a.getSelectedRules();if(S.readPersistenceCookie(b.COOKIE_NAME)){a.persistSelection();var T=S.getRules();a.getRulesSelectionState().forEach(function(r){if(r.libName==="temporary"){T.forEach(function(g){if(r.ruleId===g.id){g.selected=r.selected;}});}});S.setRules(T);}}
});
return c;});
sap.ui.predefine('sap/ui/support/supportRules/ui/models/CustomListSelection',["sap/base/util/deepExtend",'sap/ui/base/EventProvider','sap/ui/model/SelectionModel'],function(d,E,S){"use strict";
function _(o,t){if(!o||!t){return false;}var c=sap.ui.require(t);return!!(c&&(o instanceof c));}
var T={isIndexSelected:function(r){return this._isSelectedInModel(r);},setSelectedIndex:function(r){},getSelectedIndices:function(){return[];},setSelectionInterval:function(f,t){this._doChangeSelection("setSelectionInterval",arguments);},addSelectionInterval:function(f,t){this._doChangeSelection("addSelectionInterval",arguments);},removeSelectionInterval:function(f,t){this._doChangeSelection("removeSelectionInterval",arguments);},selectAll:function(){this._doChangeSelection("selectAll",[this._getBinding().getLength()-1]);},getSelectedIndex:function(){return this._getSelectionModel().getLeadSelectedIndex();},clearSelection:function(){if(this._ignoreClearSelection){this._initializeSelectionModel();return;}this._doChangeSelection("clearSelection",arguments);},_getSelectedIndicesCount:function(){return this._getSelectionModel().getSelectedIndices().length;},_initializeSelectionModel:function(){return this._initializeSelectionModel();},updateSelectionFromModel:function(){return this.updateSelectionFromModel();},syncParentNodeSelectionWithChildren:function(r){return this.syncParentNodeSelectionWithChildren(r);}};
function a(n,h){return function(){return T[n].apply(h,arguments);};}
var b=E.extend("sap.ui.support.supportRules.ui.models.CustomListSelection",{
constructor:function(c,k){E.call(this);var t=this;this._keys={};this._key=k;this._control=c;this._UITable=_(this._control,"sap/ui/table/Table");this._tree=_(this._control,"sap/ui/table/TreeTable")||_(this._control,"sap/m/Tree");if(this._UITable){this._aggregation="rows";for(var f in T){this._control[f]=a(f,this);}this._control.__onBindingChange=this._control._onBindingChange;this._control._onBindingChange=function(e){t._ignoreClearSelection=true;this.__onBindingChange.apply(this,arguments);if(e.getParameter("reason")!=='filter'&&e.getParameter("reason")!=='sort'){t._ignoreClearSelection=false;}};this.attachEvent("selectionChange",function(e){t._getControl()._onSelectionChanged(e);});}else{this._aggregation="items";this._control.attachSelectionChange(function(e){var s=t._getSelectionModel();var C=e.getParameter("listItems");var g=[];for(var i=0;i<C.length;i++){var h=C[i].getSelected();var j=c.indexOfItem(C[i]);g.push(j);if(h){s.addSelectionInterval(j,j);}else{s.removeSelectionInterval(j,j);}}var e=t.oEventPool.borrowObject("selectionChanged",t,{rowIndices:g});t._updateModelAfterSelectionChange(e);t.oEventPool.returnObject(e);t._initializeSelectionModel();});this._control.attachUpdateFinished(function(){t._getSelectionModel(true);});this._doAfterInitSelectionModel=function(){var I=this._getControl().getItems();for(var i=0;i<I.length;i++){I[i].setSelected(this._isSelectedInModel(i),true);}};}if(this._isTree()){c.attachToggleOpenState(function(){t._getSelectionModel(true);});}},
attachRowSelectionChange:function(h){this.attachEvent("selectionChange",h);},
getSelectedKeys:function(){var k=[];for(var K in this._keys){if(this._keys[K]){k.push(K);}}return k;},
_getControl:function(){return this._control;},
_isUITable:function(){return this._UITable;},
_isTree:function(){return this._tree;},
_getBinding:function(){return this._getControl().getBinding(this._aggregation);},
_getContextByIndex:function(r){return this._getBinding().getContexts(r,1,undefined,true)[0];},
_getSelectionModel:function(f){if(!this.selectionmodel||f){this._initializeSelectionModel();}return this.selectionmodel;},
_getSelectedIndicesFromModel:function(){var B=this._getBinding();var I=[];if(B){var m=B.getModel();var l=B.getLength();for(var i=0;i<l;i++){var c=this._getContextByIndex(i);if(!c){return I;}if(this._checkSelectionForContext(m,c)){I.push(i);}}}return I;},
_updateModelAfterSelectionChange:function(e){},
updateSelectionFromModel:function(){var B=this._getBinding();var m=B.getModel();var D=m.getData();var A=this._getAllIndicesInModel();var t=this;function s(p,e,f){var n=m.getProperty(p+"/nodes");if(t._isTree()&&t._dependent){if(n&&n.length){for(var j=0;j<n.length;j++){var P=p.split("");s(p+"/nodes/"+j+"",m.getData()[P[1]].nodes[j].selected,true);}}else{var P=p.split("/");t.bTempSelected=true;P.pop();P.pop();var g=P.join("/"),h=g.split("/");if(D[h[1]]){t.bTempSelected=D[h[1]].selected;}t._setSelectionForContext(m,m.createBindingContext(g),t.bTempSelected);}}t._setSelectionForContext(m,m.createBindingContext(p),e);}for(var i=0;i<A.length;i++){var c=this._getContextByIndex(A[i]),p=c.getPath(),P=p.split("/"),e=true;if(P[2]){if(D[P[1]].nodes[P[3]]){e=D[P[1]].nodes[P[3]].selected;}}else{e=D[P[1]].selected;}s(p,e);}this._finalizeSelectionUpdate();},
_getAllIndicesInModel:function(){var B=this._getBinding();var I=[];if(B){var l=B.getLength();for(var i=0;i<l;i++){I.push(i);}}return I;},
_isSelectedInModel:function(r){var B=this._getBinding();var l=B?B.getLength():0;if(!B||r>=l){return false;}return this._checkSelectionForContext(B.getModel(),this._getContextByIndex(r));},
_finalizeSelectionUpdate:function(){this._initializeSelectionModel();this._getSelectionModel();this._fireRowSelectionChange();},
_checkSelectionForContext:function(m,c){var k;if(this._key==="$PATH"){k=c.getPath();}else{k=m.getProperty(this._key,c);}return!!this._keys[k];},
_setSelectionForContext:function(m,c,s){var k;if(this._key==="$PATH"){k=c.getPath();}else{k=m.getProperty(this._key,c);}if(s){this._keys[k]=true;}else{delete this._keys[k];}},
_initializeSelectionModel:function(){if(!this.selectionmodel){this.selectionmodel=new S(S.MULTI_SELECTION);}else{this.selectionmodel.clearSelection();}var I=this._getSelectedIndicesFromModel();for(var i=0;i<I.length;i++){this.selectionmodel.addSelectionInterval(I[i],I[i]);}if(this._doAfterInitSelectionModel){this._doAfterInitSelectionModel();}},
_doUpdateModelAfterSelectionChange:function(e){this._getSelectionModel().detachSelectionChanged(this._doUpdateModelAfterSelectionChange,this);this._updateModelAfterSelectionChange(e);},
_doChangeSelection:function(c,A){var s=this._getSelectionModel();s.attachSelectionChanged(this._doUpdateModelAfterSelectionChange,this);s[c].apply(s,A);},
_fireRowSelectionChange:function(){this.fireEvent("selectionChange",{selectedKeys:this.getSelectedKeys()});},
syncParentNodeSelectionWithChildren:function(r){var t=d({},r.getData());Object.keys(t).forEach(function(l){var f=true;t[l].nodes.forEach(function(R){if(!R.selected){f=false;t[l].selected=false;}else if(f){t[l].selected=true;}});});r.setData(t);},
updateModelAfterChangedSelection:function(m,p,s){var P=p.split("/"),l=P[1];if(P[2]){if(m.getProperty("/"+l+"/nodes")!==0){m.setProperty("/"+l+"/nodes/"+P[3]+"/selected",s);}}else{m.setProperty("/"+l+"/selected",s);}}
});
return b;});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/support/Bootstrap',["sap/base/Log"],function(L){"use strict";L.setLogEntriesLimit(Infinity);var B={initSupportRules:function(s,d){sap.ui.require(["sap/ui/support/supportRules/Main","sap/ui/support/jQuery.sap.support"],function(M){if(s[0].toLowerCase()==="true"||s[0].toLowerCase()==="silent"){var h=d&&d.onReady&&typeof d.onReady==="function";if(!M._pluginStarted){if(h){M.attachEvent("ready",d.onReady);}M.startPlugin(s);}else{if(h){d.onReady();}}L.logSupportInfo(true);}});}};return B;});
sap.ui.predefine('sap/ui/support/RuleAnalyzer',["sap/ui/support/Bootstrap","sap/ui/support/supportRules/Main","sap/ui/support/supportRules/RuleSetLoader"],function(B,M,R){"use strict";var a={analyze:function(e,p,m){var l=new Promise(function(r){B.initSupportRules(["true","silent"],{onReady:function(){r();}});});return l.then(function(){if(R._bRulesCreated){return M.analyze(e,p,m);}return R._oMainPromise.then(function(){return M.analyze(e,p,m);});});},getLastAnalysisHistory:function(){return M.getLastAnalysisHistory();},getAnalysisHistory:function(){return M.getAnalysisHistory();},getFormattedAnalysisHistory:function(f){return M.getFormattedAnalysisHistory(f);},addRule:function(r){return M.addRule(r);}};return a;});
sap.ui.predefine('sap/ui/support/library',["sap/ui/core/library"],function(l){"use strict";var t=sap.ui.getCore().initLibrary({name:"sap.ui.support",dependencies:["sap.ui.core"],types:["sap.ui.support.Severity"],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:"1.102.1",extensions:{"sap.ui.support":{internalRules:true}}});t.Severity={Medium:"Medium",High:"High",Low:"Low"};t.Audiences={Control:"Control",Internal:"Internal",Application:"Application"};t.Categories={Accessibility:"Accessibility",Performance:"Performance",Memory:"Memory",Bindings:"Bindings",Consistency:"Consistency",FioriGuidelines:"FioriGuidelines",Functionality:"Functionality",Usability:"Usability",DataModel:"DataModel",Modularization:"Modularization",Usage:"Usage",Other:"Other"};t.HistoryFormats={Abap:"Abap",String:"String"};t.SystemPresets={Accessibility:{id:"Accessibility",title:"Accessibility",description:"Accessibility related rules",selections:[{ruleId:"dialogAriaLabelledBy",libName:"sap.m"},{ruleId:"onlyIconButtonNeedsTooltip",libName:"sap.m"},{ruleId:"inputNeedsLabel",libName:"sap.m"},{ruleId:"titleLevelProperty",libName:"sap.m"},{ruleId:"formTitleOrAriaLabel",libName:"sap.ui.layout"},{ruleId:"formTitleInToolbarAria",libName:"sap.ui.layout"},{ruleId:"formMissingLabel",libName:"sap.ui.layout"},{ruleId:"gridTableAccessibleLabel",libName:"sap.ui.table"},{ruleId:"gridTableColumnTemplateIcon",libName:"sap.ui.table"},{ruleId:"smartFormLabelOrAriaLabel",libName:"sap.ui.comp"},{ruleId:"icontabbarlabels",libName:"sap.m"},{ruleId:"labeltooltip",libName:"sap.m"},{ruleId:"labelfor",libName:"sap.m"},{ruleId:"labelInDisplayMode",libName:"sap.m"},{ruleId:"texttooltip",libName:"sap.m"},{ruleId:"rbText",libName:"sap.m"}]}};return t;});
sap.ui.predefine('sap/ui/support/supportRules/Analyzer',["sap/base/Log","sap/ui/support/supportRules/IssueManager","sap/ui/support/supportRules/Constants"],function(L,I,C){"use strict";var A=function(){this.dStartedAt=null;this.dFinishedAt=null;this.iElapsedTime=0;this._iAllowedTimeout=10000;this.reset();};
A.prototype.reset=function(){this._iTotalProgress=0;this._iCompletedRules=0;this._iTotalRules=0;this._bRunning=false;this._aRulePromices=[];};
A.prototype.running=function(){return this._bRunning;};
A.prototype.start=function(r,c,e){var i,t=this;this.dStartedAt=new Date();this._iTotalRules=r.length;this._bRunning=true;r.forEach(function(R){t._aRulePromices.push(new Promise(function(f){try{i=I.createIssueManagerFacade(R);if(R.async){t._runAsyncRule(i,c,e,R,f);}else{R.check(i,c,e);f();t._updateProgress();}}catch(a){t._handleException(a,R.id,f);}}));});return Promise.all(this._aRulePromices).then(function(){t.reset();t.dFinishedAt=new Date();t.iElapsedTime=t.dFinishedAt.getTime()-t.dStartedAt.getTime();});};
A.prototype._handleException=function(e,r,R){var t=e.message||e;var m="["+C.SUPPORT_ASSISTANT_NAME+"] Error while execution rule \""+r+"\": "+t;L.error(m);R();this._updateProgress();};
A.prototype._updateProgress=function(){this._iCompletedRules++;this._iTotalProgress=Math.ceil(this._iCompletedRules/this._iTotalRules*100);if(this.onNotifyProgress){this.onNotifyProgress(this._iTotalProgress);}};
A.prototype._runAsyncRule=function(i,c,e,r,R){var t=this,T=false;var a=setTimeout(function(){T=true;t._handleException("Check function timed out",r.id,R);},this._iAllowedTimeout);new Promise(function(f){r.check(i,c,e,f);}).then(function(){if(!T){clearTimeout(a);R();t._updateProgress();}}).catch(function(b){if(!T){clearTimeout(a);t._handleException(b,r.id,R);}});};
A.prototype.getElapsedTimeString=function(){if(!this.iElapsedTime){return"";}var d=new Date(null);d.setHours(0,0,0,0);d.setMilliseconds(this.iElapsedTime);var b=[(d.getHours()<10?"0":"")+d.getHours(),(d.getMinutes()<10?"0":"")+d.getMinutes(),(d.getSeconds()<10?"0":"")+d.getSeconds(),d.getMilliseconds()];return b.join(":");};
return A;});
sap.ui.predefine('sap/ui/support/supportRules/CommunicationBus',["sap/ui/support/supportRules/WindowCommunicationBus","sap/ui/support/supportRules/WCBConfig"],function(C,a){"use strict";var c;
var b=C.extend("sap.ui.support.supportRules.CommunicationBus",{constructor:function(){if(!c){var o=new a({modulePath:"sap/ui/support",receivingWindow:"supportTool",uriParams:{origin:"sap-ui-xx-support-origin",frameId:"sap-ui-xx-frame-identifier"}});C.call(this,o);}else{return c;}}});
c=new b();return c;},true);
sap.ui.predefine('sap/ui/support/supportRules/Constants',[],function(){"use strict";return{TEMP_RULESETS_NAME:"temporary",SUPPORT_ASSISTANT_NAME:"Support Assistant",LOCAL_STORAGE_TEMP_RULES_KEY:"support-assistant-temprules",LOCAL_STORAGE_SELECTED_RULES_KEY:"support-assistant-selected-rules",LOCAL_STORAGE_SELECTED_CONTEXT_KEY:"support-assistant-settings-selected-context",LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY:"support-assistant-settings-selected-context-components",LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY:"support-assistant-visible-column-setting",LOCAL_STORAGE_SELECTION_PRESETS_KEY:"support-assistant-selection-presets",LOCAL_STORAGE_CUSTOM_PRESETS_KEY:"support-assistant-custom-presets",LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED:"support-assistant-temp-rules-disabled-warned",COOKIE_NAME:"persistence-cookie",SUPPORT_ASSISTANT_SEVERITY_HIGH_COLOR:"#bb0000",SUPPORT_ASSISTANT_SEVERITY_MEDIUM_COLOR:"#e78c07",SUPPORT_ASSISTANT_SEVERITY_LOW_COLOR:"#5e696e",SUPPORT_ASSISTANT_ISSUE_SEVERITY_LOW:"Low",SUPPORT_ASSISTANT_ISSUE_SEVERITY_MEDIUM:"Medium",SUPPORT_ASSISTANT_ISSUE_SEVERITY_HIGH:"High",SUPPORT_ASSISTANT_EXTENSION:"sap.ui.support",MAX_VISIBLE_ISSUES_FOR_RULE:5,RULESET_LOADING:"Loading ruleset files:",FILTER_VALUE_ALL:"All",RULE_SELECTION_EXPORT_FILE_NAME:"sa-rule-preset",HIGHLIGHTER_ID:"ui5-highlighter"};},true);
sap.ui.predefine('sap/ui/support/supportRules/CoreFacade',['sap/ui/core/Component'],function(C){"use strict";var c=null;
function a(o){c=o;return{getMetadata:function(){return c.getMetadata();},getUIAreas:function(){return c.mUIAreas;},getComponents:function(){return C.registry.all();},getModels:function(){return c.oModels;}};}
return a;},true);
sap.ui.predefine('sap/ui/support/supportRules/ExecutionScope',["sap/base/Log","sap/ui/core/Component","sap/ui/core/Element"],function(L,C,E){"use strict";var _=null,e=[];var g={setScope:function(){e=E.registry.filter(function(){return true;});}};var c={setScope:function(){var a=E.registry.get(_.parentId);e=a.findAggregatedObjects(true);}};var d={setScope:function(){var s={};_.components.forEach(function(a){var b=C.registry.get(a),j=b.findAggregatedObjects(true);j.forEach(function(l){s[l.getId()]=l;});});for(var i in s){if(s.hasOwnProperty(i)){e.push(s[i]);}}}};var f={global:g,subtree:c,components:d};
function h(a){var b=a.getParent().getMetadata().getAggregation(a.sParentAggregationName);return!!b;}
function k(a){var r;if(a.getRootControl){r=a.getRootControl();if(r){return[r].concat(r.findAggregatedObjects(true,h));}}return[];}
function m(a){var P=a.sParentAggregationName,b=a.getParent();if(b&&P){var B=b.getBindingInfo(P);if(B&&a instanceof B.template.getMetadata().getClass()){return true;}else{return m(b);}}return false;}
function n(a){var P=a.sParentAggregationName,b=a.getParent();if(b&&P){var B=b.getBindingInfo(P);if(B&&a instanceof B.template.getMetadata().getClass()){return b.getId();}else{return n(b);}}return null;}
function o(a,b){var r=[];for(var i=0,l=a.length;i<l;i++){for(var j=0,s=b.length;j<s;j++){if(a[i]===b[j]){r.push(a[i]);}}}return r;}
function p(a,b){e=[];_=b;f[_.type].setScope();return{getElements:function(i){var t=this;var j={"type":null,"public":false,"cloned":true};if(i&&Object.keys(i).length){var l=e;var r={};Object.keys(j).forEach(function(q){if(i.hasOwnProperty(q)){switch(q){case"type":var s=t.getElementsByClassName(i["type"]);l=o(l,s);break;case"public":if(i["public"]===true){var u=t.getPublicElements();l=o(l,u);}break;case"cloned":if(!i["cloned"]){l=l.filter(function(v){var I=m(v);if(I){var w=n(v);if(!r.hasOwnProperty(w)){r[w]=v;}}return(I===false);});}break;}}});Object.keys(r).forEach(function(R){l.push(r[R]);});return l;}return e;},getPublicElements:function(){var P=[];var u=a.mUIAreas;C.registry.forEach(function(j){P=P.concat(k(j));});for(var i in u){P=P.concat(k(u[i]));}return P;},getElementsByClassName:function(i){if(typeof i==="string"){return e.filter(function(j){return j.getMetadata().getName()===i;});}if(typeof i==="function"){return e.filter(function(j){return j instanceof i;});}},getLoggedObjects:function(t){var l=L.getLogEntries(),i=[],j;l.forEach(function(q){if(!q.supportInfo){return;}if(!j){j=e.map(function(v){return v.getId();});}var r=!!q.supportInfo.elementId,s=q.supportInfo.type===t||t===undefined,u=!r||j.indexOf(q.supportInfo.elementId)>-1;if(typeof t==="function"&&t(q)&&u){i.push(q);return;}if(s&&u){i.push(q);}});return i;},getType:function(){return _.type;},_getContext:function(){return _;}};}
p.possibleScopes=Object.getOwnPropertyNames(f);return p;},true);
sap.ui.predefine('sap/ui/support/supportRules/History',["sap/ui/support/library","sap/ui/support/supportRules/IssueManager","sap/ui/support/supportRules/RuleSetLoader","sap/ui/support/supportRules/report/StringHistoryFormatter","sap/ui/support/supportRules/report/AbapHistoryFormatter"],function(l,I,R,S,A){"use strict";var _=[];var a=function(r,f){var o=null;if(r.rulePreset){o={id:r.rulePreset.id,title:r.rulePreset.title,description:r.rulePreset.description,dateExported:r.rulePreset.dateExported};}return{loadedLibraries:{},analysisInfo:{duration:r.analysisDuration,date:r.date,executionScope:r.scope.executionScope,rulePreset:o},analysisMetadata:r.analysisMetadata,applicationInfo:r.application,technicalInfo:r.technical,totalIssuesCount:0,issues:r.onlyIssues};};var b=function(t,L,r){t.loadedLibraries[L]={};var o=t.loadedLibraries[L];o["rules"]={};o["issueCount"]=r.rules[L].issueCount;o["allRulesSelected"]=true;t.totalIssuesCount+=r.rules[L].issueCount;};var c=function(t,L,r,o){var e=o.rules[L][r];t.loadedLibraries[L]["rules"][r]={id:r,library:L,name:e.title,selected:e.selected,issuesCount:e.issueCount,issues:d(o,L,r),resolution:e.resolution,minVersion:e.minversion,categories:e.categories,audiences:e.audiences,description:e.description};if(e.selected===false){t.loadedLibraries[L]["allRulesSelected"]=false;}};var d=function(r,L,s){var i=[];if(r.issues[L]&&r.issues[L][s]){r.issues[L][s].forEach(function(o){var m={"context":o.context,"details":o.details,"name":o.name,"severity":o.severity};i.push(m);});}return i;};var H={getRuns:function(){return _.slice();},saveAnalysis:function(C){var i=I.groupIssues(I.getIssuesModel()),e=I.getIssues(),r=R.getRuleSets(),s=C._oSelectedRulesIds,o=C._oSelectedRulePreset;_.push({date:new Date().toUTCString(),issues:i,onlyIssues:e,application:C._oDataCollector.getAppInfo(),technical:C._oDataCollector.getTechInfoJSON(),rules:I.getRulesViewModel(r,s,i),rulePreset:o,scope:{executionScope:{type:C._oExecutionScope.getType(),selectors:C._oExecutionScope._getContext().parentId||C._oExecutionScope._getContext().components}},analysisDuration:C._oAnalyzer.getElapsedTimeString(),analysisMetadata:C._oAnalysisMetadata||null});},clearHistory:function(){_=[];},getHistory:function(){var o=[];_.forEach(function(r){var t=a(r);for(var L in r.rules){b(t,L,r);for(var s in r.rules[L]){c(t,L,s,r);}}o.push(t);});return o;},getFormattedHistory:function(f){var F,h=this.getHistory();switch(f){case l.HistoryFormats.Abap:F=A.format(h);break;default:F=S.format(h);}return F;}};return H;},true);
sap.ui.predefine('sap/ui/support/supportRules/IssueManager',["sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/support/library","sap/ui/support/supportRules/Constants"],function(d,B,l,c){"use strict";var _=[];var a=function(i){var e=sap.ui.getCore().byId(i.context.id),f="";if(i.context.id==="WEBPAGE"){f="sap.ui.core";}else if(e){f=e.getMetadata().getName();}return{severity:i.severity,name:i.rule.title,description:i.rule.description,resolution:i.rule.resolution,resolutionUrls:i.rule.resolutionurls,audiences:i.rule.audiences,categories:i.rule.categories,details:i.details,ruleLibName:i.rule.libName,ruleId:i.rule.id,async:i.rule.async===true,minVersion:i.rule.minversion,context:{className:f,id:i.context.id}};};var I={addIssue:function(i){_.push(i);},walkIssues:function(C){_.forEach(C);},clearIssues:function(){_=[];},getIssues:function(){return _.slice();},getIssuesModel:function(){var v=[];this.walkIssues(function(i){v.push(a(i));});return v;},getRulesViewModel:function(r,s,i){var e={},f=0,g={},l={},h={},j=d({},r),k=d({},i);for(g in j){e[g]=d({},j[g].ruleset._mRules);l=e[g];Object.defineProperty(l,'selected',{enumerable:false,configurable:true,writable:true,value:false});Object.defineProperty(l,'issueCount',{enumerable:false,configurable:true,writable:true,value:0});for(h in j[g].ruleset._mRules){l[h]=d([],l[h]);Object.defineProperty(l[h],'selected',{enumerable:false,configurable:true,writable:true,value:false});Object.defineProperty(l[h],'issueCount',{enumerable:false,configurable:true,writable:true,value:0});if(s[h]){l[h].selected=true;l.selected=true;}if(k[g]&&k[g][h]){l[h].push.apply(l[h],k[g][h]);f=k[g][h].length;l[h].issueCount=f;l.issueCount+=f;}}}return e;},getTreeTableViewModel:function(r){var i=0,t={},e,f,g=[];e=this.getRulesViewModel(r,[],[]);for(var h in e){t[i]={name:h,id:h+" "+i,selected:true,type:"lib",nodes:g};for(var j in e[h]){f=e[h][j];g.push({name:f.title,description:f.description,id:f.id,audiences:f.audiences.toString(),categories:f.categories.toString(),minversion:f.minversion,resolution:f.resolution,title:f.title,libName:h,selected:true});}g=[];i++;}return t;},getIssuesViewModel:function(i){var t={},e=0,f=0,g=0,s,h=0,m=0,L=0;for(var j in i){t[e]={name:j,showAudiences:false,showCategories:false,type:"lib"};for(var r in i[j]){s=this._sortSeverityIssuesByPriority(i[j][r]);t[e][f]={formattedName:this._getFormattedName({name:i[j][r][0].name,highCount:s.high,mediumCount:s.medium,lowCount:s.low,highName:'H',mediumName:'M',lowName:'L'}),name:i[j][r][0].name,showAudiences:true,showCategories:true,categories:i[j][r][0].categories.join(", "),audiences:i[j][r][0].audiences.join(", "),issueCount:i[j][r].length,description:i[j][r][0].description,resolution:i[j][r][0].resolution,type:"rule",ruleLibName:i[j][r][0].ruleLibName,ruleId:i[j][r][0].ruleId,selected:i[j][r][0].selected,details:i[j][r][0].details,severity:i[j][r][0].severity};g+=i[j][r].length;f++;h+=s.high;m+=s.medium;L+=s.low;}t[e].formattedName=this._getFormattedName({name:t[e].name,highCount:h,mediumCount:m,lowCount:L,highName:'High',mediumName:'Medium',lowName:'Low'});t[e].name+=" ("+g+" issues)";t[e].issueCount=g;g=0;f=0;e++;h=0;m=0;L=0;}return t;},_getFormattedName:function(v){var h="",m="",L="";if(v.highCount>0){h="issueSeverityHigh";}if(v.mediumCount>0){m="issueSeverityMedium";}if(v.lowCount>0){L="issueSeverityLow";}return v.name+" (<span class=\""+h+"\"> "+v.highCount+" "+v.highName+", </span> "+"<span class=\""+m+"\"> "+v.mediumCount+" "+v.mediumName+", </span> "+"<span class=\""+L+"\"> "+v.lowCount+" "+v.lowName+"</span> )";},_sortSeverityIssuesByPriority:function(i){var h=0,m=0,L=0;i.forEach(function(e){switch(e.severity){case c.SUPPORT_ASSISTANT_ISSUE_SEVERITY_LOW:L++;break;case c.SUPPORT_ASSISTANT_ISSUE_SEVERITY_MEDIUM:m++;break;case c.SUPPORT_ASSISTANT_ISSUE_SEVERITY_HIGH:h++;break;}});return{high:h,medium:m,low:L};},convertToViewModel:function(o){var v=[];for(var i=0;i<o.length;i++){v.push(a(o[i]));}return v;},groupIssues:function(o){var g={},e={};for(var i=0;i<o.length;i++){e=o[i];if(!g[e.ruleLibName]){g[e.ruleLibName]={};}if(!g[e.ruleLibName][e.ruleId]){g[e.ruleLibName][e.ruleId]=[];}g[e.ruleLibName][e.ruleId].push(e);}return g;},createIssueManagerFacade:function(r){return new b(r);}};var b=function(r){this.oRule=r;};
b.prototype.addIssue=function(i){i.rule=this.oRule;if(!l.Severity[i.severity]){throw"The issue from rule "+this.oRule.title+" does not have proper severity defined. Allowed values can be found"+"in sap.ui.support.Severity";}if(!i.context||!i.context.id){throw"The issue from rule '"+this.oRule.title+"' should provide a context id.";}if(!i.details){throw"The issue from rule '"+this.oRule.title+"' should provide details for the generated issue.";}I.addIssue(i);};
return I;},true);
sap.ui.predefine('sap/ui/support/supportRules/Main',["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Element","sap/ui/core/Component","sap/ui/support/supportRules/Analyzer","sap/ui/support/supportRules/CoreFacade","sap/ui/support/supportRules/ExecutionScope","sap/ui/support/supportRules/ui/external/Highlighter","sap/ui/support/supportRules/CommunicationBus","sap/ui/support/supportRules/IssueManager","sap/ui/support/supportRules/History","sap/ui/support/supportRules/report/DataCollector","sap/ui/support/supportRules/WCBChannels","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/RuleSetLoader","sap/ui/support/supportRules/RuleSerializer","sap/ui/support/library"],function(L,M,E,C,A,a,b,H,c,I,d,D,f,g,R,h,l){"use strict";var j=null;var m=null;var o=new H(g.HIGHLIGHTER_ID);
var k=M.extend("sap.ui.support.Main",{constructor:function(){if(!m){this._oCore=null;this._oAnalyzer=new A();this._oAnalyzer.onNotifyProgress=function(i){c.publish(f.ON_PROGRESS_UPDATE,{currentProgress:i});};M.apply(this,arguments);var e=document.createEvent("CustomEvent");e.initCustomEvent("supportToolLoaded",true,true,{});}else{L.warning("Only one support tool allowed");return m;}}});
k.prototype._isInIframe=function(){try{return window.self!==window.top;}catch(e){return true;}};
k.prototype.startPlugin=function(s){if(this._pluginStarted){return;}this._pluginStarted=true;var t=this;sap.ui.getCore().registerPlugin({startPlugin:function(e){t._supportModeConfig=s=s||e.getConfiguration().getSupportMode();c.bSilentMode=s.indexOf("silent")>-1;t._setCommunicationSubscriptions();var F=t._isInIframe()&&s.indexOf("frame-force-ui")!==-1;t._oCore=e;t._oDataCollector=new D(e);t._oCoreFacade=a(e);t._oExecutionScope=null;t._createElementSpies();e.attachLibraryChanged(R._onLibraryChanged);if(!s||s.indexOf("silent")===-1||F){sap.ui.require(["sap/ui/support/supportRules/ui/IFrameController"],function(i){j=i;j.injectFrame(s);c.allowFrame(j.getCommunicationInfo());});}else{R.updateRuleSets(function(){t.fireEvent("ready");});}},stopPlugin:function(){j._stop();t._pluginStarted=false;t._oCore=null;t._oCoreFacade=null;t._oDataCollector=null;t._oExecutionScope=null;}});};
k.prototype._createElementSpies=function(){var t=this,n=500;this._fnDirtyTimeoutHandle=null;var s=function(N){var e=E.prototype[N];E.prototype[N]=function(){e.apply(this,arguments);clearTimeout(t._fnDirtyTimeoutHandle);t._fnDirtyTimeoutHandle=setTimeout(function(){c.publish(f.ON_CORE_STATE_CHANGE);},n);};};s("register");s("deregister");};
k.prototype._setCommunicationSubscriptions=function(){c.subscribe(f.VERIFY_CREATE_RULE,function(t){var T=h.deserialize(t),e=R.getRuleSet(g.TEMP_RULESETS_NAME).ruleset,r=e.addRule(T);c.publish(f.VERIFY_RULE_CREATE_RESULT,{result:r,newRule:h.serialize(T)});},this);c.subscribe(f.VERIFY_UPDATE_RULE,function(e){var t=h.deserialize(e.updateObj),T=R.getRuleSet(g.TEMP_RULESETS_NAME).ruleset,r=T.updateRule(e.oldId,t);c.publish(f.VERIFY_RULE_UPDATE_RESULT,{result:r,updateRule:h.serialize(t)});},this);c.subscribe(f.DELETE_RULE,function(e){var t=h.deserialize(e),T=R.getRuleSet(g.TEMP_RULESETS_NAME).ruleset;T.removeRule(t);},this);c.subscribe(f.OPEN_URL,function(u){var w=window.open(u,"_blank");w.opener=null;w.focus();},this);c.subscribe(f.ON_DOWNLOAD_REPORT_REQUEST,function(r){var e=this._getReportData(r);sap.ui.require(["sap/ui/support/supportRules/report/ReportProvider"],function(i){i.downloadReportZip(e);});},this);c.subscribe(f.HIGHLIGHT_ELEMENT,function(i){var $=sap.ui.getCore().byId(i).$();$.css("background-color","red");},this);c.subscribe(f.TREE_ELEMENT_MOUSE_ENTER,function(e){o.highlight(e);},this);c.subscribe(f.TREE_ELEMENT_MOUSE_OUT,function(){o.hideHighLighter();},this);c.subscribe(f.TOGGLE_FRAME_HIDDEN,function(e){j.toggleHide(e);},this);c.subscribe(f.POST_UI_INFORMATION,function(e){this._oDataCollector.setSupportAssistantLocation(e.location);this._oDataCollector.setSupportAssistantVersion(e.version);},this);c.subscribe(f.GET_AVAILABLE_COMPONENTS,function(){c.publish(f.POST_AVAILABLE_COMPONENTS,Object.keys(C.registry.all()));},this);c.subscribe(f.ON_ANALYZE_REQUEST,function(e){this.analyze(e.executionContext,e.rulePreset);},this);c.subscribe(f.ON_INIT_ANALYSIS_CTRL,function(){R.updateRuleSets(function(){c.publish(f.POST_APPLICATION_INFORMATION,{versionInfo:sap.ui.getVersionInfo()});this.fireEvent("ready");}.bind(this));},this);c.subscribe(f.ON_SHOW_REPORT_REQUEST,function(r){var e=this._getReportData(r);sap.ui.require(["sap/ui/support/supportRules/report/ReportProvider"],function(i){i.openReport(e);});},this);c.subscribe(f.LOAD_RULESETS,function(e){R.loadAdditionalRuleSets(e.aLibNames);},this);c.subscribe(f.REQUEST_RULES_MODEL,function(e){if(e){c.publish(f.GET_RULES_MODEL,I.getTreeTableViewModel(e));}},this);c.subscribe(f.REQUEST_ISSUES,function(i){if(i){var e=I.groupIssues(i),n=I.getIssuesViewModel(e);c.publish(f.GET_ISSUES,{groupedIssues:e,issuesModel:n});}},this);c.subscribe(f.GET_NON_LOADED_RULE_SETS,function(e){R.fetchNonLoadedRuleSets(e.loadedRulesets);},this);};
k.prototype.analyze=function(e,p,i){var t=this;if(this._oAnalyzer&&this._oAnalyzer.running()){return;}if(typeof p==="string"){p=l.SystemPresets[p];if(!p){L.error("System preset ID is not valid");return;}}e=e||{type:"global"};if(i){this._oAnalysisMetadata=JSON.parse(JSON.stringify(i));}else{this._oAnalysisMetadata=null;}var r;if(p&&p.selections){this._oSelectedRulePreset=p;r=p.selections;if(!p.id||!p.title){L.error("The preset must have an ID and a title");return;}}else{this._oSelectedRulePreset=null;r=p;}r=r||R.getAllRuleDescriptors();if(!this._isExecutionScopeValid(e)){c.publish(f.POST_MESSAGE,{message:"Set a valid element ID."});return;}c.publish(f.ON_ANALYZE_STARTED);if(e.selectors){this._mapExecutionScope(e);}this._oAnalyzer.reset();this.setExecutionScope(e);I.clearIssues();this._setSelectedRules(r);return this._oAnalyzer.start(this._aSelectedRules,this._oCoreFacade,this._oExecutionScope).then(function(){t._done();});};
k.prototype._isExecutionScopeValid=function(e){var n=sap.ui.getCore(),s=[],p=false,i;if(b.possibleScopes.indexOf(e.type)===-1){L.error("Invalid execution scope type. Type must be one of the following: "+b.possibleScopes.join(", "));return false;}if(e.type==="subtree"){if(e.parentId){s.push(e.parentId);}else if(Array.isArray(e.selectors)){s=s.concat(e.selectors);}else if(e.selectors){s.push(e.selectors);}for(i=0;i<s.length;i++){if(n.byId(s[i])){p=true;break;}}if(!p){return false;}}return true;};
k.prototype.setExecutionScope=function(s){this._oExecutionScope=b(this._oCore,s);};
k.prototype._setSelectedRules=function(r){this._aSelectedRules=[];this._oSelectedRulesIds={};if(!r){return;}if(!Array.isArray(r)){r=[r];}r.forEach(function(e){var i,n;if(!e.libName||!e.ruleId){L.error("["+g.SUPPORT_ASSISTANT_NAME+"] Invalid Rule Descriptor.");return;}i=R.getRuleSet(e.libName);if(!i||!i.ruleset){L.error("["+g.SUPPORT_ASSISTANT_NAME+"] Could not find Ruleset for library "+e.libName);return;}n=i.ruleset.getRules();if(!n||!n[e.ruleId]){L.error("["+g.SUPPORT_ASSISTANT_NAME+"] Could not find Rule with id "+e.ruleId+" for library "+e.libName);return;}this._aSelectedRules.push(n[e.ruleId]);this._oSelectedRulesIds[e.ruleId]=true;},this);};
k.prototype._mapExecutionScope=function(e){if(e.type==="subtree"){if(typeof e.selectors==="string"){e.parentId=e.selectors;}else if(Array.isArray(e.selectors)){e.parentId=e.selectors[0];}}else if(e.type==="components"){if(typeof e.selectors==="string"){e.components=[e.selectors];}else if(Array.isArray(e.selectors)){e.components=e.selectors;}}delete e.selectors;};
k.prototype._done=function(){c.publish(f.ON_ANALYZE_FINISH,{issues:I.getIssuesModel(),elementTree:this._createElementTree(),elapsedTime:this._oAnalyzer.getElapsedTimeString()});d.saveAnalysis(this);};
k.prototype._createElementTree=function(){var e=this._copyElementsStructure(),n=[];this._setContextElementReferences(e);for(var i in e){if(e[i].skip){continue;}n.push(e[i]);}return[{content:n,id:"WEBPAGE",name:"WEBPAGE"}];};
k.prototype._setContextElementReferences=function(e){var i=E.registry.all();for(var n in e){var p=e[n],q=i[n]==undefined?undefined:i[n].getParent();if(i[n]instanceof sap.ui.core.ComponentContainer){var r=i[n],s=r.getComponent();if(s){p.content.push(e[s]);e[s].skip=true;}}if(q){var t=q.getId();if(!e[t]){continue;}e[t].content.push(e[n]);e[n].skip=true;}}};
k.prototype._copyElementsStructure=function(){var e={};var n=function(r,s){for(var i in r){if(Object.prototype.hasOwnProperty.call(r,i)){var t=r[i];var u={content:[],id:t.getId(),name:(s==undefined)?t.getMetadata().getName():s};e[t.getId()]=u;}}};n(this._oExecutionScope.getElements());this._oExecutionScope.getElements().forEach(function(i){if(i instanceof sap.ui.core.ComponentContainer){var r=i.getComponent(),s=C.registry.get(r);if(s){n([s],"sap-ui-component");}}});switch(this._oExecutionScope.getType()){case"global":n(this._oCoreFacade.getUIAreas(),"sap-ui-area");n(this._oCoreFacade.getComponents(),"sap-ui-component");break;case"subtree":var p=this._oExecutionScope._getContext().parentId;n([E.registry.get(p)]);break;case"components":var q=this._oExecutionScope._getContext().components;q.forEach(function(i){n([C.registry.get(i)],"sap-ui-component");});break;}return e;};
k.prototype._getReportData=function(r){var i=I.groupIssues(I.getIssuesModel()),e=R.getRuleSets(),s=this._oSelectedRulesIds,S=this._oSelectedRulePreset||null;return{issues:i,technical:this._oDataCollector.getTechInfoJSON(),application:this._oDataCollector.getAppInfo(),rules:I.getRulesViewModel(e,s,i),rulePreset:S,scope:{executionScope:this._oExecutionScope,scopeDisplaySettings:{executionScopes:r.executionScopes,executionScopeTitle:r.executionScopeTitle}},analysisDuration:this._oAnalyzer.getElapsedTimeString(),analysisDurationTitle:r.analysisDurationTitle,abap:d.getFormattedHistory(l.HistoryFormats.Abap),name:g.SUPPORT_ASSISTANT_NAME};};
k.prototype.getAnalysisHistory=function(){if(this._oAnalyzer.running()){return null;}return d.getHistory();};
k.prototype.getFormattedAnalysisHistory=function(F){if(this._oAnalyzer.running()){return"";}return d.getFormattedHistory(F);};
k.prototype.getLastAnalysisHistory=function(){var e=this.getAnalysisHistory();if(Array.isArray(e)&&e.length>0){return e[e.length-1];}else{return null;}};
k.prototype.addRule=function(r){if(!r){return"No rule provided.";}r.selected=r.selected!==undefined?r.selected:true;r.async=r.async||false;var s=R.getRuleSet(g.TEMP_RULESETS_NAME).ruleset.addRule(r);c.publish(f.VERIFY_RULE_CREATE_RESULT,{result:s,newRule:h.serialize(r)});return s;};
var m=new k();return m;},true);
sap.ui.predefine('sap/ui/support/supportRules/RuleSerializer',["./util/EvalUtils"],function(E){"use strict";return{serialize:function s(r){var a=function(k,v){if(typeof v==="function"){return v.toString();}else{return v;}};var b=JSON.stringify(r,a);return b;},deserialize:function(s,a){var r;if(typeof s==='string'){r=JSON.parse(s);}else{r=s;}if(!a&&r.check!==undefined){r.check=E.evalFunction(r.check);}return r;}};},true);
sap.ui.predefine('sap/ui/support/supportRules/RuleSet',["sap/base/Log","sap/base/util/Version","sap/ui/support/library","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/Constants"],function(L,V,l,s,c){"use strict";var r={};var R=function(S){S=S||{};if(!S.name){L.error("Please provide a name for the RuleSet.");}if(r[S.name]){return r[S.name];}this._oSettings=S;this._mRules={};r[S.name]=this;};
R.clearAllRuleSets=function(){r={};};
R.prototype.getRules=function(){return this._mRules;};
R.prototype.updateRule=function(a,O){var b=this._verifySettingsObject(O,true);if(b==="success"){delete this._mRules[a];this._mRules[O.id]=O;}return b;};
R.prototype._verifySettingsObject=function(S,u){if(!S.id){L.error("Support rule needs an id.");return"Support rule needs an unique id.";}if(!u&&this._mRules[S.id]){L.error("Support rule with the id "+S.id+" already exists.");return"Support rule with the id "+S.id+" already exists.";}if(!S.check){L.error("Support rule with the id "+S.id+" needs a check function.");return"Support rule with the id "+S.id+" needs a check function.";}if(!S.title){L.error("Support rule with the id "+S.id+" needs a title.");return"Support rule with the id "+S.id+" needs a title.";}if(!S.description){L.error("Support rule with the id "+S.id+" needs a description.");return"Support rule with the id "+S.id+" needs a description.";}if(!S.resolution&&(!S.resolutionurls||S.resolutionurls.length===0)){L.error("Support rule with the id "+S.id+" needs either a resolution or resolutionurls or should have a ticket handler function");return"Support rule with the id "+S.id+" needs either a resolution or resolutionurls or should have a ticket handler function";}if(!S.audiences||S.audiences.length===0){L.error("Support rule with the id "+S.id+" should have an audience. Applying audience ['Control']");S.audiences=[l.Audiences.Control];}if(S.audiences&&S.audiences.forEach){var i=false,a="";S.audiences.forEach(function(b){if(!l.Audiences[b]){i=true;a=b;}});if(i){L.error("Audience "+a+" does not exist. Please use the audiences from sap.ui.support.Audiences");return"Audience "+a+" does not exist. Please use the audiences from sap.ui.support.Audiences";}}if(!S.categories||S.categories.length===0){L.error("Support rule with the id "+S.id+" should have a category. Applying category ['Performance']");S.categories=["Performance"];}if(S.categories&&S.categories.forEach){var I=false,C="";S.categories.forEach(function(b){if(!l.Categories[b]){I=true;C=b;}});if(I){L.error("Category "+C+" does not exist. Please use the categories from sap.ui.support.Categories");return"Category "+C+" does not exist. Please use the categories from sap.ui.support.Categories";}}return"success";};
R.prototype.addRule=function(S,v){var C=R.versionInfo?R.versionInfo.version:v.version;var a=S.minversion?S.minversion:'';if(a==='-'){a='';}if(a&&V(C).compareTo(a)<0){return"Rule "+S.id+" should be used with a version >= "+S.minversion;}var b=this._verifySettingsObject(S);if(b==="success"){this._mRules[S.id]=S;S.libName=this._oSettings.name;}return b;};
R.prototype.removeRule=function(o){if(this._mRules[o.id]){delete this._mRules[o.id];}};
R.storeSelectionOfRules=function(a){var b=R._extractRulesSettingsToSave(a);s.setSelectedRules(b);};
R.loadSelectionOfRules=function(a){var b=s.getSelectedRules();if(!b){return;}for(var i=0;i<a.length;i+=1){var d=a[i].rules;var e=a[i].title;for(var f=0;f<d.length;f+=1){if(b[e]&&b[e].hasOwnProperty(d[f].id)){d[f].selected=b[e][d[f].id].selected;}}}};
R._extractRulesSettingsToSave=function(a){var o={};var b;var d=a.length;var e;var f;var g;for(var h=0;h<d;h+=1){f=a[h].title;o[f]={};b=a[h].rules;e=b.length;for(var i=0;i<e;i+=1){g={};g.id=b[i].id;g.selected=b[i].selected;o[f][g.id]=g;}}return o;};
return R;},true);
sap.ui.predefine('sap/ui/support/supportRules/RuleSetLoader',["sap/base/Log","sap/base/util/extend","sap/base/util/ObjectPath","sap/ui/VersionInfo","sap/ui/support/supportRules/RuleSet","sap/ui/support/supportRules/CommunicationBus","sap/ui/support/supportRules/WCBChannels","sap/ui/support/supportRules/RuleSerializer","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/util/EvalUtils","sap/ui/support/supportRules/util/Utils","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI"],function(L,b,O,V,R,C,c,d,f,E,U,q,g){"use strict";var h=(function(){var a;return function(u){if(!a){a=document.createElement('a');}a.href=u;return a.href.replace(/\/$/,'');};})();var s="sprt";var S=sap.ui.require.toUrl("sap/ui/support");var j=S.replace('/sap/ui/support','');var A=h(j);var l={};l._mRuleSets={};
l.getRuleSets=function(){return this._mRuleSets;};
l.addRuleSet=function(a,r){this._mRuleSets[a]=r;};
l.getRuleSet=function(a){return this._mRuleSets[a];};
l._fetchSupportRuleSets=function(r,m){var t=this,a=m||sap.ui.getCore().getLoadedLibraries(),o=this._fetchLibraryNamesWithSupportRules(a);var M=new Promise(function(e){V.load({library:"sap.ui.core"}).then(function(i){R.versionInfo=i;o.then(function(k){var n=t._fetchLibraryFiles(k,l._fetchRuleSet);Promise.all(n).then(function(){t._bRulesCreated=true;C.publish(c.UPDATE_SUPPORT_RULES,{sRuleSet:d.serialize(t._mRuleSets),oVersionInfo:R.versionInfo});e();if(r&&typeof r==="function"){r();}});});});});return M;};
l.loadAdditionalRuleSets=function(a){var t=this,e=t._fetchLibraryFiles(a,t._fetchRuleSet);Promise.all(e).then(function(){t._bRulesCreated=true;C.publish(c.UPDATE_SUPPORT_RULES,{sRuleSet:d.serialize(t._mRuleSets)});});};
l._fetchLibraryNamesWithSupportRules=function(o){return new Promise(function(m){U.canLoadInternalRulesAsync().then(function(a){var e={publicRules:[],internalRules:[],allRules:[]};o=o||{};var i=[];Object.keys(o).forEach(function(k){var M=new Promise(function(r){var n=A+"/"+k.replace(/\./g,'/')+"/.supportrc";q.ajax({type:"GET",dataType:"json",url:n,success:function(p){r({lib:k,rcData:p});},error:function(){r({lib:k,rcData:null});}});});i.push(M);});Promise.all(i).then(function(k){k.forEach(function(n){if(n.rcData){var H=false;if(n.rcData.publicRules){e.publicRules.push(n.lib);H=true;}if(a&&n.rcData.internalRules){e.internalRules.push(n.lib);H=true;}if(H&&e.allRules.indexOf(n.lib)<0){e.allRules.push(n.lib);}}m(e);});});});});};
l._fetchLibraryFiles=function(a,p,e){var i=[],t=this,k=sap.ui.require.toUrl("sap/ui/support"),m=k.replace("sap/ui/support",""),n=U.canLoadInternalRules(),H=n&&a.internalRules.length>0,P=0,r=a.publicRules.length;var o=sap.ui.getCore().getConfiguration().getSupportMode();var u=o&&o.indexOf("silent")>-1;if(H){r+=a.internalRules.length;}function v(){P+=1;var w=Math.ceil((P/r)*100);C.publish(c.CURRENT_LOADING_PROGRESS,{value:w});}if(a.publicRules.length>0){a.publicRules.forEach(function(w){var x=t._registerLibraryPath(w,k,m);if(x){var y=t._requireRuleSet(x.customizableLibName,p);if(!u&&!e){y.then(function(){v();});}i.push(y);}});}if(n&&a.internalRules.length>0){a.internalRules.forEach(function(w){var x=t._registerLibraryPath(w,k,m);if(x){var y=t._requireRuleSet(x.internalLibName,p);if(!u&&!e){y.then(function(){v();});}i.push(y);}});}return i;};
l._registerLibraryPath=function(a,e,i){if(this._mRuleSets[a]){return null;}var k=a.replace(/\./g,"/");var m=k;var n=this._getLoadFromSupportOrigin();var p={};if(n){m+='/'+s;p[m]=i+k;}var o=m+'/internal';var r=i.replace('resources/','')+'test-resources/'+k+'/internal';p[o]=r;sap.ui.loader.config({paths:p});return{internalLibName:o.replace(/\//g,"."),customizableLibName:m.replace(/\//g,".")};};
l._requireRuleSet=function(a,p){var t=this;return new Promise(function(r){try{sap.ui.require([a.replace(/\./g,"/")+"/library.support"],function(){p.call(t,a);r();},r);}catch(e){r();}});};
l._fetchRuleSet=function(a){try{var n,o,i,k=O.get(a).library.support;if(!k){throw"The library.support file was not fetched successfully.";}n=a.replace("."+s,"").replace(".internal","");o=b({},k);i=this._mRuleSets[n];if(!(o.ruleset instanceof R)){o=this._createRuleSet(o);}if(i){i.ruleset._mRules=b(i.ruleset._mRules,o.ruleset._mRules);}else{i=o;}this._mRuleSets[n]=i;}catch(e){L.error("["+f.SUPPORT_ASSISTANT_NAME+"] Failed to load RuleSet for "+a+" library",e);}};
l._getLoadFromSupportOrigin=function(){var a=false;var e=new g(sap.ui.require.toUrl("sap/ui/core"));var i=new g(sap.ui.require.toUrl("sap/ui/support"));if(e.protocol()!==i.protocol()||e.host()!==i.host()){a=true;}return a;};
l.fetchNonLoadedRuleSets=function(a){var n=[],o={};sap.ui.getVersionInfo().libraries.forEach(function(e){o[e.name]=e;});this._fetchLibraryNamesWithSupportRules(o).then(function(e){e.allRules.forEach(function(i){if(a.indexOf(i)<0){n.push(i);}});C.publish(c.POST_AVAILABLE_LIBRARIES,{libNames:n});});};
l._onLibraryChanged=function(e){var t=this;if(e.getParameter("stereotype")==="library"&&l._bRulesCreated){t._oMainPromise=l._fetchSupportRuleSets();}};
l.updateRuleSets=function(r){this._oMainPromise=l._fetchSupportRuleSets(r);};
l._createRuleSet=function(o){var a={name:o.name,niceName:o.niceName};var r=new R(a);for(var i=0;i<o.ruleset.length;i++){var e=o.ruleset[i];if(Array.isArray(e)){for(var k=0;k<e.length;k++){r.addRule(e[k]);}}else{r.addRule(e);}}return{lib:a,ruleset:r};};
l.getAllRules=function(){var r={};Object.keys(this._mRuleSets).map(function(a){r=b(r,this._mRuleSets[a].ruleset.getRules());},this);return r;};
l.getAllRuleDescriptors=function(){var r=this.getAllRules();return Object.keys(r).map(function(a){return{libName:r[a].libName,ruleId:a};});};
if(E.isEvalAllowed()){l.addRuleSet(f.TEMP_RULESETS_NAME,{lib:{name:f.TEMP_RULESETS_NAME},ruleset:new R({name:f.TEMP_RULESETS_NAME})});}return l;},true);
sap.ui.predefine('sap/ui/support/supportRules/Storage',["sap/ui/support/supportRules/RuleSerializer","sap/ui/support/supportRules/Constants"],function(R,C){"use strict";
function e(D){return window.btoa(unescape(encodeURIComponent(D)));}
function d(D){return decodeURIComponent(escape(window.atob(D)));}
var _=localStorage,a={get cookie(){return document.cookie;},set cookie(v){document.cookie=v;}};return{getRules:function(){var t=[],r;try{r=_.getItem(C.LOCAL_STORAGE_TEMP_RULES_KEY);if(!r){return null;}t=JSON.parse(d(r));t=t.map(function(b){return R.deserialize(b,true);});}catch(E){}return t;},setRules:function(r){var s=e(JSON.stringify(r));_.setItem(C.LOCAL_STORAGE_TEMP_RULES_KEY,s);},getSelectedRules:function(){var r=_.getItem(C.LOCAL_STORAGE_SELECTED_RULES_KEY);if(!r){return null;}return JSON.parse(r);},setSelectedRules:function(s){_.setItem(C.LOCAL_STORAGE_SELECTED_RULES_KEY,JSON.stringify(s));},setSelectedContext:function(s){_.setItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_KEY,JSON.stringify(s));},getSelectedContext:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_KEY));},setSelectedScopeComponents:function(c){_.setItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY,JSON.stringify(c));},getSelectedScopeComponents:function(){var c=_.getItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);return JSON.parse(c);},removeSelectedRules:function(s){this.setRules(s);},setVisibleColumns:function(v){_.setItem(C.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY,JSON.stringify(v));},getVisibleColumns:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY));},getSelectionPresets:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_SELECTION_PRESETS_KEY));},getCustomPresets:function(){return JSON.parse(_.getItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY));},setSelectionPresets:function(s){_.setItem(C.LOCAL_STORAGE_SELECTION_PRESETS_KEY,JSON.stringify(s));},setCustomPresets:function(c){_.setItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY,JSON.stringify(c));},removeAllData:function(){_.removeItem(C.LOCAL_STORAGE_TEMP_RULES_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_RULES_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY);_.removeItem(C.LOCAL_STORAGE_SELECTION_PRESETS_KEY);_.removeItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY);_.removeItem(C.LOCAL_STORAGE_CUSTOM_PRESETS_KEY);_.removeItem(C.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED);},createPersistenceCookie:function(c,s){a.cookie=c+"="+s;},readPersistenceCookie:function(s){var n=s+"=",b=decodeURIComponent(a.cookie),f=b.split(';'),o="";for(var i=0;i<f.length;i++){var c=f[i];while(c.charAt(0)==' '){c=c.substring(1);}if(c.indexOf(n)==0){o=c.substring(n.length,c.length);return o;}}return o;},deletePersistenceCookie:function(c){a.cookie=c+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';},markTempRulesDisabledWarned:function(){_.setItem(C.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED,true);},getTempRulesDisabledWarned:function(){return _.getItem(C.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED);},_setStorage:function(s){_=s;},_getStorage:function(){return _;},_setCookieInterface:function(c){a=c;},_getCookieInterface:function(){return a;}};},true);
sap.ui.predefine('sap/ui/support/supportRules/WCBChannels',[],function(){"use strict";return{ON_CORE_STATE_CHANGE:"ON_CORE_STATE_CHANGE",ON_SHOW_REPORT_REQUEST:"ON_SHOW_REPORT_REQUEST",ON_DOWNLOAD_REPORT_REQUEST:"ON_DOWNLOAD_REPORT_REQUEST",ON_ANALYZE_REQUEST:"ON_ANALYZE_REQUEST",ON_INIT_ANALYSIS_CTRL:"ON_INIT_ANALYSIS_CTRL",ON_PROGRESS_UPDATE:"ON_PROGRESS_UPDATE",ON_ANALYZE_STARTED:"ON_ANALYZE_STARTED",ON_ANALYZE_FINISH:"ON_ANALYZE_FINISH",POST_UI_INFORMATION:"POST_UI_INFORMATION",VERIFY_CREATE_RULE:"VERIFY_CREATE_RULE",VERIFY_RULE_CREATE_RESULT:"VERIFY_RULE_CREATE_RESULT",VERIFY_UPDATE_RULE:"VERIFY_UPDATE_RULE",VERIFY_RULE_UPDATE_RESULT:"VERIFY_RULE_UPDATE_RESULT",DELETE_RULE:"DELETE_RULE",POST_APPLICATION_INFORMATION:"POST_APPLICATION_INFORMATION",POST_AVAILABLE_LIBRARIES:"POST_AVAILABLE_LIBRARIES",LOAD_RULESETS:"LOAD_RULESETS",GET_AVAILABLE_COMPONENTS:"GET_AVAILABLE_COMPONENTS",POST_AVAILABLE_COMPONENTS:"POST_AVAILABLE_COMPONENTS",HIGHLIGHT_ELEMENT:"HIGHLIGHT_ELEMENT",OPEN_URL:"OPEN_URL",TREE_ELEMENT_MOUSE_ENTER:"TREE_ELEMENT_MOUSE_ENTER",TREE_ELEMENT_MOUSE_OUT:"TREE_ELEMENT_MOUSE_OUT",UPDATE_SUPPORT_RULES:"UPDATE_SUPPORT_RULES",EXTERNAL_MODULE_UPLOADED:"EXTERNAL_MODULE_UPLOADED",TOGGLE_FRAME_HIDDEN:"TOGGLE_FRAME_HIDDEN",ENSURE_FRAME_OPENED:"ENSURE_FRAME_OPENED",RESIZE_FRAME:"RESIZE_FRAME",REQUEST_RULES_MODEL:"REQUEST_RULES_MODEL",GET_RULES_MODEL:"GET_RULES_MODEL",REQUEST_ISSUES:"REQUEST_ISSUES",GET_ISSUES:"GET_ISSUES",POST_MESSAGE:"POST_MESSAGE",GET_NON_LOADED_RULE_SETS:"GET_NON_LOADED_RULE_SETS",CURRENT_LOADING_PROGRESS:"CURRENT_LOADING_PROGRESS"};},true);
sap.ui.predefine('sap/ui/support/supportRules/WCBConfig',["sap/base/util/UriParameters","sap/ui/thirdparty/URI"],function(U,a){"use strict";var D='_unnamed_frame_-_use_message_origin_';var W=function(o){this._sModulePath=o.modulePath;this._sReceivingWindow=o.receivingWindow;if(o.uriParams){this._sURIOrigin=o.uriParams&&o.uriParams.origin;this._sURIFrameId=o.uriParams&&o.uriParams.frameId;this._sOrigin=this.getOriginURIParameter(o.uriParams.origin);}return this;};
W.prototype.getOrigin=function(){if(this._sOrigin){return this._sOrigin;}var m=new a(sap.ui.require.toUrl(this._sModulePath));var p=m.protocol()||window.location.protocol.replace(":","");var h=m.host()||window.location.host;this._sOrigin=p+"://"+h;return this._sOrigin;};
W.prototype.getFrameId=function(){return U.fromQuery(window.location.search).get(this._sURIFrameId)||D;};
W.prototype.getOriginURIParameter=function(){return U.fromQuery(window.location.search).get(this._sURIOrigin);};
W.prototype.getReceivingWindow=function(){if(window.communicationWindows&&window.communicationWindows.hasOwnProperty(this._sReceivingWindow)){return window.communicationWindows[this._sReceivingWindow];}return window.opener||window.parent;};
return W;},true);
sap.ui.predefine('sap/ui/support/supportRules/WindowCommunicationBus',["sap/ui/base/Object","sap/base/Log","sap/base/util/isEmptyObject"],function(B,L,i){"use strict";
var W=B.extend("sap.ui.support.supportRules.WindowCommunicationBus",{constructor:function(c){B.call(this);this.bSilentMode=false;this._channels={};this._frame={};this._oConfig=c;if(window.addEventListener){window.addEventListener("message",this._onmessage.bind(this),false);}else{window.attachEvent("onmessage",this._onmessage.bind(this));}}});
W.prototype.subscribe=function(c,C,o){if(this.bSilentMode){return;}this._channels[c]=this._channels[c]||[];this._channels[c].push({callback:C,context:o});};
W.prototype.publish=function(c,p){if(this.bSilentMode){return;}var r=this._oConfig.getReceivingWindow();var d={channelName:c,params:p,_frameIdentifier:this._getFrameIdentifier(),_origin:window.location.href};r.postMessage(d,this._oConfig.getOrigin());};
W.prototype.allowFrame=function(o){this._frame={origin:o.origin,identifier:o.identifier,url:o.url};};
W.prototype.destroyChannels=function(){this._channels={};};
W.prototype._onmessage=function(e){if(!this._validate(e)){L.error("Message was received but failed validation");return;}var c=this._channels[e.data.channelName]||[];c.forEach(function(a){a.callback.apply(a.context,[e.data.params]);});};
W.prototype._validate=function(e){if(i(this._frame)){return true;}var m=e.data._frameIdentifier===this._frame.identifier;var o=new RegExp("^"+this._frame.origin+"$","i");var M=o.exec(e.origin);var f=this._frame.url.indexOf("?");var F=this._frame.url.substr(0,f).replace(/\.\.\//g,"").replace(/\.\//g,"")+this._frame.url.substr(f);var b=e.data._origin.indexOf(F)>-1;return m&&M&&b;};
W.prototype._getFrameIdentifier=function(){return this._frame.identifier||this._oConfig.getFrameId();};
return W;},true);
sap.ui.predefine('sap/ui/support/supportRules/report/AbapHistoryFormatter',[],function(){"use strict";
function _(r){var R=r.analysisInfo.rulePreset,s=r.technicalInfo.sapUi5Version&&r.technicalInfo.sapUi5Version.version||null;return{loadedLibraries:[],sapUi5Version:{name:s&&s.name||"",version:s&&s.version||"",buildTimestamp:s&&s.buildTimestamp||""},rulePreset:{id:R&&R.id||"",title:R&&R.title||"",description:R&&R.description||"",dateExported:R&&R.dateExported||""},analysisMetadata:r.analysisMetadata||null};}
function a(t,l,r){t.loadedLibraries.push({id:l,rules:[],issueCount:r.loadedLibraries[l].issueCount,allRulesSelected:r.loadedLibraries[l].allRulesSelected});}
function b(t,l,r,R){var o=R.loadedLibraries[l]["rules"][r];for(var i=0;i<t.loadedLibraries.length;i++){if(t.loadedLibraries[i].id===l){t.loadedLibraries[i].rules.push({id:r,library:l,name:o.name,selected:o.selected,issuesCount:o.issuesCount,issues:o.issues,resolution:o.resolution,minVersion:o.minVersion,categories:o.categories,audiences:o.audiences,description:o.description});break;}}}
function c(t,r){var R=[];r.applicationInfo.forEach(function(A){if(A.registrationIds){if(Array.isArray(A.registrationIds)){R=R.concat(A.registrationIds);}else if(typeof A.registrationIds==="string"){R.push(A.registrationIds);}}});if(R.length){t.registrationIds=R;}}
function d(e){var o=[];e.forEach(function(r){var t=_(r);for(var l in r.loadedLibraries){a(t,l,r);for(var R in r.loadedLibraries[l].rules){b(t,l,R,r);}}c(t,r);o.push(t);});return o;}
return{format:d};},true);
sap.ui.predefine('sap/ui/support/supportRules/report/Archiver',['sap/base/Log','sap/base/util/isPlainObject','sap/ui/thirdparty/jszip','sap/ui/core/util/File'],function(L,i,J,F){"use strict";var A=function(){this._mData={};};
A.prototype.add=function(n,d,t){if(!n){L.error("Archiver: No name was given.");return false;}if(!d){L.error("Archiver: No data was given.");return false;}if(typeof d==="string"){this._mData[n]=d;return true;}else if(t){if((t==="json"||t==="har")&&(i(d)||Array.isArray(d))){try{this._mData[n]=JSON.stringify(d);return true;}catch(e){L.error("Archiver: JSON data could not be serialized for "+n);}}else{L.error("Archiver: JSON data could not be serialized for "+t+". Either the type is unknown or the data has a wrong format.");}}else{L.error("Archiver: Data could not be serialized for "+n+". Data is is not a string or has a an invalid type.");return false;}return false;};
A.prototype.download=function(f){var z=new J();if(z){for(var n in this._mData){z.file(n,this._mData[n]);}var c=z.generate({type:"blob"});F.save(c,f,"zip","application/zip");}};
A.prototype.clear=function(){this._mData={};return true;};
A.prototype.hasData=function(n){if(n!==undefined){return this._mData.hasOwnProperty(n);}return Object.keys(this._mData).length>0;};
return A;},true);
sap.ui.predefine('sap/ui/support/supportRules/report/DataCollector',["sap/base/util/LoaderExtensions",'sap/base/security/encodeXML',"sap/ui/core/Component","sap/ui/core/support/ToolsAPI","sap/ui/thirdparty/URI"],function(L,e,C,T,U){"use strict";var D=function(c){this._oCore=c;this._oSupportAssistantInfo={location:"",version:{},versionAsString:""};};
D.prototype.setSupportAssistantLocation=function(l){this._oSupportAssistantInfo.location=l;};
D.prototype.setSupportAssistantVersion=function(v){this._oSupportAssistantInfo.version=v;this._oSupportAssistantInfo.versionAsString="not available";if(v){this._oSupportAssistantInfo.versionAsString=e(v.version||"");this._oSupportAssistantInfo.versionAsString+=" (built at "+e(v.buildTimestamp||"");this._oSupportAssistantInfo.versionAsString+=", last change "+e(v.scmRevision||"")+")";}};
D.prototype.getSupportAssistantInfo=function(){return this._oSupportAssistantInfo;};
D.prototype.getAppInfo=function(){var a=[];C.registry.forEach(function(c){var s=c.getMetadata().getManifestEntry("sap.app"),S=c.getMetadata().getManifestEntry("sap.fiori");if(s){a.push(s);}if(S){a.push(S);}});return a;};
D.prototype.getTechInfoJSON=function(){var c=T.getFrameworkInformation();var t={sapUi5Version:null,version:c.commonInformation.version,build:c.commonInformation.buildTime,change:c.commonInformation.lastChange,jquery:c.commonInformation.jquery,useragent:c.commonInformation.userAgent,docmode:c.commonInformation.documentMode,debug:c.commonInformation.debugMode,bootconfig:c.configurationBootstrap,config:c.configurationComputed,libraries:c.libraries,loadedLibraries:c.loadedLibraries,modules:c.loadedModules,uriparams:c.URLParameters,appurl:c.commonInformation.applicationHREF,title:c.commonInformation.documentTitle,statistics:c.commonInformation.statistics,resourcePaths:[],themePaths:[],locationsearch:document.location.search,locationhash:document.location.hash,supportAssistant:this._oSupportAssistantInfo};var m=L.getAllRequiredModules();var r=[];for(var i=0;i<m.length;i++){r.push({moduleName:m[i],relativePath:sap.ui.require.toUrl(m[i]),absolutePath:U(sap.ui.require.toUrl(m[i])).absoluteTo(document.location.origin+document.location.pathname).toString()});}t.resourcePaths=r;var l=this._oCore.getLoadedLibraries();r=[];for(var n in l){if(n===""){continue;}var p=this._oCore._getThemePath(n,this._oCore.oConfiguration.theme);r.push({theme:this._oCore.oConfiguration.theme,library:n,relativePath:p,absolutePath:U(p).absoluteTo(document.location.origin+document.location.pathname).toString()});}t.themePaths=r;try{t.sapUi5Version={version:sap.ui.getVersionInfo(),path:sap.ui.resource("","sap-ui-version.json")};}catch(a){t.sapUi5Version=null;}return t;};
return D;},true);
sap.ui.predefine('sap/ui/support/supportRules/report/IssueRenderer',['sap/base/Log','sap/base/security/encodeXML'],function(L,e){'use strict';
function g(v){if(v){if(Array.isArray(v)){return e(v.join(', '));}else{return e(v);}}else{return'';}}
function r(f,h,j,l){var m='';var n='';var o=1;var t=0;for(var p in h){var q=h[p];t+=q.length;var s=q[0];n+='<tr id="'+j+'_rule_'+o+'" >';n+='<td>';n+='<div class="expandable-control collapsed-content" data-expandableElement="'+j+'_rule_'+o+'_content">';n+='<div class="expandable-title">'+o+'. '+g(s.name)+' <span class="rule-issue-number">('+q.length+' issues)</span></div></div>';n+='<div class="sapUiIssueGroupContent" id="'+j+'_rule_'+o+'_content">';n+='<div><span class="sapUiSupportLabel">Description: </span>'+g(s.description)+'</div>';n+='<div><span class="sapUiSupportLabel">Min version: </span>'+g(s.minVersion)+'</div>';n+='<div><span class="sapUiSupportLabel">Async: </span>'+g(s.async.toString())+'</div>';n+='<div><span class="sapUiSupportLabel">Resolution: </span>'+g(s.resolution)+'</div>';n+='<div>';if(s.resolutionUrls){for(var k=0;k<s.resolutionUrls.length;k++){n+='<div><a href="'+g(s.resolutionUrls[k].href)+'" target="_blank">'+g(s.resolutionUrls[k].text)+'</a></div>';}}n+='</div>';n+='<table class="sapUiTable"><tr><th></th><th>Element Id</th><th>Class</th><th>Status</th><th>Details</th></tr>';for(var i=0;i<q.length;i++){n+='<tr class="filterable" data-severity="'+g(q[i].severity)+'"><td>'+(i+1)+'</td><td>'+g(q[i].context.id)+'</td>';n+='<td>'+g(q[i].context.className)+'</td>';n+='<td class="'+g(q[i].severity)+'">'+g(q[i].severity)+'</td>';n+='<td>'+g(q[i].details)+'</td></tr>';}n+='</table>';n+='</div></td>';n+='<td>'+g(s.categories)+'</td>';n+='<td>'+g(s.audiences)+'</td>';n+='</tr>';o++;}var u='collapsed-content';if(l===1){u='expanded-content';}m+='<tr>';m+='<td colspan="100" class="expandable-control '+u+'" data-expandableElement="'+j+'" data-groupName="'+f+'" data-groupNumber="'+l+'">';m+='<span class="sapUiSupportLabel expandable-title">'+l+'. '+f+' ('+(o-1)+' rules, '+t+' issues)</span>';m+='</td></tr><tbody id="'+j+'">';m+=n;m+='</tbody>';return m;}
function a(f){var h='';var i=1;if(!f){return h;}try{h+='<table class="sapUiTable"><tr><th>Name</th><th>Categories</th><th>Audiences</th></tr>';for(var j in f){h+=r(j,f[j],'group'+i,i);i++;}h+='</table>';}catch(k){L.warning('There was a problem extracting issues info.');h='';}return h;}
function b(s,f,i){if(!f){return'';}var h=i?'filter-active':'';return'<div data-severity="'+s+'" class="filter '+h+' '+s+'">'+s+'('+f+')</div>'+' | ';}
function c(f){var h='',s={},j,i,t=0,k=[],l={},m={},n={};if(!f){return h;}try{for(n in f){l=f[n];for(m in l){k=l[m];for(i=0;i<k.length;i++){j=k[i].severity;if(s[j]){s[j]++;}else{s[j]=1;}t++;}}}h+=b('Total',t,true);h+=b('High',s['High'],false);h+=b('Medium',s['Medium'],false);h+=b('Low',s['Low'],false);}catch(o){L.warning('There was a problem creating severity filters.');h='';}return h;}
function d(i,f){var h='';if(f){h+='<div class="filters">'+c(i)+'<div>\n';}h+='<div>'+a(i)+'</div>';return'<div>'+h+'</div>';}
return{render:d};},true);
sap.ui.predefine('sap/ui/support/supportRules/report/ReportProvider',['sap/ui/thirdparty/jquery','sap/base/Log','sap/base/security/encodeXML','sap/base/util/isEmptyObject','sap/base/util/isPlainObject','sap/ui/support/supportRules/report/Archiver','sap/ui/support/supportRules/report/IssueRenderer'],function(q,L,e,b,c,A,I){'use strict';var r=sap.ui.require.toUrl('sap/ui/support/supportRules/report/resources');var t={line:function(a,i,v,y,z){a.push("<tr><td ",i?"align='right' ":"","valign='top'>","<label class='sapUiSupportLabel'>",e(y||""),"</label></td><td",v?" class='sapUiSupportTechInfoBorder'":"",">");var B=z;if(typeof z==="function"){B=z(a);}a.push(e(B||""));a.push("</td></tr>");},multiline:function(a,y,z,B,C){var D=this;D.line(a,y,z,B,function(a){a.push("<table border='0' cellspacing='0' cellpadding='3'>");q.each(C,function(i,v){var E="";if(v){if(typeof(v)==="string"||typeof(v)==="string"||typeof(v)==="boolean"){E=v;}else if(Array.isArray(v)||c(v)){E=JSON.stringify(v);}}D.line(a,false,false,i,""+E);});a.push("</table>");});},subheader:function(a,i){a.push("<tr class='sapUiSupportTitle'><td valign='top' colspan='2'>","<label class='sapUiSupportLabel'>",e(i||""),"</label></td></tr>");}};
function g(a){return q.ajax({type:'GET',url:r+"/"+a,dataType:'text'}).then(function(i){return i;});}
function d(a){var y='';if(!a){return y;}try{a.modules.sort();var z=["<div class='sapUiSupportToolbar'>","<div><div class='sapUiSupportTechInfoCntnt'>","<table border='0' cellpadding='3'>"];t.subheader(z,"Support Assistant Information");t.line(z,true,true,"Location",a.supportAssistant.location);t.line(z,true,true,"Version",a.supportAssistant.versionAsString);t.subheader(z,"Application Information");t.line(z,true,true,"SAPUI5 Version",function(i){var v=a.sapUi5Version;if(v&&v.version){var V=v.version;var C=e(V.version||"");i.push(C," (built at ",e(V.buildTimestamp||""),", last change ",e(V.scmRevision||""),")");}else{i.push("not available");}});t.line(z,true,true,"Core Version",function(i){return a.version+" (built at "+a.build+", last change "+a.change+")";});t.line(z,true,true,"Loaded jQuery Version",function(i){return a.jquery;});t.line(z,true,true,"User Agent",function(i){return a.useragent+(a.docmode?", Document Mode '"+a.docmode+"'":"");});t.line(z,true,true,"Application",a.appurl);t.multiline(z,true,true,"Configuration (bootstrap)",a.bootconfig);t.multiline(z,true,true,"Configuration (computed)",a.config);if(!b(a.libraries)){t.multiline(z,true,true,"Libraries",a.libraries);}t.multiline(z,true,true,"Loaded Libraries",a.loadedLibraries);t.line(z,true,true,"Loaded Modules",function(C){q.each(a.modules,function(i,v){if(v.indexOf("sap.ui.core.support")<0){C.push("<span>",e(v||""),"</span>");if(i<a.modules.length-1){C.push(", ");}}});});t.multiline(z,true,true,"URI Parameters",a.uriparams);z.push("</table></div>");y=z.join('');}catch(B){L.warning('There was a problem extracting technical info.');}return y;}
function f(v){var a='<td>';if(v){a+=e(v);}a+='</td>';return a;}
function h(a){var v='';if(!a){return v;}v+='<table class="sapUiTable"><tr><th>Component ID</th><th>Type</th><th>Title</th><th>Subtitle</th><th>Application version</th><th>Description</th><th>BCP Component</th></tr>';try{for(var i=0;i<a.length;i++){var y=a[i];v+='<tr>';v+=f(y.id);v+=f(y.type);v+=f(y.title);v+=f(y.subTitle);if(y.applicationVersion){v+=f(y.applicationVersion.version);}else{v+='<td></td>';}v+=f(y.description);v+=f(y.ach);v+='</tr>';}v+='</table>';}catch(z){L.warning('There was a problem extracting app info.');v='';}return v;}
function j(a){var i='';i+='<div><span class="sapUiSupportLabel">'+a.displayName+'</span>';i+='<span> ('+a.description+')</span></div>';return i;}
function k(a,i){var v='';v+='<div><span class="sapUiSupportLabel">'+i.displayName+' with id:</span> '+a;v+='<span> ('+i.description+')</span></div>';return v;}
function l(a,v){var y='';if(a.length>5){y+='<div class="expandable-control collapsed-content" data-expandableElement="execution-scope-components">';y+='<span class="expandable-title"><span class="sapUiSupportLabel">'+v.displayName+'</span>';y+='<span> ('+v.description+')</span></span></div>';}else{y+='<div><span class="sapUiSupportLabel">'+v.displayName+'</span>';y+='<span> ('+v.description+')</span></div>';}y+='<ol id="execution-scope-components" class="top-margin-xsmall">';for(var i=0;i<a.length;i++){y+='<li>'+a[i]+'</li>';}y+='</ol>';return y;}
function m(a){var i='';try{var v=a.executionScope.getType();var y=a.scopeDisplaySettings.executionScopes[v];var z=a.scopeDisplaySettings.executionScopeTitle;i+='<div class="sapUiSupportLabel">'+z+': </div>';switch(v){case'global':i+=j(y);break;case'subtree':i+=k(a.executionScope._getContext().parentId,y);break;case'components':i+=l(a.executionScope._getContext().components,y);break;}}catch(B){L.warning('There was a problem extracting scope info.');i='';}return i;}
function n(a){var i='';if(!a){return i;}try{var v=1;i+='<table class="sapUiTable"><tbody><tr><th>Name</th><th>Description</th><th>Categories</th><th>Audiences</th></tr></tbody>';for(var y in a){var z=a[y];var B='collapsed-content';if(v===1){B='expanded-content';}var C=a[y].selected?' ('+a[y].issueCount+' issues)':'';var D='<span class="'+(a[y].selected?'checked':'unchecked')+'"></span>';i+='<tbody><tr><td colspan="100" ';i+='class="expandable-control '+B+'" data-expandableElement="section-selected-rules-group'+v+'">'+D;i+='<span class="sapUiSupportLabel expandable-title">'+y+C+'</span>';i+='</td></tr></tbody>';var E='';for(var F in z){var G=z[F].selected?' ('+z[F].issueCount+' issues)':'';var H='<span class="'+(z[F].selected?'checked':'unchecked')+'"></span>';E+='<tr>';E+='<td>'+H+z[F].title+G+'</td>';E+='<td>'+z[F].description+'</td>';E+='<td>'+z[F].categories.join(', ')+'</td>';E+='<td>'+z[F].audiences.join(', ')+'</td>';E+='</tr>';}i+='<tbody id="section-selected-rules-group'+v+'">'+E+'</tbody>';v++;}i+='</table>';}catch(J){L.warning('There was a problem extracting selected rules info.');i='';}return i;}
function o(i){return I.render(i,true);}
function p(R){if(!R){return"none";}return"<strong>"+R.title+"/"+R.id+"</strong>";}
function s(D,B){if(!B){B=r+"/";}return g("ReportTemplate.html").then(function(T){var C={baseUrl:B,technicalInfo:d(D.technical),issues:o(D.issues),appInfo:h(D.application),rules:n(D.rules),rulePreset:p(D.rulePreset),metadataTitle:D.name+' Analysis Results',metadataTitleTechnicalInfo:'Technical Information',metadataTitleIssues:'Issues',metadataTitleAppInfo:'Application Information',metadataTitleSelectedRules:'Available and (<span class="checked"></span>) Selected Rules',metadataTimestamp:new Date(),metadataScope:m(D.scope),metadataAnalysisDuration:D.analysisDuration,metadataAnalysisDurationTitle:D.analysisDurationTitle};return u(T,C);});}
function u(T,C){var P,v;for(P in C){v=C[P];T=T.replace(new RegExp("\{\{"+P+"\}\}","ig"),v);}return T;}
function w(D){var P=[this.getReportHtml(D,"./"),g("styles.css"),g("index.js"),g("images/checked.svg"),g("images/collapsed.svg"),g("images/expanded.svg"),g("images/unchecked.svg")];Promise.all(P).then(function(a){var i={'issues':D.issues},v={'appInfos':D.application},y={'technicalInfo':D.technical},z=new A();z.add('technicalInfo.json',y,'json');z.add('issues.json',i,'json');z.add('appInfos.json',v,'json');z.add('report.html',a[0]);z.add('abap.json',D.abap,'json');z.add('styles.css',a[1],'css');z.add('index.js',a[2],'js');z.add('images/checked.svg',a[3],'svg');z.add('images/collapsed.svg',a[4],'svg');z.add('images/expanded.svg',a[5],'svg');z.add('images/unchecked.svg',a[6],'svg');z.download("SupportAssistantReport");z.clear();});}
function x(D){var i='';var a=q('<a class="sapUiHidden"></a>');a.on('click',function(){var v=window.open('','_blank');v.opener=null;q(v.document).ready(function(){v.document.documentElement.innerHTML='';v.document.write(i);});});q('body').append(a);this.getReportHtml(D).then(function(v){i=v;a[0].click();a.remove();});}
return{getReportHtml:s,downloadReportZip:w,openReport:x};},true);
sap.ui.predefine('sap/ui/support/supportRules/report/StringHistoryFormatter',[],function(){"use strict";var _=Array(196).join("-"),a="|";
function f(t,g){var h="",t=t||"";if(!g){g=50;}h=t.replace(/(\r\n|\n|\r)/gm," ").replace(/(\")/gm,"");if(h.length>g){h=h.substring(0,g-3)+"...";}else{while(h.length<g){h+=" ";}}return h;}
function b(r){if(r.issues.length){var t=_+"\n";t+=a+f("rule id: "+r.id,193)+a+"\n";t+=a+f("name: "+r.name,193)+a+"\n";t+=a+f("library: "+r.library,193)+a+"\n";t+=a+f("categories: "+r.categories.join(", "),193)+a+"\n";t+=a+f("audiences: "+r.audiences.join(", "),193)+a+"\n";t+=a+f("description: "+r.description,193)+a+"\n";t+=a+f("resolution: "+r.resolution,193)+a+"\n";t+=_+"\n";t+=a+f("id",50);t+=a+f("class name",30);t+=a+f("status",10);t+=a+f("details",100);t+=a+"\n";t+=_+"\n";for(var i=0;i<r.issues.length;i++){t+=a+f(r.issues[i].context.id,50);t+=a+f(r.issues[i].context.className,30);t+=a+f(r.issues[i].severity,10);t+=a+f(r.issues[i].details,100);t+=a+"\n";}t+=_+"\n";return t;}return"";}
function c(l){var t="";if(!l){return t;}for(var g in l){if(l[g].issueCount){for(var r in l[g]["rules"]){t+=b(l[g]["rules"][r]);}t+="\n";}}t+="\n";return t;}
function d(r){var t="Rule Preset / ID : ";if(r){t+=r.title+" / "+r.id;}else{t+="none";}return t;}
function e(g){var t="";if(!g){return t;}for(var i=0;i<g.length;i++){t+="\n";t+="Run "+(i+1)+" - executed on "+g[i].analysisInfo.date+"\n";t+=d(g[i].analysisInfo.rulePreset);t+="\n";t+=c(g[i].loadedLibraries);t+="\n";}return t;}
return{format:e};},true);
sap.ui.predefine('sap/ui/support/supportRules/ui/IFrameController',["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/support/supportRules/CommunicationBus","sap/ui/support/supportRules/WCBChannels","sap/ui/support/supportRules/Constants","sap/ui/thirdparty/URI"],function(L,M,C,c,a,U){"use strict";var i=null;var f;var F;var s;
function b(u){var e=new U(u);var O=(e.protocol()||window.location.protocol.replace(':',''))+'://'+(e.host()||window.location.host);return O;}
function g(){return''+ +new Date();}
function o(u){var t=document.createElement("IFRAME");var e=t.style;t.id="sap-ui-supportToolsFrame";t.src=u;e.width="100%";e.height="28px";e.position="absolute";e.left="0";e.bottom="0";e.border="none";e.borderRadius="1px";e.zIndex="1001";e.boxShadow="1px -10px 42px -4px #888";document.body.appendChild(t);setInterval(function(){if(t.parentNode.nodeName!=="BODY"){document.body.appendChild(t);window.communicationWindows.supportTool=t.contentWindow;}},1000);window.communicationWindows.supportTool=t.contentWindow;}
function d(u){window.communicationWindows.supportTool=window.open(u,"sapUiSupportTool","width=1024,height=400,status=no,toolbar=no,menubar=no,resizable=yes,location=no,directories=no,scrollbars=no");window.communicationWindows.supportTool.window.onload=function(){window.communicationWindows.supportTool.document.title=a.SUPPORT_ASSISTANT_NAME;};}
var I=M.extend("sap.ui.support.IFrameController",{constructor:function(){if(!i){M.apply(this,arguments);}else{L.warning("Only one support tool allowed");return i;}}});
I.prototype._setCommunicationSubscriptions=function(){C.subscribe(c.ENSURE_FRAME_OPENED,function(){if(document.getElementById("sap-ui-supportToolsFrame").style.height==="28px"){this.resizeFrame(true);this.toggleHide();}},this);C.subscribe(c.RESIZE_FRAME,function(p){i.resizeFrame(p.bigger);});};
I.prototype.injectFrame=function(e){F=g();s=sap.ui.require.toUrl("sap/ui/support/supportRules/ui/overlay.html")+"?sap-ui-xx-formfactor=compact&sap-ui-xx-support-origin="+window.location.protocol+"//"+window.location.host+"&"+"sap-ui-xx-frame-identifier="+F;f=b(s);window.communicationWindows=window.communicationWindows||{};if(e.indexOf("window")>-1){d(s);}else{o(s);this._setCommunicationSubscriptions();}};
I.prototype.resizeFrame=function(e){var t=document.getElementById("sap-ui-supportToolsFrame").style;if(e){if(t.height==="50%"){t.height="100%";}else if(t.height==="28px"){t.height="50%";}}else{if(t.height==="100%"){t.height="50%";}else if(t.height==="50%"){t.height="28px";}}};
I.prototype.toggleHide=function(h){var t=document.getElementById("sap-ui-supportToolsFrame").style;if(h){this._originalSize={width:t.width,height:t.height};t.width="170px";t.height="28px";}else{if(this._originalSize){t.width=this._originalSize.width;t.height=this._originalSize.height;this._originalSize=null;}}};
I.prototype._stop=function(){this._oCssLink.parentNode.removeChild(this._oCssLink);this._oDomRef.parentNode.removeChild(this._oCssLink);this._oCore=null;};
I.prototype.getCommunicationInfo=function(){return{origin:f,identifier:F,url:s};};
i=new I();return i;},true);
sap.ui.predefine('sap/ui/support/supportRules/ui/Overlay',["sap/ui/core/Core","sap/ui/core/mvc/XMLView","sap/m/Page"],function(C,X,P){"use strict";C.attachInit(function(){X.create({viewName:"sap.ui.support.supportRules.ui.views.Main"}).then(function(x){var p=new P("page",{showHeader:false,backgroundDesign:"Solid",content:[x]});p.placeAt("content");});});});
sap.ui.predefine('sap/ui/support/supportRules/ui/controllers/Analysis.controller',["sap/base/util/deepExtend","sap/ui/support/supportRules/ui/controllers/BaseController","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/m/MessageToast","sap/ui/support/supportRules/CommunicationBus","sap/ui/support/supportRules/WCBChannels","sap/ui/support/supportRules/ui/models/SharedModel","sap/ui/support/supportRules/RuleSerializer","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/util/EvalUtils","sap/ui/support/supportRules/ui/models/SelectionUtils","sap/ui/support/supportRules/ui/controllers/PresetsController","sap/ui/support/supportRules/ui/models/PresetsUtils","sap/ui/support/supportRules/ui/models/CustomJSONListSelection"],function(d,B,J,F,M,C,c,S,R,a,b,E,e,P,f,g){"use strict";return B.extend("sap.ui.support.supportRules.ui.controllers.Analysis",{onInit:function(){this.model=S;this.setCommunicationSubscriptions();this.tempRulesLoaded=false;this.getView().setModel(this.model);this.treeTable=e.treeTable=this.byId("ruleList");this._oRuleSetsModel=new J();this.treeTable.setModel(this._oRuleSetsModel,"ruleSets");this.ruleSetView=this.byId("ruleSetsView");this.rulesViewContainer=this.byId("rulesNavContainer");this.bAdditionalViewLoaded=false;this.bAdditionalRulesetsLoaded=false;this.oApplicationinfo={};new g(this.treeTable,true,"id");C.subscribe(c.UPDATE_SUPPORT_RULES,function(){if(!this.bAdditionalViewLoaded){C.publish(c.RESIZE_FRAME,{bigger:true});this.bAdditionalViewLoaded=true;this.loadAdditionalUI();}},this);if(this.model.getProperty("/persistingSettings")){var h=b.getVisibleColumns()||[];if(h.length){this.setColumnVisibility(h,true);}}this.byId("presetVariant").addEventDelegate({onclick:this.onPresetVariantClick.bind(this)});this.treeTable.attachEvent("rowSelectionChange",function(o){if(o.getParameter("userInteraction")){f.syncCurrentSelectionPreset(e.getSelectedRules());}});this.byId("rowActionTemplate").setVisible(!this.model.getProperty("/tempRulesDisabled"));},loadAdditionalUI:function(){if(!this._ruleDetails){this._ruleDetails=F.load({name:"sap.ui.support.supportRules.ui.views.RuleDetails",controller:this}).then(function(r){this.byId("rulesDisplayPage").addContentArea(r);}.bind(this));}if(!this._ruleCreateUpdatePages){this._ruleCreateUpdatePages=F.load({name:"sap.ui.support.supportRules.ui.views.RuleUpdate",controller:this}).then(function(r){r.forEach(function(h){this.byId("rulesNavContainer").insertPage(h);},this);}.bind(this));}this._updateRuleList();},onAfterRendering:function(){var t=function(){C.publish(c.ON_INIT_ANALYSIS_CTRL);sap.ui.getCore().detachThemeChanged(t);};if(sap.ui.getCore().isThemeApplied()){C.publish(c.ON_INIT_ANALYSIS_CTRL);}else{sap.ui.getCore().attachThemeChanged(t);}},onAsyncSwitch:function(o){var s=o.getSource();if(o.getParameter("selected")){var A=s.getCustomData()[0].getValue()==="true";var r=s.getProperty("groupName")==="asyncContext"?"/newRule":"/editRule";this.model.setProperty(r+"/async",A);this._updateCheckFunction(r,A);}},_updateCheckFunction:function(r,A){var s=this.model.getProperty(r+"/check");if(!s){return;}var m=s.match(/function[^(]*\(([^)]*)\)/);if(!m){return;}var p=m[1].trim().split(/\W+/);p[0]=p[0]||"oIssueManager";p[1]=p[1]||"oCoreFacade";p[2]=p[2]||"oScope";if(A){p[3]=p[3]||"fnResolve";}else{p=p.slice(0,3);}var n=s.replace(/function[^(]*\(([^)]*)\)/,"function ("+p.join(", ")+")");this.model.setProperty(r+"/check",n);},getTemporaryLib:function(){var l=this.model.getProperty("/libraries");for(var i=0;i<l.length;i++){if(l[i].title==a.TEMP_RULESETS_NAME){return d({},l[i]);}}return null;},setTemporaryLib:function(D){var l=this.model.getProperty("/libraries");for(var i=0;i<l.length;i++){if(l[i].title==a.TEMP_RULESETS_NAME){this.model.setProperty("/libraries/"+i,D);return;}}},setCommunicationSubscriptions:function(){if(!this.model.getProperty("/tempRulesDisabled")){this._setTempRulesCommunicationSubscriptions();}C.subscribe(c.UPDATE_SUPPORT_RULES,this.updateSupportRules,this);C.subscribe(c.POST_AVAILABLE_LIBRARIES,function(h){this.bAdditionalRulesetsLoaded=true;this.model.setProperty("/availableLibrariesSet",h.libNames);this.rulesViewContainer.setBusy(false);},this);C.subscribe(c.POST_APPLICATION_INFORMATION,function(h){this.oApplicationinfo=h;},this);C.subscribe(c.POST_AVAILABLE_COMPONENTS,function(h){var i=[],m=this.model.getProperty("/executionScopeComponents"),s=b.getSelectedScopeComponents(),j;for(var k=0;k<h.length;k+=1){i.push({text:h[k]});}if(m&&m.length>0){for(j=0;j<i.length;j++){i[j].selected=this.checkIfComponentIsSelected(i[j],m);}}else if(s&&s.length>0){for(j=0;j<i.length;j++){i[j].selected=this.checkIfComponentIsSelected(i[j],s);}}this.model.setProperty("/executionScopeComponents",i);},this);C.subscribe(c.GET_RULES_MODEL,function(r){var p=b.readPersistenceCookie(a.COOKIE_NAME),l=this.model.getProperty("/loadingAdditionalRuleSets");if(l){e._syncSelectionAdditionalRuleSetsMainModel(r,this._oRuleSetsModel.getData());e._deselectAdditionalRuleSets(r,this.model.getProperty("/namesOfLoadedAdditionalRuleSets"));}if(p){this.initializeTempRules();var u=e.updateSelectedRulesFromLocalStorage(r);if(u){r=u;}f.loadCustomPresets();}this._oRuleSetsModel.setData(r);if(p||l){this.treeTable.updateSelectionFromModel();}else{this.treeTable.selectAll();}this.model.setProperty("/selectedRulesCount",e.getSelectedRules().length);f.initializeSelectionPresets(e.getSelectedRules());},this);C.subscribe(c.POST_MESSAGE,function(h){M.show(h.message);},this);C.subscribe(c.ON_ANALYZE_STARTED,function(h){this.model.setProperty("/showProgressIndicator",true);},this);},checkIfComponentIsSelected:function(h,s){for(var i=0;i<s.length;i+=1){if(s[i].text==h.text&&s[i].selected){return true;}}return false;},onAnalyze:function(){var h=this.model.getProperty("/selectionPresetsCurrent"),o=this._getExecutionContext();if(h.selections.length===0){M.show("Select some rules to be analyzed.");return;}if(o.type==="components"&&o.components.length===0){M.show("Please select some components to be analyzed.");return;}C.publish(c.ON_ANALYZE_REQUEST,{rulePreset:h,executionContext:o});},_getExecutionContext:function(){var h={type:this.model.getProperty("/analyzeContext/key")};if(h.type==="subtree"){h.parentId=this.model.getProperty("/subtreeExecutionContextId");}if(h.type==="components"){var s=sap.ui.getCore().byId("componentsSelectionContainer"),i=s.getContent();h.components=[];i.forEach(function(j){if(j.getSelected()){h.components.push(j.getText());}});}return h;},onSelectedRuleSets:function(o){var s=true,h=this.model.getProperty("/selectedRule"),A=o.getParameter("selectedKey")==="additionalRulesets";if(A||!h){s=false;}if(!this.bAdditionalRulesetsLoaded&&A){this.rulesViewContainer.setBusyIndicatorDelay(0);this.rulesViewContainer.setBusy(true);C.publish(c.GET_NON_LOADED_RULE_SETS,{loadedRulesets:this._getLoadedRulesets()});}this.getView().getModel().setProperty("/showRuleProperties",s);},_getLoadedRulesets:function(){var r=this.treeTable.getModel("ruleSets").getData(),l=[];Object.keys(r).forEach(function(k){var L=r[k].name;if(L&&L!=="temporary"){l.push(L);}});return l;},_applyTempRulesSelection:function(t){var r=d({},this._oRuleSetsModel.getData()),l,h,T,s,j,I,k=function(o){return o.id===h.id;};for(var i in r){l=r[i];T=r[i].nodes;if(l.name!==a.TEMP_RULESETS_NAME){continue;}r[i].nodes=[];for(var m in t.rules){h=t.rules[m];s=T[m]!==undefined?T[m].selected:true;if(this.tempRulesFromStorage){j=this.tempRulesFromStorage.filter(k);if(j.length>0){s=j[0].selected;I=this.tempRulesFromStorage.indexOf(j[0]);this.tempRulesFromStorage.splice(I,1);if(s===false){l.selected=false;}}if(this.tempRulesFromStorage.length===0){this.tempRulesFromStorage.length=null;}}l.nodes.push({name:h.title,description:h.description,id:h.id,audiences:h.audiences.toString(),categories:h.categories.toString(),minversion:h.minversion,resolution:h.resolution,title:h.title,selected:s,libName:l.name,check:h.check});}}this._oRuleSetsModel.setData(r);},_syncTreeTableVieModelTempRule:function(t,h){var r=this.model.getProperty("/editRuleSource");for(var i in h){if(h[i].name===a.TEMP_RULESETS_NAME){for(var j in h[i].nodes){if(h[i].nodes[j].id===r.id){h[i].nodes[j]={name:t.title,description:t.description,id:t.id,audiences:t.audiences,categories:t.categories,minversion:t.minversion,resolution:t.resolution,selected:h[i].nodes[j].selected,title:t.title,libName:h[i].name,check:t.check};}}}}},_hasSelectedComponent:function(){var A=sap.ui.getCore().byId("componentsSelectionContainer").getContent();function i(o){return o.getSelected();}return A.some(i);},onAnalyzeSettings:function(o){var s=o.getSource();C.publish(c.GET_AVAILABLE_COMPONENTS);if(!this._analyzeSettingsPopover){this._analyzeSettingsPopover=F.load({name:"sap.ui.support.supportRules.ui.views.AnalyzeSettings",controller:this}).then(function(h){this.getView().addDependent(h);return h;}.bind(this));}this._analyzeSettingsPopover.then(function(h){h.openBy(s);});},onContextSelect:function(o){if(o.getParameter("selected")){var s=o.getSource(),r=s.getCustomData()[0].getValue(),h=this.model.getProperty("/executionScopes")[r];if(r==="components"&&!this._hasSelectedComponent()){var i=sap.ui.getCore().byId("componentsSelectionContainer").getContent();if(i.length>0){i[0].setSelected(true);this.onScopeComponentSelect(null);}}this.model.setProperty("/analyzeContext",h);}if(b.readPersistenceCookie(a.COOKIE_NAME)){this.persistExecutionScope();}},onExecutionContextChange:function(h){var v=h.getSource().getValue();if(v){this.model.setProperty("/subtreeExecutionContextId",v);}if(b.readPersistenceCookie(a.COOKIE_NAME)){this.persistExecutionScope();}},onScopeComponentSelect:function(h){var s=this.model.getProperty("/executionScopeComponents");if(b.readPersistenceCookie(a.COOKIE_NAME)){b.setSelectedScopeComponents(s);}},onBeforePopoverOpen:function(){if(this.model.getProperty("/executionScopeComponents").length===0){C.publish(c.GET_AVAILABLE_COMPONENTS);}},createNewRulePress:function(o){var h=this.model.getProperty("/newEmptyRule");this.model.setProperty("/selectedSetPreviewKey","availableRules");this.model.setProperty("/newRule",d({},h));this.model.setProperty("/tempLink",{href:"",text:""});this.goToCreateRule();},goToRuleProperties:function(){var n=this.byId("rulesNavContainer");n.to(this.byId("rulesDisplayPage"),"show");},createRuleString:function(r){if(!r){return'';}var s="{\n",h=0,k=Object.keys(r).length;for(var i in r){var v=r[i];h++;s+="\t";s+=i+": ";if(i==="check"){s+=v.split("\n").join("\n\t");}else{s+=JSON.stringify(v);}if(h<k){s+=",";}s+="\n";}s+="}";return s;},updateRule:function(){var o=this.model.getProperty("/editRuleSource/id"),u=this.model.getProperty("/editRule");if(this.checkFunctionString(u.check)){C.publish(c.VERIFY_UPDATE_RULE,{oldId:o,updateObj:R.serialize(u)});}},updateSupportRules:function(h){h=R.deserialize(h.sRuleSet);C.publish(c.REQUEST_RULES_MODEL,h);var l=[],t=this;for(var i in h){var r=[],k=h[i].ruleset._mRules;for(var j in k){var m=k[j];m.libName=i;m.selected=true;r.push(m);}l.push({title:i,type:"library",rules:r,selected:true});}var n;if(l[0].rules[0]){n=l[0].rules[0];}else{n=l[1].rules[0];}t.placeTemporaryRulesetAtStart(l);t.model.setProperty("/selectedRuleStringify","");t.model.setProperty("/selectedRule",n);t.model.setProperty("/selectedRuleStringify",t.createRuleString(n));t.model.setProperty("/libraries",l);var o=t.model.getProperty("/loadingAdditionalRuleSets");if(o){M.show("Additional rule set(s) loaded!");this.ruleSetView.setSelectedKey("availableRules");}},initializeTempRules:function(){if(this.model.getProperty("/tempRulesDisabled")){return;}var t=b.getRules(),l=this.model.getProperty("/loadingAdditionalRuleSets");if(t&&!l&&!this.tempRulesLoaded){this.tempRulesFromStorage=t;this.tempRulesLoaded=true;t.forEach(function(h){C.publish(c.VERIFY_CREATE_RULE,R.serialize(h));});this.persistedTempRulesCount=t.length;}},placeTemporaryRulesetAtStart:function(l){for(var i=0;i<l.length;i++){var r=l[i];if(r.title===a.TEMP_RULESETS_NAME){var t=r;l.splice(i,1);l.unshift(t);return;}}},addLinkToRule:function(h){var t=this.model.getProperty("/tempLink"),i=d({},t),j=h.getSource().getProperty("text"),r=j==='Add'?"/newRule":"/editRule",u=this.model.getProperty(r+"/resolutionurls");if(u){u.push(i);}else{this.model.setProperty(r+"/resolutionurls","");u.push(i);}this.model.setProperty("/tempLink",{href:"",text:""});},goToCreateRule:function(){var n=this.byId("rulesNavContainer");n.to(sap.ui.getCore().byId("rulesCreatePage"),"show");},checkFunctionString:function(h){try{E.evalFunction(h);}catch(i){M.show("Your check function contains errors, and can't be evaluated:"+i);return false;}return true;},addNewRule:function(){var n=this.model.getProperty("/newRule");if(this.checkFunctionString(n.check)){this.showRuleCreatedToast=true;C.publish(c.VERIFY_CREATE_RULE,R.serialize(n));}},rulesToolbarITHSelect:function(o){if(o.getParameter("key")==="jsonOutput"){var n=this.model.getProperty("/newRule"),s=this.createRuleString(n);this.model.setProperty("/newRuleStringified",s);}},rulesToolbarEditITHSelect:function(o){if(o.getParameter("key")==="jsonOutput"){var n=this.model.getProperty("/editRule"),s=this.createRuleString(n);this.model.setProperty("/updateRuleStringified",s);}},loadMarkedSupportLibraries:function(){var l=this.byId("availableLibrariesSet"),L=[],A=this.model.getProperty("/availableLibrariesSet");L=l.getSelectedItems().map(function(i){return i.getTitle();});l.getItems().forEach(function(i){i.setSelected(false);});if(L.length>0){A=A.filter(function(s){return L.indexOf(s)<0;});this.model.setProperty("/availableLibrariesSet",A);this.model.setProperty("/namesOfLoadedAdditionalRuleSets",L);C.publish(c.LOAD_RULESETS,{aLibNames:{publicRules:L,internalRules:L}});this.model.setProperty("/loadingAdditionalRuleSets",true);this.model.setProperty("/showRuleProperties",true);}else{M.show("Select additional RuleSet to be loaded.");}},onCellClick:function(o){if(o.getParameter("rowBindingContext")){var s=o.getParameter("rowBindingContext").getObject(),h,r="",i=false;if(s.id&&s.type!=="lib"){h=this.getMainModelFromTreeViewModel(s);r=this.createRuleString(h);i=true;}this.model.setProperty("/selectedRuleStringify",r);this.model.setProperty("/selectedRule",h);this.model.setProperty("/showRuleProperties",i);}},getMainModelFromTreeViewModel:function(s){var h=this.model.getProperty("/libraries"),m=null;h.forEach(function(l,i){h[i].rules.forEach(function(j){if(s.id===j.id){m=j;}});});return m;},_generateRuleId:function(r){var i=0,t=this.getTemporaryLib(),T=t.rules,h,j=function(o){return o.id===r+i;};while(++i){h=T.some(j);if(!h){return r+i;}}},duplicateRule:function(o){var p=o.getSource().getBindingContext("ruleSets").getPath(),s=this.treeTable.getBinding().getModel().getProperty(p),h=this.getMainModelFromTreeViewModel(s),i=d({},h);i.id=this._generateRuleId(i.id);this.model.setProperty("/newRule",i);this.goToCreateRule();},editRule:function(h){var p=h.getSource().getBindingContext("ruleSets").getPath(),s=this.treeTable.getBinding().getModel().getProperty(p),i=this.getMainModelFromTreeViewModel(s);this.model.setProperty("/editRuleSource",i);this.model.setProperty("/editRule",d({},i));var n=this.byId("rulesNavContainer");n.to(sap.ui.getCore().byId("ruleUpdatePage"),"show");},deleteTemporaryRule:function(h){var s=this.getObjectOnTreeRow(h),r=d({},this._oRuleSetsModel.getData()),l=this.model.getProperty("/libraries"),i;l.forEach(function(L){if(L.title===a.TEMP_RULESETS_NAME){i=L.rules.filter(function(o){return o.id!==s.id;});L.rules=i;}});for(var L in r){if(r[L].name===a.TEMP_RULESETS_NAME){for(var j in r[L].nodes){if(r[L].nodes[j].id===s.id){r[L].nodes.splice(j,1);}}}}this._oRuleSetsModel.setData(r);C.publish(c.DELETE_RULE,R.serialize(s));this._updateRuleList();f.syncCurrentSelectionPreset(e.getSelectedRules());if(b.readPersistenceCookie(a.COOKIE_NAME)){b.removeSelectedRules(i);e.persistSelection();}},getObjectOnTreeRow:function(h){var p=h.getSource().getBindingContext("ruleSets").getPath(),s=this.treeTable.getBinding().getModel().getProperty(p),l=this.model.getProperty("/libraries");l.forEach(function(i,j){i.rules.forEach(function(r){if(r.id===s.id){s.check=r.check;}});});return s;},_updateRuleList:function(){var r=this.getView().byId("ruleList"),t=this.getTemporaryLib(),T=t?t["rules"]:[];if(!T.length){r.setRowActionCount(1);}else{r.setRowActionCount(2);}},setColumnVisibility:function(h,v){var i=this.treeTable.getColumns();i.forEach(function(o){o.setVisible(!v);h.forEach(function(r){if(o.sId.includes(r)){o.setVisible(v);}});});},onColumnVisibilityChange:function(o){var h=o.getParameter("column"),n=o.getParameter("newVisible");if(!this.model.getProperty("/persistingSettings")){return;}h.setVisible(n);this.persistVisibleColumns();},onPresetVariantClick:function(){if(!this._PresetsController){this._PresetsController=new P(this.model,this.getView());}this._PresetsController.openPresetVariant();},_setTempRulesCommunicationSubscriptions:function(){C.subscribe(c.VERIFY_RULE_CREATE_RESULT,function(h){var r=h.result,n=R.deserialize(h.newRule,true),t=this.getTemporaryLib();if(r=="success"){t.rules.push(n);this.setTemporaryLib(t);this._applyTempRulesSelection(t);f.syncCurrentSelectionPreset(e.getSelectedRules());if(b.readPersistenceCookie(a.COOKIE_NAME)){e.persistSelection();b.setRules(t.rules);if(this.showRuleCreatedToast){M.show('Your temporary rule "'+n.id+'" was persisted in the local storage');this.showRuleCreatedToast=false;}}var i=this.model.getProperty("/newEmptyRule");this.model.setProperty("/newRule",d({},i));this.goToRuleProperties();this.model.setProperty("/selectedRule",n);this._updateRuleList();this.treeTable.updateSelectionFromModel();}else{M.show("Add rule failed because: "+r);}},this);C.subscribe(c.VERIFY_RULE_UPDATE_RESULT,function(h){var r=h.result,u=R.deserialize(h.updateRule,true),t=this;if(r==="success"){var i=this.model.getProperty("/editRuleSource"),o=this._oRuleSetsModel.getData(),l=this.model.getProperty('/libraries');l.forEach(function(j,k){if(j.title===a.TEMP_RULESETS_NAME){j.rules.forEach(function(m,n){if(m.id===i.id){j.rules[n]=u;if(t.model.getProperty("/persistingSettings")){b.setRules(j.rules);}}});t._syncTreeTableVieModelTempRule(u,o);}});this._oRuleSetsModel.setData(o);this.model.setProperty('/selectedRule',u);e.getSelectedRules();this.treeTable.updateSelectionFromModel();this.goToRuleProperties();}else{M.show("Update rule failed because: "+r);}},this);}});});
sap.ui.predefine('sap/ui/support/supportRules/ui/controllers/BaseController',["sap/ui/core/mvc/Controller","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/ui/models/SelectionUtils"],function(C,s,c,S){"use strict";return C.extend("sap.ui.support.supportRules.ui.controllers.BaseController",{persistExecutionScope:function(){var a={analyzeContext:this.model.getProperty("/analyzeContext"),subtreeExecutionContextId:this.model.getProperty("/subtreeExecutionContextId")},b=this.model.getProperty("/executionScopeComponents");s.setSelectedScopeComponents(b);s.setSelectedContext(a);},persistVisibleColumns:function(){var v=[],a=S.treeTable.getColumns();a.forEach(function(o){if(o.getVisible()){v.push(o.sId);}});s.setVisibleColumns(v);},deletePersistedData:function(){s.deletePersistenceCookie(c.COOKIE_NAME);this.getView().getModel().setProperty("/persistingSettings",false);s.removeAllData();}});});
sap.ui.predefine('sap/ui/support/supportRules/ui/controllers/Issues.controller',["sap/ui/support/supportRules/ui/controllers/BaseController","sap/ui/model/json/JSONModel","sap/ui/support/supportRules/CommunicationBus","sap/ui/support/supportRules/ui/models/SharedModel","sap/ui/support/supportRules/ui/external/ElementTree","sap/ui/support/supportRules/IssueManager","sap/ui/support/supportRules/WCBChannels","sap/ui/support/supportRules/ui/models/formatter","sap/ui/support/supportRules/Constants","sap/m/OverflowToolbarAssociativePopoverControls","sap/base/util/deepExtend"],function(B,J,C,S,E,I,c,f,a,O,d){"use strict";var i={severityIcons:{High:"sap-icon://message-error",Medium:"sap-icon://message-warning",Low:"sap-icon://message-information",All:"sap-icon://multiselect-all"}};return B.extend("sap.ui.support.supportRules.ui.controllers.Issues",{ISSUES_LIMIT:1000,formatter:f,onInit:function(){this.model=S;this.setCommunicationSubscriptions();this.getView().setModel(this.model);this.clearFilters();this._initElementTree();this.treeTable=this.byId("issuesList");this.issueTable=this.byId("issueTable");this.toolHeader=this.byId('toolHeader');this.toolHeader.removeStyleClass('sapTntToolHeader sapContrast sapContrastPlus');this.model.setProperty("/bEnabledFilterButton",false);var t=this.toolHeader._getPopover();t.removeStyleClass('sapTntToolHeaderPopover sapContrast sapContrastPlus');O._mSupportedControls["sap.ui.layout.VerticalLayout"]={canOverflow:true,listenForEvents:[],noInvalidationProps:[]};},setCommunicationSubscriptions:function(){C.subscribe(c.ON_ANALYZE_FINISH,function(b){var t=this;var p={};t.data=b;b.issues.forEach(function(e){if(!e.context||!e.context.id){return;}if(!p[e.context.id]){p[e.context.id]=[e.name];}else{p[e.context.id].push(e.name);}});this.model.setSizeLimit(this.ISSUES_LIMIT);this.model.setProperty("/issues",b.issues);this.model.setProperty('/analyzePressed',true);this.model.setProperty("/issuesCount",this.data.issues.length);this.model.setProperty("/selectedIssue",null);this.elementTree.setData({controls:b.elementTree,issuesIds:p});this.clearFilters();},this);C.subscribe(c.GET_ISSUES,function(b){this.structuredIssuesModel=b.groupedIssues;this.model.setProperty("/issues",b.issuesModel);if(b.issuesModel[0]){this._setSelectedRule(b.issuesModel[0][0]);this.treeTable.setSelectedIndex(1);this.issueTable.setSelectedIndex(0);}},this);},_initElementTree:function(){var t=this;this.elementTree=new E(null,{onIssueCountClicked:function(s){t.clearFilters();t.model.setProperty("/elementFilter",s);t.updateIssuesVisibility();},onHoverChanged:function(h){C.publish(c.TREE_ELEMENT_MOUSE_ENTER,h);},onMouseOut:function(){C.publish(c.TREE_ELEMENT_MOUSE_OUT);}});},onAfterRendering:function(){this.elementTree.setContainerId(this.byId("elementTreeContainer").getId());},clearFilters:function(){this.model.setProperty("/severityFilter",a.FILTER_VALUE_ALL);this.model.setProperty("/categoryFilter",a.FILTER_VALUE_ALL);this.model.setProperty("/elementFilter",a.FILTER_VALUE_ALL);this.model.setProperty("/audienceFilter",a.FILTER_VALUE_ALL);if(this.data){this.model.setProperty("/issues",this.data.issues);this.setToolbarHeight();}this.model.setProperty("/bEnabledFilterButton",false);this.updateIssuesVisibility();},clearFiltersAndElementSelection:function(){this.clearFilters();this.elementTree.clearSelection();},onIssuePressed:function(e){var s=this.model.getProperty("/selectedIssue");this.elementTree.setSelectedElement(s.context.id,false);},onRowSelectionChanged:function(e){if(e.getParameter("rowContext")){var s=e.getParameter("rowContext").getObject(),v=a.MAX_VISIBLE_ISSUES_FOR_RULE;if(s.type==="rule"){this._setSelectedRule(s);}else{this.model.setProperty("/selectedIssue",null);}if(s.issueCount<v){v=s.issueCount;}this.model.setProperty("/visibleRowCount",v);}},openDocumentation:function(e){var l=sap.ui.getCore().byId(e.mParameters.id),u=l.getBindingContext().getProperty("href");C.publish(c.OPEN_URL,u);},updateIssuesVisibility:function(){if(this.data){var b=this.data.issues.filter(this.filterIssueListItems,this);C.publish(c.REQUEST_ISSUES,b);this.model.setProperty("/visibleIssuesCount",b.length);}this.setToolbarHeight();},filterIssueListItems:function(b){var s=this.model.getProperty("/severityFilter"),e=b.severity===s||s===a.FILTER_VALUE_ALL,g=this.model.getProperty("/categoryFilter"),h=(b.categories&&b.categories.indexOf(g)>-1)||g===a.FILTER_VALUE_ALL,j=this.model.getProperty("/elementFilter"),k=j===b.context.id||j===a.FILTER_VALUE_ALL,l=this.model.getProperty("/audienceFilter"),m=(b.audiences&&b.audiences.indexOf(l)>-1)||l===a.FILTER_VALUE_ALL,n=s===a.FILTER_VALUE_ALL&&g===a.FILTER_VALUE_ALL&&l===a.FILTER_VALUE_ALL&&j===a.FILTER_VALUE_ALL;this.model.setProperty("/bEnabledFilterButton",!n);return e&&h&&k&&m;},setToolbarHeight:function(){this.model.setProperty("/filterBarHeight","4rem");},onReportPress:function(e){var o=e.getParameter("item"),b=o.getText(),g=this._getReportData();if(b==='View'){C.publish(c.ON_SHOW_REPORT_REQUEST,g);}else{C.publish(c.ON_DOWNLOAD_REPORT_REQUEST,g);}},_getReportData:function(){return{executionScopes:this.model.getProperty("/executionScopes"),executionScopeTitle:this.model.getProperty("/executionScopeTitle"),analysisDurationTitle:this.model.getProperty("/analysisDurationTitle")};},onRowSelection:function(e){if(e.getParameter("rowContext")){var s=e.getParameter("rowContext").getObject();this.elementTree.setSelectedElement(s.context.id,false);this.model.setProperty("/selectedIssue/details",s.details);}},_setSelectedRule:function(s){var b,e;if(this.model.getProperty("/visibleIssuesCount")>0){b=this.structuredIssuesModel[s.ruleLibName][s.ruleId];e=d({},s);e.issues=b;e.resolutionUrls=b[0].resolutionUrls;this.issueTable.setSelectedIndex(0);this.model.setProperty("/selectedIssue/details",e.details);this.model.setProperty("/selectedIssue",e);this._setIconAndColorToIssue(e.issues);}else{this.model.setProperty("/selectedIssue",null);}},_setIconAndColorToIssue:function(b){b.forEach(function(e){switch(e.severity){case a.SUPPORT_ASSISTANT_ISSUE_SEVERITY_LOW:e.severityIcon=i.severityIcons.Low;e.severityColor=a.SUPPORT_ASSISTANT_SEVERITY_LOW_COLOR;break;case a.SUPPORT_ASSISTANT_ISSUE_SEVERITY_MEDIUM:e.severityIcon=i.severityIcons.Medium;e.severityColor=a.SUPPORT_ASSISTANT_SEVERITY_MEDIUM_COLOR;break;case a.SUPPORT_ASSISTANT_ISSUE_SEVERITY_HIGH:e.severityIcon=i.severityIcons.High;e.severityColor=a.SUPPORT_ASSISTANT_SEVERITY_HIGH_COLOR;break;}});}});});
sap.ui.predefine('sap/ui/support/supportRules/ui/controllers/Main.controller',["./BaseController","../models/SharedModel","../models/Documentation","../models/SelectionUtils","../models/PresetsUtils","sap/ui/core/Fragment","sap/ui/core/mvc/XMLView","sap/ui/support/supportRules/CommunicationBus","sap/ui/support/supportRules/WCBChannels","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/util/EvalUtils","sap/ui/thirdparty/URI","sap/ui/VersionInfo","sap/m/library"],function(B,S,D,a,P,F,X,C,c,b,d,E,U,V,m){"use strict";var e=m.ButtonType;return B.extend("sap.ui.support.supportRules.ui.controllers.Main",{onInit:function(){this.model=S;this.getView().setModel(this.model);this.resizeDown();this.setCommunicationSubscriptions();this.initSettingsPopoverModel();this.hidden=false;this.model.setProperty("/hasNoOpener",window.opener?false:true);this.model.setProperty("/constants",b);this.updateShowButton();this._setContextSettings();this._zoomUI();this.bAdditionalViewLoaded=false;C.subscribe(c.UPDATE_SUPPORT_RULES,function(){if(!this.bAdditionalViewLoaded){this.bAdditionalViewLoaded=true;this.loadAdditionalUI();}},this);},_zoomUI:function(){try{var z=window.localStorage.getItem("support-assistant-zoom-ui");var f="100%";switch(z){case"S":f="90%";break;default:}document.querySelector("html").style.fontSize=f;}catch(o){}},loadAdditionalUI:function(){X.create({id:this.getView().getId()+"--issues",viewName:"sap.ui.support.supportRules.ui.views.Issues"}).then(function(i){this.byId("navCon").insertPage(i);}.bind(this));},onAfterRendering:function(){V.load({library:"sap.ui.core"}).then(function(o){C.publish(c.POST_UI_INFORMATION,{version:o,location:new U(sap.ui.require.toUrl("sap/ui/support"),window.location.origin+window.location.pathname).toString()});});this._checkTempRules();},initSettingsPopoverModel:function(){var s=new U(sap.ui.resource('sap.ui.support',''),window.location.origin+window.location.pathname)._string,f=sap.ui.version;this.model.setProperty("/supportAssistantOrigin",s);this.model.setProperty("/supportAssistantVersion",f);},copySupportAssistantOriginToClipboard:function(o){var s=this.model.getProperty("/supportAssistantOrigin"),f=function(o){if(o.clipboardData){o.clipboardData.setData('text/plain',s);}else{o.originalEvent.clipboardData.setData('text/plain',s);}o.preventDefault();};if(window.clipboardData){window.clipboardData.setData("text",s);}else{document.addEventListener('copy',f);document.execCommand('copy');document.removeEventListener('copy',f);}},setCommunicationSubscriptions:function(){var p;C.subscribe(c.CURRENT_LOADING_PROGRESS,function(f){var i=f.value,o=this.byId("progressIndicator");if(f.value<100){this.model.setProperty("/showProgressIndicator",true);clearTimeout(p);p=setTimeout(function(){this.model.setProperty("/showProgressIndicator",false);}.bind(this),2500);}else{setTimeout(function(){this.model.setProperty("/showProgressIndicator",false);}.bind(this),2000);}o.setDisplayValue(b.RULESET_LOADING+" "+i+"%");this.model.setProperty("/progress",i);},this);C.subscribe(c.ON_ANALYZE_FINISH,function(f){this._clearProcessIndicator();this.ensureOpened();this.model.setProperty("/showProgressIndicator",false);this.model.setProperty("/coreStateChanged",false);this.model.setProperty("/lastAnalysisElapsedTime",f.elapsedTime);this.goToIssues();this.model.setProperty("/analyzedFinish",true);},this);C.subscribe(c.ON_PROGRESS_UPDATE,function(f){var g=f.currentProgress,h=this.byId("progressIndicator");h.setDisplayValue(g+"/"+100);this.model.setProperty("/progress",g);},this);C.subscribe(c.ON_CORE_STATE_CHANGE,function(){this.model.setProperty("/coreStateChanged",true);},this);},resizeUp:function(){C.publish(c.RESIZE_FRAME,{bigger:true});},ensureOpened:function(){C.publish(c.ENSURE_FRAME_OPENED);},resizeDown:function(){C.publish(c.RESIZE_FRAME,{bigger:false});},onSettings:function(o){C.publish(c.ENSURE_FRAME_OPENED);this._openSettingsPopover(o.getSource());},onPersistedSettingSelect:function(){if(this.model.getProperty("/persistingSettings")){d.createPersistenceCookie(b.COOKIE_NAME,true);this.model.getProperty("/libraries").forEach(function(l){if(l.title===b.TEMP_RULESETS_NAME){d.setRules(l.rules);}});this.persistExecutionScope();this.persistVisibleColumns();a.persistSelection();P.persistSelectionPresets();P.persistCustomPresets();}else{d.deletePersistenceCookie(b.COOKIE_NAME);this.deletePersistedData();}},onSettingsPopoverClose:function(){if(this.model.getProperty("/persistingSettings")&&!this.model.getProperty("/tempRulesDisabledWarned")){this.model.setProperty("/tempRulesDisabledWarned",true);d.markTempRulesDisabledWarned();}},goToAnalysis:function(o){this._setActiveView("analysis");},goToIssues:function(o){this._setActiveView("issues");},goToWiki:function(){D.openTopic("57ccd7d7103640e3a187ed55e1d2c163");},updateShowButton:function(){this.byId("sapSTShowButtonBar").setVisible(this.hidden);},toggleHide:function(){this.hidden=!this.hidden;this.updateShowButton();C.publish(c.TOGGLE_FRAME_HIDDEN,this.hidden);},_clearProcessIndicator:function(){var p=this.byId("progressIndicator");p.setDisplayValue("None");this.model.setProperty("/progress",0.1);},_setContextSettings:function(){var f=d.readPersistenceCookie(b.COOKIE_NAME);if(f){this.model.setProperty("/persistingSettings",true);var g=d.getSelectedContext();if(g){this.model.setProperty("/analyzeContext",g.analyzeContext);this.model.setProperty("/subtreeExecutionContextId",g.subtreeExecutionContextId);}else{this.model.setProperty("/analyzeContext",this.model.getProperty("/analyzeContext"));this.model.setProperty("/subtreeExecutionContextId","");}}},_setActiveView:function(i){this.byId("issuesBtn").setType(e.Default);this.byId("analysisBtn").setType(e.Default);this.byId(i+"Btn").setType(e.Emphasized);this.byId("navCon").to(this.byId(i),"show");this.ensureOpened();},_checkTempRules:function(){if(!E.isEvalAllowed()&&!this.model.getProperty("/tempRulesDisabledWarned")){this._openSettingsPopover();}},_openSettingsPopover:function(){if(!this._settingsPopover){this._settingsPopover=F.load({name:"sap.ui.support.supportRules.ui.views.StorageSettings",controller:this}).then(function(s){this.getView().addDependent(s);return s;}.bind(this));}this._settingsPopover.then(function(s){s.openBy(this.byId("settingsIcon"));}.bind(this));},_isSettingsPopoverOpen:function(){return this._settingsPopover&&this._settingsPopover.isOpen();}});});
sap.ui.predefine('sap/ui/support/supportRules/ui/controllers/PresetsController',["sap/ui/support/supportRules/ui/controllers/BaseController","sap/ui/support/supportRules/ui/models/SelectionUtils","sap/ui/support/supportRules/ui/models/PresetsUtils","sap/ui/core/Fragment","sap/m/MessageToast","sap/m/MessageBox","sap/ui/support/supportRules/ui/models/Documentation","sap/ui/support/supportRules/util/Utils","sap/m/GroupHeaderListItem","sap/base/util/deepExtend","sap/ui/core/library"],function(B,S,P,F,M,a,D,U,G,d,c){"use strict";var V=c.ValueState;var C={SELECT_FRAGMENT_ID:"presetsSelect",EXPORT_FRAGMENT_ID:"presetExport",IMPORT_FRAGMENT_ID:"presetImport",PRESET_GROUP_NONE:"None",PRESET_GROUP_SYSTEM:"System Presets",PRESET_GROUP_CUSTOM:"Custom Presets"};
var b=B.extend("sap.ui.support.supportRules.ui.controllers.PresetsController",{constructor:function(m,v){B.call(this);this.oModel=m;this.oView=v;}});
b.prototype.openPresetVariant=function(){var o=this.oView.byId("presetVariantBtn");o.focus();if(!this._oPresetsPopover){this._oPresetsPopover=F.load({id:C.SELECT_FRAGMENT_ID,name:"sap.ui.support.supportRules.ui.views.Presets",controller:this}).then(function(p){this.oView.addDependent(p);return p;}.bind(this));}this._oPresetsPopover.then(function(p){if(!p.isOpen()){p.setInitialFocus(F.byId(C.SELECT_FRAGMENT_ID,"select").getSelectedItem().getId());p.openBy(o);}else{p.close();}});};
b.prototype.onPresetChange=function(e){var p=e.getParameter("listItem").getBindingContext().getPath();this._applyPreset(this.oModel.getProperty(p));};
b.prototype.onPresetItemPress=function(){F.byId(C.SELECT_FRAGMENT_ID,"presetsPopover").close();};
b.prototype.onPresetItemDelete=function(e){var p=e.getSource().getBindingContext().getPath(),o=this.oModel.getProperty(p),f=this.oModel.getProperty("/customPresets"),s=e.getSource().$().closest(".sapMLIB").attr("id");var g=this.oModel.getProperty("/selectionPresets");var i=g.indexOf(o);if(i!==-1){g.splice(i,1);}if(o.selected){g[0].selected=true;this._applyPreset(g[0]);}this.oModel.setProperty("/selectionPresets",g);if(o.isCustomPreset){f=f.filter(function(h){return h.id!==o.id;});this.oModel.setProperty("/customPresets",f);}if(P.isPersistingAllowed()){P.persistSelectionPresets();P.persistCustomPresets();}if(i!==g.length){var n=sap.ui.getCore().byId(s),O=n.ontap;n.ontap=function(){n.ontap=O;};}};
b.prototype.onPresetItemReset=function(e){var p=e.getSource().getBindingContext().getPath(),o=this.oModel.getProperty(p),f=o.isSystemPreset?P.getSystemPresets():this.oModel.getProperty("/customPresets"),g=e.getSource().getParent().getParent().getParent();g.focus();f.forEach(function(i){if(i.id===o.id){this.oModel.setProperty(p+"/title",i.title);this.oModel.setProperty(p+"/selections",i.selections);this.oModel.setProperty(p+"/isModified",false);}}.bind(this));if(o.selected){this._applyPreset(o);}};
b.prototype.onImportPress=function(){if(!this._oImportDialog){this._oImportDialog=F.load({id:C.IMPORT_FRAGMENT_ID,name:"sap.ui.support.supportRules.ui.views.PresetImport",controller:this}).then(function(i){this.oView.addDependent(i);return i;}.bind(this));}this._oImportDialog.then(function(i){i.open();});};
b.prototype.onImportFileChange=function(e){var f=e.getSource(),r=new FileReader();if(!f.getValue()){return;}this._clearImportErrors();r.onloadend=this.onImportFileLoaded.bind(this);r.onerror=this.onImportFileError.bind(this);r.readAsText(e.getParameter("files")[0],"UTF-8");};
b.prototype.onImportFileMismatch=function(e){this._clearImportErrors();this._reportImportFileError("Invalid file type \""+e.getParameter("mimeType")+"\". Please, import a valid \"application/json\" file.",e.getParameter("fileName"));};
b.prototype.onImportFileError=function(e){this._reportImportFileError("Error while reading file: \""+e.target.error+"\".");};
b.prototype.onImportFileLoaded=function(e){var f=this._tryParseImportFile(e.target.result);if(f){this._clearImportErrors();if(!f.id){f.id=U.generateUuidV4();}if(f.dateExported){f.dateExported=new Date(f.dateExported);}this.oModel.setProperty("/currentImportData",f);if(!this._isAlreadyImported(f.id)){F.byId(C.IMPORT_FRAGMENT_ID,"importBtn").setEnabled(true);}}};
b.prototype.onImportCancelPress=function(){F.byId(C.IMPORT_FRAGMENT_ID,"importDialog").close();};
b.prototype.onImportFinalizePress=function(){var i=this.oModel.getProperty("/currentImportData"),m="";this._importPreset(i);m="The Rule Preset \""+i.title+"\" was successfully imported.";if(!P.isPersistingAllowed()){m+=" This import can be stored for your next visit if you check "+"\"I agree to use local storage persistency\" from Support Assistant settings.";}F.byId(C.IMPORT_FRAGMENT_ID,"importDialog").close();M.show(m,{width:"50%"});};
b.prototype.onImportDialogClose=function(){this._clearImportErrors();F.byId(C.IMPORT_FRAGMENT_ID,"fileUpload").setValue(null);this.oModel.setProperty("/currentImportData",null);F.byId(C.IMPORT_FRAGMENT_ID,"importBtn").setEnabled(false);};
b.prototype.onExportPress=function(){var o=this.oModel.getProperty("/selectionPresetsCurrent");if(!o.selections.length){a.error("Cannot export Rule Preset without selections.");return;}this.oModel.setProperty("/currentExportData",{"id":(o.isMySelection||o.isSystemPreset)?"":o.id,"title":o.title,"descriptionValue":o.description,"dateExportedForDisplay":new Date(),"isMySelection":o.isMySelection});if(!this._oExportDialog){this._oExportDialog=F.load({id:C.EXPORT_FRAGMENT_ID,name:"sap.ui.support.supportRules.ui.views.PresetExport",controller:this}).then(function(e){this.oView.addDependent(e);return e;}.bind(this));}this._oExportDialog.then(function(e){e.open();});};
b.prototype.initializeExportValidations=function(){var i=this._getInputsToValidate();i.forEach(function(I){F.byId(C.EXPORT_FRAGMENT_ID,I.id).attachChange(function(e){this._changeHandler(e,I.validateMessage);}.bind(this));},this);};
b.prototype._changeHandler=function(e,v){this._validateInput(e.getSource(),v);};
b.prototype._validateForm=function(){var r=true,i=this._getInputsToValidate();i.forEach(function(I){var o=F.byId(C.EXPORT_FRAGMENT_ID,I.id);if(!this._validateInput(o,I.validateMessage)){r=false;}},this);return r;};
b.prototype._validateInput=function(i,v){var o=i.getBinding("value"),s=V.None,e=true;try{if(i.getRequired()&&!i.getValue().trim()){throw{name:"RequiredException",message:i.getLabels()[0].getText()+" is required."};}if(o&&o.getType()){o.getType().validateValue(i.getValue());}}catch(E){var m=E.message;if(E.name==="ValidateException"&&v){m=v;}i.setValueStateText(m);s=V.Error;e=false;}i.setValueState(s);return e;};
b.prototype._getInputsToValidate=function(){return[{id:"title"},{id:"presetId",validateMessage:"Invalid value. Possible characters are: a-z A-Z 0-9 - . _"}];};
b.prototype._clearValidationState=function(){var i=this._getInputsToValidate();i.forEach(function(I){F.byId(C.EXPORT_FRAGMENT_ID,I.id).setValueState(V.None);});};
b.prototype.onExportCancelPress=function(){F.byId(C.EXPORT_FRAGMENT_ID,"exportDialog").close();};
b.prototype.onExportFinalizePress=function(){var i=F.byId(C.EXPORT_FRAGMENT_ID,"presetId").getValue(),t=F.byId(C.EXPORT_FRAGMENT_ID,"title").getValue(),e=F.byId(C.EXPORT_FRAGMENT_ID,"description").getValue();if(!this._validateForm()){return;}if(!i){i=U.generateUuidV4();}P.exportSelectionsToFile(i,t,e,S.getSelectedRules());M.show("The Rule Preset \""+t+"\" was successfully exported.",{width:"50%"});F.byId(C.EXPORT_FRAGMENT_ID,"exportDialog").close();};
b.prototype.openHelp=function(){D.openTopic("3fc864acf926406194744375aa464fe7");};
b.prototype._reportImportFileError=function(m,e){var E=F.byId(C.IMPORT_FRAGMENT_ID,"fileError"),f=F.byId(C.IMPORT_FRAGMENT_ID,"fileUpload"),o=F.byId(C.IMPORT_FRAGMENT_ID,"fileName"),i=F.byId(C.IMPORT_FRAGMENT_ID,"importBtn");E.setText(m).setVisible(true);o.addStyleClass("sapUiSupportToolError");this.oModel.setProperty("/currentImportData",{fileName:e||f.getValue()});i.setEnabled(false);};
b.prototype._isAlreadyImported=function(p){var e=this.oModel.getProperty("/selectionPresets"),E=e.some(function(o){return o.id===p;});if(E){F.byId(C.IMPORT_FRAGMENT_ID,"duplicateIdError").setText("A preset with ID '"+p+"' is already imported.").setVisible(true);F.byId(C.IMPORT_FRAGMENT_ID,"presetId").addStyleClass("sapUiSupportToolError");return true;}else{return false;}};
b.prototype._clearImportErrors=function(){F.byId(C.IMPORT_FRAGMENT_ID,"fileError").setText("").setVisible(false);F.byId(C.IMPORT_FRAGMENT_ID,"fileName").removeStyleClass("sapUiSupportToolError");F.byId(C.IMPORT_FRAGMENT_ID,"duplicateIdError").setText("").setVisible(false);F.byId(C.IMPORT_FRAGMENT_ID,"presetId").removeStyleClass("sapUiSupportToolError");};
b.prototype._tryParseImportFile=function(f){var o={};var i="The file cannot be uploaded. Please, choose an \"application/json\" file exported from the Support Assistant.";try{o=JSON.parse(f);}catch(e){this._reportImportFileError(i);return false;}var E=[];if(!P.isValidSelectionImport(o,E)){this._reportImportFileError(i);return false;}o.fileName=F.byId(C.IMPORT_FRAGMENT_ID,"fileUpload").getValue();return o;};
b.prototype._importPreset=function(i){var s=this.oModel.getProperty("/selectionPresets"),e=this.oModel.getProperty("/customPresets");var p={"id":i.id,"title":i.title,"description":i.description,"dateExported":i.dateExported,"version":i.version,"selections":i.selections};s.forEach(function(o){o.selected=false;});p.selected=true;p.isCustomPreset=true;s.push(p);e.push(d({},p));if(P.isPersistingAllowed()){P.persistCustomPresets();}this._applyPreset(p);};
b.prototype._applyPreset=function(p){this.oModel.setProperty("/selectionPresetsCurrent",p);S.setSelectedRules(p.selections);if(P.isPersistingAllowed()){P.persistSelectionPresets();}};
b.prototype.grouper=function(o){if(o.getProperty("isSystemPreset")){return C.PRESET_GROUP_SYSTEM;}if(o.getProperty("isCustomPreset")){return C.PRESET_GROUP_CUSTOM;}return C.PRESET_GROUP_NONE;};
b.prototype.getGroupHeader=function(g){var v=!(g.key===C.PRESET_GROUP_NONE);return new G({title:g.key,visible:v}).addStyleClass("sapUiSupportToolGHLI");};
return b;});
sap.ui.predefine('sap/ui/support/supportRules/ui/external/ElementTree',["sap/base/Log","sap/ui/thirdparty/jquery"],function(L,q){"use strict";
function _(h){return(typeof h==="object"&&!Array.isArray(h)&&h!==null);}
function a(o){return"<ul "+o.attributes.join(" ")+">";}
function b(){return"</ul>";}
function c(o,h){var i="<li data-id=\""+o.id+"\" ";if(h){i+="issue";}i+=">";return i;}
function d(){return"</li>";}
function e(h,p){var i="<offset data-indent=\""+p+"\" >";if(h.content.length>0){i+="<arrow down=\"true\"></arrow>";}else{i+="<place-holder></place-holder>";}i+="</offset>";return i;}
function f(h,n){var s=h.name.split(".");var i=s[s.length-1];var j=h.name.replace(i,"");var k=(n>0)?"showNumbOfIssues":"hideNumbOfIssues";return"<tag data-search=\""+h.name+h.id+"\">"+"&#60;"+"<namespace>"+j+"</namespace>"+i+"<attribute>&#32;id=\"<attribute-value>"+h.id+"</attribute-value>\"</attribute>"+"&#62;"+"</tag>"+"<span class = "+k+">["+n+"  issue(s)] </span>";}
function g(h,p){while(h.nodeName!==p){if(h.nodeName==="CONTROL-TREE"){break;}h=h.parentNode;}return h;}
function E(i,h){var j=_(h);var o;if(j){o=h;}else{o={};}this._ElementTreeContainer=document.getElementById(i);this.onIssueCountClicked=o.onIssueCountClicked?o.onIssueCountClicked:function(){};this.onSelectionChanged=o.onSelectionChanged?o.onSelectionChanged:function(s){};this.onContextMenu=o.onContextMenu?o.onContextMenu:function(s){};this.onHoverChanged=o.onHoverChanged?o.onHoverChanged:function(k){};this.onMouseOut=o.onMouseOut?o.onMouseOut:function(){};this.onInitialRendering=o.onInitialRendering?o.onInitialRendering:function(){};this.filterOptions=q.extend({issues:true,namespaces:true,attributes:true,search:false},o.filter);this.setData(o.data);}
E.prototype.init=function(){if(!this._ElementTreeContainer){return;}this._createHTML();this._createHandlers();this.onInitialRendering();};
E.prototype.getData=function(){return this._data;};
E.prototype.setData=function(h){var o=this.getData();var i=_(h);if(i===false){L.warning("The parameter should be an Object");return;}if(JSON.stringify(o)===JSON.stringify(h)){return;}this._data=h;if(this._isFirstRendering===undefined){this.init();this._isFirstRendering=true;}else{this._createTree();}return this;};
E.prototype.setContainerId=function(i){this._ElementTreeContainer=document.getElementById(i);this.init();};
E.prototype.getSelectedElement=function(){return this._selectedElement;};
E.prototype.setSelectedElement=function(h,n){var s;if(typeof h!=="string"){L.warning("Please use a valid string parameter");return;}s=this._ElementTreeContainer.querySelector("[data-id='"+h+"']");if(s===null){L.warning("The selected element is not a child of the ElementTree");return;}this._selectedElement=s;this._selectTreeElement(s,n);return this;};
E.prototype.clearSelection=function(){var s=this._ElementTreeContainer.querySelector("[selected]");if(s){s.removeAttribute("selected");}};
E.prototype._createHTML=function(){var h;h=this._createFilter();h+=this._createTreeContainer();this._ElementTreeContainer.innerHTML=h;this._setReferences();if(this.getData()!==undefined){this._createTree();}};
E.prototype._createFilter=function(){return"<filter>"+"<end>"+(this.filterOptions.search?"<input type=\"text\" search placeholder=\"Search by ID or type\">":"")+(this.filterOptions.search?"<label><input type=\"checkbox\" filter>Filter results <results>(0)</results></label>":"")+(this.filterOptions.issues?"<label><input type=\"checkbox\" issues checked>Issues</label>":"")+(this.filterOptions.namespaces?"<label><input type=\"checkbox\" namespaces checked>Namespaces</label>":"")+(this.filterOptions.attributes?"<label><input type=\"checkbox\" attributes>Attributes</label>":"")+"</end>"+"</filter>";};
E.prototype._createTreeContainer=function(){return"<tree show-namespaces show-problematic-elements></tree>";};
E.prototype._createTree=function(){var h=this.getData().controls;this._treeContainer.innerHTML=this._createTreeHTML(h);this._provideIndentation();};
E.prototype._provideIndentation=function(){var o=this._treeContainer.getElementsByTagName("offset"),O,i;for(i=0;i<o.length;i++){O=o[i];if(O.dataset&&O.dataset.indent){O.style.paddingLeft=O.dataset.indent+"px";}}};
E.prototype._createTreeHTML=function(h,l){if(h===undefined||h.length===0){return"";}var i="";var n=l||0;var p=++n*10;var t=this;var j=this.getData().issuesIds;h.forEach(function(k){i+=a({attributes:["expanded=\"true\""]});var m=j&&j[k.id]!==undefined?true:false;var o=m?j[k.id].length:0;i+=c({id:k.id},m);i+=e(k,p);i+=f(k,o);i+=d();i+=t._createTreeHTML(k.content,n);i+=b();});return i;};
E.prototype._toggleCollapse=function(t){var h=g(t.parentNode,"UL");if(t.getAttribute("right")==="true"){t.removeAttribute("right");t.setAttribute("down","true");h.setAttribute("expanded","true");}else if(t.getAttribute("down")==="true"){t.removeAttribute("down");h.removeAttribute("expanded");t.setAttribute("right","true");}};
E.prototype._selectTreeElement=function(t,n){var h=g(t,"LI");var i=h.attributes["data-id"];if(!i){return;}var j=i.value;if(j===this._ElementTreeContainer.id){return;}this._scrollToElement(h,window);if(n){this.onSelectionChanged(j);}this.clearSelection();h.setAttribute("selected","true");if(n){this.onIssueCountClicked(j);}};
E.prototype._scrollToElement=function(t,w){var h=this._treeContainer.offsetHeight-this._treeContainer.offsetTop+this._treeContainer.scrollTop;if(t.offsetTop>h||t.offsetTop<this._treeContainer.scrollTop){this._treeContainer.scrollTop=t.offsetTop-w.innerHeight/6;}};
E.prototype._searchInTree=function(u){var s=this._ElementTreeContainer.querySelectorAll("[data-search]");var h=u.toLocaleLowerCase();var j;for(var i=0;i<s.length;i++){j=s[i].getAttribute("data-search").toLocaleLowerCase();if(j.indexOf(h)!==-1){s[i].parentNode.setAttribute("matching",true);}else{s[i].parentNode.removeAttribute("matching");}}};
E.prototype._removeAttributesFromSearch=function(){var h=this._treeContainer.querySelectorAll("[matching]");for(var i=0;i<h.length;i++){h[i].removeAttribute("matching");}};
E.prototype._setSearchResultCount=function(h){this._filterContainer.querySelector("results").innerHTML="("+h+")";};
E.prototype._onArrowClick=function(h){var $=q(h.target);var n=$.prop("nodeName");if(n==="ARROW"){this._toggleCollapse(h.target);}else{this._selectTreeElement(h.target,true);}};
E.prototype._onContextMenu=function(h){h.preventDefault();var n=q(h.target).prop("nodeName");if(n!=="ARROW"){var t=g(h.target,"LI");var i=t.attributes["data-id"];if(i){this.clearSelection();t.setAttribute("selected","true");this.onContextMenu({domElementId:i.value,location:{x:h.pageX,y:h.pageY}});}}};
E.prototype._onSearchInput=function(h){var t=h.target;var s;if(t.getAttribute("search")!==null){if(t.value.length!==0){this._searchInTree(t.value);}else{this._removeAttributesFromSearch("matching");}s=this._treeContainer.querySelectorAll("[matching]").length;this._setSearchResultCount(s);}};
E.prototype._onSearchEvent=function(h){var s;if(h.target.value.length===0){this._removeAttributesFromSearch("matching");s=this._treeContainer.querySelectorAll("[matching]").length;this._setSearchResultCount(s);}};
E.prototype._onOptionsChange=function(h){var t=h.target;if(t.getAttribute("filter")!==null){if(t.checked){this._treeContainer.setAttribute("show-filtered-elements",true);}else{this._treeContainer.removeAttribute("show-filtered-elements");var s=this._ElementTreeContainer.querySelector("[selected]");if(s){this._scrollToElement(s,window);}}}if(t.getAttribute("issues")!==null){if(t.checked){this._treeContainer.setAttribute("show-problematic-elements",true);}else{this._treeContainer.removeAttribute("show-problematic-elements");}}if(t.getAttribute("namespaces")!==null){if(t.checked){this._treeContainer.setAttribute("show-namespaces",true);}else{this._treeContainer.removeAttribute("show-namespaces");}}if(t.getAttribute("attributes")!==null){if(t.checked){this._treeContainer.setAttribute("show-attributes",true);}else{this._treeContainer.removeAttribute("show-attributes");}}};
E.prototype._onTreeElementMouseHover=function(h){var t=g(h.target,"LI");var i=this._ElementTreeContainer.querySelector("[hover]");if(i){i.removeAttribute("hover");}t.setAttribute("hover","true");var j=t.attributes["data-id"];this.onHoverChanged(j&&j.value);};
E.prototype._onTreeElementMouseOut=function(h){this.onMouseOut();};
E.prototype._createHandlers=function(){this._treeContainer.onclick=this._onArrowClick.bind(this);this._treeContainer.oncontextmenu=this._onContextMenu.bind(this);this._filterContainer.onkeyup=this._onSearchInput.bind(this);this._filterContainer.onsearch=this._onSearchEvent.bind(this);this._filterContainer.onchange=this._onOptionsChange.bind(this);this._ElementTreeContainer.onmouseover=this._onTreeElementMouseHover.bind(this);this._ElementTreeContainer.onmouseout=this._onTreeElementMouseOut.bind(this);};
E.prototype._setReferences=function(){this._filterContainer=this._ElementTreeContainer.querySelector("filter");this._treeContainer=this._ElementTreeContainer.querySelector("tree");};
return E;});
sap.ui.predefine('sap/ui/support/supportRules/ui/external/Highlighter',[],function(){"use strict";var H=function(i){this._sId=i;this._highLighter=document.getElementById(this._sId)||null;};
H.prototype.highlight=function(e){if(this._highLighter){this.showHighLighter();}else{this._createHighLighter();}var h=this._highLighter.firstElementChild;var t=document.getElementById(e);if(t){var a=t.getBoundingClientRect();h.style.top=a.top+"px";h.style.left=a.left+"px";h.style.height=a.height+"px";h.style.width=a.width+"px";}return this;};
H.prototype.hideHighLighter=function(){this._highLighter.style.display="none";};
H.prototype.showHighLighter=function(){this._highLighter.style.display="block";};
H.prototype._createHighLighter=function(){var h=document.createElement("div");h.style.cssText="box-sizing: border-box;border:1px solid blue;background: rgba(20, 20, 200, 0.4);position: absolute";var a=document.createElement("div");a.id=this._sId;a.style.cssText="position: fixed;top:0;right:0;bottom:0;left:0;z-index: 1000;overflow: hidden;";a.appendChild(h);document.body.appendChild(a);a.onmousemove=this.hideHighLighter.bind(this);this._highLighter=a;};
return H;});
sap.ui.predefine('sap/ui/support/supportRules/ui/models/Documentation',["sap/base/Log","sap/base/util/Version","sap/ui/thirdparty/jquery","sap/m/library","sap/ui/VersionInfo"],function(L,V,q,l,a){"use strict";var D={openTopic:function(t){a.load({library:"sap.ui.core"}).then(function(c){var u="",v="",f=c.version,m=V(f).getMajor(),M=V(f).getMinor(),o=window.location.origin;if(M%2!==0){M--;}v+=String(m)+"."+String(M);if(o.indexOf("veui5infra")!==-1){u=o+"/sapui5-sdk-internal/#/topic/"+t;}else{u=o+"/demokit-"+v+"/#/topic/"+t;}this._redirectToUrlWithFallback(u,t);}.bind(this));},_redirectToUrlWithFallback:function(u,t){this._pingUrl(u).then(function s(){l.URLHelper.redirect(u,true);},function e(){L.info("Support Assistant tried to load documentation link in "+u+"but fail");u="https://ui5.sap.com/#/topic/"+t;l.URLHelper.redirect(u,true);});},_pingUrl:function(u){return q.ajax({type:"HEAD",async:true,context:this,url:u});}};return D;});
sap.ui.predefine('sap/ui/support/supportRules/ui/models/PresetsUtils',["sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/ui/models/SelectionUtils","sap/ui/support/supportRules/ui/models/SharedModel","sap/ui/core/util/File","sap/base/util/extend","sap/ui/support/library"],function(S,c,a,b,F,e,l){"use strict";var P={model:b,getSystemPresets:function(){var s=[],k;for(k in l.SystemPresets){s.push(l.SystemPresets[k]);}return s;},initializeSelectionPresets:function(s){if(this.model.getProperty("/persistingSettings")){var p=S.getSelectionPresets();if(p){this.model.setProperty("/selectionPresets",p);}}var d=this.model.getProperty("/selectionPresets"),L=0;this.getSystemPresets().forEach(function(f){var i=d.some(function(g){if(f.id===g.id){if(!g.isModified){var I=g.selected;g=e({},f);g.selected=I;if(I){a.setSelectedRules(g.selections);}}return true;}});if(!i){var m={disableDelete:true,isSystemPreset:true};d.splice(L+1,0,e(m,f));}L++;});var o=null;d.some(function(C){if(C.selected){o=C;return true;}});if(o.isMySelection){o.selections=s;}this.model.setProperty("/selectionPresetsCurrent",o);},syncCurrentSelectionPreset:function(s){var p=this.model.getProperty("/selectionPresetsCurrent");p.selections=s;if(!(p.isModified||p.isMySelection)){p.isModified=true;p.title=p.title+" *";}this.model.setProperty("/selectionPresetsCurrent",p);if(P.isPersistingAllowed()){P.persistSelectionPresets();}},exportSelectionsToFile:function(i,t,d,s){var r={id:i,title:t,description:d,dateExported:(new Date()).toISOString(),version:"1.0",selections:s};var E=JSON.stringify(r);F.save(E,c.RULE_SELECTION_EXPORT_FILE_NAME,'json','text/plain');},isValidSelectionImport:function(I){var d=true;if(!I.hasOwnProperty("title")){d=false;}if(!I.hasOwnProperty("selections")){d=false;}else if(!Array.isArray(I.selections)){d=false;}else{for(var i=0;i<I.selections.length;i++){var r=I.selections[i];if(!r.hasOwnProperty("ruleId")||!r.hasOwnProperty("libName")){d=false;break;}}}return d;},persistSelectionPresets:function(){S.setSelectionPresets(this.model.getProperty("/selectionPresets"));},persistCustomPresets:function(){S.setCustomPresets(this.model.getProperty("/customPresets"));},isPersistingAllowed:function(){return!!S.readPersistenceCookie(c.COOKIE_NAME);},loadCustomPresets:function(){var p=S.getCustomPresets();if(p){this.model.setProperty("/customPresets",p);}}};return P;});
sap.ui.predefine('sap/ui/support/supportRules/ui/models/SelectionUtils',["sap/base/util/deepExtend","sap/ui/support/supportRules/Constants","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/ui/models/SharedModel"],function(d,C,S,a){"use strict";var b={model:a,getRulesSelectionState:function(){var m=this.treeTable.getBinding().getModel(),r=m.getData(),s=[];Object.keys(r).forEach(function(R){r[R].nodes.forEach(function(o){s.push({ruleId:o.id,selected:o.selected,libName:o.libName});});});return s;},getSelectedRules:function(){var m=this.treeTable.getBinding().getModel(),r=m.getData(),s=[];if(!r){return;}Object.keys(r).forEach(function(R){r[R].nodes.forEach(function(o){if(o.selected){s.push({ruleId:o.id,libName:o.libName});}});});this.model.setProperty("/selectedRulesCount",s.length);return s;},updateSelectedRulesFromLocalStorage:function(t){var s=S.getSelectedRules();if(!s){return null;}if(!t){return null;}s.forEach(function(r){Object.keys(t).forEach(function(k){t[k].nodes.forEach(function(R){if(R.id===r.ruleId){R.selected=r.selected;if(!R.selected){t[k].selected=false;}}});});});return t;},persistSelection:function(){var s=this.getRulesSelectionState();S.setSelectedRules(s);},setSelectedRules:function(s){var r=d({},this.treeTable.getModel("ruleSets").getData());Object.keys(r).forEach(function(k){r[k].nodes.forEach(function(R){R.selected=false;});});s.forEach(function(R){Object.keys(r).forEach(function(k){r[k].nodes.forEach(function(o){if(o.id===R.ruleId){o.selected=true;}});});});this.treeTable.getModel("ruleSets").setData(r);this.treeTable.syncParentNodeSelectionWithChildren(this.treeTable.getModel("ruleSets"));this.treeTable.updateSelectionFromModel();this.getSelectedRules();if(S.readPersistenceCookie(C.COOKIE_NAME)){this.persistSelection();}},_syncSelectionAdditionalRuleSetsMainModel:function(r,R){Object.keys(r).forEach(function(k){Object.keys(R).forEach(function(k){if(r[k].id===R[k].id){r[k]=R[k];}});});},_deselectAdditionalRuleSets:function(r,A){if(!A){return;}A.forEach(function(R){Object.keys(r).forEach(function(k){if(r[k].name===R){r[k].selected=false;r[k].nodes.forEach(function(o){o.selected=false;});}});});}};return b;});
sap.ui.predefine('sap/ui/support/supportRules/ui/models/SharedModel',["sap/ui/support/library","sap/ui/support/supportRules/Storage","sap/ui/support/supportRules/util/EvalUtils","sap/ui/model/json/JSONModel"],function(l,S,E,J){"use strict";var A=l.Audiences,C=l.Categories,a=l.Severity,e={global:{key:"global",displayName:"Global",description:"The Rules will be / are executed on the complete application with all loaded elements and components, including all previously loaded pages"},subtree:{key:"subtree",displayName:"Sub-tree",description:"The Rules will be / are executed on the specified sub-tree root element, including all child elements (aggregated sub-elements)"},components:{key:"components",displayName:"Component(s)",description:"The Rules will be / are executed on the selected components from the list of currently loaded components (or fragments)"}};var m=new J({selectedRule:null,libraries:null,selectedIssue:null,issues:[],progress:0.1,showProgressIndicator:false,coreStateChanged:true,analyzePressed:false,selectedRulePreviewKey:"ruleProperties",selectedRuleCreateKey:"ruleProperties",selectedRuleEditKey:"ruleProperties",selectedSetPreviewKey:"availableRules",newRule:{},newRuleStringified:"",updateRuleStringified:"",subtreeExecutionContextId:"",availableComponents:[],audiences:A,categories:C,severities:a,audiencesFilter:["All"].concat(Object.keys(A)),categoriesFilter:["All"].concat(Object.keys(C)),severitiesFilter:["All"].concat(Object.keys(a)),newEmptyRule:{libName:"",id:"",categories:[C.Other],audiences:[A.Internal],title:"",description:"",resolution:"",resolutionurls:[],check:"function (oIssueManager, oCoreFacade, oScope) {\n\t/* \n\t oIssueManager - allows you to add new issues with the addIssue() method \n\t oCoreFacade - gives you access to state of the core: getMetadata(), getUIAreas(), getComponents(), getModels() \n\t oScope - retrieves elements in the scope with these methods: getElements(), getElementsByClassName(className), getLoggedObjects(type) \n\t fnResolve - optional, passed when the rule property async is set to true \n\t*/ \n}",selected:true,async:false},editRule:null,tempLink:{href:"",text:""},resolveDescription:"Make sure to resolve your async rule by using the passed fnResolve function",selectedRuleStringify:"",analyzeContext:e.global,executionScopes:e,executionScopeTitle:"Execution scope",lastAnalysisElapsedTime:"",analysisDurationTitle:"Last analysis duration",constants:"",executionScopeComponents:[],persistingSettings:false,loadingAdditionalRuleSets:false,analyzedFinish:false,selectedRules:true,filteredIssues:null,issuesCount:0,selectedRulesCount:0,visibleRowCount:5,supportAssistantOrigin:"",supportAssistantVersion:"",initialRulesLoading:true,selectionPresets:[{id:"MySelectionPreset",title:"My Selection",description:"My Current/Last Selection",isMySelection:true,selected:true,disableDelete:true}],customPresets:[],selectionPresetsCurrent:null,tempRulesDisabled:!E.isEvalAllowed(),tempRulesDisabledWarned:!!S.getTempRulesDisabledWarned()});return m;});
sap.ui.predefine('sap/ui/support/supportRules/ui/models/formatter',["sap/ui/support/supportRules/Constants"],function(c){"use strict";return{resolutionUrl:function(u,U){var s=u.indexOf(U)===u.length-1?"":", \u00a0";return U.text+s;},hasResolutionUrls:function(u){if(u&&u.length>0){return true;}return false;},filteredText:function(s,a,b,e){var r="Filtered by: ";r+=s===c.FILTER_VALUE_ALL?"":"Severity - "+s+";";r+=a===c.FILTER_VALUE_ALL?"":" Category    - "+a+";";r+=b===c.FILTER_VALUE_ALL?"":" Audience - "+b+";";r+=e===c.FILTER_VALUE_ALL?"":" Control Element - "+e+";";return r;}};});
sap.ui.predefine('sap/ui/support/supportRules/util/RuleValidator',[],function(){'use strict';var R={validateVersion:function(v){if(!v||typeof v!=='string'){return false;}var a=/^\*$|^\-$|^\d\.\d\d$/;if(v.match(a)){return true;}return false;},validateRuleCollection:function(e,E){if(e&&Array.isArray(e)&&e.length){for(var i=0;i<e.length;i++){if(E.hasOwnProperty(e[i])){continue;}else{return false;}}return true;}return false;},validateId:function(i){var a=/^[a-z][a-zA-Z]+$/;if(!i||typeof i!=='string'){return false;}if(i.match(a)&&this.validateStringLength(i,6,50)){return true;}return false;},validateStringLength:function(s,m,M){return m<=s.length&&s.length<=M;}};return R;});
sap.ui.predefine('sap/ui/support/supportRules/util/StringAnalyzer',[],function(){"use strict";var S={calculateLevenshteinDistance:function(w,W){var l=w.length;var L=W.length;if(l===0){return L;}if(L===0){return l;}var m=new Array(L+1);var i;for(i=0;i<=L;i++){m[i]=new Array(l+1);m[i][0]=i;}var I;for(I=0;I<=l;I++){m[0][I]=I;}var a=0;var b;var c;for(b=1;b<=L;b++){for(c=1;c<=l;c++){var d=m[b-1][c]+1;var e=m[b][c-1]+1;var s=m[b-1][c-1];if(w[c]!==W[b]){s+=1;}a=Math.min(d,e,s);m[b][c]=a;}}return a;}};return S;});
sap.ui.predefine('sap/ui/support/supportRules/util/Utils',["sap/ui/thirdparty/jquery"],function(q){"use strict";var i=sap.ui.require.toUrl("sap/ui/support").replace(/(^|\/)resources\//,"$1test-resources/")+"/internal/.ping";var U={bCanLoadInternalRules:null,isDistributionOpenUI5:function(v){var r=false,f="";try{f=v.gav?v.gav:v.name;r=f.indexOf('openui5')!==-1?true:false;}catch(e){return r;}return r;},canLoadInternalRules:function(){var t=this;if(t.bCanLoadInternalRules!==null){return t.bCanLoadInternalRules;}q.ajax({type:"HEAD",async:false,url:i,success:function(){t.bCanLoadInternalRules=true;},error:function(){t.bCanLoadInternalRules=false;}});return t.bCanLoadInternalRules;},canLoadInternalRulesAsync:function(){var t=this;var I=new Promise(function(r){if(t.bCanLoadInternalRules!==null){r(t.bCanLoadInternalRules);return;}q.ajax({type:"HEAD",url:i,success:function(){t.bCanLoadInternalRules=true;r(t.bCanLoadInternalRules);},error:function(){t.bCanLoadInternalRules=false;r(t.bCanLoadInternalRules);}});});return I;},generateUuidV4:function(){var u='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(p){var r=Math.random()*16|0;if(p==='y'){r=r&0x3|0x8;}return r.toString(16);});return u;}};return U;});
sap.ui.require.preload({
	"sap/ui/support/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.support","type":"library","embeds":[],"applicationVersion":{"version":"1.102.1"},"title":"UI5 library: sap.ui.support","description":"UI5 library: sap.ui.support","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.102","libs":{"sap.ui.core":{"minVersion":"1.102.1"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":["sap.ui.support.Severity"],"interfaces":[]}}}}',
	"sap/ui/support/supportRules/ui/views/Analysis.view.xml":'<mvc:View controllerName="sap.ui.support.supportRules.ui.controllers.Analysis" height="100%" xmlns="sap.ui.table" xmlns:m="sap.m" xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc" xmlns:t="sap.ui.table" xmlns:layout="sap.ui.layout"><m:NavContainer id="rulesNavContainer" autoFocus="{= ${/tempRulesDisabled} === ${/tempRulesDisabledWarned} }"><l:Splitter id="rulesDisplayPage"><l:contentAreas><m:Page showHeader="true" showSubHeader="{= ${/selectedSetPreviewKey} === \'availableRules\' }"><m:headerContent><m:Bar><m:contentMiddle><m:HBox fitContainer="true" renderType="Bare" class="customHBox"><m:items><m:IconTabHeader id="ruleSetsView" select="onSelectedRuleSets" selectedKey="{/selectedSetPreviewKey}" class="customIconTabHeader"><m:layoutData><m:FlexItemData growFactor="1" minWidth="0"/></m:layoutData><m:items><m:IconTabFilter id="availableRulesId" key="availableRules" text="Available Rulesets"/><m:IconTabFilter key="additionalRulesets" text="Additional Rulesets"/></m:items></m:IconTabHeader><m:Button class="supportAnalyzeButton" text="Analyze" press="onAnalyze" type="Emphasized"/><m:Button class="supportSettingsButton" icon="sap-icon://settings" press="onAnalyzeSettings" type="Emphasized"/></m:items></m:HBox></m:contentMiddle></m:Bar></m:headerContent><m:subHeader><m:Bar><m:contentLeft><m:HBox renderType="Bare" width="100%"><m:Label text="Rule Preset:" labelFor="presetVariant" class="presetVariantLabel"><m:layoutData><m:FlexItemData shrinkFactor="0"/></m:layoutData></m:Label><m:HBox id="presetVariant" class="sapUiSupportToolVariantCont" renderType="Bare"><m:layoutData><m:FlexItemData growFactor="1" minWidth="0"/></m:layoutData><m:FormattedText id="presetVariantTxt" class="sapUiSupportToolVariantTxt" htmlText="{= ${/selectionPresetsCurrent/isModified} ?                 \'&lt;em&gt;\' + ${/selectionPresetsCurrent/title} + \'&lt;/em&gt;\' :                 ${/selectionPresetsCurrent/title} }" tooltip="Select a Rule Preset"/><m:Button id="presetVariantBtn" icon="sap-icon://slim-arrow-down" class="sapUiSupportToolVariantBtn" tooltip="Select a Rule Preset"><m:layoutData><m:FlexItemData shrinkFactor="0"/></m:layoutData></m:Button></m:HBox></m:HBox></m:contentLeft><m:contentRight><m:Button id="createRuleBtn" text="Create Rule" icon="sap-icon://add" visible="{= !${/tempRulesDisabled}}" press="createNewRulePress"/></m:contentRight></m:Bar></m:subHeader><t:TreeTable id="ruleList" selectionMode="MultiToggle" rows="{path:\'ruleSets&gt;/\',parameters:{numberOfExpandedLevels:1}}" collapseRecursive="false" enableColumnReordering="false" cellClick="onCellClick" class="sapUiSizeCondensed" visibleRowCountMode="Auto" selectionBehavior="RowSelector" rowActionCount="1" visible="{= ${/selectedSetPreviewKey} === \'availableRules\' }" showColumnVisibilityMenu="true" columnVisibility="onColumnVisibilityChange"><t:columns><t:Column id="rulesColumn" label="Rules ({/selectedRulesCount} selected)" sortProperty="name" filterProperty="name"><t:template><m:Text text="{ruleSets&gt;name}" wrapping="false"/></t:template></t:Column><t:Column id="categoriesColumn" label="Categories" width="10rem" sortProperty="categories" filterProperty="categories"><t:template><m:Text text="{ruleSets&gt;categories}" wrapping="false"/></t:template></t:Column><t:Column id="audienceColumn" label="Audience" visible="false" sortProperty="audiences" filterProperty="audiences"><t:template><m:Text text="{ruleSets&gt;audiences}" wrapping="false"/></t:template></t:Column><t:Column id="idsColumn" label="RuleID" width="10rem" visible="false" sortProperty="id" filterProperty="id"><t:template><m:Text text="{ruleSets&gt;id}" wrapping="false"/></t:template></t:Column></t:columns><t:rowActionTemplate><t:RowAction id="rowActionTemplate"><t:items><t:RowActionItem icon="sap-icon://edit" text="Edit" press="editRule" visible="{= ${ruleSets&gt;libName} === \'temporary\'}"/><t:RowActionItem icon="sap-icon://delete" text="Delete" press="deleteTemporaryRule" visible="{= ${ruleSets&gt;libName} === \'temporary\'}"/><t:RowActionItem icon="sap-icon://copy" text="Copy" press="duplicateRule" visible="{= !${/tempRulesDisabled} &amp;&amp; ${ruleSets&gt;libName} !== \'temporary\' &amp;&amp; ${ruleSets&gt;type} !== \'lib\'}"/></t:items></t:RowAction></t:rowActionTemplate></t:TreeTable><l:VerticalLayout id="librarySetContainer" width="100%" visible="{= ${/selectedSetPreviewKey} === \'additionalRulesets\' }"><m:Text class="sapUiSupportToolAdditionRuleSetNote" text="The list of available rules is dynamic and changes based on the libraries currently required by your application.         In the table below, you can select and load rulesets from the additional libraries."/><m:Link class="sapUiSupportToolAdditionRuleSetNote" text="See more here" href="https://ui5.sap.com/#/topic/3fc864acf926406194744375aa464fe7" target="_blank"/><m:List id="availableLibrariesSet" mode="MultiSelect" includeItemInSelection="true" items="{path:\'/availableLibrariesSet\'}"><m:StandardListItem title="{}"/></m:List><m:Button class="customMargin" text="Load" type="Emphasized" press="loadMarkedSupportLibraries"/></l:VerticalLayout></m:Page></l:contentAreas></l:Splitter></m:NavContainer></mvc:View>',
	"sap/ui/support/supportRules/ui/views/AnalyzeSettings.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core"><Popover title="{/executionScopeTitle}" contentMinWidth="250px" class="sapUiContentPadding" beforeOpen="onBeforePopoverOpen" placement="Bottom"><content><VBox><RadioButton groupName="analyzeContext" text="{/executionScopes/global/displayName}" select="onContextSelect" selected="{= ${/analyzeContext/key} === \'global\'}" tooltip="{/executionScopes/global/description}"><customData><core:CustomData key="analyzeContext" value="global"/></customData></RadioButton><RadioButton groupName="analyzeContext" text="{/executionScopes/subtree/displayName}" select="onContextSelect" selected="{= ${/analyzeContext/key} === \'subtree\'}" tooltip="{/executionScopes/subtree/description}"><customData><core:CustomData key="analyzeContext" value="subtree"/></customData></RadioButton><l:VerticalLayout class="sapUiSupportToolSettingsPopoverPadding"><Input placeholder="Input sub-root ID" enabled="{= ${/analyzeContext/key} === \'subtree\'}" value="{/subtreeExecutionContextId}" width="300px" liveChange="onExecutionContextChange"/></l:VerticalLayout><RadioButton groupName="analyzeContext" text="{/executionScopes/components/displayName}" select="onContextSelect" selected="{= ${/analyzeContext/key} === \'components\'}" tooltip="{/executionScopes/components/description}"><customData><core:CustomData key="analyzeContext" value="components"/></customData></RadioButton><l:VerticalLayout id="componentsSelectionContainer" content="{/executionScopeComponents}" class="sapUiSupportToolSettingsPopoverPadding"><CheckBox text="{text}" enabled="{= ${/analyzeContext/key} === \'components\'}" select="onScopeComponentSelect" selected="{selected}"/></l:VerticalLayout></VBox></content></Popover></core:FragmentDefinition>',
	"sap/ui/support/supportRules/ui/views/Issues.view.xml":'<mvc:View xmlns="sap.m" controllerName="sap.ui.support.supportRules.ui.controllers.Issues" height="100%" xmlns:l="sap.ui.layout" xmlns:tnt="sap.tnt" xmlns:c="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:t="sap.ui.table" xmlns:mvc="sap.ui.core.mvc"><l:Splitter><l:contentAreas><Page class="sapUiSupportToolIssuesPage"><customHeader><Toolbar id="filtersBar" height="{/filterBarHeight}" class="sapUiSupportToolToolbar"><tnt:ToolHeader id="toolHeader" class="sapUiSupportToolIssueHeader" height="4rem" width="100%"><l:VerticalLayout><l:layoutData><OverflowToolbarLayoutData priority="Low"/></l:layoutData><Label text="Severity:" class="customMargin"/><Select id="severityFilter" change="updateIssuesVisibility" selectedKey="{/severityFilter}" items="{/severitiesFilter}" class="customMargin"><c:ListItem key="{}" text="{}"/></Select></l:VerticalLayout><l:VerticalLayout><l:layoutData><OverflowToolbarLayoutData priority="Low"/></l:layoutData><Label text="Category:" class="customMargin"/><Select id="categoryFilter" change="updateIssuesVisibility" selectedKey="{/categoryFilter}" items="{/categoriesFilter}" class="customMargin"><c:ListItem key="{}" text="{}"/></Select></l:VerticalLayout><l:VerticalLayout><l:layoutData><OverflowToolbarLayoutData priority="Low"/></l:layoutData><Label text="Audiences:" class="customMargin"/><Select id="audiencesFilter" change="updateIssuesVisibility" selectedKey="{/audienceFilter}" items="{/audiencesFilter}" class="customMargin"><c:ListItem key="{}" text="{}"/></Select></l:VerticalLayout><l:VerticalLayout><l:layoutData><OverflowToolbarLayoutData priority="Low"/></l:layoutData><Label text="" class="customMargin"/></l:VerticalLayout><ToolbarSpacer/></tnt:ToolHeader><l:VerticalLayout><Label text="" class="customMargin"/><MenuButton id="ReportMenuButton" text="Report" icon="sap-icon://order-status" visible="{= ${/analyzePressed}}"><menu><Menu itemSelected="onReportPress"><items><MenuItem text="View" press="onViewReport"/><MenuItem text="Download" press="onDownloadReport"/></items></Menu></menu></MenuButton></l:VerticalLayout></Toolbar></customHeader><subHeader><Toolbar id="messegeStrip"><FlexBox alignItems="Center" justifyContent="Start"><items><l:VerticalLayout><Text text="{= \'Displaying: \' + ${/visibleIssuesCount} + \' out of \' + ${/issuesCount} + \' (scope: \' + ${/analyzeContext/displayName} + \')\' }"/></l:VerticalLayout></items></FlexBox></Toolbar></subHeader><content><FlexBox alignItems="Center" justifyContent="End"><items><Text text="{parts:[\'/severityFilter\',\'/categoryFilter\',\'/audienceFilter\',\'/elementFilter\'],formatter:\'.formatter.filteredText\'}"><layoutData><FlexItemData growFactor="2"/></layoutData></Text><Button icon="sap-icon://clear-filter" press="clearFiltersAndElementSelection" enabled="{/bEnabledFilterButton}"><layoutData><FlexItemData growFactor="0"/></layoutData></Button></items></FlexBox><t:TreeTable id="issuesList" class="sapUiSupportToolIssuesTreeTable" selectionMode="Single" selectionBehavior="RowOnly" enableColumnReordering="false" expandFirstLevel="true" rows="{path:\'/issues\'}" rowSelectionChange="onRowSelectionChanged" rowHeight="24" visibleRowCountMode="Auto"><t:columns><t:Column label="Issues" resizable="false"><t:template><FormattedText htmlText="{formattedName}"/></t:template></t:Column></t:columns></t:TreeTable></content></Page><Page enableScrolling="false"><customHeader><Bar class="selectedRuleTitle"><contentLeft><Title text="{/selectedIssue/name}"/></contentLeft></Bar></customHeader><content><Panel visible="{= ${/selectedIssue} !== null}" height="100%"><Text text="{/selectedIssue/description}" class="sapUiTinyMarginBeginEnd sapUiTinyMarginBottom"/><t:Table rows="{path:\'/selectedIssue/issues\'}" selectionMode="Single" rowHeight="24" selectionBehavior="RowOnly" enableColumnReordering="false" visibleRowCount="{/visibleRowCount}" rowSelectionChange="onRowSelection" id="issueTable"><t:columns><t:Column width="36px" resizable="false"><t:template><c:Icon class="issuesSeverityIcon" color="{severityColor}" src="{severityIcon}"><c:layoutData><FlexItemData growFactor="1"/></c:layoutData></c:Icon></t:template></t:Column><t:Column sortProperty="context/id" filterProperty="context/id" label="Control Id" resizable="false"><t:template><Text text="{context/id}" wrapping="false" tooltip="{context/id}"/></t:template></t:Column><t:Column sortProperty="context/className" filterProperty="context/className" label="Class name" resizable="false"><t:template><Text text="{context/className}" wrapping="false" tooltip="{context/className}"/></t:template></t:Column></t:columns></t:Table><f:SimpleForm editable="true" visible="{= ${/visibleIssuesCount} &gt; 0}" layout="ResponsiveGridLayout" breakpointM="400"><f:content><Label text="Details"/><Text text="{/selectedIssue/details}" width="100%" visible="{= ${/selectedIssue/details} !== \'\'}"/><Label text="Resolution"/><Text text="{/selectedIssue/resolution}"/><Label text="URLs" visible="{parts:[\'/selectedIssue/resolutionUrls\'],formatter:\'.formatter.hasResolutionUrls\'}"/><HBox wrap="Wrap" items="{/selectedIssue/resolutionUrls}"><Link text="{parts:[\'/selectedIssue/resolutionUrls\',\'\'],formatter:\'.formatter.resolutionUrl\'}" press="openDocumentation"/></HBox></f:content></f:SimpleForm></Panel></content></Page><c:HTML id="elementTreeContainer" content="&lt;control-tree&gt;  &lt;/control-tree&gt;"/></l:contentAreas></l:Splitter></mvc:View>',
	"sap/ui/support/supportRules/ui/views/Main.view.xml":'<mvc:View height="100%" viewName="sap.ui.support.supportRules.ui.views.Main" controllerName="sap.ui.support.supportRules.ui.controllers.Main" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:l="sap.ui.layout" xmlns:c="sap.ui.core"><Page showHeader="false"><l:FixFlex><l:fixContent><Bar class="sapContrast" design="SubHeader" id="sapSTShowButtonBar"><contentMiddle><Text text="{/constants/SUPPORT_ASSISTANT_NAME}" class="STCustomHeaderInfo"/><c:Icon src="sap-icon://full-screen" press="toggleHide" class="STCustomHeaderInfo"/></contentMiddle></Bar><Bar id="supportAssistantHeader" class="sapContrast" design="SubHeader"><contentLeft><Image src="../ui/images/Logo_O_22x22.png" densityAware="false"/><Text text="{/constants/SUPPORT_ASSISTANT_NAME}" class="STCustomHeaderInfo"/></contentLeft><contentMiddle><FlexBox height="100%" width="500px" alignItems="Center" justifyContent="Center"><ProgressIndicator id="progressIndicator" percentValue="{/progress}" displayValue="None" showValue="true" state="Success" visible="{/showProgressIndicator}"><layoutData><FlexItemData growFactor="1"/></layoutData></ProgressIndicator><Text id="coreStateLabel" visible="{= ${/analyzePressed} === true &amp;&amp; ${/coreStateChanged} === true &amp;&amp; ${/showProgressIndicator} === false }" text="Application state has changed and issues view is not in sync. Analyze again. "/><Text id="elapsedTimeLabel" visible="{= ${/analyzePressed} === true &amp;&amp; ${/coreStateChanged} === false &amp;&amp; ${/showProgressIndicator} === false }" text="{/analysisDurationTitle}: {/lastAnalysisElapsedTime}"/><Text id="persistingSettingLbl" visible="{= ${/persistingSettings} === true &amp;&amp;  ${/analyzePressed} === false &amp;&amp; ${/showProgressIndicator} === false }" text="There are settings persisted from your previous session"/></FlexBox></contentMiddle><contentRight><Toolbar id="navToolbar"><Button id="issuesBtn" text="Issues ({/issuesCount})" enabled="{= ${/analyzedFinish} === true}" press="goToIssues"/><Button id="analysisBtn" text="Rules ({/selectedRulesCount})" press="goToAnalysis" type="Emphasized"/><c:Icon id="settingsIcon" src="sap-icon://settings" press="onSettings" class="STCustomHeaderInfo STHelpIcon sapUiTinyMargin"/><c:Icon src="sap-icon://sys-help" press="goToWiki" class="STCustomHeaderInfo STHelpIcon sapUiTinyMargin" tooltip="Open Documentation"/><c:Icon src="sap-icon://minimize" press="toggleHide" class="STCustomHeaderInfo sapUiTinyMargin" visible="{/hasNoOpener}"/><Button icon="sap-icon://down" press="resizeDown" visible="{/hasNoOpener}"/><Button icon="sap-icon://up" press="resizeUp" visible="{/hasNoOpener}"/></Toolbar></contentRight></Bar></l:fixContent><l:flexContent><NavContainer id="navCon"><mvc:XMLView id="analysis" viewName="sap.ui.support.supportRules.ui.views.Analysis" async="true"/></NavContainer></l:flexContent></l:FixFlex></Page></mvc:View>',
	"sap/ui/support/supportRules/ui/views/PresetExport.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><Dialog id="exportDialog" title="Export a Rule Preset" resizable="true" contentWidth="550px" contentHeight="250px"><f:SimpleForm editable="true" binding="{/currentExportData}" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="3"><f:content><Label text="Title" labelFor="title" class="sapUiTinyMarginBottom"/><Input id="title" required="true" value="{title}" maxLength="80" class="sapUiTinyMarginBottom" valueState="None" valueLiveUpdate="true"/><Label text="ID" labelFor="presetId" class="sapUiTinyMarginBottom"/><Input id="presetId" maxLength="50" valueState="None" class="sapUiTinyMarginBottom" placeholder="Enter a custom ID or a system one will be generated" value="{path:\'id\',type:\'sap.ui.model.type.String\',constraints:{search:\'^[a-zA-Z0-9\\\\.\\\\-\\\\_]*$\'}}"/><Label text="Description" labelFor="description" class="sapUiTinyMarginBottom"/><TextArea id="description" width="100%" value="{descriptionValue}" class="sapUiTinyMarginBottom"/><Label text="Date" labelFor="dateExportedForDisplay" class="sapUiTinyMarginBottom"/><Text id="dateExportedForDisplay" text="{path:\'dateExportedForDisplay\',type:\'sap.ui.model.type.DateTime\',formatOptions:{style:\'medium\'}}" class="sapUiTinyMarginBottom"/></f:content></f:SimpleForm><beginButton><Button id="cancel" text="Cancel" press="onExportCancelPress"/></beginButton><endButton><Button id="exportBtn" text="Export" type="Emphasized" press="onExportFinalizePress" class="sapUiTinyMarginEnd"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/ui/support/supportRules/ui/views/PresetImport.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns:unified="sap.ui.unified"><Dialog id="importDialog" title="Import a Rule Preset" beforeClose="onImportDialogClose" resizable="true" contentWidth="650px" contentHeight="400px"><f:SimpleForm editable="false" binding="{/currentImportData}" layout="ResponsiveGridLayout" labelSpanXL="4" labelSpanL="4" labelSpanM="4" labelSpanS="4"><f:content><Label text="Choose file" labelFor="fileUpload" class="sapUiTinyMarginTopBottom"/><unified:FileUploader id="fileUpload" buttonOnly="true" buttonText="Browse ..." change="onImportFileChange" typeMissmatch="onImportFileMismatch" fileType="json" mimeType="application/json" class="sapUiTinyMarginBottom"/><Label text="File" labelFor="fileName" class="sapUiTinyMarginBottom"/><VBox class="sapUiTinyMarginBottom"><HBox><Text id="fileName" text="{fileName}"/><Text id="rulesCount" text=" ({= ${selections} ? ${selections}.length : 0} rules selected)" visible="{= ${selections} ? true : false}" renderWhitespace="true"/></HBox><MessageStrip id="fileError" showIcon="true" type="Error" visible="false" class="sapUiTinyMarginTop"/></VBox><Label text="Title" labelFor="title" class="sapUiTinyMarginBottom"/><Text id="title" text="{title}" class="sapUiTinyMarginBottom"/><Label text="ID" labelFor="presetId" class="sapUiTinyMarginBottom"/><VBox class="sapUiTinyMarginBottom"><Text id="presetId" text="{id}"/><MessageStrip id="duplicateIdError" showIcon="true" type="Error" visible="false" class="sapUiTinyMarginTop"/></VBox><Label text="Date" labelFor="dateExported" class="sapUiTinyMarginBottom"/><Text id="dateExported" text="{path:\'dateExported\',type:\'sap.ui.model.type.DateTime\',formatOptions:{style:\'medium\'}}" class="sapUiTinyMarginBottom"/><Label text="Description" labelFor="description" class="sapUiTinyMarginBottom"/><ScrollContainer horizontal="false" vertical="true" class="sapUiSupportToolImportDescr sapUiTinyMarginBottom"><Text id="description" renderWhitespace="true" text="{description}"/></ScrollContainer></f:content></f:SimpleForm><beginButton><Button id="cancel" text="Cancel" press="onImportCancelPress"/></beginButton><endButton><Button id="importBtn" type="Emphasized" text="Import" enabled="false" press="onImportFinalizePress" class="sapUiTinyMarginEnd"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/ui/support/supportRules/ui/views/Presets.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ResponsivePopover id="presetsPopover" title="Selection Preset" placement="Bottom" contentWidth="400px" contentHeight="300px"><customHeader><Bar design="Header"><contentMiddle><Title id="rulePresetsTitle" text="Rule Presets"/></contentMiddle><contentRight><core:Icon id="help" width="18px" src="sap-icon://sys-help" decorative="false" press="openHelp"/></contentRight></Bar></customHeader><Page showHeader="false"><List id="select" items="{path:\'/selectionPresets\',sorter:{path:\'\',group:\'.grouper\'},groupHeaderFactory:\'.getGroupHeader\'}" itemPress="onPresetItemPress" selectionChange="onPresetChange" mode="SingleSelectMaster"><CustomListItem selected="{selected}" type="Active" tooltip="{description}"><HBox alignItems="Start" justifyContent="SpaceBetween"><FormattedText class="sapUiTinyMargin sapUiSupportToolPresetTitle" htmlText="{= ${isModified} ? \'&lt;em&gt;\' + ${title} + \'&lt;/em&gt;\' : ${title} }"/><HBox alignItems="Start" justifyContent="SpaceBetween" class="sapUiTinyMarginEnd"><Button id="undoButton" tooltip="Return to default selection" icon="sap-icon://refresh" type="Transparent" press="onPresetItemReset" visible="{= ${isModified} ? true : false}"/><Button tooltip="Delete Preset" icon="sap-icon://sys-cancel" type="Transparent" press="onPresetItemDelete" visible="{= ${disableDelete} ? false : true}"/></HBox></HBox></CustomListItem></List><footer><Toolbar><ToolbarSpacer/><Button id="presetImport" text="Import" press="onImportPress"/><Button id="presetExport" text="Export" press="onExportPress"/></Toolbar></footer></Page></ResponsivePopover></core:FragmentDefinition>',
	"sap/ui/support/supportRules/ui/views/RuleDetails.fragment.xml":'<core:FragmentDefinition xmlns:m="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:mvc="sap.ui.core.mvc" xmlns:t="sap.ui.table" xmlns:core="sap.ui.core" xmlns:tools="sap.ui.codeeditor"><m:Page id="ruleDetailsPage" showHeader="false" visible="{/showRuleProperties}"><m:Bar><m:contentLeft><m:HBox fitContainer="true" renderType="Bare" class="customHBox"><m:Title text="{= ${/selectedRule/libName} + \' &gt; \' + ${/selectedRule/title}}" visible="{= ${/selectedRule} !== undefined &amp;&amp; ${/selectedSetPreviewKey} !== \'additionalRulesets\'}" titleStyle="H6" class="customMarginLeft"/><m:IconTabHeader selectedKey="{/selectedRulePreviewKey}" class="customIconTabHeader"><m:layoutData><m:FlexItemData growFactor="1" minWidth="0"/></m:layoutData><m:items><m:IconTabFilter enabled="{= ${/selectedRule} !== undefined}" key="ruleProperties" text="Rule properties"/><m:IconTabFilter enabled="{= ${/selectedRule} !== undefined}" key="checkFunction" text="Check function"/><m:IconTabFilter enabled="{= ${/selectedRule} !== undefined}" key="jsonOutput" text="Code"/></m:items></m:IconTabHeader></m:HBox></m:contentLeft></m:Bar><f:SimpleForm visible="{= ${/selectedRule/type} !== \'library\'  &amp;&amp; ${/selectedRulePreviewKey} === \'ruleProperties\' &amp;&amp; ${/selectedRule} !== undefined &amp;&amp; ${/selectedSetPreviewKey} !== \'additionalRulesets\'}"><f:content><m:Label text="ID"/><m:Text id="ruleID" text="{/selectedRule/id}"/><m:Label text="Title"/><m:Text id="ruleTitle" text="{/selectedRule/title}"/><m:Label text="Async"/><m:Text id="ruleAsync" text="{= ${/selectedRule/async} === true }"/><m:Label text="Audiences"/><m:Text id="ruleAudience" text="{/selectedRule/audiences}"/><m:Label text="Categories"/><m:Text id="ruleCategory" text="{/selectedRule/categories}"/><m:Label text="Min version"/><m:Text id="ruleMinVersion" text="{/selectedRule/minversion}"/><m:Label text="Description"/><m:Text id="ruleDescription" text="{/selectedRule/description}"/><m:Label text="Resolution"/><m:Text id="ruleResolution" text="{/selectedRule/resolution}"/><m:Label text="Resolution URLs"/><l:VerticalLayout content="{/selectedRule/resolutionurls}"><m:Link target="_blank" text="{text}" href="{href}"/></l:VerticalLayout></f:content><f:layoutData><l:SplitterLayoutData size="40%"/></f:layoutData></f:SimpleForm><m:Panel width="100%" height="calc(100% - 2rem)" visible="{= ${/selectedRulePreviewKey} === \'checkFunction\' }"><tools:CodeEditor id="codeEditorPreview" syntaxHints="false" width="100%" height="100%" value="{/selectedRule/check}" editable="false"/></m:Panel><m:Panel width="100%" height="calc(100% - 2rem)" visible="{= ${/selectedRulePreviewKey} === \'jsonOutput\' }"><tools:CodeEditor id="codeEditorJson1" syntaxHints="false" width="100%" height="100%" value="{/selectedRuleStringify}" editable="false" type="javascript"/></m:Panel></m:Page></core:FragmentDefinition>',
	"sap/ui/support/supportRules/ui/views/RuleUpdate.fragment.xml":'<c:FragmentDefinition xmlns:m="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:mvc="sap.ui.core.mvc" xmlns:t="sap.ui.table" xmlns:c="sap.ui.core" xmlns:tools="sap.ui.codeeditor"><m:Page id="ruleUpdatePage" showHeader="false"><m:content><m:Bar><m:contentLeft><m:Button icon="sap-icon://arrow-left" press="goToRuleProperties" text="Back"/></m:contentLeft><m:contentMiddle><m:IconTabHeader select="rulesToolbarEditITHSelect" selectedKey="{/selectedRuleEditKey}" class="customIconTabHeader"><m:items><m:IconTabFilter key="ruleProperties" text="Rule properties"/><m:IconTabFilter key="checkFunction" text="Check function"/><m:IconTabFilter key="jsonOutput" text="Code"/></m:items></m:IconTabHeader></m:contentMiddle></m:Bar><f:SimpleForm visible="{= ${/selectedRuleEditKey} === \'ruleProperties\' }" editable="true"><f:content><m:Label text="ID"/><m:Input value="{/editRule/id}" required="true"/><m:Label text="Async"/><m:HBox><m:items><m:RadioButton groupName="asyncEditContext" text="true" selected="{= ${/editRule/async} === true }" select="onAsyncSwitch"><m:customData><c:CustomData key="asyncEditContext" value="true"/></m:customData></m:RadioButton><m:RadioButton groupName="asyncEditContext" text="false" selected="{= ${/editRule/async} !== true }" select="onAsyncSwitch"><m:customData><c:CustomData key="asyncEditContext" value="false"/></m:customData></m:RadioButton><c:Icon src="sap-icon://message-warning" class="sapUiSmallMarginBegin sapUiTinyMarginEnd" color="#E09D00" visible="{= ${/editRule/async} === true }"><c:layoutData><m:FlexItemData alignSelf="Center"/></c:layoutData></c:Icon><m:Text text="{/resolveDescription}" visible="{= ${/editRule/async} === true }"><m:layoutData><m:FlexItemData alignSelf="Center"/></m:layoutData></m:Text></m:items></m:HBox><m:Label text="Categories"/><m:MultiComboBox selectedKeys="{/editRule/categories}" items="{/categories}" required="true"><c:Item key="{}" text="{}"/></m:MultiComboBox><m:Label text="Audiences"/><m:MultiComboBox selectedKeys="{/editRule/audiences}" items="{/audiences}" required="true"><c:Item key="{}" text="{}"/></m:MultiComboBox><m:Label text="Title"/><m:Input value="{/editRule/title}" required="true"/><m:Label text="Description"/><m:TextArea value="{/editRule/description}" required="true"/><m:Label text="Resolution"/><m:TextArea value="{/editRule/resolution}" required="true"/><m:Label text="Min version"/><m:TextArea value="{/editRule/minversion}" required="true"/><m:Label text="Resolution URLS"/><l:VerticalLayout><l:HorizontalLayout><m:Input placeholder="Text" value="{/tempLink/text}"/><m:Input placeholder="Href" value="{/tempLink/href}"/><m:Button text="Add Link" press="addLinkToRule" icon="sap-icon://add"/></l:HorizontalLayout><l:VerticalLayout content="{/editRule/resolutionurls}"><m:Link text="{text}" href="{href}" target="_blank"/></l:VerticalLayout></l:VerticalLayout></f:content></f:SimpleForm><m:Panel width="100%" height="calc(100% - 2rem)" visible="{= ${/selectedRuleEditKey} === \'checkFunction\' }"><tools:CodeEditor id="codeEditorUpdate" width="100%" height="100%" value="{/editRule/check}" editable="true"/></m:Panel><m:Panel width="100%" height="calc(100% - 2rem)" visible="{= ${/selectedRuleEditKey} === \'jsonOutput\' }"><tools:CodeEditor syntaxHints="false" width="100%" height="100%" value="{/updateRuleStringified}" editable="false" type="javascript"/></m:Panel></m:content><m:footer><m:Bar><m:contentRight><m:Button press="updateRule" text="Update" type="Emphasized"/></m:contentRight></m:Bar></m:footer></m:Page><m:Page id="rulesCreatePage" showHeader="false"><m:content><m:Bar><m:contentLeft><m:Button icon="sap-icon://arrow-left" press="goToRuleProperties" text="Back"/></m:contentLeft><m:contentMiddle><m:IconTabHeader select="rulesToolbarITHSelect" selectedKey="{/selectedRuleCreateKey}" class="customIconTabHeader"><m:items><m:IconTabFilter key="ruleProperties" text="Rule properties"/><m:IconTabFilter key="checkFunction" text="Check function"/><m:IconTabFilter key="jsonOutput" text="Code"/></m:items></m:IconTabHeader></m:contentMiddle></m:Bar><f:SimpleForm visible="{= ${/selectedRuleCreateKey} === \'ruleProperties\' }" editable="true"><f:content><m:Label text="ID"/><m:Input value="{/newRule/id}" required="true"/><m:Label text="Async"/><m:HBox><m:items><m:RadioButton groupName="asyncContext" text="true" selected="{= ${/newRule/async} === true }" select="onAsyncSwitch"><m:customData><c:CustomData key="asyncContext" value="true"/></m:customData><m:layoutData><m:FlexItemData alignSelf="Center"/></m:layoutData></m:RadioButton><m:RadioButton groupName="asyncContext" text="false" selected="{= ${/newRule/async} !== true }" select="onAsyncSwitch"><m:customData><c:CustomData key="asyncContext" value="false"/></m:customData><m:layoutData><m:FlexItemData alignSelf="Center"/></m:layoutData></m:RadioButton><c:Icon src="sap-icon://message-warning" class="sapUiSmallMarginBegin sapUiTinyMarginEnd" color="#E09D00" visible="{= ${/newRule/async} === true }"><c:layoutData><m:FlexItemData alignSelf="Center"/></c:layoutData></c:Icon><m:Text text="{/resolveDescription}" visible="{= ${/newRule/async} === true }"><m:layoutData><m:FlexItemData alignSelf="Center"/></m:layoutData></m:Text></m:items></m:HBox><m:Label text="Categories"/><m:MultiComboBox selectedKeys="{/newRule/categories}" items="{/categories}" required="true"><c:Item key="{}" text="{}"/></m:MultiComboBox><m:Label text="Audiences"/><m:MultiComboBox selectedKeys="{/newRule/audiences}" items="{/audiences}" required="true"><c:Item key="{}" text="{}"/></m:MultiComboBox><m:Label text="Title"/><m:Input value="{/newRule/title}" required="true"/><m:Label text="Description"/><m:TextArea value="{/newRule/description}" required="true"/><m:Label text="Resolution"/><m:TextArea value="{/newRule/resolution}" required="true"/><m:Label text="Min version"/><m:TextArea value="{/newRule/minversion}" required="true"/><m:Label text="Resolution URLS"/><l:VerticalLayout><l:HorizontalLayout><m:Input placeholder="Text" value="{/tempLink/text}"/><m:Input placeholder="Href" value="{/tempLink/href}"/><m:Button text="Add" press="addLinkToRule" icon="sap-icon://add"/></l:HorizontalLayout><l:VerticalLayout content="{/newRule/resolutionurls}"><m:Link text="{text}"/></l:VerticalLayout></l:VerticalLayout></f:content></f:SimpleForm><m:Panel width="100%" height="calc(100% - 2rem)" visible="{= ${/selectedRuleCreateKey} === \'checkFunction\' }"><tools:CodeEditor id="codeEditorCreate" width="100%" height="100%" value="{/newRule/check}" editable="true"/></m:Panel><m:Panel width="100%" height="calc(100% - 2rem)" visible="{= ${/selectedRuleCreateKey} === \'jsonOutput\' }"><tools:CodeEditor id="codeEditorJson" syntaxHints="false" width="100%" height="100%" value="{/newRuleStringified}" editable="false" type="javascript"/></m:Panel></m:content><m:footer><m:Bar><m:contentRight><m:Button press="addNewRule" text="Add Rule" type="Emphasized"/></m:contentRight></m:Bar></m:footer></m:Page></c:FragmentDefinition>',
	"sap/ui/support/supportRules/ui/views/StorageSettings.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core"><Popover id="storageSettings" title="Settings" contentMinWidth="250px" class="sapUiContentPadding" placement="Bottom" afterClose=".onSettingsPopoverClose"><content><FlexBox alignContent="Center" justifyContent="Center"><l:VerticalLayout><MessageStrip visible="{/tempRulesDisabled}" type="Warning" showIcon="true" text="Temporary rules cannot be used in the current environment due to CSP restrictions."/><l:HorizontalLayout><CheckBox id="persistChB" text="I agree to use local storage persistency for:" select=".onPersistedSettingSelect" selected="{/persistingSettings}"/></l:HorizontalLayout><FlexBox alignContent="Center" justifyContent="Start"><l:VerticalLayout class="customSettingsPadding"><Text text="  Execution Scope"/><Text text="  Temporary Rules"/><Text text="  Selected Rules and Presets"/><Text text="  Filtered Columns in Rules"/><Button text="Delete Persisted Data" press=".deletePersistedData"/><l:HorizontalLayout class="customSettingsInfo"><Text text="Support Assistant Location : " renderWhitespace="true"/></l:HorizontalLayout><l:HorizontalLayout><Text text="{/supportAssistantOrigin} " renderWhitespace="true"/><core:Icon class="sapUiTinyMarginLeft" src="sap-icon://copy" tooltip="Copy Location" press="copySupportAssistantOriginToClipboard"/></l:HorizontalLayout><l:HorizontalLayout class="sapUiTinyMarginTop"><Text text="Support Assistant Version : {/supportAssistantVersion}" renderWhitespace="true"/></l:HorizontalLayout></l:VerticalLayout></FlexBox></l:VerticalLayout></FlexBox></content></Popover></core:FragmentDefinition>',
	"sap/ui/support/supportRules/report/resources/index.js":function(){window.sapUiSupportReport=window.sapUiSupportReport||{};window.sapUiSupportReport.collapseExpand=(function(){'use strict';function c(e){var t=this.getAttribute('data-expandableElement');var b=document.getElementById(t);var d=b.classList.contains('collapsed');if(d){b.classList.remove('collapsed');b.classList.add('expanded');this.classList.remove('collapsed-content');this.classList.add('expanded-content');}else{b.classList.remove('expanded');b.classList.add('collapsed');this.classList.remove('expanded-content');this.classList.add('collapsed-content');}}function a(){try{var e=document.getElementsByClassName('expandable-control');if(!e){return;}for(var i=0;i<e.length;i++){e[i].addEventListener('click',c);var b=e[i].getAttribute('data-expandableElement');var d=document.getElementById(b);if(e[i].classList.contains('collapsed-content')){d.classList.add('collapsed');}else{d.classList.add('expanded');}}}catch(f){console.log('There was a problem initializing collapse/expand functionality.');}}return{init:a};}());window.sapUiSupportReport=window.sapUiSupportReport||{};window.sapUiSupportReport.filter=(function(){'use strict';function u(){var g=document.querySelectorAll('[data-groupName]');for(var i=0;i<g.length;i++){var c=g[i];var d=c.getAttribute('data-expandableElement');var e=c.getAttribute('data-groupName');var h=c.getAttribute('data-groupNumber');var j=document.querySelectorAll('#'+d+' > tr');var n=0;var l=0;for(var k=0;k<j.length;k++){var m=j[k];var o=m.querySelectorAll('tr.filterable:not(.filtered)');var p=o.length;if(p===0){m.classList.add('filtered');}else{l++;n+=p;m.querySelector('span.rule-issue-number').innerText='('+p+' issues)';}}if(l===0){c.classList.add('filtered');}else{c.classList.remove('filtered');c.querySelector('span').innerText=' '+h+'. '+e+' ('+l+' rules, '+n+' issues)';}}}function s(c){if(c.classList.contains('filter-active')){return;}var d=document.getElementsByClassName('filter-active');for(var k=0;k<d.length;k++){d[k].classList.remove('filter-active');}c.classList.add('filter-active');}function r(){var c=document.querySelectorAll('.filtered');for(var i=0;i<c.length;i++){c[i].classList.remove('filtered');}}function f(c){r();if(c==='Total'){return;}var e=document.querySelectorAll('.filterable:not([data-severity="'+c+'"])');for(var i=0;i<e.length;i++){e[i].classList.add('filtered');}}function a(e){s(this);var c=this.getAttribute('data-severity');f(c);u();}function b(){try{var c=document.getElementsByClassName('filter');if(!c){return;}for(var i=0;i<c.length;i++){if(c[i].classList.contains('filter-initialized')){continue;}c[i].addEventListener('click',a);c[i].classList.add('filter-initialized');}}catch(e){console.log('There was a problem initializing filters.');}}return{init:b};}());window.sapUiSupportReport.collapseExpand.init();window.sapUiSupportReport.filter.init();
}
},"sap/ui/support/library-preload"
);
//# sourceMappingURL=library-preload.js.map