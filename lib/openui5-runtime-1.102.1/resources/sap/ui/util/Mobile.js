/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/Device','sap/base/Log',"sap/ui/thirdparty/jquery"],function(D,L,q){"use strict";var M={};var _=false;M.init=function(o){var $=q("head");if(!_){_=true;o=q.extend({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},o);if(o.preventPhoneNumberDetection){$.append(q('<meta name="format-detection" content="telephone=no">'));}if(o.viewport){var m;var i=D.resize.height;var I=D.resize.width;m="width=device-width, initial-scale=1.0";if(D.os.ios){m+=", maximum-scale=1.0, user-scalable=no";}$.append(q('<meta name="viewport" content="'+m+'">'));if((i!==window.innerHeight||I!==window.innerWidth)&&D.resize._update){D.resize._update();}}if(o.useFullScreenHeight){q(function(){document.documentElement.style.height="100%";});}if(o.preventScroll&&(D.os.ios||(D.os.mac&&D.browser.mobile))){q(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%";});}}if(o){if(o.homeIcon){var a;if(typeof o.homeIcon==="string"){a={phone:o.homeIcon,favicon:o.homeIcon};}else{a=q.extend({},o.homeIcon);a.phone=o.homeIcon.phone||o.homeIcon.icon||a.favicon;a.favicon=a.favicon||o.homeIcon.icon||o.homeIcon.phone;a.icon=undefined;}a.precomposed=o.homeIconPrecomposed||a.precomposed;M.setIcons(a);}if(o.hasOwnProperty("mobileWebAppCapable")){M.setWebAppCapable(o.mobileWebAppCapable,o.statusBar);}}};M.setIcons=function(i){if(!i||(typeof i!=="object")){L.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return;}var $=q("head"),p=i.precomposed?"-precomposed":"",g=function(r){return i[r]||i['tablet@2']||i['phone@2']||i['phone']||i['tablet'];},s={"phone":"","tablet":"76x76","phone@2":"120x120","tablet@2":"152x152"};if(i["favicon"]){var a=$.find("[rel=icon]");a.each(function(){if(this.rel==="icon"){q(this).remove();}});$.append(q('<link rel="icon" href="'+i["favicon"]+'">'));}if(g("phone")){$.find("[rel=apple-touch-icon]").remove();$.find("[rel=apple-touch-icon-precomposed]").remove();}for(var b in s){i[b]=i[b]||g(b);if(i[b]){var c=s[b];$.append(q('<link rel="apple-touch-icon'+p+'" '+(c?'sizes="'+c+'"':"")+' href="'+i[b]+'">'));}}};M.setWebAppCapable=function(v,a){if(!D.system.tablet&&!D.system.phone){return;}var h=q("head"),p=["","apple"],n="mobile-web-app-capable",c=v?"yes":"no",i,N,w;for(i=0;i<p.length;i++){N=p[i]?(p[i]+"-"+n):n;w=h.children('meta[name="'+N+'"]');if(w.length){w.attr("content",c);}else{h.append(q('<meta name="'+N+'" content="'+c+'">'));if(p[i]==="apple"){h.append(q('<meta name="apple-mobile-web-app-status-bar-style" content="'+(a?a:'default')+'">'));}}}};return M;});
