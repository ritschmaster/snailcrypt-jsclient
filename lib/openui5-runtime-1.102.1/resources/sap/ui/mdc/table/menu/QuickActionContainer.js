/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../TableSettings","../ResponsiveTableType","sap/m/table/columnmenu/QuickActionContainer","sap/m/table/columnmenu/QuickAction","sap/m/table/columnmenu/QuickSort","sap/m/table/columnmenu/QuickSortItem","sap/m/table/columnmenu/QuickGroup","sap/m/table/columnmenu/QuickGroupItem","sap/m/table/columnmenu/QuickTotal","sap/m/table/columnmenu/QuickTotalItem","sap/m/Button","sap/ui/core/Core","sap/ui/core/library"],function(T,R,Q,a,b,c,d,e,f,g,B,C,h){"use strict";var i=Q.extend("sap.ui.mdc.table.menu.QuickActionContainer",{metadata:{library:"sap.ui.mdc",associations:{table:{type:"sap.ui.mdc.Table"},column:{type:"sap.ui.mdc.table.Column"}}}});i.prototype.initializeQuickActions=function(){var t=this.getTable();var o=this.getColumn();var p=t.getPropertyHelper();var j=Promise.resolve();this.destroyQuickActions();if(t.isSortingEnabled()){var s=p.getProperty(o.getDataProperty()).getSortableProperties();var S=t._getSortedProperties();if(s.length>0){this.addQuickAction(new b({items:s.map(function(P){var n=h.SortOrder.None;var q=S.find(function(r){return r.name===P.name;});if(q){n=q.descending?h.SortOrder.Descending:h.SortOrder.Ascending;}return new c({key:P.name,label:P.label,sortOrder:n});}),change:function(E){var I=E.getParameter("item");T.createSort(t,I.getKey(),I.getSortOrder(),true);}}));}}if(t.isGroupingEnabled()){var G=p.getProperty(o.getDataProperty()).getGroupableProperties();var k=t._getGroupedProperties();if(G.length>0){this.addQuickAction(new d({items:G.map(function(P){var n=k.some(function(q){return q.name===P.name;});return new e({key:P.name,label:P.label,grouped:n});}),change:function(E){var I=E.getParameter("item");T.createGroup(t,I.getKey());}}));}}if(t.isAggregationEnabled()){var A=p.getProperty(o.getDataProperty()).getAggregatableProperties();var l=t._getAggregatedProperties();if(A.length>0){this.addQuickAction(new f({items:A.map(function(P){return new g({key:P.name,label:P.label,totaled:l.hasOwnProperty(P.name)});}),change:function(E){var I=E.getParameter("item");T.createAggregation(t,I.getKey());}}));}}if(t._bMobileTable&&t.getEnableColumnResize()){var m=R.startColumnResize(t._oTable,t._oTable.getColumns()[t.indexOfColumn(o)],this.getMenu());this.addQuickAction(m);}return j;};i.prototype.hasQuickActions=function(){return this.getEffectiveQuickActions().length>0;};i.prototype.getTable=function(){return C.byId(this.getAssociation("table"));};i.prototype.getColumn=function(){return C.byId(this.getAssociation("column"));};return i;});
