/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./AggregationBaseDelegate","./library","sap/ui/model/Sorter","sap/ui/core/library","sap/ui/core/Core"],function(A,l,S,c,C){"use strict";var P=l.TableP13nMode;var T=l.TableType;var a=Object.assign({},A);a.updateBindingInfo=function(t,b){b.parameters={};b.filters=[];b.sorter=[];if(t._oMessageFilter){b.filters=[t._oMessageFilter];}if(t._bMobileTable){var g=t._getGroupedProperties()[0];if(g){var s=t._getSortedProperties().find(function(o){return o.name===g.name;});var p=t.getPropertyHelper().getProperty(g.name).path;var d=s?s.descending:false;b.sorter.push(new S(p,d,function(o){return this.formatGroupHeader(t,o,g.name);}.bind(this)));}}b.sorter=b.sorter.concat(b.sorter.length===1?t._getSorters().filter(function(o){return o.sPath!==b.sorter[0].sPath;}):t._getSorters());};a.updateBinding=function(t,b,B){this.rebind(t,b);};a.formatGroupHeader=function(t,o,p){var b=t.getPropertyHelper().getProperty(p);var d=b.textProperty;var r=C.getLibraryResourceBundle("sap.ui.mdc");var R="table.ROW_GROUP_TITLE";var v=[b.label,o.getProperty(b.path,true)];if(d){R="table.ROW_GROUP_TITLE_FULL";v.push(o.getProperty(d.path,true));}return r.getText(R,v);};a.validateState=function(o,s,k){if(k=="Filter"&&o._oMessageFilter){var r=C.getLibraryResourceBundle("sap.ui.mdc");return{validation:c.MessageType.Information,message:r.getText("table.PERSONALIZATION_DIALOG_FILTER_MESSAGESTRIP")};}return A.validateState.apply(this,arguments);};a.rebind=function(t,b){if(t._oTable){t._oTable.bindRows(b);}};a.getFilterDelegate=function(){return{addItem:function(p,t){return Promise.resolve(null);},addCondition:function(p,o,m){return Promise.resolve();},removeCondition:function(p,o,m){return Promise.resolve();}};};a.fetchExportCapabilities=function(t){return Promise.resolve({XLSX:{}});};a.getSupportedP13nModes=function(t){var s=[P.Column,P.Sort,P.Filter];if(t._getStringType()===T.ResponsiveTable){s.push(P.Group);}return s;};return a;});
