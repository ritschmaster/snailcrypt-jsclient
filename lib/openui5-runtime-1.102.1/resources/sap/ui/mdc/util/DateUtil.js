/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/library','sap/ui/core/date/UniversalDate','sap/ui/mdc/enum/BaseType','sap/base/util/merge'],function(c,U,B,m){"use strict";var C=c.CalendarType;var D={typeToUniversalDate:function(d,t,b){var p;if(b&&b===B.DateTime){p="yyyyMMdd-HHmmssSSS";}else{p="yyyyMMdd";}var s=this.typeToString(d,t,p);var y=parseInt(s.slice(0,4));var M=parseInt(s.slice(4,6))-1;var i=parseInt(s.slice(6,8));var h=b===B.DateTime?parseInt(s.slice(9,11)):0;var a=b===B.DateTime?parseInt(s.slice(11,13)):0;var S=b===B.DateTime?parseInt(s.slice(13,15)):0;var e=b===B.DateTime?parseInt(s.slice(15,18)):0;var u=new U(U.UTC(y,M,i,h,a,S,e));return u;},universalDateToType:function(d,t,b){var y=d.getUTCFullYear();var M=d.getUTCMonth()+1;var i=d.getUTCDate();var s=y.toString()+((M<10)?"0":"")+M.toString()+((i<10)?"0":"")+i.toString();var p;if(b&&b===B.DateTime){p="yyyyMMdd-HHmmssSSS";var h=d.getUTCHours();var a=d.getUTCMinutes();var S=d.getUTCSeconds();var e=d.getUTCMilliseconds();s=s+"-"+((h<10)?"0":"")+h.toString()+((a<10)?"0":"")+a.toString()+((S<10)?"0":"")+S.toString()+((e<100)?"0":"")+((e<10)?"0":"")+e.toString();}else{p="yyyyMMdd";}var v=this.stringToType(s,t,p);return v;},createInternalType:function(t,p){var T=sap.ui.require(t.getMetadata().getName().replace(/\./g,"/"));var o=m({},t.getConstraints());var f=m({},t.getFormatOptions());if(f.style){delete f.style;}f.pattern=p;f.calendarType=C.Gregorian;if(this.showTimezone(t)){f.showTimezone=false;}return new T(f,o);},showTimezone:function(t){var f=t.getFormatOptions();var a=function(f,p){return!f.hasOwnProperty(p)||f[p];};return t.isA("sap.ui.model.odata.type.DateTimeWithTimezone")&&a(f,"showTimezone")&&(a(f,"showDate")||a(f,"showTime"));},typeToString:function(d,t,p){var i=this.createInternalType(t,p);var s=i.formatValue(d,"string");return s;},stringToType:function(d,t,p){var i=this.createInternalType(t,p);var v=i.parseValue(d,"string");return v;},localToUtc:function(d){return new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()));},utcToLocal:function(d){return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds());}};return D;});
