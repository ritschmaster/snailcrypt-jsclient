/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/p13n/Engine"],function(E){"use strict";var A={};A.getEngine=function(){return E.getInstance();};A._onModifications=function(){};A.retrieveInbuiltFilter=function(){if(!this._oInbuiltFilterPromise){this._oInbuiltFilterPromise=new Promise(function(r,a){sap.ui.require(["sap/ui/mdc/filterbar/p13n/AdaptationFilterBar"],function(b){if(this.bIsDestroyed){a("exit");return;}if(!this._oP13nFilter){this._oP13nFilter=new b(this.getId()+"-p13nFilter",{adaptationControl:this,filterConditions:this.getFilterConditions()});if(this._registerInnerFilter){this._registerInnerFilter.call(this,this._oP13nFilter);}this.addDependent(this._oP13nFilter);r(this._oP13nFilter);}else{r(this._oP13nFilter);}}.bind(this));}.bind(this));}return this._oInbuiltFilterPromise;};A.validateState=function(t,k){if(this.getControlDelegate().validateState instanceof Function){return this.getControlDelegate().validateState(this,t,k);}};A.getInbuiltFilter=function(){return this._oP13nFilter;};A.exit=function(e){return function(){if(this._oP13nFilter){this._oP13nFilter.destroy();this._oP13nFilter=null;}if(this._oInbuiltFilterPromise){this._oInbuiltFilterPromise=null;}if(e){e.apply(this,arguments);}};};A._getWaitForChangesPromise=function(){var e=this.getEngine&&this.getEngine();if(!e){throw"Engine instance not found.";}return e.waitForChanges(this);};return function(){this.retrieveInbuiltFilter=A.retrieveInbuiltFilter;this.getInbuiltFilter=A.getInbuiltFilter;this.validateState=A.validateState;this._onModifications=A._onModifications;this._getWaitForChangesPromise=A._getWaitForChangesPromise;this.getEngine=A.getEngine;this.exit=A.exit(this.exit);};});
