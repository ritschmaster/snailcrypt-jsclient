/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseController","sap/ui/mdc/p13n/FlexUtil",'sap/ui/mdc/p13n/modules/xConfigAPI',"sap/base/util/merge"],function(B,F,x,m){"use strict";var C=B.extend("sap.ui.mdc.p13n.subcontroller.ColumnWidthController",{constructor:function(){B.apply(this,arguments);this._bXConfigEnabled=true;this._bResetEnabled=true;}});C.prototype.sanityCheck=function(s){var c=[];if(s&&s.hasOwnProperty("aggregations")&&s.aggregations.hasOwnProperty("columns")){Object.keys(s.aggregations.columns).forEach(function(i){var o={name:i,width:s.aggregations.columns[i].width};c.push(o);});}return c;};C.prototype.getCurrentState=function(){return this.getAdaptationControl().getCurrentState().xConfig;};C.prototype.getStateKey=function(){return"supplementaryConfig";};C.prototype.changesToState=function(c){var s;var o=c.length&&c[0].selectorElement;c.forEach(function(a){var b=m({},a.changeSpecificData.content);var X={name:b.name,controlMeta:{aggregation:"columns",property:"width"},value:b.value};s=x.createConfigObject(o,X,s);});return s||{};};C.prototype.getDelta=function(p){p.deltaAttribute="width";p.operation="setColumnWidth";p.changedState=p.changedState instanceof Array?p.changedState:this.sanityCheck(p.changedState);p.existingState=this.sanityCheck(p.existingState);return F.getPropertySetterChanges(p);};return C;});
