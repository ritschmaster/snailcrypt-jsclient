//@ui5-bundle sap/ui/mdc/library-preload.js
/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/mdc/ActionToolbar',["sap/m/OverflowToolbar","sap/m/OverflowToolbarRenderer","sap/m/ToolbarSpacer","sap/m/ToolbarSeparator","sap/m/library","sap/ui/mdc/enum/ActionToolbarActionAlignment","sap/ui/mdc/p13n/subcontroller/ActionToolbarController","sap/ui/mdc/p13n/Engine"],function(O,a,T,b,m,A,c,E){"use strict";var d=m.OverflowToolbarPriority;
var e=O.extend("sap.ui.mdc.ActionToolbar",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/actiontoolbar/ActionToolbar.designtime",defaultAggregation:"actions",properties:{useAsHeader:{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{begin:{type:"sap.ui.core.Control",multiple:true},between:{type:"sap.ui.core.Control",multiple:true},actions:{type:"sap.ui.mdc.actiontoolbar.ActionToolbarAction",multiple:true},end:{type:"sap.ui.core.Control",multiple:true}}},
renderer:a
});
var f=["begin","between","actions","end"];var g=function(){var C={canOverflow:true,getCustomImportance:function(){return d.NeverOverflow;}};return C;};
e.prototype.init=function(){O.prototype.init.apply(this,arguments);this._oBeginSeparator=new b({visible:false});this._oBeginSeparator.getOverflowToolbarConfig=g;this._oEndActionsBeginSeparator=new b({visible:false});this._oEndActionsBeginSeparator.getOverflowToolbarConfig=g;this._oEndActionsEndSeparator=new b({visible:false});this._oEndActionsEndSeparator.getOverflowToolbarConfig=g;this._oSpacer=new T();this.setUseAsHeader(true);E.getInstance().registerAdaptation(this,{controller:{actionsKey:c}});};
e.prototype.exit=function(){O.prototype.exit.apply(this,arguments);if(this._oBeginSeparator){this._oBeginSeparator.destroy();}if(this._oEndActionsBeginSeparator){this._oEndActionsBeginSeparator.destroy();}if(this._oEndActionsEndSeparator){this._oEndActionsEndSeparator.destroy();}if(this._oSpacer){this._oSpacer.destroy();}};
e.prototype.addAggregation=function(s,C){if(s==="content"){throw new Error("Mutator functions of the content aggregation of the ActionToolbar '"+this.getId()+"' must not be used.");}var h=arguments;if(f.includes(s)){this._registerControlListener(C);this._resetAndInvalidateToolbar(false);if(C){this._moveControlInSuitableCollection(C,this._getControlPriority(C));}this._informNewFlexibleContentAdded(C);var v=this._callToolbarMethod("addAggregation",h);this._updateSeparators();return v;}return O.prototype.addAggregation.apply(this,arguments);};
e.prototype.destroyAggregation=function(s){if(s==="content"){throw new Error("Mutator functions of the content aggregation of the ActionToolbar '"+this.getId()+"' must not be used.");}if(f.includes(s)){var C=this.removeAllAggregation(s);for(var i=0;i<C.length;i++){C[i].destroy();}this._updateSeparators();return this;}return O.prototype.destroyAggregation.apply(this,arguments);};
e.prototype.insertAggregation=function(s,C,i){if(s==="content"){throw new Error("Mutator functions of the content aggregation of the ActionToolbar '"+this.getId()+"' must not be used.");}if(f.includes(s)){this._registerControlListener(C);this._resetAndInvalidateToolbar(false);if(C){this._moveControlInSuitableCollection(C,this._getControlPriority(C));}this._informNewFlexibleContentAdded(C);var v=this._callToolbarMethod("insertAggregation",arguments);this._updateSeparators();return v;}return O.prototype.insertAggregation.apply(this,arguments);};
e.prototype.removeAllAggregation=function(s){if(s==="content"){throw new Error("Mutator functions of the content aggregation of the ActionToolbar '"+this.getId()+"' must not be used.");}return O.prototype.removeAllAggregation.apply(this,arguments);};
e.prototype.removeAggregation=function(s,o){if(s==="content"){throw new Error("Mutator functions of the content aggregation of the ActionToolbar '"+this.getId()+"' must not be used.");}if(f.includes(s)){var C=this._callToolbarMethod("removeAggregation",arguments);if(C){this._getPopover().removeAssociatedContent(C.getId());}this._resetAndInvalidateToolbar(false);this._deregisterControlListener(C);this._removeContentFromControlsCollections(C);this._updateSeparators();return C;}return O.prototype.removeAggregation.apply(this,arguments);};
e.prototype.setUseAsHeader=function(h){this.setProperty("useAsHeader",h,true);this.toggleStyleClass("sapMTBHeader-CTX",!!h);return this;};
e.prototype.getEndActionsBegin=function(){return this.getActionsWithLayoutInformation({aggregationName:"end",alignment:A.Begin});};
e.prototype.getEndActionsEnd=function(){return this.getActionsWithLayoutInformation({aggregationName:"end",alignment:A.End});};
e.prototype.getActionsWithLayoutInformation=function(l){return this.getActions().filter(function(o){var h=o.getLayoutInformation();return h.aggregationName===l.aggregationName&&h.alignment===l.alignment;});};
e.prototype.onAfterRendering=function(){O.prototype.onAfterRendering.apply(this,arguments);this._updateSeparators();};
e.prototype._onContentPropertyChangedOverflowToolbar=function(o){if(this._bIsBeingDestroyed){return;}O.prototype._onContentPropertyChangedOverflowToolbar.apply(this,arguments);if(o.getParameter("name")==="visible"||o.getParameter("name")==="width"&&o.getSource()!=this._oBeginSeparator){this._updateSeparators();}};
e.prototype._hasVisible=function(h){var p=this.getAggregation("_popover")?this.getAggregation("_popover")._getAllContent():[];var v=h.filter(function(C){return p.indexOf(C)===-1;});return v.some(function(C){var H=C.getWidth?C.getWidth()!=="0px":true;return C.getVisible()&&H;});};
e.prototype._updateSeparators=function(){var h=this._hasVisible(this.getEnd());if(this._oBeginSeparator){var H=this._hasVisible(this.getBegin());var i=this._hasVisible(this.getBetween());this._oBeginSeparator.setVisible(H&&i);}if(this._oEndActionsBeginSeparator){var j=this._hasVisible(this.getEndActionsBegin());this._oEndActionsBeginSeparator.setVisible(h&&j);}if(this._oEndActionsEndSeparator){var k=this._hasVisible(this.getEndActionsEnd());this._oEndActionsEndSeparator.setVisible(h&&k);}};
e.prototype.indexOfContent=function(o){return this.getContent().indexOf(o);};
e.prototype.getContent=function(){var C=this.getBegin();C.push(this._oBeginSeparator);C=C.concat(this.getBetween());C.push(this._oSpacer);C=C.concat(this.getEndActionsBegin());C.push(this._oEndActionsBeginSeparator);C=C.concat(this.getEnd());C.push(this._oEndActionsEndSeparator);C=C.concat(this.getEndActionsEnd());return C;};
e.prototype.getCurrentState=function(){var h=[],i;this.getActions().forEach(function(o,I){i=o&&o.getId();if(o.getVisible()){h.push({name:i,alignment:o.getLayoutInformation().alignment});}});return{items:h};};
e.prototype.initPropertyHelper=function(){return Promise.resolve({getProperties:function(){var i=[];this.getActions().forEach(function(o){i.push({name:o.getId(),alignment:o.getLayoutInformation().alignment,label:o.getLabel(),visible:true});});return i;}.bind(this)});};
return e;});
sap.ui.predefine('sap/ui/mdc/ChartDelegate',["sap/ui/mdc/AggregationBaseDelegate"],function(A){"use strict";var C=Object.assign({},A);
C.zoomIn=function(v){};
C.zoomOut=function(v){};
C.getZoomState=function(){};
C.getFilterDelegate=function(){return{addItem:function(p,c){return Promise.resolve();},addCondition:function(p,c,P){return Promise.resolve();},removeCondition:function(p,c,P){return Promise.resolve();}};};
C.addItem=function(p,m,P,r){};
C.getInnerChartSelectionHandler=function(){};
C.setLegendVisible=function(v){};
C.getSorterForItem=function(m,s){};
C.insertItemToInnerChart=function(m,i){};
C.removeItemFromInnerChart=function(m){};
C.removeItem=function(p,m){return Promise.resolve(true);};
C.initializeInnerChart=function(m){};
C.createInitialChartContent=function(m){};
C.getInnerChart=function(){};
C.getChartTypeInfo=function(){};
C.getChartTypeLayoutConfig=function(){};
C.getAvailableChartTypes=function(){};
C.getDrillStack=function(){};
C.getSortedDimensions=function(m){};
C.getDrillableItems=function(m){};
C.setChartType=function(c){};
C.createInnerChartContent=function(m,c){};
C.rebindChart=function(m,b){};
C.rebind=function(m,b){};
C.getInnerChartBound=function(){};
C.updateBindingInfo=function(m,b){};
C.setChartTooltipVisibility=function(f){};
C.getInternalChartNameFromPropertyNameAndKind=function(n,k,m){};
C.getPropertyFromNameAndKind=function(n,k,m){};
C.initPropertyHelper=function(m){return Promise.resolve(true);};
C.setNoDataText=function(m,t){};
C.fetchProperties=function(m){};
return C;});
sap.ui.predefine('sap/ui/mdc/Delegate',[],function(){"use strict";var D=function(){};
D.retrieveAllMetadata=function(m,d){return[];};
D.retrieveAggregationItem=function(a,m){return null;};
D.preConfiguration=function(n,v){return n;};
D.getNavigationTargets=function(f){return[];};
return D;});
sap.ui.predefine('sap/ui/mdc/FilterBar',['sap/ui/mdc/p13n/subcontroller/FilterController','sap/ui/mdc/p13n/subcontroller/AdaptFiltersController',"sap/ui/mdc/filterbar/aligned/FilterContainer","sap/ui/mdc/filterbar/aligned/FilterItemLayout","sap/ui/mdc/filterbar/FilterBarBase","sap/ui/mdc/filterbar/FilterBarBaseRenderer",'sap/m/library','sap/m/Button',"sap/ui/mdc/p13n/StateUtil","sap/base/util/merge","sap/ui/mdc/filterbar/p13n/AdaptationFilterBar","sap/ui/core/library"],function(F,A,a,b,c,d,l,B,S,m,e,C){"use strict";var H=C.aria.HasPopup;
var f=c.extend("sap.ui.mdc.FilterBar",{
metadata:{designtime:"sap/ui/mdc/designtime/filterbar/FilterBar.designtime",properties:{showAdaptFiltersButton:{type:"boolean",defaultValue:true},p13nMode:{type:"sap.ui.mdc.FilterBarP13nMode[]"},_p13nModeItem:{type:"boolean",visibility:"hidden",defaultValue:false},_p13nModeValue:{type:"boolean",visibility:"hidden",defaultValue:false}}},
renderer:d
});
var g=l.ButtonType;
f.prototype._createInnerLayout=function(){this._cLayoutItem=b;this._oFilterBarLayout=new a();this._oFilterBarLayout.getInner().setParent(this);this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this.setAggregation("layout",this._oFilterBarLayout,true);this._addButtons();};
f.prototype.setP13nMode=function(M){var o=this.getP13nMode();this.setProperty("p13nMode",M||[],false);var r={};r.controller={};M&&M.forEach(function(s){if(!o||o.indexOf(s)<0){this._setP13nMode(s,true);}if(s=="Item"){r.controller["Item"]=A;}if(s=="Value"){r.controller["Filter"]=F;}}.bind(this));o&&o.forEach(function(s){if(!M||M.indexOf(s)<0){this._setP13nMode(s,false);}}.bind(this));this.getEngine().registerAdaptation(this,r);return this;};
f.prototype._setP13nMode=function(M,v){switch(M){case"Item":this._setP13nModeItem(v);break;case"Value":this._setP13nModeValue(v);break;}};
f.prototype.setFilterConditions=function(v,s){F.checkConditionOperatorSanity(v);if(this._oP13nFB){this._oP13nFB.setFilterConditions(m({},v));}this.setProperty("filterConditions",v,s);return this;};
f.prototype._getP13nModeItem=function(){return this._oModel.getProperty("/_p13nModeItem");};
f.prototype._setP13nModeItem=function(v){this._oModel.setProperty("/_p13nModeItem",v,true);};
f.prototype._getP13nModeValue=function(){return this._oModel.getProperty("/_p13nModeValue");};
f.prototype._setP13nModeValue=function(v){this._oModel.setProperty("/_p13nModeValue",v,false);this._bPersistValues=v;};
f.prototype._addButtons=function(){if(this._oFilterBarLayout){this.setProperty("_filterCount",this._oRb.getText("filterbar.ADAPT"),false);this._btnAdapt=new B(this.getId()+"-btnAdapt",{type:g.Transparent,text:"{"+c.INNER_MODEL_NAME+">/_filterCount}",press:this.onAdaptFilters.bind(this)});this._btnAdapt.setAriaHasPopup(H.ListBox);this._btnAdapt.setModel(this._oModel,c.INNER_MODEL_NAME);this._btnAdapt.bindProperty("visible",{parts:[{path:'/showAdaptFiltersButton',model:c.INNER_MODEL_NAME},{path:"/_p13nModeItem",model:c.INNER_MODEL_NAME}],formatter:function(v,V){return v&&V;}});this._btnSearch=this._getSearchButton();this._btnSearch.setModel(this._oModel,c.INNER_MODEL_NAME);this._btnSearch.bindProperty("visible",{parts:[{path:'/showGoButton',model:c.INNER_MODEL_NAME},{path:"/liveMode",model:c.INNER_MODEL_NAME}],formatter:function(v,V){return v&&((this._isPhone())?true:!V);}.bind(this)});this._btnSearch.addStyleClass("sapUiMdcFilterBarBaseButtonPaddingRight");this._oFilterBarLayout.addButton(this._btnSearch);this._oFilterBarLayout.addButton(this._btnAdapt);}};
f.prototype.retrieveInbuiltFilter=function(){var i=c.prototype.retrieveInbuiltFilter.apply(this,arguments);return i.then(function(I){I._bPersistValues=this._bPersistValues;return I;}.bind(this));};
f.prototype.onAdaptFilters=function(E){return this._retrieveMetadata().then(function(){return this.getEngine().uimanager.show(this,"Item",this._btnAdapt);}.bind(this));};
f.prototype.getCurrentState=function(){var s=c.prototype.getCurrentState.apply(this,arguments);if(!this.getProperty("_p13nModeItem")){delete s.items;}return s;};
c.prototype.setFocusOnFirstErroneousField=function(){return this._setFocusOnFirstErroneousField();};
return f;});
sap.ui.predefine('sap/ui/mdc/FilterBarDelegate',["sap/ui/mdc/AggregationBaseDelegate"],function(A){"use strict";var F=Object.assign({},A);
F.addItem=function(p,f,P){return Promise.resolve(null);};
F.removeItem=function(p,f,P){return Promise.resolve(true);};
F.addCondition=function(p,f,P){return Promise.resolve();};
F.removeCondition=function(p,f,P){return Promise.resolve();};
return F;});
sap.ui.predefine('sap/ui/mdc/Link',["sap/ui/mdc/field/FieldInfoBase","sap/ui/thirdparty/jquery","sap/ui/model/BindingMode","sap/ui/model/json/JSONModel","sap/ui/mdc/link/Log","sap/base/Log","sap/ui/mdc/link/Panel","sap/ui/mdc/link/PanelItem","sap/ui/layout/form/SimpleForm","sap/ui/core/Title","sap/ui/layout/library"],function(F,q,B,J,L,S,P,a,b,C,l){"use strict";var R=l.form.SimpleFormLayout.ResponsiveGridLayout;
var c=F.extend("sap.ui.mdc.Link",{metadata:{library:"sap.ui.mdc",properties:{enablePersonalization:{type:"boolean",defaultValue:true},delegate:{type:"object",defaultValue:{name:"sap/ui/mdc/LinkDelegate",payload:{}}}},associations:{sourceControl:{type:"sap.ui.core.Control",multiple:false}}}});
c.prototype.applySettings=function(){F.prototype.applySettings.apply(this,arguments);this.initControlDelegate();};
c.prototype.init=function(){var m=new J({contentTitle:undefined,linkItems:[]});m.setDefaultBindingMode(B.TwoWay);m.setSizeLimit(1000);this.setModel(m,"$sapuimdcLink");this.attachEvent("modelContextChange",this.fireDataUpdate,this);this._bLinkItemsFetched=false;this._aLinkItems=[];this._oLinkType=null;F.prototype.init.apply(this,arguments);};
c.prototype.isTriggerable=function(){return this.retrieveLinkType().then(function(o){var r=o.runtimeType;var i=o.initialType?o.initialType:o;if(r&&r instanceof Promise){r.then(function(d){if(!this._oLinkType||d.linkType!==this._oLinkType.linkType){this._oLinkType=d;this.fireDataUpdate();}}.bind(this));}return this._oLinkType?this._oLinkType.type>0:i.type>0;}.bind(this));};
c.prototype.getTriggerHref=function(){return this.getDirectLinkHrefAndTarget().then(function(o){return o?o.href:null;});};
c.prototype.getDirectLinkHrefAndTarget=function(){return this._retrieveDirectLinkItem().then(function(d){this.addDependent(d);return d?{target:d.getTarget(),href:d.getHref()}:null;}.bind(this));};
c.prototype._retrieveDirectLinkItem=function(){return this.retrieveLinkType().then(function(o){if(this._linkTypeHasDirectLink(this._oLinkType)){return this._oLinkType.directLink;}var d=o.initialType?o.initialType:o;if(this._linkTypeHasDirectLink(d)){return d.directLink;}return null;}.bind(this));};
c.prototype._linkTypeHasDirectLink=function(o){return o&&o.type===1&&o.directLink;};
c.prototype.getContent=function(g){var o=this.retrieveLinkItems();var A=this.retrieveAdditionalContent();return Promise.all([o,A]).then(function(v){var d=v[0];var e=v[1];return new Promise(function(r){sap.ui.require(['sap/ui/fl/Utils','sap/ui/fl/apply/api/FlexRuntimeInfoAPI'],function(U,f){this._setConvertedLinkItems(d);var m=this._getInternalModel().getProperty("/linkItems");var M=this._getInternalModel().getProperty("/baselineLinkItems");var p=!e.length&&!m.length?this._getNoContent():e;var h=new P(this._createPanelId(U,f),{enablePersonalization:this.getEnablePersonalization(),items:M.map(function(i){return new a(i.key,{text:i.text,description:i.description,href:i.href,target:i.target,icon:i.icon,visible:true});}),additionalContent:p,beforeSelectionDialogOpen:function(){if(g&&g()){g().setModal(true);}},afterSelectionDialogClose:function(){if(g&&g()){g().setModal(false);}},beforeNavigationCallback:this._beforeNavigationCallback.bind(this),metadataHelperPath:"sap/ui/mdc/Link"});h.setModel(new J({metadata:q.extend(true,[],this._getInternalModel().getProperty("/linkItems")),baseline:q.extend(true,[],this._getInternalModel().getProperty("/baselineLinkItems"))}),"$sapuimdcLink");return r(h);}.bind(this));}.bind(this));}.bind(this));};
c.prototype.checkDirectNavigation=function(){var o=this.retrieveLinkItems();var A=this.retrieveAdditionalContent();return Promise.all([o,A]).then(function(v){var d=v[0];var e=v[1];this._setConvertedLinkItems(d);var m=this._getInternalModel().getProperty("/linkItems");if(m.length===1&&!e.length){P.navigate(m[0].href);return Promise.resolve(true);}return Promise.resolve(false);}.bind(this));};
c.prototype._setConvertedLinkItems=function(d){var m=this._getInternalModel();var M=d.map(function(o){if(!o.getKey()){S.error("sap.ui.mdc.Link: undefined 'key' property of the LinkItem "+o.getId()+". The mandatory 'key' property should be defined due to personalization reasons.");}return{key:o.getKey(),text:o.getText(),description:o.getDescription(),href:o.getHref(),target:o.getTarget(),icon:o.getIcon(),initiallyVisible:o.getInitiallyVisible(),visible:false};});m.setProperty("/linkItems/",M);var e=M.filter(function(o){return o.initiallyVisible;});m.setProperty("/baselineLinkItems/",e);};
c.prototype._getNoContent=function(){var s=new b({layout:R,content:[new C({text:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("info.POPOVER_MSG_NO_CONTENT")})]});s.addStyleClass("mdcbaseinfoPanelDefaultAdditionalContent");return s;};
c.prototype._createPanelId=function(U,d){var f;if(this.getParent()){f=this.getParent();}var o=typeof this.getSourceControl()==="string"?sap.ui.getCore().byId(this.getSourceControl()):this.getSourceControl();if(!o){this.setSourceControl(f);o=f;}if(!d.isFlexSupported({element:this})||!d.isFlexSupported({element:o})){S.error("Invalid component. The mandatory 'sourceControl' association should be assigned to the app component due to personalization reasons.");return this.getId()+"-idInfoPanel";}var A=U.getAppComponentForControl(o)||U.getAppComponentForControl(f);return A.createId("idInfoPanel");};
c.retrieveAllMetadata=function(p){if(!p.getModel||!p.getModel("$sapuimdcLink")){return[];}var m=p.getModel("$sapuimdcLink");return m.getProperty("/metadata").map(function(M){return{id:M.key,text:M.text,description:M.description,href:M.href,target:M.target,visible:M.visible};});};
c.retrieveBaseline=function(p){if(!p.getModel||!p.getModel("$sapuimdcLink")){return[];}var m=p.getModel("$sapuimdcLink");return m.getProperty("/baseline").map(function(M){return{id:M.key,visible:true};});};
c.prototype._getInfoLog=function(){if(this.getPayload()&&this.getPayload().semanticObjects){if(this._oInfoLog){return this._oInfoLog;}if(S.getLevel()>=S.Level.INFO){this._oInfoLog=new L();this._oInfoLog.initialize(this.getPayload().semanticObjects,this._getContextObject(this._getControlBindingContext()));return this._oInfoLog;}}return undefined;};
c.prototype._getContextObject=function(o){return o?o.getObject(o.getPath()):undefined;};
c.prototype.retrieveAdditionalContent=function(){if(this.awaitControlDelegate()){return this.awaitControlDelegate().then(function(){var p=Object.assign({},this.getPayload());return this.getControlDelegate().fetchAdditionalContent(p,this).then(function(A){return A;});}.bind(this));}S.error("mdc.Link retrieveAdditionalContent: control delegate is not set - could not load AdditionalContent from delegate.");return Promise.resolve([]);};
c.prototype.retrieveLinkType=function(){if(this.awaitControlDelegate()){return this.awaitControlDelegate().then(function(){var p=Object.assign({},this.getPayload());return this.getControlDelegate().fetchLinkType(p,this);}.bind(this));}S.error("mdc.Link retrieveLinkType: control delegate is not set - could not load LinkType from delegate.");return Promise.resolve(null);};
c.prototype.retrieveLinkItems=function(){var p=Object.assign({},this.getPayload());var o=this._getControlBindingContext();return this._retrieveUnmodifiedLinkItems().then(function(u){return this.getControlDelegate().modifyLinkItems(p,o,u).then(function(d){return d;});}.bind(this));};
c.prototype._retrieveUnmodifiedLinkItems=function(){if(this._bLinkItemsFetched){return Promise.resolve(this._aLinkItems);}else{this.oUseDelegateItemsPromise=this._useDelegateItems();return this.oUseDelegateItemsPromise.then(function(){return Promise.resolve(this._aLinkItems);}.bind(this));}};
c.prototype._useDelegateItems=function(){if(this.awaitControlDelegate()){return this.awaitControlDelegate().then(function(){var p=Object.assign({},this.getPayload());var o=this._getControlBindingContext();var i=this._getInfoLog();return new Promise(function(r){this.getControlDelegate().fetchLinkItems(p,o,i).then(function(d){this._setLinkItems(d===null?[]:d);this._bLinkItemsFetched=d!==null;r();}.bind(this));}.bind(this));}.bind(this));}S.error("mdc.Link _useDelegateItems: control delegate is not set - could not load LinkItems from delegate.");return Promise.resolve();};
c.prototype._setLinkItems=function(d){var e=d.filter(function(o){return o.getParent()===null;});e.forEach(function(o){this.addDependent(o);}.bind(this));this._aLinkItems=d;};
c.prototype._beforeNavigationCallback=function(e){if(this.awaitControlDelegate()){var p=Object.assign({},this.getPayload());return this.getControlDelegate().beforeNavigationCallback(p,e);}S.error("mdc.Link _beforeNavigationCallback: control delegate is not set - could not load beforeNavigationCallback from delegate.");return Promise.resolve();};
c.prototype._getControlBindingContext=function(){var o=typeof this.getSourceControl()==="string"?sap.ui.getCore().byId(this.getSourceControl()):this.getSourceControl();return o&&o.getBindingContext()||this.getBindingContext();};
c.prototype._getInternalModel=function(){return this.getModel("$sapuimdcLink");};
return c;});
sap.ui.predefine('sap/ui/mdc/LinkDelegate',['sap/ui/mdc/BaseDelegate'],function(B){"use strict";var L=Object.assign({},B,{fetchLinkItems:function(p,b,i){return Promise.resolve(null);},fetchLinkType:function(p,l){return Promise.resolve({initialType:{type:2,directLink:undefined},runtimeType:null});},fetchAdditionalContent:function(p,l){return Promise.resolve([]);},modifyLinkItems:function(p,b,l){return Promise.resolve(l);},beforeNavigationCallback:function(p,e){return Promise.resolve(true);}});return L;});
sap.ui.predefine('sap/ui/mdc/Table',["./Control","./ActionToolbar","./table/TableSettings","./table/GridTableType","./table/ResponsiveTableType","./table/PropertyHelper","./mixin/FilterIntegrationMixin","./library","sap/m/Text","sap/m/Title","sap/m/ColumnHeaderPopover","sap/m/ColumnPopoverSelectListItem","sap/m/ColumnPopoverActionItem","sap/m/OverflowToolbar","sap/m/library","sap/m/table/columnmenu/Menu","sap/ui/core/Core","sap/ui/core/format/NumberFormat","sap/ui/core/dnd/DragDropInfo","sap/ui/core/Item","sap/ui/core/format/ListFormat","sap/ui/core/library","sap/ui/events/KeyCodes","sap/ui/model/Sorter","sap/base/strings/capitalize","sap/base/util/deepEqual","sap/base/util/Deferred","sap/base/util/UriParameters","sap/ui/core/InvisibleMessage","sap/ui/core/InvisibleText","sap/ui/mdc/p13n/subcontroller/ColumnController","sap/ui/mdc/p13n/subcontroller/SortController","sap/ui/mdc/p13n/subcontroller/FilterController","sap/ui/mdc/p13n/subcontroller/GroupController","sap/ui/mdc/p13n/subcontroller/AggregateController","sap/ui/mdc/p13n/subcontroller/ColumnWidthController","sap/ui/mdc/actiontoolbar/ActionToolbarAction","sap/ui/mdc/table/RowActionItem","sap/ui/mdc/table/RowSettings","sap/ui/mdc/table/menu/QuickActionContainer","sap/ui/mdc/table/menu/ItemContainer","sap/ui/base/ManagedObjectMetadata"],function(C,A,T,G,R,P,F,l,a,b,c,d,e,O,M,f,g,N,D,I,L,h,K,S,i,j,k,U,m,n,o,p,q,r,s,t,u,v,w,Q,x,y){"use strict";var z=l.SelectionMode;var B=l.TableType;var E=l.TableP13nMode;var H=M.ToolbarDesign;var J=M.ToolbarStyle;var V=l.MultiSelectMode;var W=h.TitleLevel;var X=h.SortOrder;var Y=new window.WeakMap();var Z=function(m1){if(!Y.has(m1)){Y.set(m1,{oFilterInfoBar:null});}return Y.get(m1);};
function $(m1,n1){sap.ui.require(["sap/m/MessageToast"],function(o1){var p1=g.getLibraryResourceBundle("sap.ui.mdc");o1.show(p1.getText(m1,n1));});}
var _=C.extend("sap.ui.mdc.Table",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/table/Table.designtime",interfaces:["sap.ui.mdc.IFilterSource","sap.ui.mdc.IxState"],defaultAggregation:"columns",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null,invalidate:true},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null,invalidate:true},p13nMode:{type:"sap.ui.mdc.TableP13nMode[]",defaultValue:[]},delegate:{type:"object",defaultValue:{name:"sap/ui/mdc/TableDelegate",payload:{}}},headerLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:W.Auto},autoBindOnInit:{type:"boolean",group:"Misc",defaultValue:true},header:{type:"string",group:"Misc",defaultValue:null},headerVisible:{type:"boolean",group:"Misc",defaultValue:true},selectionMode:{type:"sap.ui.mdc.SelectionMode",defaultValue:z.None},showRowCount:{type:"boolean",group:"Misc",defaultValue:true},threshold:{type:"int",group:"Appearance",defaultValue:-1},noDataText:{type:"string"},sortConditions:{type:"object"},filterConditions:{type:"object",defaultValue:{}},groupConditions:{type:"object"},aggregateConditions:{type:"object"},enableExport:{type:"boolean",defaultValue:false},busyIndicatorDelay:{type:"int",defaultValue:100},enableColumnResize:{type:"boolean",group:"Behavior",defaultValue:true},showPasteButton:{type:"boolean",group:"Behavior",defaultValue:false},enablePaste:{type:"boolean",group:"Behavior",defaultValue:true},multiSelectMode:{type:"sap.ui.mdc.MultiSelectMode",group:"Behavior",defaultValue:V.Default},enableAutoColumnWidth:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{_content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},type:{type:"sap.ui.mdc.table.TableTypeBase",altTypes:["sap.ui.mdc.TableType"],multiple:false},columns:{type:"sap.ui.mdc.table.Column",multiple:true},creationRow:{type:"sap.ui.mdc.table.CreationRow",multiple:false},actions:{type:"sap.ui.core.Control",multiple:true,forwarding:{getter:"_createToolbar",aggregation:"actions"}},variant:{type:"sap.ui.fl.variants.VariantManagement",multiple:false},quickFilter:{type:"sap.ui.core.Control",multiple:false},rowSettings:{type:"sap.ui.mdc.table.RowSettings",multiple:false},dataStateIndicator:{type:"sap.m.plugins.DataStateIndicator",multiple:false}},associations:{filter:{type:"sap.ui.mdc.IFilter",multiple:false}},events:{rowPress:{parameters:{bindingContext:{type:"sap.ui.model.Context"}}},selectionChange:{parameters:{bindingContext:{type:"sap.ui.model.Context"},selected:{type:"boolean"},selectAll:{type:"boolean"}}},beforeExport:{parameters:{exportSettings:{type:"object"},userExportSettings:{type:"object"}}},paste:{parameters:{data:{type:"string[][]"}}}}},
constructor:function(){this._oTableReady=new k();this._oFullInitialize=new k();this._bUseColumnMenu=U.fromQuery(window.location.search).get("sap-ui-xx-columnmenu")==="true";C.apply(this,arguments);this.bCreated=true;this._doOneTimeOperations();this._initializeContent();},
renderer:{apiVersion:2,render:function(m1,n1){m1.openStart("div",n1);m1.class("sapUiMdcTable");m1.style("height",n1.getHeight());m1.style("width",n1.getWidth());m1.openEnd();m1.renderControl(n1.getAggregation("_content"));m1.close("div");}}
});
var a1=["variant","quickFilter"];F.call(_.prototype);a1.forEach(function(m1){var n1=i(m1),o1="_o"+n1,p1="get"+n1,q1="set"+n1,r1="destroy"+n1;_.prototype[p1]=function(){return this[o1];};_.prototype[r1]=function(){var s1=this[o1];this[q1]();if(s1){s1.destroy();}return this;};_.prototype[q1]=function(s1){this.validateAggregation(m1,s1,false);var t1=this._createToolbar(),u1=s1!==this[o1];if(!s1||u1){t1.removeBetween((this[p1]()));this[o1]=s1;}if(u1&&s1){this._setToolbarBetween(t1);}return this;};});
_.prototype.init=function(){C.prototype.init.apply(this,arguments);this.mSkipPropagation={rowSettings:true};this._bForceRebind=true;this._aSupportedP13nModes=Object.keys(E);this._updateAdaptation();};
_.prototype.applySettings=function(){this._setPropertyHelperClass(P);C.prototype.applySettings.apply(this,arguments);this.initControlDelegate();};
_.prototype._setToolbarBetween=function(m1){[this._oVariant,this._oQuickFilter].forEach(function(n1){if(n1){m1.addBetween(n1);}});};
_.prototype.initialized=function(){return this._oTableReady.promise;};
_.prototype._fullyInitialized=function(){return this._oFullInitialize.promise;};
_.prototype.getDataStateIndicatorPluginOwner=function(m1){return this._oTable||this._oFullInitialize.promise;};
_.prototype.setDataStateIndicator=function(m1){this._handleDataStateEvents(this.getDataStateIndicator(),"detach");this.setAggregation("dataStateIndicator",m1,true);this._handleDataStateEvents(this.getDataStateIndicator(),"attach");return this;};
_.prototype._handleDataStateEvents=function(m1,n1){if(m1){m1[n1+"ApplyFilter"](this._onApplyMessageFilter,this);m1[n1+"ClearFilter"](this._onClearMessageFilter,this);m1[n1+"Event"]("filterInfoPress",l1,this);}};
_.prototype._onApplyMessageFilter=function(m1){this._oMessageFilter=m1.getParameter("filter");m1.preventDefault();this._rebind();};
_.prototype._onClearMessageFilter=function(m1){this._oMessageFilter=null;m1.preventDefault();this._rebind();};
_.prototype._getStringType=function(m1){var n1,o1=n1=m1||this.getType();if(!o1){n1=B.Table;}else if(typeof o1==="object"){if(o1.isA("sap.ui.mdc.table.ResponsiveTableType")){n1=B.ResponsiveTable;}else{n1=B.Table;}}return n1;};
_.prototype._isOfType=function(m1){return this._getStringType()===m1;};
_.prototype._updateTypeSettings=function(){var m1=this.getType();if(m1&&typeof m1==="object"){m1.updateTableSettings();}else{if(m1==="ResponsiveTable"){m1=R;}else{m1=G;}m1.updateDefault(this._oTable);}};
_.prototype.scrollToIndex=function(m1){return new Promise(function(n1,o1){if(!this._oTable){return o1();}if(typeof m1!=="number"){return o1("The iIndex parameter has to be a number");}if(this._isOfType(B.ResponsiveTable)){this._oTable.scrollToIndex(m1).then(n1).catch(o1);}else{if(m1===-1){m1=this._getRowCount(false);}if(this._oTable._setFirstVisibleRowIndex(m1)){this._oTable.attachEventOnce("rowsUpdated",function(){n1();});}else{n1();}}}.bind(this));};
_.prototype.focusRow=function(m1,n1){return this.scrollToIndex(m1).then(function(){return this._oTable._setFocus(m1,n1);}.bind(this));};
_.prototype.setType=function(m1){var n1=this._getStringType(m1);var o1=this._getStringType();this.setAggregation("type",m1,true);if(n1===o1&&this._oTable){this._updateTypeSettings();return this;}if(this.bCreated){if(this._oTable){if(o1==="ResponsiveTable"){this._oTable.setHeaderToolbar();}else{this._oTable.removeExtension(this._oToolbar);}this._oTable.destroy("KeepDom");this._oTable=null;this._bTableExists=false;}else{this._onAfterTableCreated();this._onAfterFullInitialization();}if(this._oTemplate){this._oTemplate.destroy();this._oTemplate=null;}this._oTableReady=new k();this._oFullInitialize=new k();this._bFullyInitialized=false;this._initializeContent();}return this;};
_.prototype.setRowSettings=function(m1){this.setAggregation("rowSettings",m1,true);if(this._oTable){this._oRowActions={};if(this._isOfType(B.ResponsiveTable)){R.updateRowSettings(this,m1,this._onResponsiveRowActionPress);}else{G.updateRowSettings(this._oTable,m1,[this._onRowActionPress,this]);}this._bForceRebind=true;this._rebind();}return this;};
_.prototype.setHeaderLevel=function(m1){if(this.getHeaderLevel()===m1){return this;}this.setProperty("headerLevel",m1,true);this._oTitle&&this._oTitle.setLevel(m1);return this;};
_.prototype.focus=function(m1){if(this._oTable){this._oTable.focus(m1);}};
_.prototype.setBusy=function(m1){this.setProperty('busy',m1,true);if(this._oTable){this._oTable.setBusy(m1);}return this;};
_.prototype.setBusyIndicatorDelay=function(m1){this.setProperty('busyIndicatorDelay',m1,true);if(this._oTable){this._oTable.setBusyIndicatorDelay(m1);}return this;};
_.prototype.setSelectionMode=function(m1){var n1=this.getSelectionMode();this.setProperty("selectionMode",m1,true);if(this._oTable&&n1!=this.getSelectionMode()){this._updateSelectionBehavior();}return this;};
_.prototype.setMultiSelectMode=function(m1){var n1=this.getMultiSelectMode();this.setProperty("multiSelectMode",m1,true);if(this._oTable&&n1!=this.getMultiSelectMode()){this._updateMultiSelectMode();}return this;};
_.prototype.setCreationRow=function(m1){this.setAggregation("creationRow",m1,true);if(m1){m1.update();}return this;};
_.prototype.setEnableColumnResize=function(m1){var n1=this.getEnableColumnResize();this.setProperty("enableColumnResize",m1,true);if(this.getEnableColumnResize()!==n1){this._updateColumnResizer();this._updateAdaptation();}return this;};
_.prototype._onModifications=function(){this.getColumns().forEach(function(m1){m1._onModifications();});};
_.prototype.setP13nMode=function(m1){var n1=this.getP13nMode();var o1=[];if(m1&&m1.length>1){var p1=m1.reduce(function(q1,r1,s1){q1[r1]=true;return q1;},{});if(p1.Column){o1.push("Column");}if(p1.Sort){o1.push("Sort");}if(p1.Filter){o1.push("Filter");}if(p1.Group){o1.push("Group");}if(p1.Aggregate){o1.push("Aggregate");}}else{o1=m1;}this.setProperty("p13nMode",o1,true);this._updateAdaptation();if(!j(n1.sort(),this.getP13nMode().sort())){b1(this);}return this;};
_.prototype._updateAdaptation=function(){var m1={controller:{}};var n1={Column:o,Sort:p,Group:r,Filter:q,Aggregate:s,ColumnWidth:t};this.getActiveP13nModes().forEach(function(o1){m1.controller[o1]=n1[o1];});if(this.getEnableColumnResize()){m1.controller["ColumnWidth"]=n1["ColumnWidth"];}this.getEngine().registerAdaptation(this,m1);};
function b1(m1){if(m1._oToolbar){m1._oToolbar.destroyEnd();m1._getP13nButtons().forEach(function(o1){m1._oToolbar.addEnd(o1);});}if(m1._oTable){var n1=m1._oTable.getDragDropConfig()[0];if(n1){n1.setEnabled(m1.getActiveP13nModes().indexOf("Column")>-1);}}if(m1.isFilteringEnabled()){d1(m1);}c1(m1);}
_.prototype.setFilterConditions=function(m1){this.setProperty("filterConditions",m1,true);var n1=this.getInbuiltFilter();if(n1){n1.setFilterConditions(m1);}c1(this);return this;};
function c1(m1){var n1=g1(m1);var o1=h1(m1);var p1=i1(m1);if(!n1){return;}if(p1.length===0||!m1.isFilteringEnabled()){var q1=n1.getDomRef();if(q1&&q1.contains(document.activeElement)){m1.focus();}n1.setVisible(false);e1(m1).setText("");return;}m1._fullyInitialized().then(function(){var r1=m1.getPropertyHelper();var s1=p1.map(function(w1){return r1.hasProperty(w1)?r1.getProperty(w1).label:"";});var t1=g.getLibraryResourceBundle("sap.ui.mdc");var u1=L.getInstance();var v1=t1.getText("table.FILTER_INFO",u1.format(s1));if(!n1.getVisible()){n1.setVisible(true);}o1.setText(v1);e1(m1).setText(v1);});}
function d1(m1){if(!m1._oTable){return;}var n1=g1(m1);if(!n1){n1=f1(m1);}if(m1._bMobileTable){if(m1._oTable.getInfoToolbar()!==n1){m1._oTable.setInfoToolbar(n1);}}else if(m1._oTable.indexOfExtension(n1)===-1){m1._oTable.insertExtension(n1,1);}var o1=e1(m1);m1._oTable.addAriaLabelledBy(o1.getId());}
function e1(m1){if(!m1){return null;}if(!m1._oFilterInfoBarInvisibleText){m1._oFilterInfoBarInvisibleText=new n().toStatic();}return m1._oFilterInfoBarInvisibleText;}
function f1(m1){var n1=m1.getId()+"-filterInfoBar";var o1=Z(m1).oFilterInfoBar;if(o1&&!o1.bIsDestroyed){o1.destroy();}o1=new O({id:n1,active:true,design:H.Info,visible:false,content:[new a({id:n1+"-text",wrapping:false})],press:[l1,m1]});o1.focus=function(){if(this.getDomRef()){O.prototype.focus.apply(this,arguments);}else{m1.focus();}};Z(m1).oFilterInfoBar=o1;c1(m1);return o1;}
function g1(m1){var n1=Z(m1).oFilterInfoBar;if(n1&&(n1.bIsDestroyed||n1.bIsBeingDestroyed)){return null;}return Z(m1).oFilterInfoBar;}
function h1(m1){var n1=g1(m1);return n1?n1.getContent()[0]:null;}
_.prototype.setThreshold=function(m1){this.setProperty("threshold",m1,true);if(!this._oTable){return this;}m1=this.getThreshold()>-1?this.getThreshold():undefined;if(this._bMobileTable){this._oTable.setGrowingThreshold(m1);}else{this._oTable.setThreshold(m1);}return this;};
_.prototype._onFilterProvided=function(m1){this._updateInnerTableNoDataText();};
_.prototype._onFilterRemoved=function(m1){this._updateInnerTableNoDataText();};
_.prototype._onFiltersChanged=function(m1){if(this.isTableBound()&&m1.getParameter("conditionsBased")){this._oTable.setShowOverlay(true);}};
_.prototype._onFilterSearch=function(m1){this._bIgnoreChange=true;this._bAnnounceTableUpdate=true;};
_.prototype.setNoDataText=function(m1){this.setProperty("noDataText",m1,true);this._updateInnerTableNoDataText();return this;};
_.prototype._updateInnerTableNoDataText=function(){if(!this._oTable){return;}var m1=this._getNoDataText();if(this._bMobileTable){this._oTable.setNoDataText(m1);}else{this._oTable.setNoData(m1);}};
_.prototype._getNoDataText=function(){var m1=this.getNoDataText();if(m1){return m1;}var n1=g.getLibraryResourceBundle("sap.ui.mdc");if(!this.isTableBound()){if(this.getFilter()){return n1.getText("table.NO_DATA_WITH_FILTERBAR");}return n1.getText("table.NO_DATA");}var o1=g.byId(this.getFilter());if((this.isFilteringEnabled()&&i1(this).length>0)||(o1&&i1(o1).length>0)){return n1.getText("table.NO_RESULTS");}return n1.getText("table.NO_DATA");};
_.prototype._updateRowAction=function(){if(!this._oTable){return;}var m1=this._bMobileTable?R:G;m1.updateRowActions(this,this.getRowSettings(),this._bMobileTable?this._onResponsiveRowActionPress:this._onRowActionPress);};
_.prototype._initializeContent=function(){var m1,n1=this._getStringType();if(this._isOfType(B.ResponsiveTable)){m1=R;}else{m1=G;}var o1=[this.awaitControlDelegate(),m1.loadTableModules()];if(this.isFilteringEnabled()){o1.push(this.retrieveInbuiltFilter());}Promise.all(o1).then(function(){if(this.bIsDestroyed){return;}var p1=this.getControlDelegate();this._aSupportedP13nModes=p1.getSupportedP13nModes(this);this._updateAdaptation();if(p1.preInit){this._pDelegatePreInit=p1.preInit(this);}if(!this._bTableExists&&n1===this._getStringType()){this._bMobileTable=n1==="ResponsiveTable";this._createContent();this._bTableExists=true;}}.bind(this)).catch(function(p1){this._onAfterTableCreated();throw p1;}.bind(this));};
_.prototype._doOneTimeOperations=function(){if(!this.bColumnsOrdered){this.bColumnsOrdered=true;this._orderColumns();}};
_.prototype._onAfterTableCreated=function(m1){this._oTableReady[m1?"resolve":"reject"](this);};
_.prototype._onAfterFullInitialization=function(m1){this._oFullInitialize[m1?"resolve":"reject"](this);};
_.prototype._createContent=function(){this._createToolbar();this._createTable();this._updateColumnResizer();this._updateRowAction();this.getColumns().forEach(this._insertInnerColumn,this);this.setAggregation("_content",this._oTable);this._onAfterTableCreated(true);var m1=this.initialized().then(function(){this.initPropertyHelper();var n1=this.getCreationRow();if(n1){n1.update();}if(this.getAutoBindOnInit()){this.rebind();}return this.awaitPropertyHelper();}.bind(this));Promise.all([m1,this._pDelegatePreInit]).then(function(){delete this._pDelegatePreInit;this._bFullyInitialized=true;this._onAfterFullInitialization(true);}.bind(this)).catch(function(n1){this._onAfterFullInitialization();throw n1;}.bind(this));};
_.prototype.setHeader=function(m1){this.setProperty("header",m1,true);this._updateHeaderText();this._updateExportState(true);return this;};
_.prototype.setHeaderVisible=function(m1){this.setProperty("headerVisible",m1,true);if(this._oTitle){this._oTitle.setWidth(this.getHeaderVisible()?undefined:"0px");}return this;};
_.prototype.setShowRowCount=function(m1){this.setProperty("showRowCount",m1,true);this._updateHeaderText();return this;};
_.prototype.setEnableExport=function(m1){if(m1!==this.getEnableExport()){this.setProperty("enableExport",m1,true);if(m1&&!this._oExportButton&&this._oToolbar){this._oToolbar.addEnd(this._getExportButton());}else if(this._oExportButton){this._oExportButton.setVisible(m1);}}return this;};
_.prototype.setShowPasteButton=function(m1){if((m1=!!m1)==this.getShowPasteButton()){return this;}this.setProperty("showPasteButton",m1,true);if(m1&&!this._oPasteButton&&this._oToolbar){this._oToolbar.insertEnd(this._getPasteButton(),0);this._oPasteButton.setEnabled(this.getEnablePaste());}else if(this._oPasteButton){this._oPasteButton.setVisible(m1);this._oPasteButton.setEnabled(this.getEnablePaste());}return this;};
_.prototype.setEnablePaste=function(m1){this.setProperty("enablePaste",m1,true);if(this._oPasteButton){this._oPasteButton.setEnabled(this.getEnablePaste());}return this;};
_.prototype._createToolbar=function(){if(this.isDestroyStarted()||this.isDestroyed()){return;}if(!this._oToolbar){this._oTitle=new b(this.getId()+"-title",{text:this.getHeader(),width:this.getHeaderVisible()?undefined:"0px",level:this.getHeaderLevel()});this._oToolbar=new A(this.getId()+"-toolbar",{design:H.Transparent,begin:[this._oTitle],end:[this._getPasteButton(),this._getP13nButtons(),this._getExportButton()]});}this._oToolbar.setStyle(this._bMobileTable?J.Standard:J.Clear);return this._oToolbar;};
_.prototype._getVisibleProperties=function(){var m1=[],n1;this.getColumns().forEach(function(o1,p1){n1=o1&&o1.getDataProperty();if(n1){m1.push({name:n1});}});return m1;};
_.prototype.getConditions=function(){return this.getInbuiltFilter()?this.getInbuiltFilter().getConditions():[];};
_.prototype._getSortedProperties=function(){return this.getSortConditions()?this.getSortConditions().sorters:[];};
_.prototype._getGroupedProperties=function(){return this.getGroupConditions()?this.getGroupConditions().groupLevels:[];};
_.prototype._getAggregatedProperties=function(){return this.getAggregateConditions()?this.getAggregateConditions():{};};
_.prototype._getXConfig=function(){return this.getEngine().readXConfig(this);};
function i1(m1){var n1=m1.getFilterConditions();return Object.keys(n1).filter(function(o1){return n1[o1].length>0;});}
_.prototype.getCurrentState=function(){var m1={};var n1=this.getActiveP13nModes();if(n1.indexOf("Column")>-1){m1.items=this._getVisibleProperties();}if(this.isSortingEnabled()){m1.sorters=this._getSortedProperties();}if(this.isFilteringEnabled()){m1.filter=this.getFilterConditions();}if(this.isGroupingEnabled()){m1.groupLevels=this._getGroupedProperties();}if(this.isAggregationEnabled()){m1.aggregations=this._getAggregatedProperties();}if(this.getEnableColumnResize()){m1.xConfig=this._getXConfig();}return m1;};
_.prototype.isFilteringEnabled=function(){return this.getActiveP13nModes().includes(E.Filter);};
_.prototype.isSortingEnabled=function(){return this.getActiveP13nModes().includes(E.Sort);};
_.prototype.isGroupingEnabled=function(){return this.getActiveP13nModes().includes(E.Group);};
_.prototype.isAggregationEnabled=function(){return this.getActiveP13nModes().includes(E.Aggregate);};
_.prototype.getSupportedP13nModes=function(){return this._aSupportedP13nModes||[];};
_.prototype.getActiveP13nModes=function(){var m1=this.getP13nMode();var n1=this.getSupportedP13nModes();m1=m1.filter(function(o1){return n1.includes(o1);});return m1;};
_.prototype._getP13nButtons=function(){var m1=this.getActiveP13nModes();var n1=[];var o1=m1.length===1&&m1[0]==="Aggregate";if(m1.length>0&&!o1){n1.push(T.createSettingsButton(this.getId(),[k1,this]));}return n1;};
_.prototype._getPasteButton=function(){if(this.getShowPasteButton()){if(!this._oPasteButton){this._oPasteButton=T.createPasteButton(this.getId());}return this._oPasteButton;}};
_.prototype._getExportButton=function(){if(!this.getEnableExport()){return null;}if(!this._oExportButton){this._oExportButton=T.createExportButton(this.getId(),{"default":[function(){this._onExport();},this],"exportAs":[function(){this._onExport(true);},this]});}this._updateExportState();return this._oExportButton;};
_.prototype._updateExportState=function(m1){if(this._oExportButton){this._oExportButton.setEnabled(this._getRowCount(false)>0);if(m1&&this._cachedExportSettings){this._cachedExportSettings.fileName=this.getHeader();}}};
_.prototype._createExportColumnConfiguration=function(){var m1=this.getColumns();return this._fullyInitialized().then(function(){var n1=this.getPropertyHelper();var o1=[];m1.forEach(function(p1){var q1=n1.getColumnExportSettings(p1);o1=o1.concat(q1);},this);return o1;}.bind(this));};
_.prototype._getColumnLabel=function(m1){var n1=this.getPropertyHelper();var o1=n1.getProperty(m1);return o1&&o1.label;};
_.prototype._onExport=function(m1){var n1=this;return this._createExportColumnConfiguration().then(function(o1){if(!o1||!o1.length){sap.ui.require(["sap/m/MessageBox"],function(s1){s1.error(g.getLibraryResourceBundle("sap.ui.mdc").getText("table.NO_COLS_EXPORT"),{styleClass:(this.$()&&this.$().closest(".sapUiSizeCompact").length)?"sapUiSizeCompact":""});}.bind(n1));return;}var p1=n1._getRowBinding();var q1=n1._getColumnLabel.bind(n1);var r1={workbook:{columns:o1,context:{title:n1.getHeader()}},dataSource:p1,fileName:n1.getHeader()};n1._loadExportLibrary().then(function(){sap.ui.require(["sap/ui/export/ExportHandler"],function(s1){var t1;n1.getControlDelegate().fetchExportCapabilities(n1).then(function(u1){if(!n1._oExportHandler){t1=new s1(u1);t1.attachBeforeExport(function(v1){n1.fireBeforeExport({exportSettings:v1.getParameter('exportSettings'),userExportSettings:v1.getParameter('userExportSettings')});});n1._oExportHandler=t1;}if(m1){n1._oExportHandler.exportAs(r1,q1);}else{n1._oExportHandler.export(r1,q1);}});});});});};
_.prototype._loadExportLibrary=function(){if(!this._oExportLibLoadPromise){this._oExportLibLoadPromise=g.loadLibrary("sap.ui.export",true);}return this._oExportLibLoadPromise;};
_.prototype.onkeydown=function(m1){if(m1.isMarked()){return;}if((m1.metaKey||m1.ctrlKey)&&m1.shiftKey&&m1.which===K.E){if(this.getEnableExport()&&this._oExportButton&&this._oExportButton.getEnabled()){this._onExport(true);m1.setMarked();m1.preventDefault();}}if((m1.metaKey||m1.ctrlKey)&&m1.which===K.COMMA){var n1=g.byId(this.getId()+"-settings");if(n1&&n1.getEnabled()&&n1.getVisible()){n1.firePress();m1.setMarked();m1.preventDefault();}}};
_.prototype._createTable=function(){var m1=this.getThreshold()>-1?this.getThreshold():undefined;var n1=this.getRowSettings()?this.getRowSettings().getAllSettings():{};if(this._bMobileTable){this._oTable=R.createTable(this.getId()+"-innerTable",{autoPopinMode:true,contextualWidth:"Auto",growing:true,sticky:["ColumnHeaders","HeaderToolbar","InfoToolbar"],itemPress:[this._onItemPress,this],selectionChange:[this._onSelectionChange,this],growingThreshold:m1,noDataText:this._getNoDataText(),headerToolbar:this._oToolbar,ariaLabelledBy:[this._oTitle]});this._oTemplate=R.createTemplate(this.getId()+"-innerTableRow",n1);this._sAggregation="items";this._oTable.bindRows=this._oTable.bindItems;this._oTable.bActiveHeaders=true;this._oTable.attachEvent("columnPress",this._onResponsiveTableColumnPress,this);}else{this._oTable=G.createTable(this.getId()+"-innerTable",{enableBusyIndicator:true,enableColumnReordering:false,threshold:m1,cellClick:[this._onCellClick,this],noData:this._getNoDataText(),extension:[this._oToolbar],ariaLabelledBy:[this._oTitle],plugins:[G.createMultiSelectionPlugin(this,[this._onRowSelectionChange,this])],columnSelect:[this._onGridTableColumnPress,this],rowSettingsTemplate:n1});this._sAggregation="rows";}this._updateTypeSettings();this._updateSelectionBehavior();this._updateMultiSelectMode();var o1=new D({sourceAggregation:"columns",targetAggregation:"columns",dropPosition:"Between",enabled:this.getActiveP13nModes().includes(E.Column),drop:[this._onColumnRearrange,this]});o1.bIgnoreMetadataCheck=true;this._oTable.addDragDropConfig(o1);this._oTable.setBusyIndicatorDelay(this.getBusyIndicatorDelay());this._oTable.attachPaste(this._onInnerTablePaste,this);if(this.isFilteringEnabled()){d1(this);}};
_.prototype._updateColumnResizer=function(){if(!this._oTable){return;}var m1=this.getEnableColumnResize();var n1=this._bMobileTable?R:G;if(m1){n1.enableColumnResizer(this,this._oTable);}else{n1.disableColumnResizer(this,this._oTable);}};
_.prototype._updateSelectionBehavior=function(){var m1=this._bMobileTable?R:G;m1.updateSelection(this);};
_.prototype._updateMultiSelectMode=function(){if(this._bMobileTable){R.updateMultiSelectMode(this);}};
_.prototype._onColumnRearrange=function(m1){var n1=m1.getParameter("draggedControl");var o1=m1.getParameter("droppedControl");if(n1===o1){return;}var p1=m1.getParameter("dropPosition");var q1=this._oTable.indexOfColumn(n1);var r1=this._oTable.indexOfColumn(o1);var s1=r1+(p1=="Before"?0:1)+(q1<r1?-1:0);T.moveColumn(this,q1,s1);};
_.prototype._onColumnPress=function(m1){if(this._bSuppressOpenMenu){return;}var n1=m1.getParent(),o1=n1.indexOfColumn(m1),p1=this.getColumns()[o1];this._fullyInitialized().then(function(){if(this._bUseColumnMenu){if(!this._oColumnHeaderMenu){this._oQuickActionContainer=new Q({table:this});this._oItemContainer=new x({table:this});this._oColumnHeaderMenu=new f({_quickActions:[this._oQuickActionContainer],_items:[this._oItemContainer]});}this._oQuickActionContainer.setAssociation("column",p1);Promise.all([this._oQuickActionContainer.initializeQuickActions(),this._oItemContainer.initializeItems()]).then(function(){if(this._oQuickActionContainer.hasQuickActions()||this._oItemContainer.hasItems()){this._oColumnHeaderMenu.openBy(m1);}}.bind(this));}else{var q1=g.getLibraryResourceBundle("sap.ui.mdc"),r1=this._bMobileTable&&this.getEnableColumnResize();if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}if(this.isSortingEnabled()){var s1=[],t1=[];var u1=this.getPropertyHelper().getProperty(p1.getDataProperty()).getSortableProperties();u1.forEach(function(A1){s1.push(new I({text:A1.label,key:A1.name}));t1.push(new I({text:A1.label,key:A1.name}));});if(s1.length>0){this._oPopover=new c({items:[new d({items:s1,label:q1.getText("table.SETTINGS_ASCENDING"),icon:"sap-icon://sort-ascending",action:[X.Ascending,this._onCustomSort,this]}),new d({items:t1,label:q1.getText("table.SETTINGS_DESCENDING"),icon:"sap-icon://sort-descending",action:[X.Descending,this._onCustomSort,this]})]});m1.addDependent(this._oPopover);}}var v1=[];var w1=this.getControlDelegate();var x1=(w1.addColumnMenuItems&&w1.addColumnMenuItems(this,p1))||[];this.getPropertyHelper().getFilterableProperties(p1.getDataProperty()).forEach(function(A1){v1.push(new I({text:A1.label,key:A1.name}));});if(this.isFilteringEnabled()&&v1.length){var y1=new d({label:q1.getText("table.SETTINGS_FILTER"),icon:"sap-icon://filter",action:[l1,this]});x1.unshift(y1);}if(r1){var z1=R.startColumnResize(this._oTable,m1);z1&&x1.push(z1);}x1.forEach(function(A1){this._createPopover(A1,m1);},this);this._oPopover&&this._oPopover.openBy(m1);}}.bind(this));};
_.prototype._createPopover=function(m1,n1){if(this._oPopover){this._oPopover.addItem(m1);}else{this._oPopover=new c({items:m1});n1.addDependent(this._oPopover);}};
_.prototype._onCustomSort=function(m1,n1){var o1=m1.getParameter("property");this.getCurrentState().sorters.forEach(function(p1){if(p1.name===o1){if(p1.descending&&n1===X.Descending||!p1.descending&&n1===X.Ascending){n1=X.None;}}});T.createSort(this,o1,n1,true);};
_.prototype._onColumnResize=function(m1){var n1=m1.getParameter("column");var o1=m1.getParameter("width");var p1=this._oTable.indexOfColumn(n1);var q1=this.getColumns()[p1];var r1=q1.getDataProperty();T.createColumnWidth(this,r1,o1);};
_.prototype._onCustomGroup=function(m1){T.createGroup(this,m1);};
_.prototype._onCustomAggregate=function(m1){T.createAggregation(this,m1);};
_.prototype._insertInnerColumn=function(m1,n1){if(!this._oTable){return;}var o1=m1.getInnerColumn();this._setMobileColumnTemplate(m1,n1);this._bForceRebind=true;if(n1===undefined){this._oTable.addColumn(o1);}else{this._oTable.insertColumn(o1,n1);}};
_.prototype._orderColumns=function(){var m1,n1=[],o1=this.getColumns();o1.forEach(function(p1){m1=p1.getInitialIndex();if(m1>-1){n1.push({index:m1,column:this.removeColumn(p1)});}},this);n1.sort(function(p1,q1){return p1-q1;});n1.forEach(function(p1){this.insertColumn(p1.column,p1.index);},this);};
_.prototype.moveColumn=function(m1,n1){m1._bIsBeingMoved=true;this.removeAggregation("columns",m1,true);this.insertAggregation("columns",m1,n1,true);delete m1._bIsBeingMoved;if(this._oTable){var o1=m1.getInnerColumn();this._oTable.removeColumn(o1);this._oTable.insertColumn(o1,n1);this._setMobileColumnOrder();this._updateMobileColumnTemplate(m1,n1);}};
_.prototype.removeColumn=function(m1){m1=this.removeAggregation("columns",m1,true);this._updateMobileColumnTemplate(m1,-1);return m1;};
_.prototype.addColumn=function(m1){this.addAggregation("columns",m1,true);this._insertInnerColumn(m1);return this;};
_.prototype.insertColumn=function(m1,n1){this.insertAggregation("columns",m1,n1,true);this._insertInnerColumn(m1,n1);return this;};
_.prototype._setMobileColumnTemplate=function(m1,n1){if(!this._bMobileTable){return;}var o1=m1.getTemplateClone();if(n1>=0){this._oTemplate.insertCell(o1,n1);this._oTable.getItems().forEach(function(p1){p1.insertAggregation("cells",new n(),n1,true);});}else{this._oTemplate.addCell(o1);}};
_.prototype._updateMobileColumnTemplate=function(m1,n1){if(!this._bMobileTable){return;}var o1,p1;if(this._oTemplate){o1=m1.getTemplateClone();p1=this._oTemplate.indexOfCell(o1);j1(this._oTemplate,p1,n1);}if(p1>-1){this._oTable.getItems().forEach(function(q1){if(q1.removeCell){j1(q1,p1,n1);}});}};
_.prototype._setMobileColumnOrder=function(){if(!this._bMobileTable){return;}this.getColumns().forEach(function(m1){var n1=m1.getInnerColumn();if(!n1){return;}n1.setOrder(this.indexOfColumn(m1));},this);this._oTable.invalidate();};
function j1(m1,n1,o1){var p1=m1.removeCell(n1);if(p1){if(o1>-1){m1.insertCell(p1,o1);}else{p1.destroy();}}}
_.prototype._onItemPress=function(m1){this.fireRowPress({bindingContext:m1.getParameter("listItem").getBindingContext()});R._onRowActionPress.apply(this,[m1]);};
_.prototype._onSelectionChange=function(m1){var n1=m1.getParameter("selectAll");this.fireSelectionChange({bindingContext:m1.getParameter("listItem").getBindingContext(),selected:m1.getParameter("selected"),selectAll:n1});if(n1){var o1=this.getRowBinding();if(o1&&this._oTable){var p1=o1.getLength();var q1=this._oTable.getItems().length;var r1=o1.isLengthFinal();if(q1!=p1||!r1){$("table.SELECTION_LIMIT_MESSAGE",[q1]);}}}};
_.prototype._onResponsiveTableColumnPress=function(m1){this._onColumnPress(m1.getParameter("column"));};
_.prototype._onCellClick=function(m1){this.fireRowPress({bindingContext:m1.getParameter("rowBindingContext")});};
_.prototype._onRowSelectionChange=function(m1){if(!this._bSelectionChangedByAPI){this.fireSelectionChange({bindingContext:m1.getParameter("rowContext"),selected:m1.getSource().isIndexSelected(m1.getParameter("rowIndex")),selectAll:m1.getParameter("selectAll")});}};
_.prototype._onGridTableColumnPress=function(m1){m1.preventDefault();this._onColumnPress(m1.getParameter("column"));};
_.prototype.getSelectedContexts=function(){if(this._oTable){if(this._bMobileTable){return this._oTable.getSelectedContexts();}var m1=this._oTable.getPlugins()[0].getSelectedIndices();return m1.map(function(n1){return this._oTable.getContextByIndex(n1);},this);}return[];};
_.prototype.clearSelection=function(){if(this._oTable){if(this._bMobileTable){this._oTable.removeSelections(true);}else{this._bSelectionChangedByAPI=true;this._oTable.getPlugins()[0].clearSelection();this._bSelectionChangedByAPI=false;}}};
_.prototype._registerInnerFilter=function(m1){m1.attachSearch(function(){this._rebind();},this);};
_.prototype.isTableBound=function(){return this._oTable?this._oTable.isBound(this._bMobileTable?"items":"rows"):false;};
_.prototype.bindRows=function(){if(!this.bDelegateInitialized||!this._oTable){return;}var m1={};this.getControlDelegate().updateBindingInfo(this,m1);if(m1.path){this._oTable.setShowOverlay(false);if(this._bMobileTable&&this._oTemplate){m1.template=this._oTemplate;}else{delete m1.template;}_._addBindingListener(m1,"dataRequested",this._onDataRequested.bind(this));_._addBindingListener(m1,"dataReceived",this._onDataReceived.bind(this));_._addBindingListener(m1,"change",this._onBindingChange.bind(this));this._updateColumnsBeforeBinding();this.getControlDelegate().updateBinding(this,m1,this._bForceRebind?null:this.getRowBinding());this._updateInnerTableNoDataText();this._bForceRebind=false;}};
_.prototype._onDataRequested=function(){this._bIgnoreChange=true;};
_.prototype._onDataReceived=function(){this._bIgnoreChange=false;this._updateHeaderText();this._updateExportState();};
_.prototype._onBindingChange=function(){if(this._bIgnoreChange){return;}this._updateHeaderText();};
_.prototype._updateHeaderText=function(){var m1,n1;if(!this._oNumberFormatInstance){this._oNumberFormatInstance=N.getFloatInstance();}if(this._oTitle&&this.getHeader()){m1=this.getHeader();if(this.getShowRowCount()){n1=this._getRowCount(true);if(n1>0){var o1=this._oNumberFormatInstance.format(n1);m1+=" ("+o1+")";}}this._oTitle.setText(m1);}if(!this._bIgnoreChange&&this._bAnnounceTableUpdate){this._bAnnounceTableUpdate=false;this._announceTableUpdate(n1);}};
_.prototype._announceTableUpdate=function(m1){var n1=m.getInstance();if(n1){var o1=g.getLibraryResourceBundle("sap.ui.mdc");var p1=this.getHeader();if(m1===undefined&&this._getRowCount(false)>0){n1.announce(o1.getText("table.ANNOUNCEMENT_TABLE_UPDATED",[p1]));}else if(m1>1){n1.announce(o1.getText("table.ANNOUNCEMENT_TABLE_UPDATED_MULT",[p1,m1]));}else if(m1===1){n1.announce(o1.getText("table.ANNOUNCEMENT_TABLE_UPDATED_SING",[p1,m1]));}else{n1.announce(o1.getText("table.ANNOUNCEMENT_TABLE_UPDATED_NOITEMS",[p1]));}}};
_.prototype._updateColumnsBeforeBinding=function(){var m1=this.getColumns();var n1=this.getPropertyHelper();m1.forEach(function(o1){var p1=o1.getInnerColumn();var q1=n1.getProperty(o1.getDataProperty());var r1=q1?q1.getSortableProperties().map(function(q1){return q1.name;}):[];var s1=this._getSortedProperties().find(function(s1){return r1.includes(s1.name);});var t1=s1&&s1.descending?X.Descending:X.Ascending;if(this._bMobileTable){p1.setSortIndicator(s1?t1:X.None);}else{p1.setSorted(!!s1).setSortOrder(t1);}},this);};
_.prototype._getRowCount=function(m1){var n1=this._getRowBinding();if(!n1){return m1?undefined:0;}var o1;if(!m1){o1=n1.getLength();}else if(typeof n1.getCount==='function'){o1=n1.getCount();}else if(n1.isLengthFinal()){o1=n1.getLength();}if(o1<0||o1==="0"){o1=0;}return o1;};
_.prototype.getRowBinding=function(){return this._getRowBinding();};
_.prototype._getRowBinding=function(){if(this._oTable){return this._oTable.getBinding(this._sAggregation);}};
_._addBindingListener=function(m1,n1,o1){if(!m1.events){m1.events={};}if(!m1.events[n1]){m1.events[n1]=o1;}else{var p1=m1.events[n1];m1.events[n1]=function(){o1.apply(this,arguments);p1.apply(this,arguments);};}};
_.prototype._rebind=function(){if(this._bFullyInitialized){this.bindRows();}else{this._fullyInitialized().then(this._rebind.bind(this));}};
function k1(m1){T.showPanel(this,"Columns",m1.getSource());}
function l1(m1){T.showPanel(this,"Filter",m1.getSource());}
_.prototype._getSorters=function(){var m1=this.getSortConditions()?this.getSortConditions().sorters:[];var n1=[],o1=this.getPropertyHelper();m1.forEach(function(p1){if(o1.hasProperty(p1.name)){var q1=o1.getProperty(p1.name).path;n1.push(new S(q1,p1.descending));}});return n1;};
_.prototype._onInnerTablePaste=function(m1){if(!this.getEnablePaste()){return;}this.firePaste({data:m1.getParameter("data")});};
_.prototype.exit=function(){if(this._oTemplate){this._oTemplate.destroy();}this._oTemplate=null;this._oTable=null;if(this._oToolbar&&!this._bTableExists){this._oToolbar.destroy();}this._oToolbar=null;this._oTitle=null;this._oNumberFormatInstance=null;a1.forEach(function(m1){var n1=i(m1),o1="_o"+n1;this[o1]=null;},this);this._oTableReady=null;this._oFullInitialize=null;this._oPasteButton=null;if(this._oFilterInfoBarInvisibleText){this._oFilterInfoBarInvisibleText.destroy();this._oFilterInfoBarInvisibleText=null;}C.prototype.exit.apply(this,arguments);};
_.prototype.addAction=function(m1){if(m1.getMetadata().getName()!=="sap.ui.mdc.actiontoolbar.ActionToolbarAction"){m1=new u(m1.getId()+"-action",{action:m1});}return C.prototype.addAggregation.apply(this,["actions",m1]);};
return _;});
sap.ui.predefine('sap/ui/mdc/TableDelegate',["./AggregationBaseDelegate","./library","sap/ui/model/Sorter","sap/ui/core/library","sap/ui/core/Core"],function(A,l,S,c,C){"use strict";var P=l.TableP13nMode;var T=l.TableType;var a=Object.assign({},A);
a.updateBindingInfo=function(t,b){b.parameters={};b.filters=[];b.sorter=[];if(t._oMessageFilter){b.filters=[t._oMessageFilter];}if(t._bMobileTable){var g=t._getGroupedProperties()[0];if(g){var s=t._getSortedProperties().find(function(o){return o.name===g.name;});var p=t.getPropertyHelper().getProperty(g.name).path;var d=s?s.descending:false;b.sorter.push(new S(p,d,function(o){return this.formatGroupHeader(t,o,g.name);}.bind(this)));}}b.sorter=b.sorter.concat(b.sorter.length===1?t._getSorters().filter(function(o){return o.sPath!==b.sorter[0].sPath;}):t._getSorters());};
a.updateBinding=function(t,b,B){this.rebind(t,b);};
a.formatGroupHeader=function(t,o,p){var b=t.getPropertyHelper().getProperty(p);var d=b.textProperty;var r=C.getLibraryResourceBundle("sap.ui.mdc");var R="table.ROW_GROUP_TITLE";var v=[b.label,o.getProperty(b.path,true)];if(d){R="table.ROW_GROUP_TITLE_FULL";v.push(o.getProperty(d.path,true));}return r.getText(R,v);};
a.validateState=function(o,s,k){if(k=="Filter"&&o._oMessageFilter){var r=C.getLibraryResourceBundle("sap.ui.mdc");return{validation:c.MessageType.Information,message:r.getText("table.PERSONALIZATION_DIALOG_FILTER_MESSAGESTRIP")};}return A.validateState.apply(this,arguments);};
a.rebind=function(t,b){if(t._oTable){t._oTable.bindRows(b);}};
a.getFilterDelegate=function(){return{addItem:function(p,t){return Promise.resolve(null);},addCondition:function(p,o,m){return Promise.resolve();},removeCondition:function(p,o,m){return Promise.resolve();}};};
a.fetchExportCapabilities=function(t){return Promise.resolve({XLSX:{}});};
a.getSupportedP13nModes=function(t){var s=[P.Column,P.Sort,P.Filter];if(t._getStringType()===T.ResponsiveTable){s.push(P.Group);}return s;};
return a;});
sap.ui.predefine('sap/ui/mdc/ValueHelp',['sap/ui/mdc/Element','sap/ui/mdc/mixin/PromiseMixin','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/FilterConverter','sap/ui/mdc/enum/SelectType','sap/ui/mdc/enum/OutParameterMode','sap/ui/mdc/enum/ConditionValidated','sap/ui/model/Context','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/base/ManagedObjectModel','sap/ui/base/ManagedObjectObserver','sap/base/util/merge','sap/base/util/deepEqual','sap/ui/mdc/enum/PropagationReason'],function(E,P,C,F,a,S,O,b,c,d,e,M,f,m,g,h){"use strict";
var V=E.extend("sap.ui.mdc.ValueHelp",{metadata:{library:"sap.ui.mdc",properties:{conditions:{type:"object[]",defaultValue:[],byValue:true},delegate:{type:"object",group:"Data",defaultValue:{name:"sap/ui/mdc/ValueHelpDelegate"}},filterValue:{type:"string",defaultValue:""},validateInput:{type:"boolean",defaultValue:true},_config:{type:"object",defaultValue:{},visibility:"hidden"},_valid:{type:"boolean",group:"Appearance",defaultValue:true,visibility:"hidden"}},aggregations:{dialog:{type:"sap.ui.mdc.valuehelp.IDialogContainer",multiple:false},typeahead:{type:"sap.ui.mdc.valuehelp.ITypeaheadContainer",multiple:false}},events:{select:{parameters:{conditions:{type:"object[]"},add:{type:"boolean"},close:{type:"boolean"}}},disconnect:{},closed:{},navigated:{parameters:{leaveFocus:{type:"boolean"},condition:{type:"object"},itemId:{type:"string"}}},switchToValueHelp:{}},defaultProperty:"filterValue"}});
V.prototype.init=function(){E.prototype.init.apply(this,arguments);this._oObserver=new f(t.bind(this));this._oObserver.observe(this,{aggregations:["typeahead","dialog"]});this.setBindingContext(null);this._oConditions={};};
V.prototype.exit=function(){if(this._oManagedObjectModel){this._oManagedObjectModel.destroy();delete this._oManagedObjectModel;}};
V.prototype.invalidate=function(i){return;};
V.prototype.connect=function(i,j){if(this._oControl&&this._oControl!==i){this.close();this.setFilterValue("");this.setConditions([]);this.fireDisconnect();}this._oControl=i;this.setProperty("_config",j,true);u.call(this);return this;};
V.prototype.getControl=function(){return this._oControl;};
V.prototype.getDomRef=function(){var T=this.getTypeahead();var D=this.getDialog();if(T&&(T.isOpen()||T.isOpening())){return T.getDomRef();}else if(D&&(D.isOpen()||D.isOpening())){return D.getDomRef();}};
V.prototype.getAriaAttributes=function(i){var T=this.getTypeahead();var D=this.getDialog();if(!D&&T&&T.getUseAsValueHelp()){D=T;}var j=T&&T.isOpen();var w=D&&D.isOpen();var x=T&&T.getAriaAttributes(i);var y=D&&D.getAriaAttributes(i);var z;var H;var R;var A;if(j){z=x.contentId;}else if(w){z=y.contentId;}H=(T&&x.ariaHasPopup)||(D&&y.ariaHasPopup);R=(T&&x.role)||(D&&y.role);A=(T&&x.roleDescription)||(D&&y.roleDescription);return{contentId:z,ariaHasPopup:H,role:R,roleDescription:A,valueHelpEnabled:!!D||!!T&&!!T.getUseAsValueHelp()};};
V.prototype._retrieveDelegateContent=function(i,j){var w;if(!j){var x=i.getSelectedContent();j=x&&x.getId();}w=this._retrievePromise("delegateContent");var I=this.isOpen();if(!w||(w&&I)||(w&&w.aggregation!==i.sParentAggregationName)){var y=function(){return this._getControlDelegatePromise().then(function(D){return D.retrieveContent(this.getPayload(),i,j);}.bind(this));}.bind(this);var z=w&&w.isPending();w=this._addPromise("delegateContent",z?w.getInternalPromise().then(y):y);w.aggregation=i.sParentAggregationName;}return w.getInternalPromise();};
V.prototype._getControlDelegatePromise=function(i){return this._retrievePromise("delegate",this.initControlDelegate.bind(this));};
V.prototype.open=function(T){var i=T?this.getTypeahead():v.call(this);var j=T?this.getDialog():this.getTypeahead();if(j&&i!==j&&(j.isOpen()||j.isOpening())){j.close();}if(i&&!i.isOpen()&&!i.isOpening()){i.open(this._retrieveDelegateContent(i));}};
function _(i){var j=i.getSource();this._retrieveDelegateContent(j,i.getParameter("contentId"));}
function k(i){this.fireSwitchToValueHelp();}
V.prototype.close=function(){var T=this.getTypeahead();var D=this.getDialog();if(T&&T.isOpen()){T.close();}if(D&&D.isOpen()){D.close();}};
V.prototype.toggleOpen=function(T){var i=this.getTypeahead();var D=this.getDialog();if(!T&&!D&&i&&i.getUseAsValueHelp()){D=i;}var j=i&&i.isOpen();var w=D&&D.isOpen();if((T&&j)||(!T&&w)){this.close();}else if((T&&i)||(!T&&D)){this.open(T);}};
V.prototype.isOpen=function(){var T=this.getTypeahead();var D=this.getDialog();return!!((T&&T.isOpen())||(D&&D.isOpen()));};
V.prototype.skipOpening=function(){var T=this.getTypeahead();var D=this.getDialog();if(T&&T.isOpening()){T.close();}if(D&&D.isOpening()){D.close();}};
V.prototype.initBeforeOpen=function(T){};
V.prototype.isTypeaheadSupported=function(){var T=this.getTypeahead();if(T){return this._retrieveDelegateContent(T).then(function(){return!!T&&T.isTypeaheadSupported();});}else{return Promise.resolve(false);}};
V.prototype.shouldOpenOnClick=function(){var i=v.call(this);if(i){return i.shouldOpenOnClick();}return false;};
V.prototype.isFocusInHelp=function(){var D=v.call(this);return D&&D.isFocusInHelp();};
V.prototype.removeFocus=function(){var T=this.getTypeahead();if(T){T.removeFocus();}};
V.prototype.navigate=function(i){var T=this.getTypeahead();if(T){var j=function(){if(T.shouldOpenOnNavigate()&&!T.isOpening()&&!T.isOpen()){return T.open(true).then(function(){T.navigate(i);});}return T.navigate(i);};var N=this._retrievePromise("navigate");var w=N&&!N.isSettled()&&N.getInternalPromise();this._addPromise("navigate",w?w.then(j):this._retrieveDelegateContent(T).then(j));}};
V.prototype.getTextForKey=function(K,i,B,j,w){return this.getItemForValue({parsedValue:K,value:K,context:i,bindingContext:B,conditionModel:j,conditionModelName:w,checkKey:true,exception:d,caseSensitive:true});};
V.prototype.getKeyForText=function(T,i){return this.getItemForValue({value:T,context:i,checkDescription:true,exception:e,caseSensitive:true});};
V.prototype.getItemForValue=function(i){var T=this.getTypeahead();if(T){var j=["getItemForValue",i.parsedValue||i.value,JSON.stringify(i.context),i.oBindingContext&&i.oBindingContext.getPath()];var w=j.join("_");return this._retrievePromise(w,function(){return this._retrieveDelegateContent(T).then(function(){i.caseSensitive=i.hasOwnProperty("caseSensitive")?i.caseSensitive:false;var x=T.getItemForValue(i);return x;});}.bind(this));}else{return Promise.reject("No Typeahead");}};
V.prototype.isValidationSupported=function(){var T=this.getTypeahead();return T&&T.isValidationSupported();};
V.prototype.onControlChange=function(){if(this.bIsDestroyed){return;}l.call(this,h.ControlChange);u.call(this);};
V.prototype.getIcon=function(){var T=this.getTypeahead();var D=this.getDialog();if(D){return D.getValueHelpIcon();}else if(T){return T.getValueHelpIcon();}};
V.prototype.getMaxConditions=function(){var i=this.getProperty("_config");return(i&&i.maxConditions)||-1;};
V.prototype.getDisplay=function(){};
V.prototype.getDataType=function(){};
V.prototype.valueHelpEnabled=function(){var T=this.getTypeahead();var D=this.getDialog();if(D){return true;}else{return T&&T.getUseAsValueHelp();}};
function l(R,i){var D=this.bDelegateInitialized&&this.getControlDelegate();if(D){D.onConditionPropagation(this._oPayload,this,R,i||this.getProperty("_config"));}}
function n(i){var j=i.getParameter("condition");this.fireNavigated({condition:j,itemId:i.getParameter("itemId"),leaveFocus:i.getParameter("leaveFocus")});}
function o(w){var T=w.getParameter("type");var x=w.getParameter("conditions")||[];var N;var y=this.getMaxConditions()===1;if(y){N=T===S.Remove?[]:x.slice(0,1);}if(T===S.Set){N=[].concat(y?x.slice(0,1):x);}if(T===S.Add){if(y){N=x.slice(0,1);}else{N=this.getConditions();for(var i=0;i<x.length;i++){N.push(x[i]);}}}if(T===S.Remove){if(y){N=[];}else{N=this.getConditions();for(var j=0;j<x.length;j++){var I=F.indexOfCondition(x[j],N);if(I>=0){N.splice(I,1);}}}}if(N){this.setProperty("conditions",N,true);}}
function p(i){if(this.getProperty("_valid")){var j=this.getMaxConditions()===1;var w=i.getParameter("close");var x=typeof w!=='undefined'?w:j;var y=this.getConditions();var A=!j&&!i.getSource().isMultiSelect();if(x){this.close();}y=C._removeEmptyConditions(y);y=C._removeInitialFlags(y);F.updateConditionsValues(y);this.fireSelect({conditions:y,add:A,close:x});l.call(this,h.Select);}}
function q(i){this.close();}
function r(i){}
function s(i){this._removePromise("delegateContent");this._removePromise("navigate");this.fireClosed();}
function t(i){if(["typeahead","dialog"].indexOf(i.name)!==-1){var j=i.child;var A=i.mutation==="insert";var w=A?j.attachEvent.bind(j):j.detachEvent.bind(j);w("select",o,this);w("requestDelegateContent",_,this);w("confirm",p,this);w("cancel",q,this);w("opened",r,this);w("closed",s,this);if(j.attachRequestSwitchToDialog){w("requestSwitchToDialog",k,this);}if(j.attachNavigated){w("navigated",n,this);}if(A){if(!this._oManagedObjectModel){this._oManagedObjectModel=new M(this);}j.setModel(this._oManagedObjectModel,"$valueHelp");}}}
function u(){var B=this._oControl?this._oControl.getBindingContext():null;this.setBindingContext(B);}
function v(){var i=this.getDialog();if(!i){var T=this.getTypeahead();if(T&&T.getUseAsValueHelp()){i=T;}}return i;}
P.call(V.prototype);return V;});
sap.ui.predefine('sap/ui/mdc/ValueHelpDelegate',["sap/ui/mdc/BaseDelegate","sap/ui/model/FilterType","sap/ui/mdc/enum/ConditionValidated"],function(B,F,C){"use strict";var V=Object.assign({},B);
V.retrieveContent=function(p,c,s){return Promise.resolve();};
V.isSearchSupported=function(p,c,l){return false;};
V.executeSearch=function(p,l,s){return Promise.resolve();};
V.adjustSearch=function(p,t,s){return s;};
V.executeFilter=function(p,l,f,r){if(l.isA("sap.ui.model.json.JSONListBinding")){l.filter(f,F.Application);return Promise.resolve(l);}else{var R;var c=function(){R(l);};l.attachEventOnce("dataReceived",c);l.initialize();l.filter(f,F.Application);l.getContexts(0,r);return new Promise(function(a,b){R=a;});}};
V.checkBindingsPending=function(p,b){return null;};
V.checkListBindingPending=function(p,l,L){return false;};
V.onConditionPropagation=function(p,v,r,c){};
V.getInitialFilterConditions=function(p,c,o){var a={};return a;};
V.isFilterableListItemSelected=function(p,c,I,a){var m=c._getListBindingInfo().model;var o=I&&I.getBindingContext(m);var b=c._getItemFromContext(o);for(var i=0;i<a.length;i++){var d=a[i];if(d.validated===C.Validated&&b.key===d.values[0]){return true;}}return false;};
V.modifySelectionBehaviour=function(p,c,o){return o;};
V.createConditionPayload=function(p,c,v,o){return undefined;};
V.getTypesForConditions=function(p,c,o){var a={};var l=c&&c._getListBindingInfo();if(l&&l.template){l.template.mAggregations.cells.forEach(function(b){Object.values(b.mBindingInfos).forEach(function(d){d.parts.forEach(function(P){a[P.path]={type:P.type||null};});});},{});}return a;};
return V;});
sap.ui.predefine('sap/ui/mdc/actiontoolbar/ActionToolbarAction',["sap/ui/core/Control","sap/ui/mdc/actiontoolbar/ActionToolbarActionRenderer","sap/ui/mdc/enum/ActionToolbarActionAlignment"],function(C,A,a){"use strict";
var b=C.extend("sap.ui.mdc.actiontoolbar.ActionToolbarAction",{metadata:{library:"sap.ui.mdc",interfaces:["sap.m.IOverflowToolbarContent"],properties:{layoutInformation:{type:"object",defaultValue:{aggregationName:"end",alignment:a.Begin}}},defaultAggregation:"action",aggregations:{action:{type:"sap.ui.core.Control",multiple:false}},renderer:A}});
b.prototype.getOverflowToolbarConfig=function(){var c={canOverflow:true};c.onBeforeEnterOverflow=this._onBeforeEnterOverflow.bind(this);c.onAfterExitOverflow=this._onAfterExitOverflow.bind(this);return c;};
b.prototype._onBeforeEnterOverflow=function(){if(this.getParent()){this.getParent()._updateSeparators();}};
b.prototype._onAfterExitOverflow=function(){if(this.getParent()){this.getParent()._updateSeparators();}};
b.prototype.getLabel=function(){var o=this.getAction();return o&&o.getText?o.getText():this.getId();};
return b;});
sap.ui.predefine('sap/ui/mdc/chart/ChartSettings',[],function(){"use strict";var C={showPanel:function(c,p,s,P){C["showUI"+p](c,s);},showUIChart:function(c,s){c.getEngine().uimanager.show(c,"Item");},showUISort:function(c,s){c.getEngine().uimanager.show(c,"Sort");}};return C;});
sap.ui.predefine('sap/ui/mdc/chart/ChartTypeButton',["sap/m/OverflowToolbarButton","sap/m/ButtonRenderer","sap/ui/base/ManagedObjectObserver","sap/ui/core/library","sap/m/library"],function(O,B,M,C,m){"use strict";var P=m.PlacementType;var H=C.aria.HasPopup;var R,L,a,S,b,I,D,r;
var c=O.extend("sap.ui.mdc.chart.ChartTypeButton",{
metadata:{library:"sap.ui.mdc"},
constructor:function(o){if(!o){O.apply(this);return;}this.oMDCChartModel=o.getManagedObjectModel();var s={type:"Transparent",press:function(e){this.displayChartTypes(e.getSource(),o);}.bind(this),id:o.getId()+"-btnChartType",icon:'{$chart>/getChartTypeInfo/icon}',tooltip:'{$chart>/getChartTypeInfo/text}',text:'{$chart>/getChartTypeInfo/text}',ariaHasPopup:H.ListBox};this.oMDCChart=o;O.apply(this,[s]);this.setModel(this.oMDCChartModel,"$chart");this._oObserver=new M(function(){this.oMDCChartModel.checkUpdate(true);}.bind(this));this._oObserver.observe(this.oMDCChart,{aggregations:["items"],properties:["chartType"]});},
renderer:B
});
c.mMatchingIcon={"bar":"sap-icon://horizontal-bar-chart","bullet":"sap-icon://horizontal-bullet-chart","bubble":"sap-icon://bubble-chart","column":"sap-icon://vertical-bar-chart","combination":"sap-icon://business-objects-experience","dual_bar":"sap-icon://horizontal-bar-chart","dual_column":"sap-icon://vertical-bar-chart","dual_combination":"sap-icon://business-objects-experience","dual_horizontal_combination":"sap-icon://business-objects-experience","dual_horizontal_stacked_combination":"sap-icon://business-objects-experience","dual_line":"sap-icon://line-chart","dual_stacked_bar":"sap-icon://full-stacked-chart","dual_stacked_column":"sap-icon://vertical-stacked-chart","dual_stacked_combination":"sap-icon://business-objects-experience","donut":"sap-icon://donut-chart","heatmap":"sap-icon://heatmap-chart","horizontal_stacked_combination":"sap-icon://business-objects-experience","line":"sap-icon://line-chart","pie":"sap-icon://pie-chart","scatter":"sap-icon://scatter-chart","stacked_bar":"sap-icon://full-stacked-chart","stacked_column":"sap-icon://vertical-stacked-chart","stacked_combination":"sap-icon://business-objects-experience","treemap":"sap-icon://Chart-Tree-Map","vertical_bullet":"sap-icon://vertical-bullet-chart","100_dual_stacked_bar":"sap-icon://full-stacked-chart","100_dual_stacked_column":"sap-icon://vertical-stacked-chart","100_stacked_bar":"sap-icon://full-stacked-chart","100_stacked_column":"sap-icon://full-stacked-column-chart","waterfall":"sap-icon://vertical-waterfall-chart","horizontal_waterfall":"sap-icon://horizontal-waterfall-chart"};
c.prototype.displayChartTypes=function(o,d){if(!d||!o){return;}if(!this.oReadyPromise){this.oReadyPromise=new Promise(function(e){if(R){e(true);}else{sap.ui.require(["sap/m/ResponsivePopover","sap/m/List","sap/m/Bar","sap/m/SearchField","sap/m/StandardListItem","sap/ui/core/InvisibleText","sap/ui/Device"],function(f,g,h,i,j,k,l){R=f;L=g;a=h;S=i;b=j;I=k;D=l;if(!r){sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc",true).then(function(n){r=n;e(true);});}else{e(true);}});}});}this.oReadyPromise.then(function(){if(!this.oPopover){this.oPopover=this._createPopover(o,d);this.oPopover.attachAfterClose(function(){this.oPopover.destroy();delete this.oPopover;}.bind(this));return this.oPopover.openBy(o);}}.bind(this));};
c.prototype._createPopover=function(o,d){var i=new b({title:"{$chart>text}",icon:"{$chart>icon}",selected:"{$chart>selected}"});var l=new L({mode:"SingleSelectMaster",items:{path:"$chart>/getAvailableChartTypes",template:i},selectionChange:function(E){if(E&&E.mParameters&&E.mParameters.listItem){var g=E.mParameters.listItem.getBinding("title");if(g){var h=g.getContext();if(h){var j=h.getObject();if(j&&j.key){sap.ui.require(["sap/ui/mdc/p13n/FlexUtil","sap/ui/mdc/flexibility/Chart.flexibility"],function(F,k){d.getEngine().createChanges({control:d,key:"Type",state:{type:j.key}});});}}}}p.close();}});var s=new a();var e=new S({placeholder:r.getText("chart.CHART_TYPE_SEARCH")});e.attachLiveChange(function(E){if(d){this._triggerSearchInPopover(E,l);}}.bind(this));s.addContentRight(e);var p=new R({id:d.getId()+"-btnChartTypePopover",placement:P.VerticalPreferredBottom,subHeader:s,contentWidth:"25rem"});p.setModel(this.oMDCChartModel,"$chart");if(D.system.desktop){var f=new I({text:r.getText("chart.CHART_TYPELIST_TEXT")});p.setShowHeader(false);p.addContent(f);p.addAriaLabelledBy(f);}else{p.setTitle(r.getText("chart.CHART_TYPELIST_TEXT"));}p.addContent(l);if(l.getItems().length<7){s.setVisible(false);}return p;};
c.prototype._triggerSearchInPopover=function(e,l){var p,i,t,T,v,d;if(!e||!l){return;}p=e.getParameters();if(!p){return;}v=p.newValue?p.newValue.toLowerCase():"";d=l.getItems();for(i=0;i<d.length;i++){T=d[i].getTooltip();t=d[i].getTitle();if((t&&(t.toLowerCase().indexOf(v)>-1))||(T&&(T.toLowerCase().indexOf(v)>-1))){d[i].setVisible(true);}else{d[i].setVisible(false);}}};
c.prototype.exit=function(){O.prototype.exit.apply(this,arguments);if(this.oPopover){this.oPopover.destroy();this.oPopover=null;}};
return c;});
sap.ui.predefine('sap/ui/mdc/chart/PropertyHelper',["../util/PropertyHelper"],function(P){"use strict";
var a=P.extend("sap.ui.mdc.chart.PropertyHelper");
a.prototype.prepareProperty=function(p){P.prototype.prepareProperty.apply(this,arguments);p.isAggregatable=function(){if(p){return p.isComplex()?false:p.aggregatable;}};};
a.prototype.getAllAggregatableProperties=function(){return this.getProperties().filter(function(p){return p.isAggregatable();});};
return a;});
sap.ui.predefine('sap/ui/mdc/field/BoolFieldHelp',['sap/ui/mdc/library','sap/ui/mdc/field/FieldHelpBase','sap/ui/mdc/condition/Condition','sap/ui/base/ManagedObjectObserver','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/json/JSONModel'],function(l,F,C,M,a,P,J){"use strict";var L;var S;var m;var b;
var B=F.extend("sap.ui.mdc.field.BoolFieldHelp",{metadata:{library:"sap.ui.mdc"}});
B.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver=new M(d.bind(this));this._oObserver.observe(this,{properties:["filterValue","conditions"]});this._oModel=new J({"type":"","items":[{"key":true,"text":"true"},{"key":false,"text":"false"}]});this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");};
B._init=function(){F._init.apply(this,arguments);L=undefined;S=undefined;m=undefined;b=undefined;};
B.prototype.exit=function(){F.prototype.exit.apply(this,arguments);this._oObserver.disconnect();this._oObserver=undefined;this._oModel.destroy();this._oModel=undefined;};
B.prototype.connect=function(o){F.prototype.connect.apply(this,arguments);n.call(this);return this;};
B.prototype._createPopover=function(){var p=F.prototype._createPopover.apply(this,arguments);if((!L||!S||!m)&&!this._bListRequested){L=sap.ui.require("sap/m/List");S=sap.ui.require("sap/m/StandardListItem");m=sap.ui.require("sap/m/library");b=sap.ui.require("sap/ui/model/Filter");if(!L||!S||!m){sap.ui.require(["sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/model/Filter"],c.bind(this));this._bListRequested=true;}}if(p){var o=this._getField();if(o){p.setInitialFocus(o);}_.call(this);}return p;};
function _(){if(!this._oList&&L&&S&&m&&!this._bListRequested){var i=new S(this.getId()+"-item",{type:m.ListType.Active,title:"{text}"}).addStyleClass("sapMComboBoxNonInteractiveItem");this._oList=new L(this.getId()+"-List",{width:"100%",showNoData:false,mode:m.ListMode.SingleSelectMaster,rememberSelections:false,items:{path:"/items",template:i},itemPress:e.bind(this)}).addStyleClass("sapMComboBoxBaseList").addStyleClass("sapMComboBoxList");this._oList.setModel(this._oModel);f.call(this,this.getFilterValue());g.call(this);this._setContent(this._oList);if(this._bNavigate){this._bNavigate=false;this.navigate(this._iStep);this._iStep=null;}}}
function c(i,s,o,p){L=i;S=s;m=o;b=p;this._bListRequested=false;if(!this._bIsBeingDestroyed){_.call(this);}}
B.prototype.open=function(s){var p=this.getAggregation("_popover");if(p){var o=this._getField();p.setInitialFocus(o);}F.prototype.open.apply(this,arguments);return this;};
B.prototype._handleAfterClose=function(E){if(this._bUpdateFilterAfterClose){this._bUpdateFilterAfterClose=false;f.call(this);}this._oList.removeStyleClass("sapMListFocus");F.prototype._handleAfterClose.apply(this,arguments);};
function d(o){if(o.name==="conditions"){h.call(this,o.current);}if(o.name==="filterValue"){if(this._oList){if(this._bClosing){this._bUpdateFilterAfterClose=true;}else{f.call(this,o.current);}}}}
B.prototype.openByTyping=function(){return true;};
B.prototype.removeFocus=function(){if(this._oList){this._oList.removeStyleClass("sapMListFocus");}};
B.prototype.navigate=function(s){var p=this._getPopover();if(!p||!this._oList){this._bNavigate=true;this._iStep=s;return;}this._oList.addStyleClass("sapMListFocus");var o=this._oList.getSelectedItem();var i=this._oList.getItems();var I=i.length;var q=0;var r=false;if(o){q=this._oList.indexOfItem(o);q=q+s;if(q<0){q=0;r=true;}else if(q>=I-1){q=I-1;}}else if(s>=0){q=s-1;}else{q=I+s;}var t=i[q];if(t){if(!p.isOpen()){this.open();}if(t!==o){t.setSelected(true);var K=j.call(this,t);var u=k.call(this,K);this.setProperty("conditions",[u],true);this.fireNavigate({value:t.getTitle(),key:K,condition:u,itemId:t.getId()});}else if(r){this.fireNavigate({key:undefined,value:undefined,condition:undefined,itemId:undefined,leaveFocus:r});}}};
B.prototype._getTextOrKey=function(v,K,o,I,O,N,p,s){if(v===null||v===undefined||v===""){return null;}else if(!v&&!K){return null;}var q=this._oModel.getData()["items"];for(var i=0;i<q.length;i++){var r=q[i];if(K){if(r["key"]===v){return r["text"];}}else if(r["text"]===v){return r["key"];}}var E=this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[v]);if(K){throw new a(E);}else{throw new P(E);}};
function e(E){var i=E.getParameter("listItem");var s=i.getSelected();if(s){var K=j.call(this,i);var o=k.call(this,K);this.setProperty("conditions",[o],true);this.close();this.fireSelect({conditions:[o],add:true,close:true});}}
function f(t){var o=this._oList.getBinding("items");if(t){var i=new b({path:"text",operator:"StartsWith",value1:t});o.filter(i);}else{o.filter();}this._oList.invalidate();g.call(this);}
function g(){if(this._oList){var o=this.getConditions();var s;var t;var I=this._oList.getItems();var O=this._getOperator();if(o.length>0&&(o[0].operator===O.name)){s=o[0].values[0];t=this.getTextForKey(s);}for(var i=0;i<I.length;i++){var p=I[i];if(p.getTitle()===t){p.setSelected(true);}else{p.setSelected(false);}}}}
function h(i){g.call(this);}
function j(i){var o=i.getBindingContext();var D=o&&o.getObject();if(D){return D["key"];}}
function k(K){var o;var t=this.getTextForKey(K);if(t){o=this._createCondition(K,t);}return o;}
function n(){if(this._oField&&this._oField._getFormatOptions){var t=this._oField._getFormatOptions().valueType;var D=this._oModel.getData();if(t&&D["type"]!==t.getMetadata().getName()){D["type"]=t.getMetadata().getName();var I=D["items"];for(var i=0;i<I.length;i++){var o=I[i];o["text"]=t.formatValue(o["key"],"string");}}}}
return B;});
sap.ui.predefine('sap/ui/mdc/field/ConditionFieldHelp',['sap/m/library','sap/ui/mdc/field/FieldHelpBase','sap/ui/mdc/condition/Condition','sap/ui/base/ManagedObjectObserver'],function(m,F,C,M){"use strict";var B=m.ButtonType;var D;var T;var a;var b;var c;var d;
var e=F.extend("sap.ui.mdc.field.ConditionFieldHelp",{metadata:{library:"sap.ui.mdc",properties:{title:{type:"string",group:"Appearance",defaultValue:""},label:{type:"string",group:"Appearance",defaultValue:""},_enableOK:{type:"boolean",group:"Appearance",defaultValue:true,visibility:"hidden"}}}});
e.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver=new M(g.bind(this));this._oObserver.observe(this,{properties:["title"]});this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");};
e._init=function(){F._init.apply(this,arguments);D=undefined;b=undefined;};
e.prototype.exit=function(){F.prototype.exit.apply(this,arguments);this._oObserver.disconnect();this._oObserver=undefined;};
e.prototype.getIcon=function(){return"sap-icon://value-help";};
e.prototype.isFocusInHelp=function(){return true;};
e.prototype.openByTyping=function(){return false;};
e.prototype.getAriaHasPopup=function(){return"dialog";};
e.prototype._createPopover=function(){var p=F.prototype._createPopover.apply(this,arguments);if((!D||!T||!a||!b||!c||!d)&&!this._bModulesRequested){D=sap.ui.require("sap/ui/mdc/field/DefineConditionPanel");T=sap.ui.require("sap/m/Toolbar");a=sap.ui.require("sap/m/ToolbarSpacer");b=sap.ui.require("sap/m/Button");c=sap.ui.require("sap/ui/model/base/ManagedObjectModel");d=sap.ui.require("sap/ui/mdc/condition/FilterOperatorUtil");if(!D||!T||!a||!b||!c){sap.ui.require(["sap/ui/mdc/field/DefineConditionPanel","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/ui/model/base/ManagedObjectModel","sap/ui/mdc/condition/FilterOperatorUtil"],f.bind(this));this._bModulesRequested=true;}}if(p){p.setShowArrow(true);p.setTitle(this.getTitle());p.setShowHeader(true);p.setTitleAlignment("Center");p.setContentWidth("500px");p.setResizable(false);_.call(this);}return p;};
function _(){if(!this._oDefineConditionPanel&&D&&T&&a&&b&&c&&d&&!this._bModulesRequested){this._oManagedObjectModel=new c(this);this._oDefineConditionPanel=new D(this.getId()+"-DCP",{conditions:{path:"$help>/conditions"},formatOptions:h.call(this),label:"{$help>/label}",inputOK:"{$help>/_enableOK}"}).setModel(this._oManagedObjectModel,"$help");this._setContent(this._oDefineConditionPanel);var o=new b(this.getId()+"-ok",{text:this._oResourceBundle.getText("valuehelp.OK"),enabled:"{$help>/_enableOK}",type:B.Emphasized,press:i.bind(this)});var k=new b(this.getId()+"-cancel",{text:this._oResourceBundle.getText("valuehelp.CANCEL"),press:j.bind(this)});var t=new T(this.getId()+"-TB",{content:[new a(this.getId()+"-Spacer"),o,k]}).setModel(this._oManagedObjectModel,"$help");var p=this.getAggregation("_popover");if(p){p.setFooter(t);}}}
function f(k,t,l,n,o,p){D=k;T=t;a=l;b=n;c=o;d=p;this._bModulesRequested=false;if(!this._bIsBeingDestroyed){_.call(this);}}
e.prototype.open=function(s){F.prototype.open.apply(this,arguments);var p=this.getAggregation("_popover");if(p&&this._oDefineConditionPanel){this._oDefineConditionPanel.setFormatOptions(h.call(this));this._oDefineConditionPanel.getBinding("conditions").resume();}return this;};
e.prototype._handleAfterClose=function(E){this._oDefineConditionPanel.getBinding("conditions").suspend();setTimeout(function(){this._oDefineConditionPanel.cleanUp();this.setProperty("_enableOK",true,true);}.bind(this),0);F.prototype._handleAfterClose.apply(this,arguments);};
e.prototype._getControlForSuggestion=function(){var o=F.prototype._getControlForSuggestion.apply(this,arguments);var I=o.getAggregation("_endIcon",[]);if(I.length===1){o=I[0];}return o;};
function g(o){if(o.name==="title"){var p=this.getAggregation("_popover");if(p){p.setTitle(this.getTitel());}}}
e.prototype.isValidationSupported=function(){return false;};
e.prototype.getItemForValue=function(v,p,I,o,k,l,n,q){return{key:p,description:undefined};};
function h(){if(this._oField&&this._oField._getFormatOptions){return this._oField._getFormatOptions();}else{return{};}}
function i(E){this.close();var k=this.getConditions();k=C._removeEmptyConditions(k);k=C._removeInitialFlags(k);d.updateConditionsValues(k);this.setProperty("conditions",k,true);this.fireSelect({conditions:k,add:false,close:true});}
function j(E){this.close();}
return e;});
sap.ui.predefine('sap/ui/mdc/field/CustomFieldHelp',['sap/ui/mdc/field/FieldHelpBase'],function(F){"use strict";
var C=F.extend("sap.ui.mdc.field.CustomFieldHelp",{metadata:{library:"sap.ui.mdc",properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"content",events:{beforeOpen:{}}}});
C.prototype._createPopover=function(){var p=F.prototype._createPopover.apply(this,arguments);if(p){p._getAllContent=function(){var f=this.getParent();if(f){var c=[];c.push(f.getContent());return c;}else{return this.getContent();}};}return p;};
C.prototype.fireSelectEvent=function(c){this.close();this.fireSelect({conditions:c});};
C.prototype.open=function(s){this.fireBeforeOpen();F.prototype.open.apply(this,arguments);};
return C;});
sap.ui.predefine('sap/ui/mdc/field/CustomFieldInfo',['sap/ui/mdc/field/FieldInfoBase','sap/ui/core/Control','sap/ui/core/InvisibleText','sap/ui/base/ManagedObjectObserver'],function(F,C,I,M){"use strict";
var a=F.extend("sap.ui.mdc.field.CustomFieldInfo",{metadata:{library:"sap.ui.mdc",properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"content"}});
a._oBox=undefined;
a.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver=new M(_.bind(this));this._oObserver.observe(this,{aggregations:["content"]});};
a.prototype.exit=function(){F.prototype.exit.apply(this,arguments);if(this._oMyBox){this._oMyBox.destroy();this._oMyBox=undefined;}};
a.prototype.isTriggerable=function(){return Promise.resolve(!!this.getAggregation("content"));};
a.prototype.getTriggerHref=function(){return Promise.resolve(null);};
a.prototype.getDirectLinkHrefAndTarget=function(){return Promise.resolve(null);};
a.prototype.getContent=function(){if(!a._oBox){a._oBox=C.extend("sap.ui.mdc.field.CustomFieldInfoBox",{metadata:{},renderer:function(r,b){var c=b._oInfo.getAggregation("content");r.write("<div");r.writeControlData(b);r.write(">");if(c){r.renderControl(c);}r.write("</div>");}});}if(!this._oMyBox||this._oMyBox._bIsBeingDestroyed){this._oMyBox=new a._oBox(this.getId()+"-box");this._oMyBox._oInfo=this;}return Promise.resolve(this._oMyBox);};
function _(c){if(c.object==this&&!this._bIsBeingDestroyed){if(c.name=="content"){this.fireDataUpdate();}}}
return a;});
sap.ui.predefine('sap/ui/mdc/field/FieldBaseDelegate',['sap/ui/mdc/BaseDelegate','sap/ui/mdc/odata/TypeUtil','sap/ui/model/FormatException'],function(B,T,F){"use strict";var a=Object.assign({},B);
a.getDataTypeClass=function(p,t){return T.getDataTypeClassName(t);};
a.getBaseType=function(p,t,f,c){return T.getBaseType(t,f,c);};
a.initializeTypeFromBinding=function(p,t,v){return{};};
a.initializeInternalUnitType=function(p,t,o){};
a.enhanceValueForUnit=function(p,v,t){return v;};
a.isInputValidationEnabled=function(p,f){if(f&&f.isValidationSupported()){return true;}else{return false;}};
a.isInvalidInputAllowed=function(p,f){if(f){return!f.getValidateInput();}else{return true;}};
a.getItemForValue=function(p,f,c){if(f){return f.getItemForValue(c);}};
a.getDescription=function(p,f,k,i,o,b,c,C,d,e){if(f&&f.isA("sap.ui.mdc.ValueHelp")){var g={value:k,parsedValue:k,context:{inParameters:i,outParameters:o,payload:d},bindingContext:b,conditionModel:c,conditionModelName:C,checkKey:true,checkDescription:false,caseSensitive:true,exception:F,control:e};return f.getItemForValue(g);}else if(f){return f.getTextForKey(k,i,o,b,c,C);}};
a.getDefaultFieldHelpBaseDelegate=function(p){return{name:"sap/ui/mdc/field/FieldHelpBaseDelegate",payload:{}};};
a.getDefaultFieldValueHelpDelegate=function(p){return{name:"sap/ui/mdc/field/FieldValueHelpDelegate",payload:{}};};
a.getTypeUtil=function(p){return T;};
return a;});
sap.ui.predefine('sap/ui/mdc/field/FieldHelpBase',['sap/ui/mdc/Element','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/ConditionValidated','sap/base/Log','sap/base/util/merge','sap/ui/base/SyncPromise','sap/ui/model/FormatException','sap/ui/model/ParseException'],function(E,F,O,C,a,L,m,S,b,P){"use strict";var c;var l;
var d=E.extend("sap.ui.mdc.field.FieldHelpBase",{metadata:{interfaces:["sap.ui.core.PopupInterface"],library:"sap.ui.mdc",properties:{conditions:{type:"object[]",defaultValue:[],byValue:true},delegate:{type:"object",group:"Data",defaultValue:{name:"sap/ui/mdc/field/FieldHelpBaseDelegate"}},filterValue:{type:"string",defaultValue:""},validateInput:{type:"boolean",defaultValue:true}},aggregations:{_popover:{type:"sap.m.Popover",multiple:false,visibility:"hidden"}},events:{select:{parameters:{conditions:{type:"object[]"},add:{type:"boolean"},close:{type:"boolean"}}},navigate:{parameters:{value:{type:"any"},key:{type:"any"},condition:{type:"object"},itemId:{type:"string"},leaveFocus:{type:"boolean"}}},dataUpdate:{},disconnect:{},open:{suggestion:{type:"boolean"}},afterClose:{},switchToValueHelp:{}},defaultProperty:"filterValue"}});
d._init=function(){c=undefined;l=undefined;};
d.prototype.init=function(){E.prototype.init.apply(this,arguments);this._oTextOrKeyPromises={};};
d.prototype.invalidate=function(o){if(o){var p=this.getAggregation("_popover");if(p&&o===p){if(o.bOutput&&!this._bIsBeingDestroyed){var n=this.getParent();if(n){n.invalidate(this);}}return;}}};
d.prototype.setFilterValue=function(s){this.setProperty("filterValue",s,true);return this;};
d.prototype.connect=function(o){if(this._oField&&this._oField!==o){var p=this.getAggregation("_popover");if(p){p._oPreviousFocus=null;}this.close();this.setFilterValue("");this.setConditions([]);this.fireDisconnect();}this._oField=o;k.call(this,o);return this;};
d.prototype._getField=function(){if(this._oField){return this._oField;}else{return this.getParent();}};
d.prototype._getOperator=function(){if(!this._oOperator){this._oOperator=F.getEQOperator();}return this._oOperator;};
d.prototype._createCondition=function(K,D,I,o){var n=this._getOperator();var v=[K];if(n.valueTypes.length>1&&n.valueTypes[1]!==O.ValueType.Static&&D!==null&&D!==undefined){v.push(D);}return C.createCondition(n.name,v,I,o,a.Validated);};
d.prototype._getControlForSuggestion=function(){var o=this._getField();if(o.getControlForSuggestion){return o.getControlForSuggestion();}else{return o;}};
d.prototype.getFieldPath=function(){var s="";if(this._oField&&this._oField.getFieldPath){s=this._oField.getFieldPath();}return s||"Help";};
d.prototype.getDomRef=function(){var p=this.getAggregation("_popover");if(p){return p.getDomRef();}else{return E.prototype.getDomRef.apply(this,arguments);}};
d.prototype.getContentId=function(){var p=this.getAggregation("_popover");if(p){var n=p._getAllContent();if(n.length===1){return n[0].getId();}}};
d.prototype.getAriaHasPopup=function(){return"listbox";};
d.prototype.getRoleDescription=function(M){return null;};
d.prototype.getValueHelpEnabled=function(){return true;};
d.prototype.open=function(s){var o=this._getField();if(o){var p=this._getPopover();if(p&&!this._bOpenAfterPromise){delete this._bOpen;delete this._bSuggestion;if(!p.isOpen()){if(!this.isFocusInHelp()){p.setInitialFocus(this._getControlForSuggestion());}p.setFieldGroupIds(o.getFieldGroupIds());var n=function(){if(this._bOpenAfterPromise){delete this._bOpenAfterPromise;this.open(s);}}.bind(this);var q=this._fireOpen(!!s,n);if(q){if(p._getAllContent().length>0){p.openBy(this._getControlForSuggestion());}else{this._bOpenIfContent=true;}}else{this._bOpenAfterPromise=true;}}}else{this._bOpen=true;this._bSuggestion=s;}}else{L.warning("FieldHelp not assigned to field -> can not be opened.",this);}};
d.prototype.close=function(){var p=this.getAggregation("_popover");if(p&&p.isOpen()){var n=p.oPopup.getOpenState();if(n!=="CLOSED"&&n!=="CLOSING"){this._bClosing=true;p.close();}}else{delete this._bOpen;delete this._bSuggestion;delete this._bOpenIfContent;delete this._bOpenAfterPromise;}this._bReopen=false;};
d.prototype.toggleOpen=function(s){var p=this.getAggregation("_popover");if(p){if(p.isOpen()){var n=p.oPopup.getOpenState();if(n!=="CLOSED"&&n!=="CLOSING"){this.close();}else{this._bReopen=true;}}else{this.open(s);}}else if(this._bOpen||this._bOpenIfContent||this._bOpenAfterPromise){delete this._bOpen;delete this._bSuggestion;delete this._bOpenIfContent;delete this._bOpenAfterPromise;}else{this.open(s);}};
d.prototype.isOpen=function(n){if(n&&this._bClosing){return false;}var I=false;var p=this.getAggregation("_popover");if(p){I=p.isOpen();}return I;};
d.prototype.skipOpening=function(){if(this._bOpenIfContent){delete this._bOpenIfContent;}if(this._bOpenAfterPromise){delete this._bOpenAfterPromise;}};
d.prototype.initBeforeOpen=function(s){if(this._bOpenAfterPromise){return;}var B=function(){this._bBeforeOpenPending=false;if(this._bOpenAfterPromise){delete this._bOpenAfterPromise;this.open(s);}}.bind(this);var n=this._callContentRequest(s,B);if(!n){this._bBeforeOpenPending=true;}};
d.prototype._createPopover=function(){var p;if((!c||!l)&&!this._bPopoverRequested){c=sap.ui.require("sap/m/Popover");l=sap.ui.require("sap/m/library");if(!c||!l){sap.ui.require(["sap/m/Popover","sap/m/library"],_.bind(this));this._bPopoverRequested=true;}}if(c&&l&&!this._bPopoverRequested){p=new c(this.getId()+"-pop",{contentHeight:"auto",placement:l.PlacementType.VerticalPreferredBottom,showHeader:false,showArrow:false,afterOpen:this._handleAfterOpen.bind(this),afterClose:this._handleAfterClose.bind(this)}).addStyleClass("sapMComboBoxBasePicker").addStyleClass("sapMComboBoxBasePicker-CTX");p.isPopupAdaptationAllowed=function(){return false;};this.setAggregation("_popover",p,true);if(this._oContent){this._setContent(this._oContent);}}return p;};
function _(p,n){c=p;l=n;this._bPopoverRequested=false;if(!this._bIsBeingDestroyed){this._createPopover();if(this._bOpen){this.open(this._bSuggestion);}}}
d.prototype._getPopover=function(){var p=this.getAggregation("_popover");if(!p){p=this._createPopover();}return p;};
d.prototype._handleAfterOpen=function(o){};
d.prototype._handleAfterClose=function(o){this._bClosing=false;if(this._bReopen){this._bReopen=false;this.open();}this.fireAfterClose();};
d.prototype.openByTyping=function(){return false;};
d.prototype.openByClick=function(){return false;};
d.prototype.isFocusInHelp=function(){return!this.openByTyping();};
d.prototype.removeFocus=function(){};
d.prototype.navigate=function(s){};
d.prototype.getTextForKey=function(K,I,o,B,n,s){return e.call(this,K,B,I,o,false,n,s,true);};
function e(K,B,I,o,n,p,s,q){return h.call(this,true,K,B,I,o,n,p,s,undefined,false,q);}
d.prototype.getKeyForText=function(t,B,o,s){return f.call(this,t,B,false,o,s,true);};
function f(t,B,n,o,s,p){return h.call(this,false,t,B,undefined,undefined,n,o,s,undefined,false,p);}
d.prototype._getTextOrKey=function(v,K,B,I,o,n,p,s,q,r,t){if(K){return"";}else{return undefined;}};
d.prototype._isTextOrKeyRequestSupported=function(){return false;};
d.prototype.isValidationSupported=function(){return this.isUsableForValidation();};
d.prototype.getItemForValue=function(v,p,I,o,B,n,q,r,s,t){if(typeof v!=="object"||!v.hasOwnProperty("value")){v={value:v,parsedValue:p,inParameters:I,outParameters:o,bindingContext:B,checkKeyFirst:n,checkKey:q,checkDescription:r,conditionModel:s,conditionModelName:t};}if(v&&typeof v==="object"&&v.hasOwnProperty("value")){return g.call(this,v.value,v.parsedValue,v.inParameters,v.outParameters,v.bindingContext,v.checkKeyFirst&&v.checkKey,v.checkKey,v.checkDescription,v.conditionModel,v.conditionModelName);}else{return g.call(this,v,p,I,o,B,n&&q,q,r,s,t);}};
function g(v,p,I,o,B,n,q,r,s,t){return S.resolve().then(function(){if(q&&r){return h.call(this,true,v,B,I,o,false,s,t,p,true,false);}else if(q){return e.call(this,p,B,I,o,false,s,t,false);}else if(r){return f.call(this,v,B,false,s,t,false);}}.bind(this)).then(function(R){if(R){if(typeof R==="object"){return R;}else if(q){return{key:p,description:R};}else{return{key:R,description:v};}}else{return undefined;}}).catch(function(u){throw u;}).unwrap();}
d.prototype.isUsableForValidation=function(){return true;};
d.prototype.onFieldChange=function(){};
d.prototype._setContent=function(o){var p=this.getAggregation("_popover");if(p){p.removeAllContent();p.addContent(o);this._oContent=undefined;if(this._bOpenIfContent){var n=this._getField();if(n){p.openBy(this._getControlForSuggestion());}this._bOpenIfContent=false;}}else{this._oContent=o;}return this;};
d.prototype.getIcon=function(){return"sap-icon://slim-arrow-down";};
d.prototype.getUIArea=function(){var u=E.prototype.getUIArea.apply(this,arguments);if(!u){if(this._oField){u=this._oField.getUIArea();}}return u;};
d.prototype.getScrollDelegate=function(){var p=this.getAggregation("_popover");if(p){return p.getScrollDelegate();}else{return undefined;}};
d.prototype._fireOpen=function(s,n){if(this._bBeforeOpenPending){return false;}var o=this._callContentRequest(s,n);if(o){this.fireOpen({suggestion:s});}return o;};
d.prototype._callContentRequest=function(s,n){if(!this._bNoContentRequest){if(this._oContentRequestPromise){this._oContentRequestPromise.then(function(){this._bNoContentRequest=true;n();this._bNoContentRequest=false;}.bind(this));return false;}if(!this.bDelegateInitialized&&!this.bDelegateLoading){this.initControlDelegate();}if(this.bDelegateInitialized){var p=this._getContenRequestProperties(s);var o=this.getControlDelegate().contentRequest(this.getPayload(),this,s,p);if(o instanceof Promise){this._oContentRequestPromise=o;o.then(function(){this._oContentRequestPromise=undefined;this._bNoContentRequest=true;n();this._bNoContentRequest=false;}.bind(this));return false;}}else{this.awaitControlDelegate().then(function(){if(this._callContentRequest(s,n)){n();}}.bind(this));return false;}}return true;};
d.prototype._getContenRequestProperties=function(s){return null;};
function h(K,v,B,I,o,n,p,s,q,r,t){var u=JSON.stringify(I);var w=B&&B.getPath();if(this._oTextOrKeyPromises[K]&&this._oTextOrKeyPromises[K][v]&&this._oTextOrKeyPromises[K][v][u]&&this._oTextOrKeyPromises[K][v][u][w]){return this._oTextOrKeyPromises[K][v][u][w].promise;}var x=function(){i.call(this);}.bind(this);var y=this._callContentRequest(true,x);if(!y){if(!this._oTextOrKeyPromises[K]){this._oTextOrKeyPromises[K]={};}if(!this._oTextOrKeyPromises[K][v]){this._oTextOrKeyPromises[K][v]={};}if(!this._oTextOrKeyPromises[K][v][u]){this._oTextOrKeyPromises[K][v][u]={};}if(!this._oTextOrKeyPromises[K][v][u][w]){this._oTextOrKeyPromises[K][v][u][w]={};}this._oTextOrKeyPromises[K][v][u][w].promise=new Promise(function(R,z){this._oTextOrKeyPromises[K][v][u][w].resolve=R;this._oTextOrKeyPromises[K][v][u][w].reject=z;this._oTextOrKeyPromises[K][v][u][w].key=K;this._oTextOrKeyPromises[K][v][u][w].value=v;this._oTextOrKeyPromises[K][v][u][w].inParameters=I?m({},I):undefined;this._oTextOrKeyPromises[K][v][u][w].outParameters=o?m({},o):undefined;this._oTextOrKeyPromises[K][v][u][w].bindingContext=B;this._oTextOrKeyPromises[K][v][u][w].noRequest=n;this._oTextOrKeyPromises[K][v][u][w].conditionModel=p;this._oTextOrKeyPromises[K][v][u][w].conditionModelName=s;this._oTextOrKeyPromises[K][v][u][w].parsedValue=q;this._oTextOrKeyPromises[K][v][u][w].keyAndDescription=r;this._oTextOrKeyPromises[K][v][u][w].caseSensitive=t;}.bind(this));return this._oTextOrKeyPromises[K][v][u][w].promise;}return this._getTextOrKey(v,K,B,I,o,n,p,s,q,r,t);}
function i(){for(var K in this._oTextOrKeyPromises){for(var v in this._oTextOrKeyPromises[K]){for(var I in this._oTextOrKeyPromises[K][v]){for(var s in this._oTextOrKeyPromises[K][v][I]){j.call(this,this._oTextOrKeyPromises[K][v][I][s]);delete this._oTextOrKeyPromises[K][v][I][s];}}}}}
function j(t){var M=t.value;var n=t.key;var I=t.inParameters;var o=t.outParameters;var B=t.bindingContext;var N=t.noRequest;var r=t.resolve;var R=t.reject;var p=t.conditionModel;var s=t.conditionModelName;var v=t.parsedValue;var K=t.keyAndDescription;var q=t.caseSensitive;S.resolve().then(function(){return this._getTextOrKey(M,n,B,I,o,N,p,s,v,K,q);}.bind(this)).then(function(u){r(u);}).catch(function(u){R(u);}).unwrap();}
function k(o){this._oOperator=undefined;if(o&&o._getOperators){this._oOperator=F.getEQOperator(o._getOperators());}}
d.prototype.isTypeaheadSupported=function(){return this.openByTyping();};
d.prototype.shouldOpenOnClick=function(){return this.openByClick();};
d.prototype.onControlChange=function(){return this.onFieldChange();};
d.prototype.getAriaAttributes=function(M){return{contentId:this.getContentId(),ariaHasPopup:this.getAriaHasPopup(),role:"combobox",roleDescription:this.getRoleDescription(M),valueHelpEnabled:this.getValueHelpEnabled()};};
d.prototype.attachEvent=function(s,D,n,o){if(s==="navigated"){return E.prototype.attachEvent.apply(this,["navigate",D,n,o]);}else{return E.prototype.attachEvent.apply(this,arguments);}};
d.prototype.detachEvent=function(s,n,o){if(s==="navigated"){return E.prototype.detachEvent.apply(this,["navigate",n,o]);}else{return E.prototype.detachEvent.apply(this,arguments);}};
return d;});
sap.ui.predefine('sap/ui/mdc/field/FieldHelpBaseDelegate',[],function(){"use strict";var F={contentRequest:function(p,f,s,P){}};return F;});
sap.ui.predefine('sap/ui/mdc/field/FieldInfoBase',['sap/ui/Device','sap/ui/mdc/Element','sap/m/library','sap/m/ResponsivePopover'],function(D,E,m,R){"use strict";var P=m.PlacementType;
var F=E.extend("sap.ui.mdc.field.FieldInfoBase",{metadata:{library:"sap.ui.mdc",events:{dataUpdate:{},popoverAfterOpen:{}}}});
F.prototype.isTriggerable=function(){throw new Error("sap.ui.mdc.field.FieldInfoBase: method isTriggerable must be redefined");};
F.prototype.getTriggerHref=function(){throw new Error("sap.ui.mdc.field.FieldInfoBase: method getTriggerHref must be redefined");};
F.prototype.getDirectLinkHrefAndTarget=function(){throw new Error("sap.ui.mdc.field.FieldInfoBase: method getDirectLinkHrefAndTarget must be redefined");};
F.prototype.open=function(c){var p=this.getParent();if(!p){throw new Error("sap.ui.mdc.field.FieldInfoBase: popover can not be open because the control is undefined");}if(this._oPopover&&this._oPopover.isOpen()){return Promise.resolve();}return this.checkDirectNavigation().then(function(n){return n?Promise.resolve():this.createPopover().then(function(o){if(o){this._oPopover=o;this.addDependent(this._oPopover);this._oPopover.openBy(c||p);this._oPopover.attachAfterOpen(function(){this.firePopoverAfterOpen();}.bind(this));}}.bind(this));}.bind(this));};
F.prototype.getContent=function(g){throw new Error("sap.ui.mdc.field.FieldInfoBase: method getContent must be redefined");};
F.prototype.checkDirectNavigation=function(){throw new Error("sap.ui.mdc.field.FieldInfoBase: method checkDirectNavigation must be redefined");};
F.prototype.getSourceControl=function(){return this.getParent();};
F.prototype.createPopover=function(){var p;return this.getContent(function(){return p;}).then(function(o){p=new R(this.getId()+"-popover",{contentWidth:"380px",horizontalScrolling:false,showHeader:D.system.phone,placement:P.Auto,content:[o],afterClose:function(){if(this._oPopover){this._oPopover.destroy();}}.bind(this)});sap.ui.require(['sap/ui/fl/apply/api/FlexRuntimeInfoAPI'],function(a){if(a.isFlexSupported({element:o})){a.waitForChanges({element:o}).then(function(){p.addAriaLabelledBy(o.getContentTitle?o.getContentTitle():"");});}else if(o){p.addAriaLabelledBy(o.getContentTitle?o.getContentTitle():"");}});return p;}.bind(this));};
return F;});
sap.ui.predefine('sap/ui/mdc/field/FieldInput',['sap/m/Input','sap/ui/mdc/field/FieldInputRenderer'],function(I,F){"use strict";
var a=I.extend("sap.ui.mdc.field.FieldInput",{
metadata:{library:"sap.ui.mdc",properties:{ariaAttributes:{type:"object",defaultValue:{},byValue:true}}},
renderer:F
});
return a;});
sap.ui.predefine('sap/ui/mdc/field/FieldMultiInput',['sap/m/MultiInput','sap/ui/mdc/field/FieldMultiInputRenderer'],function(M,F){"use strict";
var a=M.extend("sap.ui.mdc.field.FieldMultiInput",{
metadata:{library:"sap.ui.mdc",properties:{ariaAttributes:{type:"object",defaultValue:{},byValue:true}}},
renderer:F
});
return a;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelp',['sap/ui/mdc/field/FieldHelpBase','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/enum/OutParameterMode','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/condition/FilterConverter','sap/ui/base/ManagedObjectObserver','sap/ui/base/SyncPromise','sap/base/util/ObjectPath','sap/base/util/deepEqual','sap/base/util/merge','sap/ui/model/resource/ResourceModel','sap/ui/model/Context','sap/ui/Device','sap/m/library','sap/ui/core/library',"sap/ui/mdc/util/loadModules","sap/ui/events/KeyCodes"],function(F,C,a,O,b,c,M,S,d,e,m,R,f,D,g,h,l,K){"use strict";var k;var B;var V;var n;var o;var p;var q;var r;var I;var s=g.ButtonType;var t=h.OpenState;
var u=F.extend("sap.ui.mdc.field.FieldValueHelp",{metadata:{library:"sap.ui.mdc",properties:{delegate:{type:"object",group:"Data",defaultValue:{name:"sap/ui/mdc/field/FieldValueHelpDelegate"}},filterFields:{type:"string",defaultValue:""},keyPath:{type:"string",defaultValue:""},descriptionPath:{type:"string",defaultValue:""},showConditionPanel:{type:"boolean",defaultValue:false},title:{type:"string",group:"Appearance",defaultValue:""},noDialog:{type:"boolean",group:"Appearance",defaultValue:false},caseSensitive:{type:"boolean",defaultValue:true},_enableOK:{type:"boolean",group:"Appearance",defaultValue:true,visibility:"hidden"}},aggregations:{content:{type:"sap.ui.mdc.field.FieldValueHelpContentWrapperBase",multiple:false},suggestContent:{type:"sap.ui.mdc.field.FieldValueHelpContentWrapperBase",multiple:false},dialogContent:{type:"sap.ui.mdc.field.FieldValueHelpContentWrapperBase",multiple:false},filterBar:{type:"sap.ui.mdc.filterbar.FilterBarBase",multiple:false},inParameters:{type:"sap.ui.mdc.field.InParameter",group:"Data",multiple:true},outParameters:{type:"sap.ui.mdc.field.OutParameter",group:"Data",multiple:true},_dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},_filterBar:{type:"sap.ui.mdc.filterbar.FilterBarBase",multiple:false,visibility:"hidden"},collectiveSearchItems:{type:"sap.ui.core.Item",multiple:true,singularName:"collectiveSearchItem"}},defaultAggregation:"content",events:{dataRequested:{}}}});
u._init=function(){F._init.apply(this,arguments);k=undefined;B=undefined;V=undefined;n=undefined;o=undefined;};
u.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver=new M(v.bind(this));this._oObserver.observe(this,{properties:["filterValue","conditions","showConditionPanel","filterFields"],aggregations:["content","suggestContent","dialogContent","filterBar","_filterBar","inParameters","collectiveSearchItems"]});this.setBindingContext(null);this._oConditions={};};
u.prototype.exit=function(){F.prototype.exit.apply(this,arguments);if(this._oManagedObjectModel){this._oManagedObjectModel.destroy();delete this._oManagedObjectModel;}this._oObserver.disconnect();this._oObserver=undefined;delete this._oConditions;if(this._iUpdateTimer){clearTimeout(this._iUpdateTimer);this._iUpdateTimer=null;}if(this._iFilterTimer){clearTimeout(this._iFilterTimer);this._iFilterTimer=null;}if(this._iSearchFieldTimer){clearTimeout(this._iSearchFieldTimer);this._iSearchFieldTimer=null;}if(this._oCollectiveSearchSelect){this._oCollectiveSearchSelect.destroy();delete this._oCollectiveSearchSelect;}if(this._oResourceBundleM){this._oResourceBundleM=null;}if(this._oResourceBundle){this._oResourceBundle=null;}};
u.prototype.invalidate=function(i){if(i){var j=F1.call(this,true);var G1=F1.call(this,false);var H1=this.getAggregation("_dialog");if((j&&i===j)||(G1&&i===G1)){var I1=this.getAggregation("_popover");if(H1&&H1.isOpen()){var J1=H1.getContent()[0];J1.invalidate(i);}else if(I1&&I1.isOpen()){I1.invalidate(i);}return;}var K1=this._getFilterBar();if((H1&&i===H1)||(K1&&i===K1)){if(i.bOutput&&!this._bIsBeingDestroyed){var L1=this.getParent();if(L1){L1.invalidate(this);}}return;}}F.prototype.invalidate.apply(this,arguments);};
u.prototype.connect=function(i){F.prototype.connect.apply(this,arguments);A1.call(this);r1.call(this,this.getShowConditionPanel());return this;};
u.prototype.getIcon=function(){if(this.getNoDialog()){return"sap-icon://slim-arrow-down";}else{return"sap-icon://value-help";}};
u.prototype._createPopover=function(){var i=F.prototype._createPopover.apply(this,arguments);var j=function(H1){this.fireSwitchToValueHelp();}.bind(this);if(i){i.addDelegate({onsapshow:j});var G1=F1.call(this,true);if(G1){S.resolve(G1.initialize(true)).then(function(){if(G1.enableShowAllItems()){l(["sap/m/Button","sap/m/Toolbar","sap/m/ToolbarSpacer"]).then(function(H1){var B=H1[0];var I1=H1[1];var J1=H1[2];var K1=B1.apply(this);var L1=new B(this.getId()+"-showAllItems",{text:K1.getText("INPUT_SUGGESTIONS_SHOW_ALL"),press:j});var M1=[new J1(this.getId()+"-Spacer")].concat(L1);var N1=new I1(this.getId()+"-TB",{content:M1,visible:!G1.getAllItemsShown()}).setModel(this._oFooterModel,"$config");i.setFooter(N1);}.bind(this));}}.bind(this));}i._getAllContent=function(){var H1=this.getParent();var I1=[];if(H1){var J1=z1.call(H1);if(J1){I1.push(J1);}}return I1;};if(this._bNavigate){this.navigate(this._iStep);}}return i;};
u.prototype._handleAfterOpen=function(i){F.prototype._handleAfterOpen.apply(this,arguments);var j=F1.call(this,true);if(j){j.fieldHelpOpen(true);}};
u.prototype.open=function(i){if(this.getNoDialog()&&!i){i=true;}A1.call(this);if(this._bOpenAfterPromise){this._bSuggestion=i;return;}var j=F1.call(this,i);var G1=function(){if(this._bOpenAfterPromise){delete this._bOpenAfterPromise;this.open(this._bSuggestion);delete this._bSuggestion;}}.bind(this);var H1=this._bOpen?this._callContentRequest(!!i,G1):this._fireOpen(!!i,G1);delete this._bOpen;if(!H1){this._bSuggestion=i;if(i){this._getPopover();}else{m1.call(this);}this._bOpenAfterPromise=true;return;}this._bOpenHandled=true;j=F1.call(this,i);if(j&&j.getFilterEnabled()&&!this._bNavigateRunning){this._bApplyFilter=false;if(!j.isSuspended()||i||this.getFilterValue()){this._bApplyFilter=true;}u1.call(this);}if(this._bUpdateFilterAfterClose){this._bUpdateFilterAfterClose=false;P.call(this,this.getFilterValue());}if(i){if(!j){this._bOpenIfContent=true;}else{j.fieldHelpOpen(i);if(!this.getFilterValue()&&!this._bNavigateRunning){e1.call(this,true);}F.prototype.open.apply(this,[i]);}}else{var I1=this.getAggregation("_popover");if(I1){if(I1.isOpen()){this.close();this._bSwitchToDialog=true;}I1.$().remove();}var J1=m1.call(this);if(J1){y1.call(this);E1.call(this,true);t1.call(this);J1.setFieldGroupIds(this._oField.getFieldGroupIds());var K1=J1.getContent()[0];K1.setShowTokenizer(this.getMaxConditions()!==1&&!!j);K1.setFormatOptions(this._getFormatOptions());K1.bindProperty("conditions",{path:"$help>/conditions"});if(j){j.fieldHelpOpen(false);L.call(this);}this._aOldConditions=this.getConditions();J1.open();this._bDialogOpen=true;}else{this._bOpen=true;}}this._bOpenHandled=false;return;};
u.prototype.toggleOpen=function(i){if(this.getNoDialog()&&!i){i=true;}if(i){F.prototype.toggleOpen.apply(this,[i]);}else if(this._bOpen||this._bOpenIfContent||this._bOpenAfterPromise){delete this._bOpen;delete this._bSuggestion;delete this._bOpenIfContent;delete this._bOpenAfterPromise;}else{var j=m1.call(this);if(j){if(j.isOpen()){var G1=j.oPopup.getOpenState();if(G1!=="CLOSED"&&G1!=="CLOSING"){this.close();}else{this._bReopen=true;}}else{this.open(i);}}else{this.open(i);}}};
u.prototype.close=function(){if(!this._bDialogOpen){F.prototype.close.apply(this,arguments);}else{var i=this.getAggregation("_dialog");if(i){this._bClosing=true;i.close();var j=i.getContent()[0];j.unbindProperty("conditions",true);if(j._oDefineConditionPanel){j._oDefineConditionPanel.cleanUp();}}this._bReopen=false;this._bSwitchToDialog=false;delete this._bOpen;delete this._bOpenAfterPromise;}};
u.prototype.isOpen=function(i){var j=F.prototype.isOpen.apply(this,arguments);if(!j&&(!i||!this._bClosing)){var G1=this.getAggregation("_dialog");if(G1){j=G1.isOpen();}}return j;};
u.prototype.getDomRef=function(){if(!this._bDialogOpen){return F.prototype.getDomRef.apply(this,arguments);}else{var i=this.getAggregation("_dialog");if(i){return i.getDomRef();}}};
function _(){var i=this._getFilterBar();var j;if(i){j=i.getInternalConditions();}else{j=this._oConditions;}var G1=false;for(var H1 in j){if(j[H1].length>0){x1.call(this,H1);G1=true;}}if(G1){e1.call(this,true);}}
u.prototype._handleAfterClose=function(i){var j=this.getAggregation("_dialog");var G1=!j||i.getSource()!==j;var H1=F1.call(this,G1);if(H1){if(!H1.getAsyncKeyText()){_.call(this);}H1.fieldHelpClose();}if(!this.isOpen()){this._bApplyFilter=false;}this._bNavigateRunning=false;F.prototype._handleAfterClose.apply(this,arguments);};
function v(i){if(i.object==this){var j;if(i.name==="content"){l1.call(this,i.mutation,i.child,i.name);}if(i.name==="suggestContent"){l1.call(this,i.mutation,i.child,i.name);}if(i.name==="dialogContent"){l1.call(this,i.mutation,i.child,i.name);}if(i.name==="filterBar"){if(i.mutation==="insert"&&this.getAggregation("_filterBar")){this.destroyAggregation("_filterBar");delete this._oSearchField;}s1.call(this,i.mutation,i.child,false);}if(i.name==="_filterBar"){s1.call(this,i.mutation,i.child,true);}if(i.name==="conditions"){J.call(this,i.current);}if(i.name==="filterValue"){if(this._bClosing){this._bUpdateFilterAfterClose=true;}else{P.call(this,i.current);}}if(i.name==="showConditionPanel"){r1.call(this,i.current);}if(i.name==="filterFields"){j=this.getAggregation("_dialog");if(j){if(j.isOpen()){if(i.current){y1.call(this);}else if(this.getAggregation("_filterBar")){this.destroyAggregation("_filterBar");}}}}if(i.name==="inParameters"){Q.call(this,i.child,i.mutation);}if(i.name==="collectiveSearchItems"){E1.call(this,false);}}else if(i.object.isA("sap.ui.mdc.field.InParameter")){if(i.name==="value"){W.call(this,i.object.getHelpPath(),i.current,i.old,i.object.getUseConditions(),i.object.getInitialValueFilterEmpty());}if(i.name==="helpPath"){X.call(this,i.current,i.old,i.object.getValue(),i.object.getUseConditions(),i.object.getInitialValueFilterEmpty());}}}
u.prototype.openByTyping=function(){if(!this._bDetermineSearchSupportedCalled&&!this.isOpen()&&!this._bOpen&&!this._bOpenIfContent&&!this._bOpenAfterPromise){if(!this.bDelegateInitialized&&!this.bDelegateLoading){this.initControlDelegate();}if(this.bDelegateInitialized){return w.call(this);}else{this._bDetermineSearchSupportedCalled=true;return this.awaitControlDelegate().then(function(){return w.call(this);}.bind(this));}}return!!this.getFilterFields();};
function w(){this.fireOpen({suggestion:true});this._bDetermineSearchSupportedCalled=true;var i=this.getControlDelegate().determineSearchSupported(this.getPayload(),this);if(i instanceof Promise){return i.then(function(){return!!this.getFilterFields();}.bind(this));}else{return!!this.getFilterFields();}}
u.prototype.isFocusInHelp=function(){if(!this.getNoDialog()){var i=this.getAggregation("_dialog");if((i&&i.isOpen())||(this._bDialogRequested&&this._bOpen)||(this._bOpenAfterPromise&&!this._bSuggestion)){return true;}}if(this._bFocusPopover){return true;}return false;};
u.prototype.removeFocus=function(){var i=F1.call(this,true);if(i){i.removeFocus();}};
u.prototype.navigate=function(i){var j=F1.call(this,true);var G1=this.getAggregation("_popover");A1.call(this);if(!G1||!G1.isOpen()){var H1=function(){this.navigate(i);}.bind(this);var I1=this._bNavigate?this._callContentRequest(true,H1):this._fireOpen(true,H1);if(!I1){j=F1.call(this,true);this._bNavigate=false;this._iStep=null;if(j){this._getPopover();}return;}}this._bNavigate=false;this._iStep=null;j=F1.call(this,true);if(j){G1=this._getPopover();this._bApplyFilter=true;this._bNavigateRunning=true;u1.call(this);e1.call(this,true);}if(!G1){this._bNavigate=true;this._iStep=i;return;}if(j){j.navigate(i,G1.isOpen());}};
function x(i){var j=this._getPopover();var G1=i.getParameter("disableFocus");var H1=i.getParameter("key");var I1=i.getParameter("description");var J1=i.getParameter("inParameters");var K1=i.getParameter("outParameters");var L1=i.getParameter("leave");var M1=i.getParameter("itemId");var N1;if(L1){this.fireNavigate({key:undefined,value:undefined,condition:undefined,itemId:undefined,leaveFocus:L1});return;}if(H1===undefined&&!G1){this._bFocusPopover=true;}if(!j.isOpen()){this._bOpenHandled=true;this.open(true);this._bOpenHandled=false;}this._bNavigateRunning=false;if(H1===undefined){this._bFocusPopover=false;return;}if(J1){J1=Z.call(this,J1);}if(K1){K1=$.call(this,K1);}N1=this._createCondition(H1,I1,J1,K1);this.setProperty("conditions",[N1],true);this.fireNavigate({value:I1,key:H1,condition:N1,itemId:M1,leaveFocus:L1});}
u.prototype._getTextOrKey=function(i,j,G1,H1,I1,J1,K1,L1,M1,N1,O1){var P1="";var Q1=F1.call(this,true);if(Q1){var R1=Q1.getListBinding();if(!R1){this.fireDataRequested();}if(G1&&!G1.getModel()){return null;}O1=O1||this.getCaseSensitive();var S1=this.oBindingContexts[undefined];var T1=this.getInParameters();var U1=false;if(G1&&f.hasChanged(S1,G1)){U1=true;}var V1=y.call(this,T1,U1,G1,S1,K1,L1);P1=S.resolve().then(function(){return A.call(this,V1);}.bind(this)).then(function(){return S.resolve().then(function(){if(G1&&!G1.getModel()){return null;}else if(N1){return Q1.getKeyAndText(M1,i,d1.call(this,H1,T1,false,V1,G1,true),d1.call(this,I1,this.getOutParameters(),true,undefined,undefined,true),O1);}else if(j){return Q1.getTextForKey(i,d1.call(this,H1,T1,false,V1,G1,true),d1.call(this,I1,this.getOutParameters(),true,undefined,undefined,true),J1,O1);}else{return Q1.getKeyForText(i,d1.call(this,undefined,T1,false,V1,G1,true),J1,O1);}}.bind(this)).then(function(P1){z.call(this,V1,U1);return E.call(this,P1);}.bind(this)).unwrap();}.bind(this)).unwrap();}return P1;};
function y(j,G1,H1,I1,J1,K1){var L1=[];for(var i=0;i<j.length;i++){var M1=j[i];var N1=M1.getBinding("value");if(M1.getUseConditions()&&J1){var O1=this.getModel(K1);if(O1!==J1){L1.push(J1.bindProperty("/"+M1.getFieldPath()));}}else if(N1){var P1=N1.getPath();var Q1=N1.getContext();if(G1&&N1.isRelative()&&(Q1===I1||(!Q1&&I1))){if(H1.getProperty(P1)===undefined){var R1=N1.getModel();L1.push(R1.bindProperty(P1,H1));}}else if((!Q1&&N1.isRelative())||(Q1&&Q1.getProperty(P1)===undefined)||N1.getValue()===undefined||(Q1&&!e(M1.validateProperty("value",Q1.getProperty(P1)),M1.getValue()))){L1.push(N1);}}}return L1;}
function z(j,G1){if(!G1){return;}for(var i=0;i<j.length;i++){j[i].destroy();}}
function A(i){if(i.length===0){return null;}if(!this.bDelegateInitialized&&!this.bDelegateLoading){this.initControlDelegate();}if(this.bDelegateInitialized){return this.getControlDelegate().checkBindingsPending(this.getPayload(),i);}else{return this.awaitControlDelegate().then(function(){return this.getControlDelegate().checkBindingsPending(this.getPayload(),i);}.bind(this));}}
function E(i){if(i&&typeof i==="object"){i=m({},i);if(i.inParameters){i.inParameters=Z.call(this,i.inParameters);}if(i.outParameters){i.outParameters=$.call(this,i.outParameters);}}return i;}
u.prototype._isTextOrKeyRequestSupported=function(){var i=F1.call(this,true);return!!i;};
u.prototype.isUsableForValidation=function(){var i=F1.call(this,true);return!!i;};
function G(G1){var H1=G1.getParameter("selectedItems");var I1=G1.getParameter("itemPress");var J1;var K1=this.getConditions();var L1;var i=0;var j=0;var M1=false;var N1=this.getMaxConditions();var O1=this._getOperator();for(i=K1.length-1;i>=0;i--){L1=K1[i];L1.inParameters=b1.call(this,L1.inParameters);L1.outParameters=c1.call(this,L1.outParameters);if(L1.operator===O1.name&&L1.validated===b.Validated){M1=false;for(j=0;j<H1.length;j++){J1=H1[j];if(L1.values[0]===J1.key&&(!L1.inParameters||!J1.inParameters||e(L1.inParameters,J1.inParameters))&&(!L1.outParameters||!J1.outParameters||e(L1.outParameters,J1.outParameters))){M1=true;if(L1.values[1]!==J1.description&&J1.description){if(L1.values.length===1){L1.values.push(J1.description);}else{L1.values[1]=J1.description;}}break;}}if(!M1){K1.splice(i,1);}}}for(i=0;i<H1.length;i++){J1=H1[i];M1=false;for(j=0;j<K1.length;j++){L1=K1[j];if(L1.operator===O1.name&&L1.validated===b.Validated&&L1.values[0]===J1.key&&(!L1.inParameters||e(L1.inParameters,J1.inParameters))&&(!L1.outParameters||e(L1.outParameters,J1.outParameters))){M1=true;L1.inParameters=J1.inParameters;L1.outParameters=J1.outParameters;break;}}if(!M1){L1=this._createCondition(J1.key,J1.description,J1.inParameters,J1.outParameters);K1.push(L1);}}if(N1>0&&K1.length>N1){K1.splice(0,K1.length-N1);}for(i=0;i<K1.length;i++){L1=K1[i];if(L1.inParameters){L1.inParameters=Z.call(this,L1.inParameters);}else{delete L1.inParameters;}if(L1.outParameters){L1.outParameters=$.call(this,L1.outParameters);}else{delete L1.outParameters;}}if(this._bDialogOpen){this.setProperty("conditions",K1,true);}else{var P1=false;var Q1=false;if(this.getMaxConditions()===1||I1){this.close();Q1=true;}if(this.getMaxConditions()===1){P1=true;}this.setProperty("conditions",K1,true);this.fireSelect({conditions:K1,add:P1,close:Q1});}}
function H(i){var j=i.getParameter("contentChange");var G1=i.getSource();var H1;if(G1.enableShowAllItems()){H1=this.getAggregation("_popover");var I1=H1&&H1.getFooter();if(I1){I1.setVisible(!G1.getAllItemsShown());}}if(j){H1=H1||this.getAggregation("_popover");var J1=this.getAggregation("_dialog");if(H1&&this._bOpenIfContent){G1=F1.call(this,true);if(G1){var K1=this._getField();if(K1){G1.fieldHelpOpen(true);H1.openBy(this._getControlForSuggestion());e1.call(this);}this._bOpenIfContent=false;}}else if(J1){G1=F1.call(this,false);if(G1){var L1=J1.getContent()[0];k1.call(this,L1,G1.getDialogContent());if(!this._bApplyFilter&&!this._bClosing&&(this.isOpen()||this._bOpen)&&!G1.isSuspended()){this._bApplyFilter=true;}}}}if(!G1||!G1.getAsyncKeyText()){this.fireDataUpdate();}}
function J(j){var G1=false;for(var i=0;i<j.length;i++){var H1=j[i];if(!H1.validated){a.checkConditionValidated(H1);G1=true;}}if(G1){this.setConditions(j);}else{L.call(this);}}
function L(){if(!this._oField){return;}N.call(this,F1.call(this,true));N.call(this,F1.call(this,false));}
function N(j){if(j){var G1=this._getOperator();var H1=this.getConditions();var I1=[];for(var i=0;i<H1.length;i++){var J1=H1[i];if(J1.operator===G1.name&&J1.validated===b.Validated){I1.push({key:J1.values[0],description:J1.values[1],inParameters:b1.call(this,J1.inParameters),outParameters:c1.call(this,J1.outParameters)});}}if(!e(I1,j.getSelectedItems())){j.setSelectedItems(I1);}}}
function P(i){var j=this.getFilterFields();if(!j){return;}var G1=v1.call(this,j);var H1=G1.length>0?G1[0].values[0]:"";if(i===H1){return;}x1.call(this,j);i=i.trim();if(i){this._bOwnFilterChange=false;var I1=C.createCondition("StartsWith",[i],undefined,undefined,b.NotValidated);w1.call(this,j,I1);}e1.call(this,true);}
function Q(i,j){var G1=i.getHelpPath();var H1=false;if(j==="remove"){this._oObserver.unobserve(i);if(this._getField()&&this.isOpen()){H1=U.call(this,G1);}}else{this._oObserver.observe(i,{properties:true});if(this._getField()&&this.isOpen()){var I1=i.getValue();var J1=i.getUseConditions();var K1=i.getInitialValueFilterEmpty();H1=U.call(this,G1);H1=T.call(this,G1,I1,J1,K1)||H1;L.call(this);}}e1.call(this,true);}
function T(j,G1,H1,I1){var J1;var K1=false;if(j&&(G1||(I1&&!H1))){if(H1){if(Array.isArray(G1)){for(var i=0;i<G1.length;i++){J1=m({},G1[i]);if(J1.inParameters){J1.inParameters=b1.call(this,J1.inParameters,true);}if(J1.outParameters){J1.outParameters=c1.call(this,J1.outParameters,false,true);}w1.call(this,j,J1);K1=true;}}}else{if(!G1&&I1){J1=C.createCondition("Empty",[]);J1.isEmpty=false;}else{J1=C.createItemCondition(G1);J1.validated=b.Validated;}w1.call(this,j,J1);K1=true;}}return K1;}
function U(i){var j=false;if(i&&v1.call(this,i).length>0){x1.call(this,i);j=true;}return j;}
function W(i,j,G1,H1,I1){if(this._bNoInOutFilterUpdate){return;}if(!this._iUpdateTimer){this._iUpdateTimer=setTimeout(function(){this._iUpdateTimer=undefined;this.fireDataUpdate();}.bind(this),0);}if(!this._getField()||!this.isOpen()){return;}var J1=false;J1=U.call(this,i);J1=T.call(this,i,j,H1,I1)||J1;L.call(this);e1.call(this,true);}
function X(i,j,G1,H1,I1){if(!this._getField()||!this.isOpen()){return;}var J1=false;J1=U.call(this,j);J1=T.call(this,i,G1,H1,I1)||J1;e1.call(this,true);}
function Y(){var j=this.getInParameters();var G1=false;for(var i=0;i<j.length;i++){var H1=j[i];var I1=H1.getHelpPath();var J1=H1.getValue();var K1=H1.getUseConditions();var L1=H1.getInitialValueFilterEmpty();G1=U.call(this,I1)||G1;G1=T.call(this,I1,J1,K1,L1)||G1;}if(G1||(this._bApplyFilter&&this._bPendingFilterUpdate)){this._bPendingFilterUpdate=false;e1.call(this,true);}}
u.prototype.onFieldChange=function(){var G1=this.getOutParameters();A1.call(this);var H1=y.call(this,G1,false);S.resolve().then(function(){return A.call(this,H1);}.bind(this)).then(function(){if(this.bIsDestroyed){return;}var I1=this.getConditions();for(var i=0;i<I1.length;i++){var J1=I1[i];if(J1.outParameters){for(var K1 in J1.outParameters){for(var j=0;j<G1.length;j++){var L1=G1[j];var M1=L1.getValue();var N1=L1.getUseConditions();var O1=true;if(L1.getMode()===O.WhenEmpty){if(N1){O1=!M1||(Array.isArray(M1)&&M1.length===0);}else{O1=!M1;}}if(O1){if(N1){var P1;if(!L1.getHelpPath()){P1=C.createCondition("EQ",[L1.getFixedValue()],undefined,undefined,b.NotValidated);}else if(L1.getFieldPath()===K1){P1=C.createCondition("EQ",[J1.outParameters[K1]],undefined,undefined,b.Validated);}else{continue;}if(!M1){M1=[];}if(!Array.isArray(M1)){throw new Error("Value on OutParameter must be an array "+L1);}if(a.indexOfCondition(P1,M1)<0){P1.validated=b.Validated;M1.push(P1);L1.setValue(M1);}}else if(!L1.getHelpPath()){L1.setValue(L1.getFixedValue());}else if(L1.getFieldPath()===K1){L1.setValue(J1.outParameters[K1]);}}}}}}}.bind(this)).unwrap();};
function Z(i){return a1.call(this,i,this.getInParameters());}
function $(i){return a1.call(this,i,this.getOutParameters());}
function a1(j,G1){if(!j||G1.length===0){return null;}var H1={};for(var i=0;i<G1.length;i++){var I1=G1[i];var J1=I1.getHelpPath();var K1=I1.getFieldPath();if(J1&&K1){for(var L1 in j){if(J1===L1){H1[K1]=j[L1];break;}}}else if(!J1&&K1&&I1.getFixedValue){H1[K1]=I1.getFixedValue();}}return H1;}
function b1(i,j){return d1.call(this,i,this.getInParameters(),false,undefined,undefined,false,j);}
function c1(i,j,G1){return d1.call(this,i,this.getOutParameters(),j,undefined,undefined,false,G1);}
function d1(G1,H1,I1,J1,K1,L1,M1){var N1;var O1;var P1;var Q1;var i=0;var R1;if(H1.length>0){if(!G1){if(!I1){var S1=this.getBindingContext();for(i=0;i<H1.length;i++){O1=H1[i];P1=M1?"conditions/"+O1.getHelpPath():O1.getHelpPath();var T1=O1.getValue();var U1=O1.getUseConditions();var V1=O1.getInitialValueFilterEmpty();var j=0;if(J1||K1){var W1=O1.getBinding("value");var X1=false;if(W1||U1){Q1=O1.getFieldPath();for(j=0;j<J1.length;j++){if((W1&&W1.getPath()===J1[j].getPath())||(U1&&J1[j].getPath()==="/"+Q1)){T1=J1[j].getValue();X1=true;break;}}if(!X1&&!U1&&K1&&W1&&W1.isRelative()&&(!W1.getContext()||(W1.getContext()!==K1&&W1.getContext()===S1))){T1=K1.getProperty(W1.getPath());}}}if(P1){if(!N1){N1={};}if(L1){N1[P1]=[];if(U1){if(!T1){T1=[];}for(j=0;j<T1.length;j++){R1=m({},T1[j]);if(R1.inParameters){R1.inParameters=b1.call(this,R1.inParameters,true);}if(R1.outParameters){R1.outParameters=c1.call(this,R1.outParameters,false,true);}N1[P1].push(R1);}}else{if(!T1&&V1){R1=C.createCondition("Empty",[]);R1.isEmpty=false;}else if(T1){R1=C.createItemCondition(T1);R1.validated=b.Validated;}if(R1){N1[P1].push(R1);}}R1=undefined;}else{if(U1){if(T1&&T1.length>0){N1[P1]=T1[0].values[0];}}else{N1[P1]=T1;}}}}}}else{for(var Y1 in G1){for(i=0;i<H1.length;i++){O1=H1[i];P1=M1?"conditions/"+O1.getHelpPath():O1.getHelpPath();Q1=O1.getFieldPath();if(Q1&&(Q1===Y1||Q1==="conditions/"+Y1)&&P1){if(!N1){N1={};}if(L1){N1[P1]=[];R1=C.createItemCondition(G1[Y1]);R1.validated=b.Validated;N1[P1].push(R1);}else{N1[P1]=G1[Y1];}}}}}if(L1){var Z1=this._getTypesForConditions(N1);var $1=c.createFilters(N1,Z1);N1=$1;}}return N1;}
function e1(i){if(i){if(!this._iFilterTimer){this._iFilterTimer=setTimeout(function(){this._iFilterTimer=undefined;e1.call(this);}.bind(this),0);}return;}else if(this._iFilterTimer){clearTimeout(this._iFilterTimer);this._iFilterTimer=undefined;}if((!this.isOpen()&&!this._bNavigateRunning&&!this._bOpen)||(this._bClosing&&!this._bSwitchToDialog)||!this._bApplyFilter){this._bPendingFilterUpdate=true;return;}if(this._bFilterWaitingForBinding){return;}var j=this.getInParameters();var G1=y.call(this,j,false);var H1=A.call(this,G1);if(H1 instanceof Promise){H1.then(function(){this._bFilterWaitingForBinding=false;e1.call(this,true);}.bind(this));this._bFilterWaitingForBinding=true;return;}var I1=this.getAggregation("_dialog");var J1=(!I1||!I1.isOpen())&&!(this._bClosing&&this._bSwitchToDialog);var K1=F1.call(this,J1);if(K1){var L1=this._getFilterBar();var M1;if(L1){M1=L1.getInternalConditions();}else{M1=this._oConditions;}var N1=this._getTypesForConditions(M1);var O1=c.createFilters(M1,N1,undefined,this.getCaseSensitive());var P1=[];var Q1=M1["$search"];var R1;if(O1){P1.push(O1);}if(Q1&&Q1.length>0){R1=Q1[0].values[0];}K1.applyFilters(P1,R1,L1);}}
u.prototype._getTypesForConditions=function(j){var G1=this.getFilterBar();var H1=this.getInParameters();var I1;var J1;if(G1){I1=c.createConditionTypesMapFromFilterBar(j,G1);}else{I1={};for(J1 in j){I1[J1]={type:null};}}for(J1 in I1){if(!I1[J1].type){for(var i=0;i<H1.length;i++){var K1=H1[i];if(K1.getHelpPath()===J1){I1[J1].type=K1.getDataType();break;}}}}return I1;};
u.prototype.getMaxConditions=function(){if(this._oField&&this._oField.getMaxConditionsForHelp){return this._oField.getMaxConditionsForHelp();}else if(this._oField&&this._oField.getMaxConditions){return this._oField.getMaxConditions();}else{return 1;}};
u.prototype.getDisplay=function(){if(this._oField&&this._oField.getDisplay){return this._oField.getDisplay();}};
u.prototype.getRequired=function(){if(this._oField&&this._oField.getRequired){return this._oField.getRequired();}else{return false;}};
u.prototype.getDataType=function(){if(this._oField.getDataType){return this._oField.getDataType();}else{return"sap.ui.model.type.String";}};
u.prototype._getFormatOptions=function(){if(this._oField&&this._oField._getFormatOptions){return this._oField._getFormatOptions();}else{return{};}};
u.prototype._getKeyPath=function(){var i=this.getKeyPath();if(!i&&this._oField&&this._oField.getFieldPath&&this._oField.getFieldPath()){i=this._oField.getFieldPath();}return i;};
u.prototype._getFilterBar=function(){var i=this.getFilterBar();if(!i){i=this.getAggregation("_filterBar");}return i;};
u.prototype.clone=function(j,G1){var H1=[this.getContent(),this.getSuggestContent(),this.getDialogContent()];var I1=this.getFilterBar();var i=0;var J1;for(i=0;i<H1.length;i++){J1=H1[i];if(J1){J1.detachEvent("navigate",x,this);J1.detachEvent("selectionChange",G,this);J1.detachEvent("dataUpdate",H,this);}}if(I1){I1.detachEvent("search",t1,this);}var K1=F.prototype.clone.apply(this,arguments);for(i=0;i<H1.length;i++){J1=H1[i];if(J1){J1.attachEvent("navigate",x,this);J1.attachEvent("selectionChange",G,this);J1.attachEvent("dataUpdate",H,this);}}if(I1){I1.attachEvent("search",t1,this);}return K1;};
function f1(){var i;if((!k||!B||!V||!n||!o||!p||!q||!r||!I)&&!this._bDialogRequested){k=sap.ui.require("sap/m/Dialog");B=sap.ui.require("sap/m/Button");V=sap.ui.require("sap/ui/mdc/field/ValueHelpPanel");n=sap.ui.require("sap/ui/mdc/field/DefineConditionPanel");o=sap.ui.require("sap/ui/model/base/ManagedObjectModel");p=sap.ui.require("sap/ui/mdc/filterbar/vh/FilterBar");q=sap.ui.require("sap/ui/mdc/FilterField");r=sap.ui.require("sap/ui/mdc/filterbar/vh/CollectiveSearchSelect");I=sap.ui.require("sap/ui/core/Item");if(!k||!B||!V||!n||!o||!p||!q||!r||!I){sap.ui.require(["sap/m/Dialog","sap/m/Button","sap/ui/mdc/field/ValueHelpPanel","sap/ui/mdc/field/DefineConditionPanel","sap/ui/model/base/ManagedObjectModel","sap/ui/mdc/filterbar/vh/FilterBar","sap/ui/mdc/FilterField","sap/ui/mdc/filterbar/vh/CollectiveSearchSelect","sap/ui/core/Item"],i1.bind(this));this._bDialogRequested=true;}}if(k&&B&&V&&n&&o&&p&&q&&r&&I&&!this._bDialogRequested){if(!this._oResourceBundle){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");}var j=new B(this.getId()+"-ok",{text:this._oResourceBundle.getText("valuehelp.OK"),enabled:"{$help>/_enableOK}",type:s.Emphasized,press:n1.bind(this)});var G1=new B(this.getId()+"-cancel",{text:this._oResourceBundle.getText("valuehelp.CANCEL"),press:o1.bind(this)});this._oManagedObjectModel=new o(this);var H1=j1.call(this);i=new k(this.getId()+"-dialog",{contentHeight:g1(),contentWidth:h1(),horizontalScrolling:false,verticalScrolling:false,title:"{$help>/title}",stretch:D.system.phone,resizable:true,draggable:true,content:[H1],afterOpen:p1.bind(this),afterClose:q1.bind(this),buttons:[j,G1]}).setModel(this._oManagedObjectModel,"$help");i.isPopupAdaptationAllowed=function(){return false;};i.addStyleClass("sapMdcValueHelpTitle");this.setAggregation("_dialog",i,true);this.setModel(new R({bundleName:"sap/ui/mdc/messagebundle",async:false}),"$i18n");r1.call(this,this.getShowConditionPanel());}return i;}
function g1(){if(D.system.desktop){return"700px";}if(D.system.tablet){return D.orientation.landscape?"600px":"600px";}}
function h1(){if(D.system.desktop){return"1080px";}if(D.system.tablet){return D.orientation.landscape?"920px":"600px";}}
function i1(i,j,G1,H1,I1,J1,K1,L1,M1){k=i;B=j;V=G1;n=H1;o=I1;p=J1;q=K1;r=L1;I=M1;this._bDialogRequested=false;if(!this._bIsBeingDestroyed){f1.call(this);if(this._bOpen){this.open();}}}
function j1(){var i=F1.call(this,false);var j=this._getFilterBar();var G1=new V(this.getId()+"-VHP",{height:"100%",showFilterbar:!!j,formatOptions:this._getFormatOptions(),inputOK:"{$help>/_enableOK}"});G1.setModel(this._oManagedObjectModel,"$help");if(i){i.initialize(false);k1.call(this,G1,i.getDialogContent());}if(j){G1.setFilterbar(j);}return G1;}
function k1(i,j){i.setTable(j);}
function l1(i,j,G1){var H1=this.getAggregation("_popover");var I1=this.getAggregation("_dialog");if(i==="remove"){j.detachEvent("navigate",x,this);j.detachEvent("selectionChange",G,this);j.detachEvent("dataUpdate",H,this);j=undefined;}else{j.attachEvent("navigate",x,this);j.attachEvent("selectionChange",G,this);j.attachEvent("dataUpdate",H,this);L.call(this);}this.fireDataUpdate();if(this._bNavigate){this.navigate(this._iStep);}else if(H1){H1.invalidate();var J1=this.getFilterValue();if(J1){P.call(this,J1);}Y.call(this);if(j&&this._bOpenIfContent){j.initialize(true);var K1=this._getField();if(K1){j.fieldHelpOpen(true);H1.openBy(this._getControlForSuggestion());}this._bOpenIfContent=false;}}else if(j&&this._bOpenIfContent){this._bOpenIfContent=false;this.open(true);}if(I1&&G1!=="suggestContent"&&!(G1==="content"&&this.getDialogContent())){if(j){j.initialize(false);var L1=I1.getContent()[0];L1.setShowTokenizer(this.getMaxConditions()!==1);k1.call(this,L1,j.getDialogContent());if(I1.isOpen()||this._bOpen){j.fieldHelpOpen(false);}}}}
function m1(){var i=this.getAggregation("_dialog");if(!i){i=f1.call(this);}return i;}
function n1(i){this.close();var j=this.getConditions();j=C._removeEmptyConditions(j);j=C._removeInitialFlags(j);a.updateConditionsValues(j);this.setProperty("conditions",j,true);this._bOK=true;}
function o1(i){this.close();this.setProperty("conditions",this._aOldConditions,true);}
function p1(i){this._bSwitchToDialog=false;}
function q1(i){var j=this.getConditions();this._bDialogOpen=false;this._aOldConditions=undefined;this._handleAfterClose(i);if(this._bOK){this.fireSelect({conditions:j,add:false,close:true});}this._bOK=undefined;this.setProperty("_enableOK",true,true);}
function r1(i){var j=this.getAggregation("_dialog");if(j&&this._oField){var G1=j.getContent()[0];if(i){if(!G1._oDefineConditionPanel){var H1=new n(this.getId()+"-DCP",{label:"{$help>/title}"});G1.setDefineConditions(H1);}}else{G1.setDefineConditions();}}}
function s1(i,j,G1){if(i==="remove"){j.detachEvent("search",t1,this);if(!G1){var H1=j.getBasicSearchField();if(H1&&H1._bCreadedByFVH){j.setBasicSearchField();}if(j.getCollectiveSearch&&j.getCollectiveSearch()){j.setCollectiveSearch();}}j=undefined;}else{j.attachEvent("search",t1,this);E1.call(this,false);}var I1=this.getAggregation("_dialog");if(I1){var J1=I1.getContent()[0];J1.setFilterbar(j);J1.setShowFilterbar(!!j);if(this.isOpen()){u1.call(this);if(!G1||i==="remove"){y1.call(this,i==="remove");}}}}
function t1(i){var j=this._getFilterBar();if(j){var G1=this.getFilterFields();if(G1&&!this._bUpdateFilterAfterClose){var H1=v1.call(this,G1);var I1=H1.length>0?H1[0].values[0]:"";if(I1!==this.getFilterValue()){this.setProperty("filterValue",I1,true);}}if(this._bApplyFilter||(!this._bApplyFilter&&(i||j.getLiveMode()))){this._bApplyFilter=true;e1.call(this,true);}}}
function u1(){var i=this._getFilterBar();if(i){i.setInternalConditions(Object.keys(i.getConditions()).reduce(function(j,G1){j[G1]=[];return j;},{}));}P.call(this,this.getFilterValue());Y.call(this);}
function v1(i){var j=this._getFilterBar();var G1;if(j){G1=j.getInternalConditions();}else{G1=this._oConditions;}return G1[i]||[];}
function w1(i,j){var G1=this._getFilterBar();var H1;if(G1){H1=G1.getInternalConditions();}else{H1=this._oConditions;}if(!H1[i]){H1[i]=[];}H1[i].push(j);if(G1){G1.setInternalConditions(H1);}}
function x1(i){var j=this._getFilterBar();var G1;if(j){G1=j.getInternalConditions();}else{G1=this._oConditions;}if(G1[i]&&G1[i].length>0){G1[i]=[];}if(j){j.setInternalConditions(G1);}}
function y1(i){if(i){if(!this._iSearchFieldTimer){this._iSearchFieldTimer=setTimeout(function(){this._iSearchFieldTimer=undefined;y1.call(this,false);}.bind(this),0);}return;}else if(this._iSearchFieldTimer){clearTimeout(this._iSearchFieldTimer);this._iSearchFieldTimer=null;}var j=this.getFilterFields();var G1=F1.call(this,false);if(j&&G1){var H1=this._getFilterBar();if(!H1){H1=new p(this.getId()+"-FB",{liveMode:!G1.isSuspended(),showGoButton:false});H1.setInternalConditions(this._oConditions);this._oConditions={};this.setAggregation("_filterBar",H1,true);}if(!H1.getBasicSearchField()){if(!this._oSearchField){this._oSearchField=new q(this.getId()+"-search",{conditions:"{$filters>/conditions/"+j+"}",placeholder:"{$i18n>filterbar.SEARCH}",label:"{$i18n>filterbar.SEARCH}",maxConditions:1,width:"50%"});this._oSearchField._bCreadedByFVH=true;}else{this._oSearchField.setConditions([]);}H1.setBasicSearchField(this._oSearchField);}}if(this._oSearchField&&!this._oSearchField.getParent()){this._oSearchField.destroy();delete this._oSearchField;}}
function z1(){var i=F1.call(this,true);if(i){return i.getSuggestionContent();}}
function A1(){var i=this._oField?this._oField.getBindingContext():null;this.setBindingContext(i);var j=this._getFormatOptions();if(j.conditionModel&&this.getModel(j.conditionModelName)!==j.conditionModel){this.setModel(j.conditionModel,j.conditionModelName);}}
function B1(){if(!this._oResourceBundleM){this._oResourceBundleM=sap.ui.getCore().getLibraryResourceBundle("sap.m");}return this._oResourceBundleM;}
u.prototype.getScrollDelegate=function(){var i=this.getAggregation("_dialog");if(i&&(i.isOpen()||i.oPopup.getOpenState()===t.OPENING)){var j=F1.call(this,false);var G1=j&&j.getDialogContent();if(G1&&G1.getScrollDelegate){return G1.getScrollDelegate();}else{return undefined;}}else{return F.prototype.getScrollDelegate.apply(this,arguments);}};
u.prototype._fireOpen=function(i){if(!this._bOpenHandled){return F.prototype._fireOpen.apply(this,arguments);}return true;};
u.prototype.getRoleDescription=function(i){if(!i||i===1){return null;}else if(!F1.call(this,false)&&this.getShowConditionPanel()&&!this.getNoDialog()){return null;}else{var j=B1.apply(this);return j.getText("MULTICOMBOBOX_ARIA_ROLE_DESCRIPTION");}};
u.prototype.getAriaHasPopup=function(){if(this.getNoDialog()){return"listbox";}else if(this.getShowConditionPanel()){return"dialog";}else{return"listbox";}};
u.prototype.getValueHelpEnabled=function(){if(this.getNoDialog()){return false;}else{return true;}};
u.prototype._getContenRequestProperties=function(i){var j={};var G1=this.getCollectiveSearchItems();if(G1.length>0){var H1=this.getAggregation("_dialog");if(H1&&H1.isOpen()&&this._oCollectiveSearchSelect){var I1=this._oCollectiveSearchSelect.getSelectedItemKey();j.collectiveSearchKey=I1;}else{j.collectiveSearchKey=G1[0].getKey();}}return j;};
function C1(){if(!this._oCollectiveSearchSelect){var i=new I(this.getId()+"-collSearchItem",{key:"{$help>key}",text:"{$help>text}",enabled:"{$help>enabled}",textDirection:"{$help>textDirection}"});this._oCollectiveSearchSelect=new r(this.getId()+"-collSearch",{title:"{$i18n>COL_SEARCH_SEL_TITLE}",items:{path:"$help>/collectiveSearchItems",template:i},select:D1.bind(this)}).setModel(this._oManagedObjectModel,"$help");}return this._oCollectiveSearchSelect;}
function D1(i){var j=function(){e1.call(this,true);}.bind(this);this.setProperty("filterValue","",true);var G1=this._callContentRequest(false,j);if(G1){j();}}
function E1(i){var j=this.getAggregation("_dialog");var G1=this._getFilterBar();if(j&&G1){var H1=this.getCollectiveSearchItems();if(H1.length<=1){if(G1.getCollectiveSearch&&G1.getCollectiveSearch()){G1.setCollectiveSearch();}}else{if(G1.getCollectiveSearch&&!G1.getCollectiveSearch()){G1.setCollectiveSearch(C1.call(this));}if(i&&this._oCollectiveSearchSelect){this._oCollectiveSearchSelect.setSelectedItemKey(H1[0].getKey());}}}}
function F1(i){var j;if(i){j=this.getSuggestContent();}else{j=this.getDialogContent();}if(!j){j=this.getContent();}return j;}
return u;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelpContentWrapperBase',['sap/ui/core/Element'],function(E){"use strict";
var F=E.extend("sap.ui.mdc.field.FieldValueHelpContentWrapperBase",{metadata:{library:"sap.ui.mdc",properties:{selectedItems:{type:"object[]",defaultValue:[]}},defaultProperty:"selectedItems",events:{navigate:{parameters:{key:{type:"any"},description:{type:"string"},leave:{type:"boolean"},disableFocus:{type:"boolean"},itemId:{type:"string"}}},selectionChange:{parameters:{selectedItems:{type:"object[]"},itemPress:{type:"boolean"}}},dataUpdate:{parameters:{contentChange:{type:"boolean"}}}}}});
F.prototype.init=function(){};
F.prototype.exit=function(){this.dispose();};
F.prototype.initialize=function(s){return this;};
F.prototype.dispose=function(s){};
F.prototype.setSelectedItems=function(s){this.setProperty("selectedItems",s,true);return this;};
F.prototype.getDialogContent=function(){return undefined;};
F.prototype.getSuggestionContent=function(){return undefined;};
F.prototype.fieldHelpOpen=function(s){this._bSuggestion=s;return this;};
F.prototype.fieldHelpClose=function(){delete this._bSuggestion;return this;};
F.prototype.removeFocus=function(){return this;};
F.prototype.getFilterEnabled=function(){return true;};
F.prototype.navigate=function(s){};
F.prototype.getTextForKey=function(k,i,o,n,c){return"";};
F.prototype.getKeyForText=function(t,i,n,c){return undefined;};
F.prototype.getKeyAndText=function(k,t,i,o,c){return undefined;};
F.prototype.getListBinding=function(){return undefined;};
F.prototype.getAsyncKeyText=function(){return false;};
F.prototype.applyFilters=function(f,s){};
F.prototype.isSuspended=function(){return false;};
F.prototype.enableShowAllItems=function(){return false;};
F.prototype.getAllItemsShown=function(){return false;};
F.prototype._getFieldHelp=function(){var f=this.getParent();if(!f||!f.isA("sap.ui.mdc.field.FieldValueHelp")){throw new Error(this.getId()+" must be assigned to a sap.ui.mdc.field.FieldValueHelp");}return f;};
F.prototype._getKeyPath=function(){var f=this._getFieldHelp();return f._getKeyPath();};
F.prototype._getDescriptionPath=function(){var f=this._getFieldHelp();return f.getDescriptionPath();};
F.prototype._getInParameters=function(){var f=this._getFieldHelp();var h=[];if(f){h=_(f.getInParameters());}return h;};
F.prototype._getOutParameters=function(){var f=this._getFieldHelp();var h=[];if(f){h=_(f.getOutParameters());}return h;};
function _(p){var h=[];for(var i=0;i<p.length;i++){var P=p[i];var H=P.getHelpPath();if(H){h.push(H);}}return h;}
F.prototype._getMaxConditions=function(){var f=this._getFieldHelp();return f.getMaxConditions();};
F.prototype._getDelegate=function(){var f=this._getFieldHelp();return{delegate:f.getControlDelegate(),payload:f.getPayload()};};
F.prototype.getScrollDelegate=function(){var f=this._getFieldHelp();return f.getScrollDelegate&&f.getScrollDelegate();};
return F;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelpDelegate',['sap/ui/mdc/field/FieldHelpBaseDelegate','sap/ui/model/FilterType'],function(F,a){"use strict";var b=Object.assign({},F);
b.determineSearchSupported=function(p,f){};
b.isSearchSupported=function(p,l){return false;};
b.executeSearch=function(p,l,s){};
b.adjustSearch=function(p,t,s){return s;};
b.executeFilter=function(p,l,f,c,r){if(l.isA("sap.ui.model.json.JSONListBinding")){l.filter(f,a.Application);c();}else{l.attachEventOnce("dataReceived",c);l.initialize();l.filter(f,a.Application);l.getContexts(0,r);}};
b.checkBindingsPending=function(p,B){return null;};
b.checkListBindingPending=function(p,l){if(l&&(l.isSuspended()||l.getLength()===0)){return false;}return true;};
return b;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelpMTableWrapper',['sap/ui/mdc/field/FieldValueHelpTableWrapperBase','sap/ui/model/ChangeReason','sap/base/strings/capitalize','sap/m/library','sap/ui/mdc/util/loadModules','sap/ui/thirdparty/jquery'],function(F,C,c,l,a,q){"use strict";var L=l.ListMode;var S=l.Sticky;var b;
var d=F.extend("sap.ui.mdc.field.FieldValueHelpMTableWrapper",{metadata:{library:"sap.ui.mdc",aggregations:{table:{type:"sap.m.Table",multiple:false}},defaultAggregation:"table"}});
d._init=function(){b=undefined;};
d.prototype.exit=function(){F.prototype.exit.apply(this,arguments);};
d.prototype.initialize=function(s){if(s||this._oScrollContainer){return this._bTableResolved?this:this._oTablePromise;}if(!b){a("sap/m/ScrollContainer").then(function(m){if(!this._bIsBeingDestroyed){b=m[0];this.initialize();this.fireDataUpdate({contentChange:true});}}.bind(this));return this;}this._oScrollContainer=new b(this.getId()+"-SC",{height:"100%",width:"100%",vertical:true});this._oScrollContainer._oWrapper=this;this._oScrollContainer.getContent=function(){var e=[];var t=this._oWrapper&&this._oWrapper.getTable();if(t){e.push(t);}return e;};return this;};
d.prototype.dispose=function(){if(this._oScrollContainer){this._oScrollContainer.destroy();delete this._oScrollContainer;}};
d.prototype.getDialogContent=function(){return this._oScrollContainer;};
d.prototype.getSuggestionContent=function(){return this._getWrappedTable();};
d.prototype.fieldHelpOpen=function(s){F.prototype.fieldHelpOpen.apply(this,arguments);var t=this._getWrappedTable();if(t){if(s){var o=t.getSelectedItem();if(o){this._handleScrolling(o);}}}return this;};
d.prototype.getListBinding=function(){var t=this._getWrappedTable();return t&&t.getBinding("items");};
d.prototype._getListBindingInfo=function(){var t=this._getWrappedTable();return t&&t.getBindingInfo("items");};
d.prototype.isSuspended=function(){var o=this.getListBinding();if(!o){return true;}return o.isSuspended();};
d.prototype._handleEvents=function(A){var t=this._getWrappedTable();if(t){var e=(A?t.attachEvent:t.detachEvent).bind(t);e("itemPress",this._handleItemPress,this);e("selectionChange",this._handleSelectionChange,this);e("updateFinished",this._handleUpdateFinished,this);}};
d.prototype._adjustTable=function(s,n){F.prototype._adjustTable.apply(this,arguments);var t=this._getWrappedTable();if(t&&this.getParent()){t.setRememberSelections(false);if(s){if(this._getMaxConditions()===1){t.setMode(L.SingleSelectMaster);}else{t.setMode(L.MultiSelect);}}else if(this._getMaxConditions()===1){t.setMode(L.SingleSelectLeft);}else{t.setMode(L.MultiSelect);}var e=t.getSticky();if(!e||e.length===0){t.setSticky([S.ColumnHeaders]);}}};
var _=function(B){if(B){this._handleModelContextChange();return true;}};
d.prototype._handleTableChanged=function(m,t){if(m==="insert"){this._adjustTable(true);if(!_.call(this,this.getListBinding())){this._oObserver.observe(t,{bindings:["items"]});}}else{this._oObserver.unobserve(t);}F.prototype._handleTableChanged.call(this,m,t);};
d.prototype._observeChanges=function(o,n){if(o.name==="items"&&o.mutation==="ready"){_.call(this,o.bindingInfo.binding);}F.prototype._observeChanges.apply(this,arguments);};
d.prototype._handleItemPress=function(e){var i=e.getParameter("listItem");if(!this._bSuggestion||this._getMaxConditions()!==1){i.setSelected(!i.getSelected());}this._fireSelectionChange(true);};
d.prototype._handleSelectionChange=function(e,f){if(!this._bSuggestion||this._getMaxConditions()!==1||f){this._fireSelectionChange.call(this,false);}};
d.prototype._handleUpdateFinished=function(e){if(!this.getParent()){return;}this._updateSelectedItems();if(this._bNavigate){this._bNavigate=false;this.navigate(this._iStep);}this.fireDataUpdate({contentChange:false});};
d.prototype._getTableItems=function(s,n){var t=this._getWrappedTable();if(t){return s?t.getSelectedItems():t.getItems();}return[];};
d.prototype._modifyTableSelection=function(i,I,s,e){if(I.getSelected()!==s){I.setSelected(s);}};
d.prototype._handleTableEvent=function(e){if(!this._bSuggestion){return;}var t=this._getWrappedTable();var i=q(e.target).control(0);switch(e.type){case"sapprevious":if(i.isA("sap.m.ListItemBase")){if(t.indexOfItem(i)===0){this.fireNavigate({key:undefined,description:undefined,leave:true});e.preventDefault();e.stopPropagation();e.stopImmediatePropagation(true);}}break;default:break;}};
d.prototype._handleScrolling=function(i){var s=this.getScrollDelegate();if(s){var t=this._getWrappedTable();var I=!isNaN(i)?i:t.indexOfItem(i);t.scrollToIndex(I).catch(function(e){});return true;}};
d.prototype.enableShowAllItems=function(){var t=this._getWrappedTable();var B=t&&t.getBindingInfo("items");return B&&!!B.length;};
d.prototype.getAllItemsShown=function(){var B=this.getListBinding();return B&&(!B.getLength()||B.bLengthFinal);};
return d;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelpMdcTableWrapper',['sap/ui/mdc/field/FieldValueHelpTableWrapperBase',"sap/ui/mdc/util/loadModules","sap/base/util/deepEqual","sap/ui/mdc/library","sap/ui/mdc/enum/PersistenceMode","sap/ui/mdc/p13n/Engine",'sap/ui/mdc/condition/FilterConverter',"sap/ui/thirdparty/jquery"],function(F,l,d,a,P,E,b,q){"use strict";var S=a.SelectionMode;var _={"Table":"sap/ui/mdc/field/FieldValueHelpUITableWrapper","ResponsiveTable":"sap/ui/mdc/field/FieldValueHelpMTableWrapper"};
var c=F.extend("sap.ui.mdc.field.FieldValueHelpMdcTableWrapper",{metadata:{library:"sap.ui.mdc",aggregations:{table:{type:"sap.ui.mdc.Table",multiple:false}},defaultAggregation:"table"}});
c.prototype.init=function(){F.prototype.init.apply(this,arguments);this.OInnerWrapperClass=null;};
c.prototype.setParent=function(p,A){if(p){E.getInstance().defaultProviderRegistry.attach(p,P.Transient);}F.prototype.setParent.apply(this,arguments);};
c.prototype._getStringType=function(){var t=this.getTable();var T,o=T=t&&t.getType();if(!o){T="Table";}else if(typeof o==="object"){if(o.isA("sap.ui.mdc.table.ResponsiveTableType")){T="ResponsiveTable";}else{T="Table";}}return T;};
c.prototype.fieldHelpOpen=function(s){var t=this.getTable();if(t){if(this.OInnerWrapperClass){return this.OInnerWrapperClass.prototype.fieldHelpOpen.call(this,s);}}return this;};
c.prototype.fieldHelpClose=function(){this._bSearchTriggered=false;F.prototype.fieldHelpClose.apply(this,arguments);return this;};
c.prototype._updateInnerWrapperClass=function(){var t=this._getStringType();var M=_[t];if(M&&this._sInnerWrapperType!==t){this._sInnerWrapperType=t;if(this.OInnerWrapperClass){this.OInnerWrapperClass.prototype.dispose.apply(this);this.OInnerWrapperClass=null;}this._oInnerWrapperClassPromise=l(M).then(function(f){this.OInnerWrapperClass=f[0];this.OInnerWrapperClass.prototype.initialize.apply(this);}.bind(this));}};
c.prototype._adjustTable=function(s){var t=this.getTable();if(t){var p=this.getParent();if(p){t.setHeight("100%");t.setSelectionMode(this._getMaxConditions()===1?S.Single:S.Multi);var f=this._getFieldHelp();var o=f._getFilterBar();var g=o&&t.getFilter()!==o.getId();if(g){t.setFilter(o);}}if(this.OInnerWrapperClass){this.OInnerWrapperClass.prototype._adjustTable.call(this,s);}}};
c.prototype.exit=function(){var p=this.getParent();if(p){E.getInstance().defaultProviderRegistry.detach(p);}this._oCurrentConditions=null;this._bSuggestion=null;if(this._oInnerWrapperClassPromise){this._oInnerWrapperClassPromise=null;}if(this.OInnerWrapperClass){this.OInnerWrapperClass.prototype.dispose.apply(this);this.OInnerWrapperClass=null;}this._sInnerWrapperType=null;this._bSearchTriggered=null;F.prototype.exit.apply(this,arguments);};
c.prototype.isSuspended=function(){var t=this.getTable();var L=this.getListBinding();return L?L.isSuspended():t&&!t.getAutoBindOnInit();};
c.prototype.getListBinding=function(){var t=this.getTable();return t&&t.getRowBinding();};
var m={onmouseover:function(o){var i=q(o.target).control(0);if(i&&i.isA("sap.m.ColumnListItem")){i.setType("Active");}}};var e=function(t,A){if(A){t.addDelegate(m,true,this);return;}t.removeDelegate(m);};
c.prototype._handleTableChanged=function(M,t){var i;if(M==="insert"){this._updateInnerWrapperClass();e.call(this,t,true);i=this._getWrappedTable();if(i){this._handleInnerTableChanged("insert",i);}this._oObserver.observe(t,{aggregations:["_content"]});}else{e.call(this,t);i=t._oTable;if(i){this._handleInnerTableChanged(M,i);}this._oObserver.unobserve(t);}};
c.prototype._handleToolbarExtensions=function(i){if(i.mAggregations["extension"]&&i.mAggregations["extension"].length){i.getAggregation("extension").forEach(function(o){o.setVisible(false);});}if(i.mAggregations["headerToolbar"]){var t=i.getAggregation("headerToolbar");t.setVisible(false);}};
c.prototype._handleInnerTableChanged=function(M,i){if(M==="insert"){this._updateInnerWrapperClass();this._handleToolbarExtensions(i);this._oObserver.observe(i,{bindings:["rows"]});}this._oInnerWrapperClassPromise.then(function(){this.OInnerWrapperClass.prototype._handleTableChanged.call(this,M,i);this.getTable().initialized().then(function(){this.fireDataUpdate({contentChange:true});}.bind(this));}.bind(this));};
c.prototype.applyFilters=function(f,s,o){var t=this.getTable();if(t&&o){var L=this.getListBinding();var g=L&&L.isSuspended();var h=this._getFieldHelp();if(L&&!g&&!this._bSearchTriggered){var i=o.getSearch()||"";var B=L.mParameters.$search||"";var C=o.getConditions();var j=h._getTypesForConditions(C);var k=C&&j&&b.createFilters(C,j,undefined,h.getCaseSensitive());var n=k?[].concat(k):[];var p=L.aApplicationFilters.reduce(function(R,v){return R.concat(v._bMultiFilter?v.aFilters:v);},[]);var r=!d(n,p);var u=i!==B;var T=t._oTable&&t._oTable.getShowOverlay&&t._oTable.getShowOverlay();if(r||u||T){this._handleScrolling();o.triggerSearch();this._bSearchTriggered=true;}}if(g){L.resume();}if(!L&&t.getAutoBindOnInit()){this._oTablePromise.then(function(){if(!this._bIsBeingDestroyed){this.applyFilters(f,s,o);}}.bind(this));}}};
c.prototype._observeChanges=function(C,n){if(C.name==="_content"){this._handleInnerTableChanged(C.mutation,C.child);}if(this.OInnerWrapperClass){this.OInnerWrapperClass.prototype._observeChanges.call(this,C,true);}else{F.prototype._observeChanges.call(this,C,true);}};
c.prototype._handleUpdateFinished=function(o){this._bSearchTriggered=false;return this.OInnerWrapperClass.prototype._handleUpdateFinished.apply(this,arguments);};
c.prototype._handleEvents=function(o){if(this.OInnerWrapperClass){return this.OInnerWrapperClass.prototype._handleEvents.apply(this,arguments);}};
c.prototype._handleItemPress=function(o){return this.OInnerWrapperClass.prototype._handleItemPress.apply(this,arguments);};
c.prototype._handleSelectionChange=function(o){var i=this._isTableReady();return this._iRunningTableSelectionUpdates||!i||this._bBusy?undefined:this._fireSelectionChange.call(this,false);};
c.prototype._getTableItems=function(s,n){return this.OInnerWrapperClass.prototype._getTableItems.apply(this,arguments);};
c.prototype._modifyTableSelection=function(i,I,s,f){return this.OInnerWrapperClass.prototype._modifyTableSelection.apply(this,arguments);};
c.prototype._getDataFromItem=function(i,I,o){return this.OInnerWrapperClass.prototype._getDataFromItem.apply(this,arguments);};
c.prototype._handleTableEvent=function(o){return this.OInnerWrapperClass.prototype._handleTableEvent.apply(this,arguments);};
c.prototype._isTableReady=function(){var t=this._getWrappedTable();if(t&&t._bInvalid){return false;}return F.prototype._isTableReady.apply(this,arguments);};
c.prototype._getWrappedTable=function(){var t=this.getTable();return t&&t._oTable;};
c.prototype._handleScrolling=function(){return this.OInnerWrapperClass.prototype._handleScrolling.apply(this,arguments);};
c.prototype.getDialogContent=function(){if(this.OInnerWrapperClass){return this.OInnerWrapperClass.prototype.getDialogContent.apply(this,arguments);}};
c.prototype.initialize=function(){if(this.OInnerWrapperClass){return this.OInnerWrapperClass.prototype.initialize.apply(this,arguments);}};
c.prototype.getSuggestionContent=function(){return this.getTable();};
return c;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelpTableWrapperBase',['sap/ui/mdc/field/FieldValueHelpContentWrapperBase','sap/ui/model/ChangeReason','sap/ui/model/Filter','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/FilterType','sap/ui/model/FilterOperator','sap/ui/model/FilterProcessor','sap/ui/base/ManagedObjectObserver','sap/base/strings/capitalize','sap/m/library','sap/base/util/deepEqual','sap/base/Log','sap/ui/base/SyncPromise'],function(F,C,a,b,P,c,d,e,M,f,l,g,L,S){"use strict";
var h=F.extend("sap.ui.mdc.field.FieldValueHelpTableWrapperBase",{metadata:{library:"sap.ui.mdc",aggregations:{table:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"table"}});
h.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver=new M(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["selectedItems"],aggregations:["table"]});this._bTableResolved=false;this._oTablePromise=new Promise(function(r){this._oTablePromiseResolve=r;}.bind(this));this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._oPromises={};this._oTableDelegate={onsapprevious:this._handleTableEvent,onsapnext:this._handleTableEvent,cellClick:this._handleTableEvent};this._iRunningTableSelectionUpdates=0;};
h.prototype.exit=function(){this._sTableWidth=null;this._oObserver.disconnect();this._oObserver=undefined;if(this._oTableModificationPromise){this._oTableModificationPromise=null;}delete this._oTablePromise;delete this._oTablePromiseResolve;delete this._bTableResolved;this._iRunningTableSelectionUpdates=null;F.prototype.exit.apply(this,arguments);};
h.prototype.invalidate=function(O){if(O){var t=this._getWrappedTable();if(t&&O===t){if(O.bOutput&&!this._bIsBeingDestroyed){var i=this.getParent();if(i){i.invalidate(this);}}return;}}F.prototype.invalidate.apply(this,arguments);};
h.prototype.getDialogContent=function(){return this._getWrappedTable();};
h.prototype.getSuggestionContent=function(){return this._getWrappedTable();};
h.prototype.fieldHelpOpen=function(s){F.prototype.fieldHelpOpen.apply(this,arguments);var t=this._getWrappedTable();if(t){this._adjustTable(s);this._updateSelectedItems();}return this;};
h.prototype.fieldHelpClose=function(){F.prototype.fieldHelpClose.apply(this,arguments);var t=this._getWrappedTable();if(t){t.removeStyleClass("sapMListFocus");}return this;};
h.prototype.removeFocus=function(){F.prototype.removeFocus.apply(this,arguments);var t=this._getWrappedTable();if(t){t.removeStyleClass("sapMListFocus");}return this;};
h.prototype.navigate=function(s,i){var t=this._getWrappedTable();if(!this._isTableReady(t)){if(t&&!this._bTableResolved&&!this._bNavigationDelayed){this._bNavigationDelayed=true;this._oTablePromise.then(function(){this.fireNavigate({disableFocus:true});this._bNavigationDelayed=false;}.bind(this));}this._bNavigate=true;this._iStep=s;return;}var j=this.getSelectedItems();var n=j&&j[0];var T=n&&this._getTableItemByKey(n.key);if(this._getMaxConditions()!==1){this._bShouldRebind=false;this.fireNavigate();t.focus();return;}t.addStyleClass("sapMListFocus");var I=this._getTableItems();var q=I.length;var r=0;var u=false;if(T){r=I.indexOf(T);r=r+s;}else if(s>=0){r=s-1;}else{r=q+s;}var v;if(r<0){r=0;v=true;u=true;}else if(r>=q-1){r=q-1;v=false;}else{v=s>=0;}while(I[r]&&I[r].isA("sap.m.GroupHeaderListItem")){if(v){r++;}else{r--;}}var w=I[r];if(w){var V=this._getDataFromItem(w);var x=w===T;if(!x){this._modifyTableSelection(I,w,true,undefined,true);}S.resolve(this._handleScrolling(w)).then(function(y){var R=w.getId&&w.getId();if(x){if(!this.getParent().isOpen()){this.fireNavigate({key:V.key,description:V.description,inParameters:V.inParameters,outParameters:V.outParameters,itemId:R,leave:u});}else if(u){this.fireNavigate({key:undefined,value:undefined,condition:undefined,itemId:undefined,leave:u});}return;}this._bNoTableUpdate=true;this.setSelectedItems([{key:V.key,description:V.description,inParameters:V.inParameters,outParameters:V.outParameters}]);this._bNoTableUpdate=false;if(!R&&w.isA("sap.ui.model.Context")){var z=this._getTableItems(false,true).find(function(A){return A.getBindingContext()===w;});R=z&&z.getId();}if(R){this.fireNavigate({key:V.key,description:V.description,inParameters:V.inParameters,outParameters:V.outParameters,itemId:R,leave:u});}else{this.fireNavigate({disableFocus:true});}}.bind(this));}};
h.prototype.getTextForKey=function(K,i,O,n,j){return _.call(this,[K],["key"],i,O,n,j);};
h.prototype.getKeyForText=function(t,i,n,j){return _.call(this,[t],["description"],i,undefined,n,j);};
h.prototype.getKeyAndText=function(K,t,i,O,j){return _.call(this,[K,t],["key","description"],i,O,false,j);};
function _(v,i,I,O,n,j){if((v[0]===null||v[0]===undefined||(i[0]==="description"&&v[0]===""))&&(v.length===1||!v[1])){return null;}return p.call(this).then(function(r){var E=i.length>1||i[0]==="description"?P:b;var G=[i[0]==="description"?this._getDescriptionPath:this._getKeyPath];if(i.length>1){G.push(i[1]==="description"?this._getDescriptionPath:this._getKeyPath);}if(r&&this._getKeyPath()){var q=this._getTableItems();var R=k.call(this,v,q,G,I,O,E,j);if(R){return R;}}if(n){throw new E(this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[v[0]]));}else{return this.loadData(G,v,I,O,E,j);}}.bind(this)).unwrap();}
function k(v,I,G,j,O,E,n){var i=0;var q=[];for(i=0;i<G.length;i++){q.push(G[i].call(this));if(!q[i]){throw new Error("path for filter missing");}}var r=function(w,x){var B=w.isA("sap.ui.model.Context")?w:w.getBindingContext();return B.getProperty(x);};var s;var t=[];for(i=0;i<v.length;i++){t.push(new a({path:q[i],operator:d.EQ,value1:v[i],caseSensitive:n}));}if(t.length===1){s=t[0];}else{s=new a({filters:t,and:false});}if(j||O){t=[s];if(j){t.push(j);}if(O){t.push(O);}s=new a({filters:t,and:true});}var u=e.apply(I,s,r);if(u.length===1){var V=this._getDataFromItem(u[0]);return{key:V.key,description:V.description,inParameters:V.inParameters,outParameters:V.outParameters};}else if(u.length>1){if(!n){return k.call(this,v,I,G,j,O,E,true);}throw m.call(this,E,true,v[0]);}}
h.prototype.loadData=function(G,v,I,O,E,n){var s="";var i=0;for(i=0;i<G.length;i++){s=s+G[i].call(this);}if(this._oPromises[s]&&this._oPromises[s][v[0]]){return this._oPromises[s][v[0]];}if(!this._oPromises[s]){this._oPromises[s]={};}this._oPromises[s][v[0]]=new Promise(function(r,R){this._oTablePromise.then(function(t){var q=s;s="";for(i=0;i<G.length;i++){s=s+G[i].call(this);}if(!s){R(new Error("missing FieldPath"));return;}if(s!==q){if(!this._oPromises[s]){this._oPromises[s]={};}this._oPromises[s][v[0]]=this._oPromises[q][v[0]];delete this._oPromises[q][v[0]];}var u=this.getListBinding();var w=u.getModel();var x=u.getPath();var y;var B=u.getContext();var z=[];for(i=0;i<G.length;i++){z.push(new a({path:G[i].call(this),operator:d.EQ,value1:v[i],caseSensitive:n}));}if(z.length===1){y=z[0];}else{y=new a({filters:z,and:false});}z=[];if(I){z.push(I);}if(O){if(I){var A=O.aFilters?O.aFilters:[O];var D=I.aFilters?I.aFilters:[I];for(i=0;i<A.length;i++){var H=A[i];var J=false;for(var j=0;j<D.length;j++){var K=D[j];if(K.sPath===H.sPath&&K.oValue1===H.oValue1&&K.oValue2===H.oValue2){J=true;break;}}if(!J){z.push(H);}}}else{z.push(O);}}if(z.length>0){z.push(y);y=new a({filters:z,and:true});}try{var N=w.bindList(x,B);var Q=function(){var V=N.getContexts();if(V.length===1){var W=this._getDataFromContext(V[0]);var X={key:W.key,description:W.description,inParameters:W.inParameters,outParameters:W.outParameters};r(X);}else if(v[0]===""&&V.length===0){r(null);}else{var Y=m.call(this,E,V.length>1,v[0]);R(Y);}setTimeout(function(){N.destroy();},0);delete this._oPromises[s][v[0]];};var T=this._getDelegate();if(T.delegate){T.delegate.executeFilter(T.payload,N,y,Q.bind(this),2);}}catch(U){R(U);}}.bind(this));}.bind(this));return this._oPromises[s][v[0]];};
function m(E,n,v){var s;if(n){s=this._oResourceBundle.getText("valuehelp.VALUE_NOT_UNIQUE",[v]);}else{s=this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[v]);}var i=new E(s);i._bNotUnique=n;return i;}
h.prototype.getAsyncKeyText=function(){return true;};
h.prototype.applyFilters=function(i,s,j){var n=this.getListBinding();var D=this._getDelegate();if(!n){this._oTablePromise.then(function(t){if(!this._bIsBeingDestroyed){this.applyFilters(i,s,j);}}.bind(this));return;}var u=true;var q;try{q=n.getFilterInfo();}catch(r){L.info("ValueHelp-Filter: getFilterInfo threw error");}if(!i){i=[];}if(i.length===0&&!q){u=false;}if(D.delegate&&D.delegate.isSearchSupported(D.payload,n)){if(!n.isSuspended()&&u){n.suspend();}s=D.delegate.adjustSearch(D.payload,this._bSuggestion,s);D.delegate.executeSearch(D.payload,n,s);L.info("ValueHelp-Search: "+s);}if(u){n.filter(i,c.Application);L.info("ValueHelp-Filter: "+o.call(this,i));}if(n.isSuspended()){n.resume();}};
h.prototype.isSuspended=function(){var i=this.getListBinding();if(!i){return true;}return i.isSuspended();};
function o(i){var r;if(!i){return"";}if(Array.isArray(i)){r="";i.forEach(function(i,I,j){r+=o.call(this,i);if(j.length-1!=I){r+=" or ";}},this);return"("+r+")";}else if(i._bMultiFilter){r="";var A=i.bAnd;i.aFilters.forEach(function(i,I,j){r+=o.call(this,i);if(j.length-1!=I){r+=A?" and ":" or ";}},this);return"("+r+")";}else{r=i.sPath+" "+i.sOperator+" '"+i.oValue1+"'";if(i.sOperator==="BT"){r+="...'"+i.oValue2+"'";}return r;}}
h.prototype.clone=function(i,j){this._handleEvents();var n=F.prototype.clone.apply(this,arguments);this._handleEvents(true);return n;};
h.prototype._observeChanges=function(i){if(i.name==="table"){this._handleTableChanged.call(this,i.mutation,i.child);}if(i.name==="selectedItems"){this._updateSelectedItems.call(this);}};
h.prototype._handleTableChanged=function(s,t){if(s==="remove"){this._handleEvents();t.removeDelegate(this._oTableDelegate);t.removeStyleClass("sapMComboBoxList");t=undefined;this._oTablePromise=new Promise(function(r){this._oTablePromiseResolve=function(){r();this._bTableResolved=true;};}.bind(this));}else{this._handleEvents(true);t.addDelegate(this._oTableDelegate,true,this);this._updateSelectedItems();if(this._bNavigate){this._bNavigate=false;this.navigate(this._iStep);}t.addStyleClass("sapMComboBoxList");}this.fireDataUpdate({contentChange:true});};
h.prototype._handleModelContextChange=function(E){var t=this._getWrappedTable();if(this.getListBinding()){this._oTablePromiseResolve(t);}};
h.prototype._adjustTable=function(s){var t=this.getTable();if(t&&this.getParent()){if(s){if(this._sTableWidth){t.setWidth(this._sTableWidth);}}else if(t.getWidth()!=="100%"){this._sTableWidth=t.getWidth();t.setWidth("100%");}}};
h.prototype._fireSelectionChange=function(I){var q=[];var t=this._getWrappedTable();if(t){var s=this.getSelectedItems();var T;var v;if(s.length>0){var r=this._getTableItems();for(var n=0;n<r.length;n++){T=r[n];v=this._getDataFromItem(T);if(!v){throw new Error("Key of item cannot be determined"+this);}for(var j=s.length-1;j>=0;j--){var u=s[j];if(u.key===v.key&&(!v.inParameters||!u.inParameters||g(u.inParameters,v.inParameters))&&(!v.outParameters||!u.outParameters||g(u.outParameters,v.outParameters))){s.splice(j,1);break;}}if(!s.length){break;}}}if(s.length>0){q=s;}s=this._getTableItems(true);for(var i=0;i<s.length;i++){T=s[i];v=this._getDataFromItem(T);if(!v){throw new Error("Key of item cannot be determined"+this);}q.push({key:v.key,description:v.description,inParameters:v.inParameters,outParameters:v.outParameters});}}this._bNoTableUpdate=true;this.setSelectedItems(q);this._bNoTableUpdate=false;this.fireSelectionChange({selectedItems:q,itemPress:I});};
h.prototype._handleUpdateFinished=function(E){if(!this.getParent()){return;}this._updateSelectedItems.call(this);if(this._bNavigate){this._bNavigate=false;this.navigate(this._iStep);}if(E.getParameter("reason")!==f(C.Filter)){this.fireDataUpdate({contentChange:false});}};
h.prototype._handleBusyStateChanged=function(E){this._bBusy=E.getParameter("busy");};
h.prototype._updateSelectedItems=function(){if(this._bNoTableUpdate){return;}var t=[];var T=this._getWrappedTable();if(this._isTableReady(T)&&this._getKeyPath()){var s=this.getSelectedItems();var n=this._getTableItems();var u=false;this._iRunningTableSelectionUpdates=this._iRunningTableSelectionUpdates+1||1;for(var j=0;j<n.length;j++){var q=n[j];if(q){var r=false;if(s.length>0){var v=this._getDataFromItem(q);for(var i=0;i<s.length;i++){var w=s[i];if(v.key===w.key&&(!v.inParameters||!w.inParameters||g(w.inParameters,v.inParameters))&&(!v.outParameters||!w.outParameters||g(w.outParameters,v.outParameters))){r=true;if(v.description!==w.description){w.description=v.description;u=true;}break;}}}t.push(this._modifyTableSelection(n,q,r,j));}}if(u){this._bNoTableUpdate=true;this.setSelectedItems(s);this._bNoTableUpdate=false;}this._oTableModificationPromise=Promise.all(t).then(function(){this._iRunningTableSelectionUpdates=this._iRunningTableSelectionUpdates-1;}.bind(this));}};
h.prototype._getDataFromItem=function(i,I,O){var B=i.isA("sap.ui.model.Context")?i:i.getBindingContext();return B&&this._getDataFromContext.call(this,B,I,O);};
h.prototype._getDataFromContext=function(B,I,O){var K=this._getKeyPath();var D=this._getDescriptionPath();var v;var s;if(!K){throw new Error("KeyPath missing");}if(!I){I=this._getInParameters();}if(!O){O=this._getOutParameters();}var j=I.length>0?{}:null;var n=O.length>0?{}:null;var q;if(B){v=K?B.getProperty(K):undefined;s=D?B.getProperty(D):undefined;var i=0;for(i=0;i<I.length;i++){q=I[i];j[q]=B.getProperty(q);}for(i=0;i<O.length;i++){q=O[i];n[q]=B.getProperty(q);}}if(v===null||v===undefined){return false;}return{key:v,description:s,inParameters:j,outParameters:n};};
h.prototype._isTableReady=function(){var t=this._getWrappedTable();var i=t&&this.getListBinding();if(!t||!i){return false;}if(i&&(i.isSuspended()||i.getLength()===0)){return false;}return true;};
function p(){return S.resolve().then(function(){var i=this.getListBinding();var j=this._getListBindingInfo();var D=this._getDelegate();if(i&&D.delegate){return D.delegate.checkListBindingPending(D.payload,i,j);}else{return false;}}.bind(this)).catch(function(E){throw E;});}
h.prototype._handleItemPress=function(E){};
h.prototype._handleSelectionChange=function(E,i){};
h.prototype._getTableItems=function(s,n){return[];};
h.prototype._getTableItemByKey=function(K,n){var i=this._getTableItems(undefined,n);return i&&i.find(function(I){var D=this._getDataFromItem(I);return D.key===K;}.bind(this));};
h.prototype._handleTableEvent=function(E){};
h.prototype._modifyTableSelection=function(i,I,s,j,n){};
h.prototype._getWrappedTable=function(){return this.getTable();};
h.prototype._handleEvents=function(A){};
h.prototype._handleScrolling=function(i){};
h.prototype.getListBinding=function(){};
h.prototype._getListBindingInfo=function(){};
return h;});
sap.ui.predefine('sap/ui/mdc/field/FieldValueHelpUITableWrapper',['sap/ui/mdc/field/FieldValueHelpTableWrapperBase','sap/ui/model/ChangeReason','sap/base/strings/capitalize',"sap/ui/table/library",'sap/ui/thirdparty/jquery'],function(F,C,c,l,q){"use strict";var V=l.VisibleRowCountMode;var S=l.SelectionMode;var a=l.SelectionBehavior;
var b=F.extend("sap.ui.mdc.field.FieldValueHelpUITableWrapper",{metadata:{library:"sap.ui.mdc",aggregations:{table:{type:"sap.ui.table.Table",multiple:false}},defaultAggregation:"table"}});
b.prototype.fieldHelpOpen=function(s){F.prototype.fieldHelpOpen.apply(this,arguments);var t=this._getWrappedTable();if(t&&s){var f=this._getTableItems(true);var o=f&&f[0];this._handleScrolling(o);}return this;};
b.prototype.getListBinding=function(){var t=this._getWrappedTable();return t&&t.getBinding("rows");};
b.prototype.isSuspended=function(){var L=this.getListBinding();if(!L){return true;}return L.isSuspended();};
var _=function(t){t=t||this._getWrappedTable();var s=t.getPlugins().find(function(p){return p.isA("sap.ui.table.plugins.SelectionPlugin");});return s||t;};var d=function(B){if(B){this._handleModelContextChange();return true;}};
b.prototype._handleTableChanged=function(m,t){if(m==="insert"){this._adjustTable(true);var h=d.call(this,this.getListBinding());this._oObserver.observe(t,{aggregations:["plugins"],bindings:[!h&&"rows"]});var s=_.call(this,t);if(s&&s!==t){s.attachEvent("selectionChange",this._handleSelectionChange,this);}}else{this._oObserver.unobserve(t);}F.prototype._handleTableChanged.call(this,m,t);};
b.prototype._observeChanges=function(o,n){if(o.name==="rows"&&o.mutation==="ready"){d.call(this,o.bindingInfo.binding);}if(!n&&o.name==="plugins"&&o.child.isA("sap.ui.table.plugins.SelectionPlugin")){var p=(o.mutation==="insert"?o.child.attachEvent:o.child.detachEvent).bind(o.child);p("selectionChange",this._handleSelectionChange,this);}F.prototype._observeChanges.apply(this,arguments);};
b.prototype._handleEvents=function(A){var t=this._getWrappedTable();if(t){var E=(A?t.attachEvent:t.detachEvent).bind(t);E("cellClick",this._handleItemPress,this);E("rowSelectionChange",this._handleSelectionChange,this);E("rowsUpdated",this._handleUpdateFinished,this);E("busyStateChanged",this._handleBusyStateChanged,this);var r=this.getListBinding();if(r){var f=(A?r.attachEvent:r.detachEvent).bind(r);f("change",this._handleUpdateFinished,this);}}};
b.prototype._adjustTable=function(s){F.prototype._adjustTable.apply(this,arguments);var t=this._getWrappedTable();var p=this.getParent();if(t){var r=t.getRowMode();if(!r){t.setVisibleRowCountMode(s?V.Fixed:V.Auto);t.setMinAutoRowCount(3);}else if(r.isA("sap.ui.table.rowmodes.AutoRowMode")){r.setMinRowCount(3);}if(p){var o=_.call(this);var f=function(m,B){t.setSelectionBehavior(B);o.setSelectionMode(m);};var g=this._getMaxConditions()===1;var h=g?S.Single:S.MultiToggle;var i=g?a.RowOnly:a.Row;f(h,i);}}};
b.prototype._handleSelectionChange=function(E){var u=E.getParameter("userInteraction");if(u||(this._bSuggestion&&this._getMaxConditions()!==1)){this._fireSelectionChange.call(this,false);}};
b.prototype._handleUpdateFinished=function(E){if(!this.getParent()){return;}this._updateSelectedItems();if(this._bNavigate){this._bNavigate=false;this.navigate(this._iStep);}if(!E||E.getParameter("reason")!==c(C.Filter)){this.fireDataUpdate({contentChange:false});}};
function e(t){var s=_.call(this,t);var f=s.getSelectedIndices();return f.reduce(function(p,i){var o=t.getContextByIndex(i);return o?p.concat(o):p;},[]);}
b.prototype._getTableItems=function(s,n){var r=[];var t=this._getWrappedTable();if(t){if(!n){if(s){r=e.call(this,t);}else{var B=t.getBinding();r=B&&B.getAllCurrentContexts()||[];}}else{r=t.getRows().filter(function(R){var o=R.getBindingContext();return o&&o.getObject();});if(s){r=r.filter(function(R){return e.call(this,t).indexOf(R.getBindingContext())>=0;});}}}return r;};
b.prototype._modifyTableSelection=function(i,I,s,f,g){f=typeof f!=='undefined'?f:i.indexOf(I);if(f>=0){var o=_.call(this);var h=o.getSelectedIndices().indexOf(f)>=0;if(s&&!h){return this._getMaxConditions()===1?o.setSelectedIndex(f):o.addSelectionInterval(f,f);}else if(!s&&h){return o.removeSelectionInterval(f,f);}}};
b.prototype._handleTableEvent=function(E){if(!this._bSuggestion){return;}var i=q(E.target).control(0);switch(E.type){case"sapprevious":if(i.isA("sap.ui.table.Row")){if(this._getTableItems(false,true).indexOf(i)===0){this.fireNavigate({key:undefined,description:undefined,leave:true});E.preventDefault();E.stopPropagation();E.stopImmediatePropagation(true);}}break;case"sapnext":if(i.isA("sap.ui.table.Column")&&this._getMaxConditions()===1){i=this._getTableItems(false,true)[0];if(i){var v=this._getDataFromItem(i);if(v){this.fireNavigate({key:v.key,description:v.description,inParameters:v.inParameters,outParameters:v.outParameters,itemId:i.getId()});E.preventDefault();E.stopPropagation();E.stopImmediatePropagation(true);}}}break;default:break;}};
b.prototype._handleScrolling=function(i){var t=this._getWrappedTable();var I=!isNaN(i)&&i;var f=t.getFirstVisibleRow();if(!I&&i){var o=i.isA("sap.ui.table.Row")&&i.getBindingContext();if(!o&&i.isA("sap.ui.model.Context")){o=i;}I=this._getTableItems().indexOf(o);}if(typeof I==="undefined"||I<0){I=f-1;}if(I>=0&&I!=f){t.setFirstVisibleRow(I);return Promise.resolve();}};
b.prototype._handleItemPress=function(E){};
return b;});
sap.ui.predefine('sap/ui/mdc/field/InParameter',['sap/ui/core/Element'],function(E){"use strict";
var I=E.extend("sap.ui.mdc.field.InParameter",{metadata:{library:"sap.ui.mdc",properties:{value:{type:"any",byValue:true,defaultValue:null},helpPath:{type:"string"},initialValueFilterEmpty:{type:"boolean",defaultValue:false}},defaultProperty:"value"}});
I.prototype.init=function(){this.attachEvent("modelContextChange",_,this);};
I.prototype.exit=function(){};
I.prototype.bindProperty=function(n,b){if(n==="value"&&!b.formatter){b.targetType="raw";}E.prototype.bindProperty.apply(this,arguments);};
I.prototype.getFieldPath=function(){var b=this.getBinding("value");var p;if(b){p=b.getPath();}else{var B=this.getBindingInfo("value");if(B){if(B.path){p=B.path;}else if(B.parts&&B.parts.length===1){p=B.parts[0].path;}}}if(p&&p.startsWith("/")){p=p.slice(1);}if(!p){p=this.getHelpPath();}return p;};
function _(e){var b=this.getBinding("value");this._bBound=false;this._bConditionModel=false;if(b){this._bBound=true;var m=b.getModel();if(m&&m.isA("sap.ui.mdc.condition.ConditionModel")){this._bConditionModel=true;}}}
I.prototype.getUseConditions=function(){var u=false;if(this._bConditionModel){u=true;}else if(!this._bBound){var b=this.getBindingInfo("value");if(b){var p;if(b.path){p=b.path;}else if(b.parts&&b.parts.length===1){p=b.parts[0].path;}if(p.startsWith("/conditions/")){u=true;}}else{var v=this.getValue();if(Array.isArray(v)&&(v.length===0||v[0].hasOwnProperty("operator"))){u=true;}}}return u;};
I.prototype.getDataType=function(){var t;if(!this.getUseConditions()){var b=this.getBinding("value");if(b){t=b.getType();}}return t;};
return I;});
sap.ui.predefine('sap/ui/mdc/field/ListFieldHelp',['sap/ui/mdc/field/FieldHelpBase','sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/ConditionValidated','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/base/ManagedObjectModel','sap/ui/base/ManagedObjectObserver','sap/ui/mdc/library'],function(F,C,a,b,P,M,c,l){"use strict";var L;var D;var m;var d;var S;
var e=F.extend("sap.ui.mdc.field.ListFieldHelp",{metadata:{library:"sap.ui.mdc",properties:{filterList:{type:"boolean",group:"Appearance",defaultValue:true},useFirstMatch:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{items:{type:"sap.ui.core.ListItem",multiple:true,singularName:"item"}},defaultAggregation:"items"}});
e._init=function(){F._init.apply(this,arguments);L=undefined;D=undefined;m=undefined;d=undefined;};
e.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oManagedObjectModel=new M(this);this._oObserver=new c(h.bind(this));this._oObserver.observe(this,{properties:["filterValue","conditions"],aggregations:["items"],bindings:["items"]});this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");};
e.prototype.exit=function(){F.prototype.exit.apply(this,arguments);this._oManagedObjectModel.destroy();delete this._oManagedObjectModel;this._oObserver.disconnect();this._oObserver=undefined;if(this._iDataUpdateTimer){clearTimeout(this._iDataUpdateTimer);this._iDataUpdateTimer=null;}};
e.prototype._createPopover=function(){var i=F.prototype._createPopover.apply(this,arguments);if((!L||!D||!m)&&!this._bListRequested){L=sap.ui.require("sap/m/List");D=sap.ui.require("sap/m/DisplayListItem");m=sap.ui.require("sap/m/library");d=sap.ui.require("sap/ui/model/Filter");S=sap.ui.require("sap/ui/model/Sorter");if(!L||!D||!m){sap.ui.require(["sap/m/List","sap/m/DisplayListItem","sap/m/library","sap/ui/model/Filter","sap/ui/model/Sorter"],g.bind(this));this._bListRequested=true;}}if(i){_.call(this);}return i;};
function _(){if(!this._oList&&L&&D&&m&&!this._bListRequested){var B=this.getBindingInfo("items");this._oList=new L(this.getId()+"-List",{width:"100%",showNoData:false,mode:m.ListMode.SingleSelectMaster,rememberSelections:false,itemPress:k.bind(this)}).addStyleClass("sapMComboBoxBaseList").addStyleClass("sapMComboBoxList");this._oList.setModel(this._oManagedObjectModel,"$field");this._oList.bindElement({path:"/",model:"$field"});f.call(this,B);this._setContent(this._oList);if(this._bNavigate){this._bNavigate=false;this.navigate(this._iStep);this._iStep=null;}}}
function f(B){if(this._oList){this._oList.unbindAggregation("items");var i=new D(this.getId()+"-item",{type:m.ListType.Active,label:"{$field>text}",value:"{$field>additionalText}",valueTextDirection:"{$field>textDirection}"}).addStyleClass("sapMComboBoxNonInteractiveItem");var v=new d("text",p.bind(this));var U=false;if(B&&B.template&&B.template.isA("sap.ui.mdc.field.ListFieldHelpItem")){U=true;}else{var I=this.getItems();if(I.length>0&&I[0].isA("sap.ui.mdc.field.ListFieldHelpItem")){U=true;}}var w=U&&new S("groupKey",false,r.bind(this));this._oList.bindAggregation("items",{path:"$field>items",template:i,filters:v,sorter:w,templateShareable:false});s.call(this);}}
function g(i,v,w,x,y){L=i;D=v;m=w;d=x;S=y;this._bListRequested=false;if(!this._bIsBeingDestroyed){_.call(this);}}
e.prototype.open=function(i){F.prototype.open.apply(this,arguments);var v=this._getPopover();var w=this._getControlForSuggestion();if(v&&w){var W=(w.$().outerWidth()/parseFloat(m.BaseFontSize))+"rem";v.setContentMinWidth(W);}};
e.prototype._handleAfterClose=function(E){if(this._bUpdateFilterAfterClose){this._bUpdateFilterAfterClose=false;o.call(this);}this._oList.removeStyleClass("sapMListFocus");F.prototype._handleAfterClose.apply(this,arguments);};
function h(i){if(i.object===this){if(i.name==="items"){if(i.type==="binding"){if(i.mutation==="prepare"){f.call(this,i.bindingInfo);}}else{if(i.mutation==="insert"){this._oObserver.observe(i.child,{properties:true});}else{this._oObserver.unobserve(i.child);}j.call(this);}}if(i.name==="conditions"){if(!this._bConditionUpdate){s.call(this);}}if(i.name==="filterValue"){if(this._oList){if(this._bClosing){this._bUpdateFilterAfterClose=true;}else{o.call(this);}}}}else{j.call(this);}}
function j(){if(!this._iDataUpdateTimer){this._iDataUpdateTimer=setTimeout(function(){this._iDataUpdateTimer=null;this.fireDataUpdate();}.bind(this),0);}}
e.prototype.openByTyping=function(){return true;};
e.prototype.openByClick=function(){return!this.getFilterList();};
e.prototype.getValueHelpEnabled=function(){return false;};
e.prototype.removeFocus=function(){if(this._oList){this._oList.removeStyleClass("sapMListFocus");}};
e.prototype.navigate=function(v){var w=this._getPopover();if(!w||!this._oList){this._bNavigate=true;this._iStep=v;return;}this._oList.addStyleClass("sapMListFocus");var x=this._oList.getSelectedItem();var I=this._oList.getItems();var y=I.length;var z=0;var A=this.getFilterList();var B=this.getFilterValue();var E=false;if(!A&&!x){var i=0;if(v>=0){for(i=0;i<I.length;i++){if(I[i].getLabel&&q.call(this,I[i].getLabel(),B)){z=i;break;}}}else{for(i=I.length-1;i>=0;i--){if(I[i].getLabel&&q.call(this,I[i].getLabel(),B)){z=i;break;}}}}else if(x){z=this._oList.indexOfItem(x);z=z+v;}else if(v>=0){z=v-1;}else{z=y+v;}var G;if(z<0){z=0;G=true;E=true;}else if(z>=y-1){z=y-1;G=false;}else{G=v>=0;}while(I[z]&&I[z].isA("sap.m.GroupHeaderListItem")){if(G){z++;}else{z--;}}var H=I[z];if(H){if(H!==x){var O=n.call(this,H);var K=t.call(this,O);H.setSelected(true);var J=u.call(this,K,H.getLabel());if(!w.isOpen()){this.open();}this._oList.scrollToIndex(z);this.fireNavigate({key:K,value:H.getLabel(),condition:J,itemId:H.getId(),leaveFocus:false});}else if(E){this.fireNavigate({key:undefined,value:undefined,condition:undefined,itemId:undefined,leaveFocus:E});}}};
e.prototype._getTextOrKey=function(v,K,B,I,O,N,w,x,y,z){if(v===null||v===undefined){return null;}else if(!v&&!K){return null;}var A=this.getItems();var E;var i=0;for(i=0;i<A.length;i++){E=A[i];if(z){if(t.call(this,E)===y||E.getText()===v){return{key:t.call(this,E),description:E.getText()};}}else if(K){if(t.call(this,E)===v){return E.getText();}}else if(E.getText()===v){return t.call(this,E);}}if(K&&v===""){return null;}if((!K||z)&&this.getUseFirstMatch()){for(i=0;i<A.length;i++){E=A[i];var T=E.getText();if(q.call(this,T,v)){return{key:t.call(this,E),description:T};}}}var G=this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[v]);if(K&&!z){throw new b(G);}else{throw new P(G);}};
function k(E){var i=E.getParameter("listItem");var v=i.getSelected();if(v){var O=n.call(this,i);var K=t.call(this,O);u.call(this,K,i.getLabel());this.close();this.fireSelect({conditions:this.getConditions(),add:true,close:true});}}
function n(i){var v=i.getBindingContextPath();return this._oManagedObjectModel.getProperty(v);}
function o(){var B=this._oList.getBinding("items");B.update();this._oList.updateItems();this._oList.invalidate();s.call(this);}
function p(T){var i=this.getFilterList();return!i||q.call(this,T,this.getFilterValue());}
function q(T,i){return!i||(typeof i==="string"&&T.toLowerCase().startsWith(i.toLowerCase()));}
function r(i){var K=i.getProperty('groupKey');var T=i.getProperty('groupText');return{key:K,text:T};}
function s(){if(this._oList){var v=this.getConditions();var w;var x=this.getFilterValue();var U=this.getUseFirstMatch();var y=false;var O=this._getOperator();if(v.length>0&&(v[0].validated===a.Validated||v[0].operator===O.name)){w=v[0].values[0];}var I=this._oList.getItems();for(var i=0;i<I.length;i++){var z=I[i];if(z.isA("sap.m.DisplayListItem")){var A=n.call(this,z);if(v.length>0&&t.call(this,A)===w){z.setSelected(true);}else if(v.length===0&&U&&x&&!y&&q.call(this,z.getLabel(),x)){z.setSelected(true);y=true;}else{z.setSelected(false);}}}}}
function t(i){var B=i.getBinding("key");if(B){return B.getInternalValue();}else{return i.getKey();}}
function u(K,v){this._bConditionUpdate=true;var i=this._createCondition(K,v);this.setProperty("conditions",[i],true);this._bConditionUpdate=false;return i;}
return e;});
sap.ui.predefine('sap/ui/mdc/field/MultiValueFieldDelegate',['sap/ui/mdc/field/FieldBaseDelegate'],function(F){"use strict";var M=Object.assign({},F);
M.updateItems=function(p,c,m){};
return M;});
sap.ui.predefine('sap/ui/mdc/field/MultiValueFieldItem',['sap/ui/core/Element'],function(E){"use strict";
var M=E.extend("sap.ui.mdc.field.MultiValueFieldItem",{metadata:{library:"sap.ui.mdc",properties:{key:{type:"any",byValue:true},description:{type:"string"}},defaultProperty:"key"}});
M.prototype.bindProperty=function(n,b){if(n==="key"&&!b.formatter){b.targetType="raw";}E.prototype.bindProperty.apply(this,arguments);};
return M;});
sap.ui.predefine('sap/ui/mdc/field/OutParameter',['sap/ui/mdc/field/InParameter','sap/ui/mdc/enum/OutParameterMode'],function(I,O){"use strict";
var a=I.extend("sap.ui.mdc.field.OutParameter",{metadata:{library:"sap.ui.mdc",properties:{fixedValue:{type:"any",defaultValue:null},mode:{type:"sap.ui.mdc.enum.OutParameterMode",defaultValue:O.Always}},defaultProperty:"value"}});
return a;});
sap.ui.predefine('sap/ui/mdc/field/TokenDisplay',['sap/m/Token','sap/ui/mdc/field/TokenDisplayRenderer'],function(T,a){"use strict";
var b=T.extend("sap.ui.mdc.field.TokenDisplay",{
metadata:{library:"sap.ui.mdc",properties:{_delimiter:{type:"string",defaultValue:"",visibility:"hidden"}}},
renderer:a
});
b.prototype.init=function(){T.prototype.init.apply(this,arguments);if(!this._oResourceBundle){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");}this.setProperty("_delimiter",this._oResourceBundle.getText("field.SEPARATOR").trim());};
b.prototype.getSelected=function(){return false;};
b.prototype.focus=function(){return;};
return b;});
sap.ui.predefine('sap/ui/mdc/field/TokenizerDisplay',['sap/m/Tokenizer','sap/ui/mdc/field/TokenizerDisplayRenderer','sap/ui/events/KeyCodes','sap/m/library'],function(T,a,K,l){"use strict";var E=l.EmptyIndicatorMode;
var b=T.extend("sap.ui.mdc.field.TokenizerDisplay",{
metadata:{library:"sap.ui.mdc",properties:{emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:E.Off}}},
renderer:a
});
b.prototype.init=function(){T.prototype.init.apply(this,arguments);this.allowTextSelection(true);this.addStyleClass("sapUiMdcTokenizerDisplay");};
b.prototype.onkeydown=function(e){T.prototype.onkeydown.call(this,e);if(!this.getEnabled()){return;}if(e.which===K.ENTER){if(this.getHiddenTokensCount()>0){this._handleNMoreIndicatorPress();}}};
return b;});
sap.ui.predefine('sap/ui/mdc/field/content/BooleanContent',["sap/ui/mdc/field/content/DefaultContent"],function(D){"use strict";var B=Object.assign({},D,{getDisplayMultiValue:function(){return[null];},getDisplayMultiLine:function(){return[null];},getEditMultiValue:function(){return[null];},getEditMultiLine:function(){return[null];},getUseDefaultFieldHelp:function(){return{name:"bool",oneOperatorSingle:true,oneOperatorMulti:true,single:true,multi:true};},createEditMultiValue:function(){throw new Error("sap.ui.mdc.field.content.BooleanContent - createEditMultiValue not defined!");},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.BooleanContent - createEditMultiLine not defined!");},createDisplayMultiValue:function(){throw new Error("sap.ui.mdc.field.content.BooleanContent - createDisplayMultiValue not defined!");},createDisplayMultiLine:function(){throw new Error("sap.ui.mdc.field.content.BooleanContent - createDisplayMultiLine not defined!");}});return B;});
sap.ui.predefine('sap/ui/mdc/field/content/DateContent',["sap/ui/mdc/field/content/DefaultContent","sap/ui/mdc/enum/BaseType","sap/ui/mdc/util/DateUtil","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/core/library"],function(D,B,a,F,O,c){"use strict";var C=c.CalendarType;var S;var b;var d;var e=Object.assign({},D,{getEditMultiLine:function(){return[null];},getEdit:function(){return["sap/m/DynamicDateRange","sap/ui/mdc/condition/OperatorDynamicDateOption","sap/ui/mdc/field/DynamicDateRangeConditionsType","sap/m/StandardDynamicDateRangeKeys","sap/m/DynamicDateUtil","sap/m/DynamicDateFormat"];},getEditOperator:function(){return{"EQ":{name:"sap/m/DatePicker",create:this._createDatePickerControl},"BT":{name:"sap/m/DateRangeSelection",create:this._createDateRangePickerControl}};},getEditForHelp:function(){return D.getEdit.apply(this,arguments);},getUseDefaultFieldHelp:function(){return{name:"defineConditions",oneOperatorSingle:false,oneOperatorMulti:true,single:false,multi:true};},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.DateContent - createEditMultiLine not defined!");},_createDatePickerControl:function(o,f,i){var g=f[0];var h=o.getConditionsType();o.setHideOperator(true);this._adjustDataTypeForDate(o);var j=new g(i,{value:{path:"$field>/conditions",type:h},displayFormat:o.getDisplayFormat(),valueFormat:o.getValueFormat(),placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",width:"100%",tooltip:"{$field>/tooltip}",change:o.getHandleContentChange()});if(j.setDisplayFormatType){j.setDisplayFormatType(o.getCalendarType());}j._setPreferUserInteraction(true);o.setAriaLabelledBy(j);o.setBoundProperty("value");return[j];},_createDateRangePickerControl:function(o,f,i){var g=f[0];var h=o.getConditionsType();this._adjustDataTypeForDate(o);var j=new g(i,{value:{path:"$field>/conditions",type:h},displayFormat:o.getDisplayFormat(),valueFormat:o.getValueFormat(),delimiter:"...",displayFormatType:o.getCalendarType(),placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",width:"100%",tooltip:"{$field>/tooltip}",change:o.getHandleContentChange()});j._setPreferUserInteraction(true);o.setAriaLabelledBy(j);o.setBoundProperty("value");return[j];},_adjustDataTypeForDate:function(o){var t=o.retrieveDataType();var f=t.getFormatOptions();this._getDatePattern(o,f);if(!f||f.style||!f.pattern||f.pattern!==o.getValueFormat()||!f.calendarType||f.calendarType!==C.Gregorian){o.setDateOriginalType(o.getDataType());o.setDataType(a.createInternalType(t,o.getValueFormat()));o.updateConditionType();}},_getDatePattern:function(o,f){var s=o.getField().getBaseType();switch(s){case B.Date:o.setValueFormat("yyyy-MM-dd");break;case B.DateTime:o.setValueFormat("yyyy-MM-dd'T'HH:mm:ss");break;case B.Time:o.setValueFormat("HH:mm:ss");break;default:return;}o.setDisplayFormat("medium");if(f){if(f.style){o.setDisplayFormat(f.style);}else if(f.pattern){o.setDisplayFormat(f.pattern);}if(f.calendarType){o.setCalendarType(f.calendarType);}}},createEdit:function(o,f,i){var g=f[0];var h=f[1];var j=f[2];if(!S||!b||!d){S=f[3];b=f[4];d=f[5];}var k=o.getConditionsType(false,j);var v;if(o.getField().getMetadata().hasProperty("operators")){var G=function(m){return this._getDateRangeOptions(m,o,h);}.bind(this);v={path:"$field>/operators",formatter:G};}else{v=this._getDateRangeOptions(undefined,o,h);}var l=new g(i,{value:{path:"$field>/conditions",type:k},formatter:this._getDateRangeFormatter(o),placeholder:"{$field>/placeholder}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",width:"100%",tooltip:"{$field>/tooltip}",options:v,change:o.getHandleContentChange()});o.setBoundProperty("value");o.setAriaLabelledBy(g);return[l];},createEditForHelp:function(o,f,i){return D.createEdit.apply(this,arguments);},_getDateRangeOptions:function(o,f,g){if(!o||o.length===0){o=f.getField()._getOperators();}var h=[];var s=f.getField().getBaseType();for(var i=0;i<o.length;i++){var j=o[i];var k=this._getDateRangeOption(j,f,g,s);if(k){h.push(k);}}return h;},_getDateRangeOption:function(o,f,g,s){var h=F.getOperator(o);var j;if(h){j=F.getDynamicDateOptionForOperator(h,S,s);if(!j){j=F.getCustomDynamicDateOptionForOperator(h,s);if(!b.getOption(j)){var t=f.retrieveDataType();var v=[];for(var i=0;i<h.valueTypes.length;i++){if(h.valueTypes[i]&&h.valueTypes[i]!==O.ValueType.Static){v.push("custom");}}b.addOption(new g({key:j,operator:h,type:t,baseType:s,valueTypes:v}));}}}return j;},_getDateRangeFormatter:function(o){var t=o.retrieveDataType();var s=o.getField().getBaseType();var f=t.getFormatOptions();var u;var g={};if(f.style){u={style:f.style};}else if(f.pattern){u={pattern:f.pattern};}if(s===B.DateTime){g.datetime=u;}g.date=u;return d.getInstance(g);}});return e;});
sap.ui.predefine('sap/ui/mdc/field/content/DateTimeContent',["sap/ui/mdc/field/content/DefaultContent","sap/ui/mdc/field/content/DateContent","sap/ui/mdc/util/DateUtil","sap/base/util/merge","sap/base/util/ObjectPath"],function(D,a,b,m,O){"use strict";var c=Object.assign({},a,{getEditOperator:function(){return{"EQ":{name:"sap/m/DateTimePicker",create:this._createDatePickerControl}};},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.DateTimeContent - createEditMultiLine not defined!");},_createDatePickerControl:function(C,d,i){var e=a._createDatePickerControl.apply(this,arguments);var t=C.getDateOriginalType()||C.getDataType();if(b.showTimezone(t)){var u=C.getUnitConditionsType();e[0].bindProperty("timezone",{path:"$field>/conditions",type:u});e[0].setShowTimezone(true);}return e;},_adjustDataTypeForDate:function(C){var t=C.retrieveDataType();var f=t.getFormatOptions();if(b.showTimezone(t)){this._getDatePattern(C,f);C.setDateOriginalType(C.getDataType());C.setDataType(b.createInternalType(t,C.getValueFormat()));C.updateConditionType();f=m({},f);delete f.pattern;f.showDate=false;f.showTime=false;f.showTimezone=true;var o=t.getConstraints();var n=t.getMetadata().getName();var T=O.get(n);C.setUnitType(new T(f,o));}else{a._adjustDataTypeForDate.apply(this,arguments);}}});return c;});
sap.ui.predefine('sap/ui/mdc/field/content/DefaultContent',["sap/m/library","sap/ui/mdc/enum/ContentMode"],function(l,C){"use strict";var E=l.EmptyIndicatorMode;var T=l.TokenizerRenderMode;var D={getDisplay:function(){return["sap/m/Text"];},getDisplayMultiValue:function(){return["sap/ui/mdc/field/TokenizerDisplay","sap/ui/mdc/field/TokenDisplay"];},getDisplayMultiLine:function(){return["sap/m/ExpandableText"];},getEdit:function(){return["sap/ui/mdc/field/FieldInput"];},getEditMultiValue:function(){return["sap/ui/mdc/field/FieldMultiInput","sap/m/Token"];},getEditMultiLine:function(){return["sap/m/TextArea"];},getEditOperator:function(){return[null];},getEditForHelp:function(){return this.getEdit();},getUseDefaultEnterHandler:function(){return true;},getUseDefaultFieldHelp:function(){return{name:"defineConditions",oneOperatorSingle:false,oneOperatorMulti:false,single:true,multi:true};},getControlNames:function(c,o){var a;switch(c){case C.Display:a=this.getDisplay();break;case C.DisplayMultiValue:a=this.getDisplayMultiValue();break;case C.DisplayMultiLine:a=this.getDisplayMultiLine();break;case C.EditMultiValue:a=this.getEditMultiValue();break;case C.EditMultiLine:a=this.getEditMultiLine();break;case C.EditOperator:if(this.getEditOperator()){a=this.getEditOperator()[o]?this.getEditOperator()[o].name:[null];}else{a=[null];}break;case C.EditForHelp:a=this.getEditForHelp();break;default:a=this.getEdit();}if(a){return Array.isArray(a)?a:[a];}throw new Error("No control defined for content mode "+c);},create:function(c,s,o,a,i){switch(s){case C.Display:return this.createDisplay(c,a,i);case C.DisplayMultiValue:return this.createDisplayMultiValue(c,a,i);case C.DisplayMultiLine:return this.createDisplayMultiLine(c,a,i);case C.EditMultiValue:return this.createEditMultiValue(c,a,i);case C.EditMultiLine:return this.createEditMultiLine(c,a,i);case C.EditOperator:if(this.getEditOperator()){return this.getEditOperator()[o]?this.getEditOperator()[o].create.call(this,c,a,i):[null];}return[null];case C.EditForHelp:return this.createEditForHelp(c,a,i);default:return this.createEdit(c,a,i);}},createEdit:function(c,a,i){var I=a[0];var o=c.getConditionsType();var b=new I(i,{value:{path:"$field>/conditions",type:o},placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",valueHelpIconSrc:c.getFieldHelpIcon(),showValueHelp:"{$field>/_fieldHelpEnabled}",ariaAttributes:"{$field>/_ariaAttributes}",width:"100%",tooltip:"{$field>/tooltip}",autocomplete:false,change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange(),valueHelpRequest:c.getHandleValueHelpRequest()});b._setPreferUserInteraction(true);c.setBoundProperty("value");c.setAriaLabelledBy(b);return[b];},createEditMultiValue:function(c,a,i){var I=a[0];var b=a[1];var o=c.getConditionType();var t=new b(i+"-token",{text:{path:'$field>',type:o}});var m=new I(i,{placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",showValueHelp:"{$field>/_fieldHelpEnabled}",valueHelpIconSrc:c.getFieldHelpIcon(),ariaAttributes:"{$field>/_ariaAttributes}",width:"100%",tooltip:"{$field>/tooltip}",tokens:{path:"$field>/conditions",template:t},dependents:[t],autocomplete:false,showSuggestion:false,change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange(),tokenUpdate:c.getHandleTokenUpdate(),valueHelpRequest:c.getHandleValueHelpRequest()});m._setPreferUserInteraction(true);c.setAriaLabelledBy(m);return[m];},createEditMultiLine:function(c,a,i){var b=a[0];var o=c.getConditionsType();var t=new b(i,{value:{path:"$field>/conditions",type:o},placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",width:"100%",rows:4,tooltip:"{$field>/tooltip}",change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange()});t._setPreferUserInteraction(true);c.setBoundProperty("value");c.setAriaLabelledBy(t);return[t];},createDisplay:function(c,a,i){var b=a[0];var o=c.getConditionsType();var t=new b(i,{text:{path:"$field>/conditions",type:o},textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",wrapping:"{$field>/multipleLines}",width:"100%",tooltip:"{$field>/tooltip}",emptyIndicatorMode:E.Auto});c.setBoundProperty("text");return[t];},createDisplayMultiLine:function(c,a,i){var b=a[0];var o=c.getConditionsType();var e=new b(i,{text:{path:"$field>/conditions",type:o},textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",tooltip:"{$field>/tooltip}",emptyIndicatorMode:E.Auto});c.setBoundProperty("text");return[e];},createDisplayMultiValue:function(c,a,i){var b=a[0];var d=a[1];var o=c.getConditionType();var t=new d(i+"-token",{text:{path:'$field>',type:o}});var e=new b(i,{editable:false,emptyIndicatorMode:E.Auto,renderMode:T.Narrow,width:"100%",tooltip:"{$field>/tooltip}",tokens:{path:"$field>/conditions",template:t},dependents:[t]});return[e];},createEditForHelp:function(c,a,i){return this.createEdit(c,a,i);}};return D;});
sap.ui.predefine('sap/ui/mdc/field/content/LinkContent',["sap/ui/mdc/field/content/DefaultContent"],function(D){"use strict";var L=Object.assign({},D,{getDisplay:function(){return["sap/m/Link"];},getDisplayMultiValue:function(){return[null];},getDisplayMultiLine:function(){return["sap/m/Link"];},getUseDefaultFieldHelp:function(){return false;},createDisplay:function(c,C,i){var a=C[0];var o=c.getConditionsType();var l=new a(i,{text:{path:"$field>/conditions",type:o},textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",tooltip:"{$field>/tooltip}",press:c.getHandleContentPress(),wrapping:"{$field>/multipleLines}"});var f=c.getField().getFieldInfo();if(f){f.getDirectLinkHrefAndTarget().then(function(b){c.getMetadata()._oClass._updateLink(l,b);});}c.setAriaLabelledBy(l);c.setBoundProperty("text");return[l];},createDisplayMultiValue:function(){throw new Error("sap.ui.mdc.field.content.LinkContent - createDisplayMultiValue not defined!");},createDisplayMultiLine:function(c,C,i){return L.createDisplay(c,C,i);}});return L;});
sap.ui.predefine('sap/ui/mdc/field/content/SearchContent',["sap/ui/mdc/field/content/DefaultContent","sap/ui/model/BindingMode"],function(D,B){"use strict";var S=Object.assign({},D,{getDisplayMultiValue:function(){return[null];},getDisplayMultiLine:function(){return[null];},getEdit:function(){return["sap/m/SearchField"];},getEditMultiValue:function(){return[null];},getEditMultiLine:function(){return[null];},getEditForHelp:function(){return[null];},getUseDefaultEnterHandler:function(){return false;},getUseDefaultFieldHelp:function(){return false;},createEdit:function(c,C,i){var a=C[0];var o=c.getConditionsType();c.setHideOperator(true);c.updateConditionType();var b=new a(i,{value:{path:"$field>/conditions",type:o,mode:B.OneWay},placeholder:"{$field>/placeholder}",width:"100%",tooltip:"{$field>/tooltip}",search:c.getHandleEnter(),change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange()});c.setAriaLabelledBy(b);c.setBoundProperty("value");return[b];},createEditMultiValue:function(){throw new Error("sap.ui.mdc.field.content.SearchContent - createEditMultiValue not defined!");},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.SearchContent - createEditMultiLine not defined!");},createDisplayMultiValue:function(){throw new Error("sap.ui.mdc.field.content.SearchContent - createDisplayMultiValue not defined!");},createDisplayMultiLine:function(){throw new Error("sap.ui.mdc.field.content.SearchContent - createDisplayMultiLine not defined!");},createEditForHelp:function(){throw new Error("sap.ui.mdc.field.content.SearchContent - createEditForHelp not defined!");}});return S;});
sap.ui.predefine('sap/ui/mdc/field/content/TimeContent',["sap/ui/mdc/field/content/DefaultContent","sap/ui/mdc/field/content/DateContent"],function(D,a){"use strict";var T=Object.assign({},a,{getEditOperator:function(){return{"EQ":{name:"sap/m/TimePicker",create:this._createDatePickerControl}};},getEdit:function(){return D.getEdit.apply(this,arguments);},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.TimeContent - createEditMultiLine not defined!");},createEdit:function(c,C,i){return D.createEdit.apply(this,arguments);}});return T;});
sap.ui.predefine('sap/ui/mdc/field/content/UnitContent',["sap/ui/mdc/field/content/DefaultContent","sap/ui/model/Filter","sap/base/util/isEmptyObject","sap/base/util/merge","sap/base/util/ObjectPath","sap/ui/mdc/enum/EditMode"],function(D,F,i,m,O,E){"use strict";var U=Object.assign({},D,{getEdit:function(){return["sap/ui/mdc/field/FieldInput","sap/ui/core/InvisibleText"];},getEditMultiValue:function(){return["sap/ui/mdc/field/FieldMultiInput","sap/ui/mdc/field/FieldInput","sap/m/Token","sap/ui/core/InvisibleText"];},getEditMultiLine:function(){return[null];},getUseDefaultFieldHelp:function(){return false;},createEdit:function(c,C,I){c.setIsMeasure(true);var a=C[0];var b=C[1];var o=c.getConditionsType();this._adjustDataTypeForUnit(c);var s=b.getStaticId("sap.ui.mdc","field.NUMBER");var d=[];var e=new a(I,{value:{path:"$field>/conditions",type:o},placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",valueHelpIconSrc:"sap-icon://slim-arrow-down",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",showValueHelp:false,width:"70%",tooltip:"{$field>/tooltip}",autocomplete:false,fieldGroupIds:[c.getField().getId()],ariaDescribedBy:[s],change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange()});e._setPreferUserInteraction(true);c.setAriaLabelledBy(e);d.push(e);d=this._addUnitControl(c,d,I,a,b);c.setBoundProperty("value");return d;},createEditMultiValue:function(c,C,I){c.setIsMeasure(true);var M=C[0];var T=C[2];var a=C[1];var b=C[3];var o=c.getConditionType();this._adjustDataTypeForUnit(c);var d=[];var t=new T(I+"-token",{text:{path:'$field>',type:o}});var f=new F({path:"values",test:function(v){if(!Array.isArray(v[0])||v[0][0]){return true;}else{return false;}}});var s=b.getStaticId("sap.ui.mdc","field.NUMBER");var e=new M(I,{placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",showValueHelp:false,width:"70%",tooltip:"{$field>/tooltip}",fieldGroupIds:[c.getField().getId()],ariaDescribedBy:[s],tokens:{path:"$field>/conditions",template:t,filters:[f]},dependents:[t],change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange(),tokenUpdate:c.getHandleTokenUpdate()});e._setPreferUserInteraction(true);c.setAriaLabelledBy(e);d.push(e);d=this._addUnitControl(c,d,I,a,b);c.setBoundProperty("value");return d;},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.UnitContent - createEditMultiLine not defined!");},_addUnitControl:function(c,C,I,a,b){var u=c.getUnitConditionsType();if(c.getField().getEditMode()===E.EditableDisplay){C[0].bindProperty("description",{path:"$field>/conditions",type:u});C[0].setWidth("100%");C[0].setFieldWidth("70%");}else{var s;var t=c.getUnitOriginalType();var n=t&&t.getMetadata().getName();if(n&&n.indexOf("Currency")>=0){s=b.getStaticId("sap.ui.mdc","field.CURRENCY");}else{s=b.getStaticId("sap.ui.mdc","field.UNIT");}var o=new a(I+"-unit",{value:{path:"$field>/conditions",type:u},placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEditableUnit},enabled:{path:"$field>/editMode",formatter:c.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueHelpIconSrc:c.getFieldHelpIcon(),valueStateText:"{$field>/valueStateText}",showValueHelp:"{$field>/_fieldHelpEnabled}",ariaAttributes:"{$field>/_ariaAttributes}",width:"30%",tooltip:"{$field>/tooltip}",autocomplete:false,fieldGroupIds:[c.getField().getId()],ariaDescribedBy:[s],change:c.getHandleContentChange(),liveChange:c.getHandleContentLiveChange(),valueHelpRequest:c.getHandleValueHelpRequest()});o._setPreferUserInteraction(true);c.setAriaLabelledBy(o);C.push(o);}return C;},_adjustDataTypeForUnit:function(c){var f=c.getField();var t=c.retrieveDataType();var n=t.getMetadata().getName();var o=t.getFormatOptions();var C=i(t.getConstraints())?undefined:t.getConstraints();var s=!o||!o.hasOwnProperty("showMeasure")||o.showMeasure;var S=!o||!o.hasOwnProperty("showNumber")||o.showNumber;if(s&&S){o=m({},o);o.showMeasure=false;o.showNumber=true;o.strictParsing=true;var T=O.get(n);c.setUnitOriginalType(c.getDataType());c.setDataType(new T(o,C));f.getControlDelegate().initializeInternalUnitType(f.getPayload(),c.getDataType(),c.getFieldTypeInitialization());o=m({},o);o.showMeasure=true;o.showNumber=false;o.strictParsing=true;T=O.get(n);c.setUnitType(new T(o,C));f.getControlDelegate().initializeInternalUnitType(f.getPayload(),c.getUnitType(),c.getFieldTypeInitialization());c.updateConditionType();}}});return U;});
sap.ui.predefine('sap/ui/mdc/filterbar/FilterBarBase',['sap/ui/mdc/p13n/subcontroller/FilterController','sap/ui/core/library','sap/ui/core/ShortcutHintsMixin','sap/ui/Device','sap/ui/mdc/Control','sap/base/Log','sap/base/util/merge','sap/ui/model/base/ManagedObjectModel','sap/ui/base/ManagedObjectObserver','sap/ui/mdc/condition/ConditionModel','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/ConditionConverter','sap/ui/mdc/util/IdentifierUtil',"sap/ui/mdc/filterbar/PropertyHelper","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/m/library","sap/m/Button",'sap/m/MessageBox'],function(F,c,S,D,C,L,m,M,a,b,d,e,I,P,f,l,B,g){"use strict";var V=c.ValueState;
var h=C.extend("sap.ui.mdc.filterbar.FilterBarBase",{metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/filterbar/FilterBarBase.designtime",defaultAggregation:"filterItems",interfaces:["sap.ui.mdc.IFilter","sap.ui.mdc.IxState"],properties:{delegate:{type:"object",defaultValue:{name:"sap/ui/mdc/FilterBarDelegate",payload:{modelName:undefined,collectionName:""}}},liveMode:{type:"boolean",defaultValue:false},showMessages:{type:"boolean",group:"Misc",defaultValue:true},showGoButton:{type:"boolean",defaultValue:true},filterConditions:{type:"object",defaultValue:{}},propertyInfo:{type:"object",defaultValue:[]},suspendSelection:{type:"boolean",defaultValue:false},_filterCount:{type:"string",visibility:"hidden"}},aggregations:{filterItems:{type:"sap.ui.mdc.FilterField",multiple:true},basicSearchField:{type:"sap.ui.mdc.FilterField",multiple:false},layout:{type:"sap.ui.mdc.filterbar.IFilterContainer",multiple:false,visibility:"hidden"}},associations:{variantBackreference:{type:"sap.ui.fl.variants.VariantManagement",multiple:false}},events:{search:{conditions:{type:"object"}},filtersChanged:{conditionsBased:{type:"boolean"},filtersText:{type:"string"},filtersTextExpanded:{type:"string"}}}}});
var j=l.ButtonType;h.INNER_MODEL_NAME="$sap.ui.filterbar.mdc.FilterBarBase";h.CONDITION_MODEL_NAME="$filters";var E={NoError:-1,RequiredHasNoValue:0,FieldInErrorState:1,AsyncValidation:2,OngoingChangeAppliance:3};
h.prototype.init=function(){C.prototype.init.apply(this,arguments);this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._createInnerModel();this._oObserver=new a(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["filterItems","basicSearchField"]});this._createInnerLayout();this._bPersistValues=false;this.getEngine().registerAdaptation(this,{controller:{Filter:F}});this._fResolveInitialFiltersApplied=undefined;this._oInitialFiltersAppliedPromise=new Promise(function(r){this._fResolveInitialFiltersApplied=r;}.bind(this));this._bIgnoreChanges=false;this._bSearchTriggered=false;this._bIgnoreQueuing=false;};
h.prototype._createInnerLayout=function(){this._cLayoutItem=null;this._oFilterBarLayout=null;this._bPersistValues=false;this._btnAdapt=null;this.setAggregation("layout",this._oFilterBarLayout,true);};
h.prototype._isPhone=function(){return(D.system.phone)?true:false;};
h.prototype._isLiveMode=function(){if(this._isPhone()){return false;}return this.getLiveMode();};
h.prototype._getConditionModel=function(){return this._oConditionModel;};
h.prototype._getSearchButton=function(){if(!this._btnSearch){this._btnSearch=new B(this.getId()+"-btnSearch",{text:this._oRb.getText("filterbar.GO"),press:this.onSearch.bind(this),type:j.Emphasized});S.addConfig(this._btnSearch,{addAccessibilityLabel:true,message:this._oRb.getText("filterbar.GoBtnShortCutHint")},this);}return this._btnSearch;};
h.prototype.getConditionModelName=function(){return this._getConditionModelName();};
h.prototype._getConditionModelName=function(){return h.CONDITION_MODEL_NAME;};
h.prototype._createConditionModel=function(){this._oConditionModel=new b();this.setModel(this._oConditionModel,this._getConditionModelName());};
h.prototype.applySettings=function(s,o){this._setPropertyHelperClass(P);this._setupPropertyInfoStore("propertyInfo");this._applySettings(s,o);Promise.all([this.awaitPropertyHelper()]).then(function(){if(!this._bIsBeingDestroyed){this._applyInitialFilterConditions();}}.bind(this));};
h.prototype._applySettings=function(s,o){C.prototype.applySettings.apply(this,arguments);this._createConditionModel();this._oConditionModel.attachPropertyChange(this._handleConditionModelPropertyChange,this);};
h.prototype._waitForMetadata=function(){return this._retrieveMetadata().then(function(){this._applyInitialFilterConditions();}.bind(this));};
h.prototype.setIgnoreQueuing=function(v){this._bIgnoreQueuing=v;};
h.prototype.getIgnoreQueuing=function(){return this._bIgnoreQueuing;};
h.prototype.setSuspendSelection=function(v){this.setProperty("suspendSelection",v);if(!v){if(this._bSearchTriggered&&!this.getIgnoreQueuing()){this.triggerSearch();}this._bSearchTriggered=false;this.setIgnoreQueuing(false);}return this;};
h.prototype._createInnerModel=function(){this._oModel=new M(this);this.setModel(this._oModel,h.INNER_MODEL_NAME);return this;};
h.prototype.getCurrentState=function(){var i={};var s={};if(this._bPersistValues){var k=m({},this.getFilterConditions());for(var K in k){if(this._getPropertyByName(K)){i[K]=k[K];}}s.filter=i;}var n=this.getFilterItems();var o=[];n.forEach(function(p,q){o.push({name:p.getFieldPath()});});s.items=o;return s;};
h.prototype.getAssignedFilterNames=function(){var n,i=null,o=this._getConditionModel();if(o){i=[];var k=o.getConditions("$search");if(k&&k.length>0){i.push(this._oRb.getText("filterbar.ADAPT_SEARCHTERM"));}this._getNonHiddenPropertyInfoSet().forEach(function(p){n=I.getPropertyKey(p);var k=o.getConditions(n);if(k&&k.length>0){i.push(p.label||n);}});}return i;};
h.prototype._getAssignedFiltersText=function(){var t={};t.filtersText=this._getAssignedFiltersCollapsedText(this.getAssignedFilterNames());t.filtersTextExpanded=this._getAssignedFiltersExpandedText();return t;};
h.prototype._getAssignedFiltersExpandedText=function(){var n=0,i=0,o=this._getConditionModel();if(o){var A=o.getAllConditions();for(var s in A){var p=this._getPropertyByName(s);if(p&&!p.hiddenFilter&&(A[s].length>0)){++n;if(!(((s==="$search")&&this.getAggregation("basicSearchField"))||this._getFilterField(s))){++i;}}}}if(!n&&!i){return this._oRb.getText("filterbar.ADAPT_NOTFILTERED");}if(!i){if(n===1){return this._oRb.getText("filterbar.ADAPT_FILTER_WITH_NON_HIDDEN",[n]);}return this._oRb.getText("filterbar.ADAPT_FILTERS_WITH_NON_HIDDEN",[n]);}if((n===1)){return this._oRb.getText("filterbar.ADAPT_FILTER_WITH_HIDDEN",[n,i]);}return this._oRb.getText("filterbar.ADAPT_FILTERS_WITH_HIDDEN",[n,i]);};
h.prototype._getAssignedFiltersCollapsedText=function(k){var A;k=k||[];if(k.length){A=Object.keys(k).map(function(i){return k[i];}).join(", ");if(k.length===1){return this._oRb.getText("filterbar.ADAPT_FILTER_COLLAPSED",[k.length,A]);}return this._oRb.getText("filterbar.ADAPT_FILTERS_COLLAPSED",[k.length,A]);}return this._oRb.getText("filterbar.ADAPT_NOTFILTERED");};
h.prototype.getAssignedFiltersText=function(){return this._getAssignedFiltersText();};
h.prototype._reportModelChange=function(t,i){this._handleAssignedFilterNames(false,i);if(this.getLiveMode()||t){this.triggerSearch();}};
h.prototype._isPersistenceSupported=function(o){return this.getEngine().isModificationSupported(this);};
h.prototype.getPropertyInfoSet=function(){return this.getPropertyHelper()?this.getPropertyHelper().getProperties():[];};
h.prototype._addConditionChange=function(o,s){if(!this._aOngoingChangeAppliance){this._aOngoingChangeAppliance=[];}this._aOngoingChangeAppliance.push(this.getEngine().createChanges({control:this,applySequentially:true,key:"Filter",state:o}));};
h.prototype._handleConditionModelPropertyChange=function(o){var A=function(s,i){var O={};O[s]=this._stringifyConditions(s,m([],i));this._cleanupConditions(O[s]);this._addConditionChange(O,s);}.bind(this);if(!this._bIgnoreChanges){var p=o.getParameter("path");if(p.indexOf("/conditions/")===0){var s=p.substring("/conditions/".length);if(this._bPersistValues&&this._isPersistenceSupported()){var i=o.getParameter("value");if(this._getPropertyByName(s)){A(s,i);}else{this._retrieveMetadata().then(function(){A(s,i);});}}else{this._reportModelChange(false);}}}};
h.prototype._toExternal=function(p,o){var i=m({},o);i=e.toString(i,p.typeConfig,this.getTypeUtil());this._cleanupCondition(i);this._convertInOutParameters(o,i,"inParameters",e.toString);this._convertInOutParameters(o,i,"outParameters",e.toString);return i;};
h.prototype._toInternal=function(p,o){var i=m({},o);i=e.toType(i,p.typeConfig,this.getTypeUtil());this._convertInOutParameters(o,i,"inParameters",e.toType);this._convertInOutParameters(o,i,"outParameters",e.toType);return i;};
h.prototype._convertInOutParameters=function(o,i,p,k){if(o[p]&&(Object.keys(o[p]).length>0)){Object.keys(o[p]).forEach(function(K){var n=K.startsWith("conditions/")?K.slice(11):K;var q=this._getPropertyByName(n);if(q){var O=d.createCondition("EQ",[o[p][K]]);var v=k(O,q.typeConfig,this.getTypeUtil());if(!i[p]){i[p]={};}if(!K.startsWith("conditions/")){delete i[p][K];K="conditions/"+n;}i[p][K]=v.values[0];}else{L.error("mdc.FilterBar._convertInOutParameters: could not find property info for "+n);}}.bind(this));}};
h.prototype._cleanupCondition=function(o){if(o){if(o.hasOwnProperty("isEmpty")){delete o.isEmpty;}}};
h.prototype._cleanupConditions=function(i){if(i){i.forEach(function(o){this._cleanupCondition(o);},this);}};
h.prototype._stringifyCondition=function(p,o){var r=o;if(o&&o.values){if(o.values.length>0){r=this._toExternal(p,o);}else{r=m({},o);this._cleanupCondition(r);}}return r;};
h.prototype._stringifyConditions=function(s,i){var p=this._getPropertyByName(s);var r=i;if(p&&i){r=[];i.forEach(function(o){r.push(this._stringifyCondition(p,o));},this);}return r;};
h.prototype._handleAssignedFilterNames=function(i,k){if(this._bIsBeingDestroyed){return;}if(!i){if(this._btnAdapt){var n=this.getAssignedFilterNames();this.setProperty("_filterCount",this._oRb.getText(n.length?"filterbar.ADAPT_NONZERO":"filterbar.ADAPT",n.length),false);}}var t=this._getAssignedFiltersText();var o={conditionsBased:(!i&&!k),filtersText:t.filtersText,filtersTextExpanded:t.filtersTextExpanded};this.fireFiltersChanged(o);};
h.prototype.onReset=function(o){this._getConditionModel().oConditionModel.removeAllConditions();};
h.prototype.onSearch=function(o){if(!this._bSearchPressed){this._bSearchPressed=true;this.triggerSearch().then(function(){this._bSearchPressed=false;}.bind(this),function(){this._bSearchPressed=false;}.bind(this));}};
h.prototype.triggerSearch=function(){if(this.getSuspendSelection()){this._bSearchTriggered=true;return Promise.resolve();}return this.validate();};
h.prototype._hasRetrieveMetadataToBeCalled=function(){return((this.getPropertyHelper()===null)||((this.getPropertyHelper().getProperties().length===0)&&!this.isPropertyHelperFinal()));};
h.prototype.validate=function(s){var i=!s;var v=function(){if(!this._oValidationPromise){this._oValidationPromise=new Promise(function(r,n){this._fResolvedSearchPromise=r;this._fRejectedSearchPromise=n;}.bind(this));var k=function(){this._validate(i);this._oValidationPromise=null;};setTimeout(k.bind(this),0);}return this._oValidationPromise;}.bind(this);return this.waitForInitialization().then(function(){if(this._hasRetrieveMetadataToBeCalled()){return this._retrieveMetadata().then(function(){return v();});}else{return v();}}.bind(this));};
h.prototype._clearDelayedSearch=function(){if(this._iDelayedSearchId){clearTimeout(this._iDelayedSearchId);this._iDelayedSearchId=null;}};
h.prototype._getRequiredFieldsWithoutValues=function(){var r=[];this._getRequiredPropertyNames().forEach(function(n){var i=this._getConditionModel().getConditions(n);if(!i||i.length===0){r.push(n);}}.bind(this));return r;};
h.prototype._checkAsyncValidation=function(){var r=E.NoError;if(this._aFIChanges&&this._aFIChanges.length>0){r=E.AsyncValidation;}return r;};
h.prototype._checkOngoingChangeAppliance=function(){var r=E.NoError;if(this._aOngoingChangeAppliance&&this._aOngoingChangeAppliance.length>0){r=E.OngoingChangeAppliance;}return r;};
h.prototype._checkRequiredFields=function(){var r=E.NoError;var R=this._getRequiredFieldsWithoutValues();R.forEach(function(n){var o=this._getFilterField(n);if(o){if(o.getValueState()===V.None){o.setValueState(V.Error);o.setValueStateText(this._oRb.getText("filterbar.REQUIRED_FILTER_VALUE_MISSING"));}}else{L.error("Mandatory filter field '"+n+"' not visible on FilterBarBase has no value.");}r=E.RequiredHasNoValue;}.bind(this));return r;};
h.prototype._checkFieldsInErrorState=function(){var r=E.NoError;this._getNonRequiredPropertyNames().some(function(n){var o=this._getFilterField(n);if(o&&(o.getValueState()!==V.None)){r=E.FieldInErrorState;}return r!==E.NoError;}.bind(this));return r;};
h.prototype._handleFilterItemSubmit=function(o){var p=o.getParameter("promise");if(p){p.then(function(){this.triggerSearch();}.bind(this)).catch(function(i){L.error(i);});}};
h.prototype._handleFilterItemChanges=function(o){if(this._bIgnoreChanges){return;}var i=o.oSource;if(i.getRequired()&&(i.getValueState()===V.Error)&&o.getParameter("valid")){i.setValueState(V.None);return;}if(!this._aFIChanges){this._aFIChanges=[];}this._aFIChanges.push({name:i.getFieldPath(),promise:o.getParameter("promise")});};
h.prototype._checkFilters=function(){var r=this._checkAsyncValidation();if(r!==E.NoError){return r;}r=this._checkOngoingChangeAppliance();if(r!==E.NoError){return r;}r=this._checkRequiredFields();if(r!==E.NoError){return r;}r=this._checkFieldsInErrorState();if(r!==E.NoError){return r;}return r;};
h.prototype._setFocusOnFirstErroneousField=function(){var o=null;this.getFilterItems().some(function(i){if(i.getValueState()!==V.None){o=i;setTimeout(i["focus"].bind(i),0);}return o!=null;});return o;};
h.prototype._handleAsyncValidation=function(i){if(this._aFIChanges&&(this._aFIChanges.length>0)){var n=this._aFIChanges.slice();this._aFIChanges=null;var k=[];n.forEach(function(N){k.push(N.promise);});Promise.all(k).then(function(o){o.forEach(function(p,q){var r=this._getFilterField(n[q].name);if(r&&r.getRequired()&&(r.getValueState()===V.Error)){r.setValueState(V.None);}},this);this._validate(i);}.bind(this),function(o){this._validate(i);}.bind(this));}};
h.prototype._handleOngoingChangeAppliance=function(i){if(this._aOngoingChangeAppliance&&(this._aOngoingChangeAppliance.length>0)){var k=this._aOngoingChangeAppliance.slice();this._aOngoingChangeAppliance=null;Promise.all(k).then(function(){this._validate(i);}.bind(this),function(){this._validate(i);}.bind(this));}};
h.prototype._validate=function(i){var s,r;var k=function(){if(i){this.fireSearch();}}.bind(this);var n=function(){this._fRejectedSearchPromise=null;this._fResolvedSearchPromise=null;}.bind(this);if(this.bIsDestroyed){n();return;}r=this._checkFilters();if(r===E.AsyncValidation){this._handleAsyncValidation(i);return;}if(r===E.OngoingChangeAppliance){this._handleOngoingChangeAppliance(i);return;}if(r===E.NoError){k();this._fResolvedSearchPromise();n();}else{if(r===E.RequiredHasNoValue){s=this._oRb.getText("filterbar.REQUIRED_CONDITION_MISSING");}else{s=this._oRb.getText("filterbar.VALIDATION_ERROR");}if(this.getShowMessages()&&!this._isLiveMode()){try{g.error(s,{styleClass:(this.$()&&this.$().closest(".sapUiSizeCompact").length)?"sapUiSizeCompact":"",onClose:this._setFocusOnFirstErroneousField.bind(this)});}catch(x){L.error(x.message);}}else{L.warning("search was not triggered. "+s);}this._fRejectedSearchPromise();n();}};
h.prototype.setInternalConditions=function(i){var o=this._getConditionModel();if(o){o.setConditions(i);}};
h.prototype.getInternalConditions=function(){return this._getModelConditions(this._getConditionModel(),true);};
h.prototype.waitForInitialization=function(){return Promise.all([this._oInitialFiltersAppliedPromise,this._oMetadataAppliedPromise]);};
h.prototype.initialized=function(){if(!this._oMetadataAppliedPromise){this._retrieveMetadata();}return this.waitForInitialization();};
h.prototype._getModelConditions=function(o,i,k){var n={};if(o){var A=m({},o.getAllConditions());for(var s in A){if(A[s]&&(k||A[s].length>0)){n[s]=A[s];if(!i){this._cleanupConditions(n[s]);var p=this._stringifyConditions(s,n[s]);n[s]=p;}}}}return n;};
var _=function(p){var t=p.typeConfig.typeInstance;var o=t.getConstraints();return t.getMetadata().getName()==="sap.ui.model.odata.type.String"&&o&&o.isDigitSequence&&o.maxLength?function(i){return this._toExternal(p,i,this.getTypeUtil());}.bind(this):undefined;};
h.prototype._isPathKnownAsync=function(s,x){var n,k,p=[];p.push(this._getPropertyByNameAsync(s));for(k in x["inParameters"]){n=k.startsWith("conditions/")?k.slice(11):k;p.push(this._getPropertyByNameAsync(n));}for(k in x["outParameters"]){n=k.startsWith("conditions/")?k.slice(11):k;p.push(this._getPropertyByNameAsync(n));}return Promise.all(p);};
h.prototype._isPathKnown=function(s,x){var k,n;if(!this._getPropertyByName(s)){return false;}for(k in x["inParameters"]){n=k.startsWith("conditions/")?k.slice(11):k;if(!this._getPropertyByName(n)){return false;}}for(k in x["outParameters"]){n=k.startsWith("conditions/")?k.slice(11):k;if(!this._getPropertyByName(n)){return false;}}return true;};
h.prototype._removeCondition=function(s,x,o){var p=this._getPropertyByName(s);if(p){var i=this._toInternal(p,x);if(o.indexOf(s,i,_.call(this,p))>=0){o.removeCondition(s,i);}}};
h.prototype.removeCondition=function(s,x){return this.waitForInitialization().then(function(){var o=this._getConditionModel();if(o){this._isPathKnownAsync(s,x).then(function(){this._removeCondition(s,x,o);}.bind(this));}}.bind(this));};
h.prototype._addCondition=function(s,x,o){var p=this._getPropertyByName(s);if(p){var i=this._toInternal(p,x);if(o.indexOf(s,i,_.call(this,p))<0){var k={};k[s]=[i];F.checkConditionOperatorSanity(k);var n=k[s];if(n&&n.length>0){this._cleanUpFilterFieldInErrorStateByName(s);o.addCondition(s,i);}}}};
h.prototype.addCondition=function(s,x){return this.waitForInitialization().then(function(){var o=this._getConditionModel();if(o){this._isPathKnownAsync(s,x).then(function(){this._addCondition(s,x,o);}.bind(this));}}.bind(this));};
h.prototype._setXConditions=function(i,r){var s,p,k,o=this._getConditionModel();var n=null;var q=new Promise(function(u,v){n=u;});this._oConditionModel.detachPropertyChange(this._handleConditionModelPropertyChange,this);var A=function(i){for(s in i){k=i[s];p=this._getPropertyByName(s);if(p){if(k.length===0){o.removeAllConditions(s);}else{if(p.maxConditions!==-1){o.removeAllConditions(s);}k.forEach(function(u){this._addCondition(s,u,o);}.bind(this));}}}this._oConditionModel.attachPropertyChange(this._handleConditionModelPropertyChange,this);n();}.bind(this);if(r){o.removeAllConditions();}if(i){var t=true;for(s in i){k=i[s];if(!this._isPathKnown(s,k)){t=false;break;}}if(!t){this._retrieveMetadata().then(function(){A(i);});}else{A(i);}}return q;};
h.prototype._getXConditions=function(){return this._getModelConditions(this._getConditionModel(),false);};
h.prototype._getRequiredPropertyNames=function(){var r=[];this._getNonHiddenPropertyInfoSet().forEach(function(p){if(p.required){r.push(I.getPropertyKey(p));}});return r;};
h.prototype._getNonRequiredPropertyNames=function(){var n=[];this._getNonHiddenPropertyInfoSet().forEach(function(p){if(!p.required){n.push(I.getPropertyKey(p));}});return n;};
h.prototype._insertFilterFieldtoContent=function(o,n){if(!this._cLayoutItem){return;}var i=this._cLayoutItem;var k=new i();k.setFilterField(o);this._oFilterBarLayout.insertFilterField(k,n);};
h.prototype._filterItemInserted=function(o){if(!o.getVisible()){return;}if(o.setWidth){o.setWidth("");}this._applyFilterItemInserted(o);this._handleAssignedFilterNames(true);};
h.prototype._applyFilterItemInserted=function(o){var n,k;k=this.indexOfAggregation("filterItems",o);if(this.getAggregation("basicSearchField")){k++;}n=k;var p=this.getFilterItems();for(var i=0;i<n;i++){if(!p[i].getVisible()){k--;}}this._insertFilterFieldtoContent(o,k);if(!this._oObserver.isObserved(o,{properties:["visible"]})){this._oObserver.observe(o,{properties:["visible"]});}};
h.prototype._filterItemRemoved=function(o){this._applyFilterItemRemoved(o.getFieldPath());this._handleAssignedFilterNames(true);};
h.prototype._applyFilterItemRemoved=function(s){this._removeFilterFieldFromContentByName(s);};
h.prototype._removeFilterFieldFromContent=function(o){this._removeFilterFieldFromContentByName(o.getFieldPath());};
h.prototype._removeFilterFieldFromContentByName=function(s){var o=this._getFilterItemLayoutByName(s);if(o){this._oFilterBarLayout.removeFilterField(o);o.destroy();}};
h.prototype._observeChanges=function(o){if(o.type==="aggregation"){if(o.name==="filterItems"){switch(o.mutation){case"insert":o.child.attachChange(this._handleFilterItemChanges,this);o.child.attachSubmit(this._handleFilterItemSubmit,this);this._filterItemInserted(o.child);break;case"remove":o.child.detachChange(this._handleFilterItemChanges,this);o.child.detachSubmit(this._handleFilterItemSubmit,this);this._filterItemRemoved(o.child);break;default:L.error("operation "+o.mutation+" not yet implemented");}}else if(o.name==="basicSearchField"){switch(o.mutation){case"insert":o.child.attachSubmit(this._handleFilterItemSubmit,this);this._insertFilterFieldtoContent(o.child,0);break;case"remove":o.child.detachSubmit(this._handleFilterItemSubmit,this);this._removeFilterFieldFromContent(o.child);break;default:L.error("operation "+o.mutation+" not yet implemented");}}}else if(o.type==="property"){var i;if(o.object.isA&&o.object.isA("sap.ui.mdc.FilterField")){i=o.object;if(i){if(o.current){this._filterItemInserted(i);}else{this._filterItemRemoved(i);}this._oFilterBarLayout.rerender();}}}};
h.prototype._getFilterItemLayout=function(o){return this._getFilterItemLayoutByName(o.getFieldPath());};
h.prototype._getFilterItemLayoutByName=function(s){var o=null;if(this._oFilterBarLayout){this._oFilterBarLayout.getFilterFields().some(function(i){if(i._getFieldPath()===s){o=i;}return o!==null;});}return o;};
h.prototype._getFilterField=function(n){var o=null;this.getFilterItems().some(function(i){if(i&&i.getFieldPath&&(i.getFieldPath()===n)){o=i;}return o!==null;});return o;};
h.prototype._retrieveMetadata=function(){if(this._oMetadataAppliedPromise){return this._oMetadataAppliedPromise;}this._fResolveMetadataApplied=undefined;this._oMetadataAppliedPromise=new Promise(function(r,i){this._fResolveMetadataApplied=r;this._fRejectMetadataApplied=i;}.bind(this));this.initControlDelegate().then(function(){if(!this._bIsBeingDestroyed){var r=function(i){i?this._fResolveMetadataApplied():this._fRejectMetadataApplied();this._fResolveMetadataApplied=null;this._fRejectMetadataApplied=null;}.bind(this);if(this.bDelegateInitialized){this.finalizePropertyHelper().then(function(){r(true);});}else{L.error("Delegate not initialized.");r(false);}}}.bind(this));return this._oMetadataAppliedPromise;};
h.prototype.setBasicSearchField=function(o){var O=this.getAggregation("basicSearchField");if(O){this.removeAggregation("basicSearchField",O);}this.setAggregation("basicSearchField",o);if(o){if(!this._oObserver.isObserved(o,{properties:["visible"]})){this._oObserver.observe(o,{properties:["visible"]});}}return this;};
h.prototype._getNonHiddenPropertyInfoSet=function(){var v=[];this.getPropertyInfoSet().every(function(p){if(!p.hiddenFilter){if(I.getPropertyKey(p)!=="$search"){v.push(p);}}return true;});return v;};
h.prototype._getNonHiddenPropertyByName=function(n){var p=null;this._getNonHiddenPropertyInfoSet().some(function(o){if(I.getPropertyKey(o)===n){p=o;}return p!=null;});return p;};
h.prototype._cleanUpFilterFieldInErrorStateByName=function(s){var o=null;var i=this.getFilterItems();i.some(function(k){if(k.getFieldPath()===s){o=k;}return o!=null;});if(o){this._cleanUpFilterFieldInErrorState(o);}};
h.prototype._cleanUpAllFilterFieldsInErrorState=function(){var i=this.getFilterItems();i.forEach(function(o){this._cleanUpFilterFieldInErrorState(o);}.bind(this));};
h.prototype._cleanUpFilterFieldInErrorState=function(o){if(o&&(o.getValueState()!==V.None)){o.setValueState(V.None);}};
h.prototype.applyConditionsAfterChangesApplied=function(){if(this._isChangeApplying()){return;}this._bIgnoreChanges=true;this._oFlexPromise=this._getWaitForChangesPromise();Promise.all([this._oFlexPromise,this._oInitialFiltersAppliedPromise,this._oMetadataAppliedPromise]).then(function(A){this._oFlexPromise=null;this._changesApplied();}.bind(this));};
h.prototype._isChangeApplying=function(){return!!this._oFlexPromise;};
h.prototype._applyInitialFilterConditions=function(){this._bIgnoreChanges=true;this._applyFilterConditionsChanges().then(function(){this._changesApplied();this._bInitialFiltersApplied=true;this._fResolveInitialFiltersApplied();this._fResolveInitialFiltersApplied=null;}.bind(this));};
h.prototype._applyFilterConditionsChanges=function(){var s,i;s=this.getProperty("filterConditions");if(Object.keys(s).length>0){i=m({},s);return this._setXConditions(i,true);}return Promise.resolve();};
h.prototype.setVariantBackreference=function(v){if(!this._hasAssignedVariantManagement()){this.setAssociation("variantBackreference",v);f.attachVariantApplied({selector:this,vmControlId:this.getVariantBackreference(),callback:this._handleVariantSwitch.bind(this),callAfterInitialVariant:true});}else{L.error("the association 'variant' may only be assigned once and may not change afterwards.");}};
h.prototype._handleVariantSwitch=function(v){this._cleanUpAllFilterFieldsInErrorState();this._bExecuteOnSelect=this._getExecuteOnSelectionOnVariant(v);this._bDoNotTriggerFiltersChangeEventBasedOnVariantSwitch=undefined;if(v.hasOwnProperty("createScenario")&&(v.createScenario==="saveAs")){this._bDoNotTriggerFiltersChangeEventBasedOnVariantSwitch=true;}if(!this._isChangeApplying()&&this._bInitialFiltersApplied){this._changesApplied();}};
h.prototype._getExecuteOnSelectionOnVariant=function(v){var i=false,o=this._getAssignedVariantManagement();if(o){i=o.getApplyAutomaticallyOnVariant(v);}return i;};
h.prototype._hasAssignedVariantManagement=function(){return this._getAssignedVariantManagement()?true:false;};
h.prototype._getAssignedVariantManagement=function(){var v=this.getVariantBackreference();if(v){var o=sap.ui.getCore().byId(v);if(o&&o.isA("sap.ui.fl.variants.VariantManagement")){return o;}}return null;};
h.prototype._changesApplied=function(){if(!this._isChangeApplying()){this._bIgnoreChanges=false;}this._reportModelChange(this._bExecuteOnSelect,this._bDoNotTriggerFiltersChangeEventBasedOnVariantSwitch);this._bExecuteOnSelect=undefined;this._bDoNotTriggerFiltersChangeEventBasedOnVariantSwitch=undefined;};
h.prototype._getView=function(){return I.getView(this);};
h.prototype.getConditions=function(){var i=this._bPersistValues?this.getCurrentState().filter:this._getXConditions();if(i&&i["$search"]){delete i["$search"];}return i;};
h.prototype.getSearch=function(){var s=this._getConditionModel()?this._getConditionModel().getConditions("$search"):[];return s[0]?s[0].values[0]:"";};
h.prototype.exit=function(){if(this._hasAssignedVariantManagement()){f.detachVariantApplied({selector:this,vmControlId:this.getVariantBackreference()});}if(this.bDelegateInitialized&&this.getControlDelegate().cleanup){this.getControlDelegate().cleanup(this);}C.prototype.exit.apply(this,arguments);this._clearDelayedSearch();this._oFilterBarLayout=null;this._cLayoutItem=null;this._btnAdapt=undefined;this._btnSearch=undefined;this._oRb=null;if(this._oModel){this._oModel.destroy();this._oModel=null;}if(this._oConditionModel){this._oConditionModel.detachPropertyChange(this._handleConditionModelPropertyChange,this);this._oConditionModel.destroy();this._oConditionModel=null;}this._oObserver.disconnect();this._oObserver=undefined;this._bPersistValues=null;this._oDelegate=null;this._oFlexPromise=null;this._fResolveMetadataApplied=undefined;this._oMetadataAppliedPromise=null;this._oInitialFiltersAppliedPromise=null;this._oValidationPromise=null;this._aBindings=null;this._aFIChanges=null;this._aOngoingChangeAppliance=null;};
return h;});
sap.ui.predefine('sap/ui/mdc/filterbar/IFilterContainer',['sap/ui/core/Element'],function(E){"use strict";
var I=E.extend("sap.ui.mdc.filterbar.IFilterContainer");
I.prototype.init=function(){E.prototype.init.apply(this,arguments);this.oLayout=null;};
I.prototype.getInner=function(){return this.oLayout;};
I.prototype.insertFilterField=function(c,i){};
I.prototype.removeFilterField=function(c){};
I.prototype.getFilterFields=function(){};
I.prototype.exit=function(){E.prototype.exit.apply(this,arguments);if(this.oLayout){this.oLayout.destroy();this.oLayout=null;}};
return I;});
sap.ui.predefine('sap/ui/mdc/filterbar/PropertyHelper',["../util/PropertyHelper"],function(P){"use strict";
var a=P.extend("sap.ui.mdc.filterbar.PropertyHelper",{constructor:function(p,e,o,E){var A=["required","hiddenFilter"];P.call(this,p,e,o,A,E);}});
a.prototype.prepareProperty=function(p){if(!p.typeConfig){var o=this.getParent();if(o&&o._oDelegate){var t=o._oDelegate.getTypeUtil();try{p.typeConfig=t.getTypeConfig(p.dataType,p.formatOptions,p.constraints);}catch(e){}}}P.prototype.prepareProperty.apply(this,arguments);};
return a;});
sap.ui.predefine('sap/ui/mdc/filterbar/aligned/FilterContainer',['sap/ui/mdc/filterbar/IFilterContainer','sap/ui/layout/AlignedFlowLayout'],function(I,A){"use strict";
var F=I.extend("sap.ui.mdc.filterbar.aligned.FilterContainer");
F.prototype.init=function(){I.prototype.init.apply(this,arguments);this.oLayout=new A();};
F.prototype.addButton=function(c){this.oLayout.addEndContent(c);};
F.prototype.insertFilterField=function(c,i){this.oLayout.insertContent(c,i);};
F.prototype.removeFilterField=function(c){this.oLayout.removeContent(c);};
F.prototype.getFilterFields=function(){return this.oLayout.getContent();};
return F;});
sap.ui.predefine('sap/ui/mdc/filterbar/aligned/FilterItemLayout',['sap/ui/layout/VerticalLayout','sap/ui/layout/VerticalLayoutRenderer','sap/m/Label'],function(V,a,L){"use strict";
var F=V.extend("sap.ui.mdc.filterbar.aligned.FilterItemLayout",{
metadata:{library:"sap.ui.mdc"},
renderer:{apiVersion:2,render:a.render}
});
F.prototype._setLabel=function(f){this._oLabel=new L(f.getId()+"-label");this._oLabel.setParent(this);f.connectLabel(this._oLabel);if(f.getFieldPath()==="$search"){this._oLabel.setText("\u2008");}else{this._oLabel.addStyleClass("sapUiMdcFilterBarBaseLabel");}};
F.prototype._getFilterField=function(){return this._oFilterField;};
F.prototype._getFieldPath=function(){return this._sFieldPath;};
F.prototype.setFilterField=function(f){this._setLabel(f);this._oFilterField=f;this._sFieldPath=f.getFieldPath();};
F.prototype.getContent=function(){var c=[];c.push(this._oLabel);c.push(this._oFilterField);return c;};
F.prototype.exit=function(){this._oFilterField=null;this._sFieldPath=null;if(this._oLabel&&!this._oLabel.bIsDestroyed){this._oLabel.destroy();this._oLabel=undefined;}V.prototype.exit.apply(this,arguments);};
return F;});
sap.ui.predefine('sap/ui/mdc/filterbar/p13n/AdaptationFilterBar',["sap/ui/mdc/filterbar/p13n/GroupContainer","sap/ui/mdc/filterbar/p13n/FilterColumnLayout","sap/ui/mdc/filterbar/p13n/FilterGroupLayout","sap/ui/mdc/filterbar/p13n/TableContainer","sap/ui/mdc/filterbar/FilterBarBase","sap/ui/mdc/filterbar/FilterBarBaseRenderer","sap/base/util/merge","sap/base/util/UriParameters","sap/ui/core/Core","sap/ui/mdc/enum/PersistenceMode"],function(G,F,a,T,b,c,m,S,C,P){"use strict";
var A=b.extend("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar",{
metadata:{library:"sap.ui.mdc",associations:{adaptationControl:{type:"sap.ui.mdc.Control",multiple:false}},events:{change:{}}},
renderer:c
});
A.prototype.init=function(){b.prototype.init.apply(this,arguments);this.addStyleClass("sapUIAdaptationFilterBar");this._bPersistValues=true;this.getEngine().defaultProviderRegistry.attach(this,P.Transient);this._fnResolveAdaptationControlPromise=null;this._oAdaptationControlPromise=new Promise(function(r,d){this._fnResolveAdaptationControlPromise=r;}.bind(this));};
A.prototype.applySettings=function(){b.prototype._applySettings.apply(this,arguments);this._waitForAdaptControlAndPropertyHelper().then(function(){this._initControlDelegate();}.bind(this));};
A.prototype._getPropertyByName=function(n){var p=this.getPropertyHelper();if(p){var o=p.getProperties().find(function(d){return d.path===n;});if(!o){o=p.getPropertyMap()[n]||null;}return o;}};
A.prototype._waitForAdaptControlAndPropertyHelper=function(){return this._oAdaptationControlPromise.then(function(){return this._getAdaptationControlInstance().awaitPropertyHelper().then(function(p){this._oPropertyHelper=p;}.bind(this));}.bind(this));};
A.prototype._initControlDelegate=function(){return this.initControlDelegate().then(function(){if(!this._bIsBeingDestroyed){this._applyInitialFilterConditions();}}.bind(this));};
A.prototype.getControlDelegate=function(){return this._getAdaptationControlInstance().getControlDelegate();};
A.prototype.initControlDelegate=function(){return this._oAdaptationControlPromise.then(function(){return this._getAdaptationControlInstance().initControlDelegate();}.bind(this));};
A.prototype.initPropertyHelper=function(){return this._oAdaptationControlPromise.then(function(){return this._getAdaptationControlInstance().initPropertyHelper();}.bind(this));};
A.prototype.getTypeUtil=function(){if(!this._getAdaptationControlInstance()){throw new Error("No adaptation control assigned yet.");}return this._getAdaptationControlInstance().getTypeUtil();};
A.prototype.setMessageStrip=function(s){this._oFilterBarLayout.setMessageStrip(s);};
A.prototype.setLiveMode=function(l,s){b.prototype.setLiveMode.apply(this,arguments);this._oConditionModel.attachPropertyChange(function(e){var k=e.getParameter("path").substring(12);if(this.oAdaptationData){var i=this.oAdaptationData.items;var I=i.find(function(o){return o.name==k;});if(I){I.active=this._getConditionModel().getConditions(k).length>0?true:false;}}}.bind(this));return this;};
A.prototype._retrieveMetadata=function(){return this._oAdaptationControlPromise.then(function(){return this._getAdaptationControlInstance().awaitPropertyHelper().then(function(p){this._oMetadataAppliedPromise=Promise.resolve();if(!this._getAdaptationControlInstance().isPropertyHelperFinal()){return this.finalizePropertyHelper();}return b.prototype._retrieveMetadata.apply(this,arguments);}.bind(this));}.bind(this));};
A.prototype.createConditionChanges=function(){return Promise.all([this._oAdaptationControlPromise,this._getAdaptationControlInstance().awaitControlDelegate()]).then(function(){var d=this._getModelConditions(this._getConditionModel(),false,true);if(this._bPersistValues){return this.getEngine().createChanges({control:this._getAdaptationControlInstance(),key:"Filter",state:d,suppressAppliance:true});}else{this._getAdaptationControlInstance()._setXConditions(d,true);return Promise.resolve(null);}}.bind(this));};
A.prototype.setP13nData=function(p){this.oAdaptationData=p;this._oFilterBarLayout.update(p);};
A.prototype.getP13nData=function(){return this.oAdaptationData;};
A.prototype._handleFilterItemSubmit=function(){return;};
A.prototype._getWaitForChangesPromise=function(){return this.getEngine().waitForChanges(this._getAdaptationControlInstance());};
A.prototype.applyConditionsAfterChangesApplied=function(o){b.prototype.applyConditionsAfterChangesApplied.apply(this,arguments);if(o===this._getAdaptationControlInstance()){this.triggerSearch();}};
A.prototype.createFilterFields=function(){return this.initialized().then(function(){var d=this._bPersistValues?this._getAdaptationControlInstance().getFilterConditions():this._getAdaptationControlInstance()._getXConditions();this.setFilterConditions(d);this._setXConditions(d,true);if(this._bFilterFieldsCreated){this._oFilterBarLayout.setP13nData(this.oAdaptationData);return this;}var o=this._getAdaptationControlInstance();var D=o.getControlDelegate();var f=this._checkAdvancedParent(o)?D:D.getFilterDelegate();this._mOriginalsForClone={};var e=[];this.oAdaptationData.items.forEach(function(i,I){var g;g=this._checkExisting(i,f);g.then(function(h){var j;if(this._checkAdvancedParent(o)){if(h._bTemporaryOriginal){delete g._bTemporaryOriginal;this._mOriginalsForClone[h.getFieldPath()]=h;}j=h.clone();}else{j=h;}i.filterfield=j;}.bind(this));e.push(g);}.bind(this));return Promise.all(e).then(function(){this.oAdaptationData.items.forEach(function(i){this.addAggregation("filterItems",i.filterfield);delete i.filterfield;}.bind(this));this._oFilterBarLayout.setP13nData(this.oAdaptationData);this._bFilterFieldsCreated=true;return this;}.bind(this));}.bind(this));};
A.prototype._checkExisting=function(i,f){var o;var d=this._getAdaptationControlInstance();var e=this._checkAdvancedParent(d)?d.getFilterItems():[];var E=e.reduce(function(M,g){M[g.getFieldPath()]=g;return M;},{});if(E[i.name]){o=Promise.resolve(E[i.name]);}else{o=f.addItem(i.name,this._getAdaptationControlInstance());o=o.then(function(g){if(!g){throw new Error("No FilterField could be created for property: '"+i.name+"'.");}g._bTemporaryOriginal=true;return g;});}return o;};
A.prototype.executeRemoves=function(){var e=this._oFilterBarLayout.getInner().getSelectedFields();var o=[];Object.keys(this._mOriginalsForClone).forEach(function(k){var d=this._getAdaptationControlInstance().getControlDelegate();if(e.indexOf(k)<0){var r=d.removeItem.call(d,k,this._getAdaptationControlInstance()).then(function(f){if(f&&this._mOriginalsForClone[k]){this._mOriginalsForClone[k].destroy();delete this._mOriginalsForClone[k];}}.bind(this));o.push(r);}}.bind(this));return Promise.all(o);};
A.prototype._checkAdvancedParent=function(o){if(!o.isA("sap.ui.mdc.IFilterSource")&&!o.isA("sap.ui.mdc.IFilter")){throw new Error("The 'adaptationControl' needs to implement the IFilterSource or IFilter interface");}return o.isA("sap.ui.mdc.IFilter");};
A.prototype.setAdaptationControl=function(o,s){if(this._fnResolveAdaptationControlPromise){this._fnResolveAdaptationControlPromise();this._fnResolveAdaptationControlPromise=null;}this.setAssociation("adaptationControl",o,s);var u=new S(window.location.search).getAll("sap-ui-xx-filterQueryPanel")[0]==="true";this._cLayoutItem=u||this._checkAdvancedParent(o)?a:F;this._oFilterBarLayout=this._checkAdvancedParent(o)?new G():new T();this._oFilterBarLayout.getInner().setParent(this);this.setAggregation("layout",this._oFilterBarLayout,true);if(this._oFilterBarLayout.getInner().attachChange){this._oFilterBarLayout.getInner().attachChange(function(e){if(e.getParameter("reason")==="Remove"){var i=e.getParameter("item");var d=this._bPersistValues?m({},this._getAdaptationControlInstance().getFilterConditions()):this._getAdaptationControlInstance()._getXConditions();d[i.name]=[];this._setXConditions(d,true);}this.fireChange();}.bind(this));}return this;};
A.prototype._getAdaptationControlInstance=function(){var s=this.getAdaptationControl();return s&&C.byId(s);};
A.prototype.exit=function(){this.getEngine().defaultProviderRegistry.detach(this);b.prototype.exit.apply(this,arguments);for(var k in this._mOriginalsForClone){this._mOriginalsForClone[k].destroy();}this._mOriginalsForClone=null;this.oAdaptationData=null;this._fnResolveAdaptationControlPromise=null;this._oAdaptationControlPromise=null;};
return A;});
sap.ui.predefine('sap/ui/mdc/filterbar/p13n/FilterColumnLayout',['sap/m/ColumnListItem','sap/m/ColumnListItemRenderer','sap/m/Label'],function(C,a,L){"use strict";
var F=C.extend("sap.ui.mdc.filterbar.p13n.FilterColumnLayout",{
metadata:{library:"sap.ui.mdc"},
renderer:a
});
F.prototype._getFieldPath=function(){return this._sFieldPath;};
F.prototype.setFilterField=function(f){this._sLabel=f.getLabel();this._oFilterField=f;this._sFieldPath=f.getFieldPath();};
F.prototype.getCells=function(){var c=[];var l=new L({text:this._sLabel});l.setParent(this);c.push(l);c.push(this._oFilterField);return c;};
F.prototype.exit=function(){C.prototype.exit.apply(this,arguments);this._oFilterField=null;this._sFieldPath=null;};
return F;});
sap.ui.predefine('sap/ui/mdc/filterbar/p13n/FilterGroupLayout',['sap/ui/core/Control'],function(C){"use strict";
var F=C.extend("sap.ui.mdc.filterbar.p13n.FilterGroupLayout",{renderer:{apiVersion:2,render:function(r,c){r.openStart("div",c);r.style("height","100%");r.openEnd();r.renderControl(c.getItems()[0]);r.close("div");}}});
F.prototype._getFieldPath=function(){return this._sFieldPath;};
F.prototype.setFilterField=function(f){this._oFilterField=f;this._sFieldPath=f.getFieldPath();};
F.prototype.getAccessibilityInfo=function(){return{children:this.getItems()};};
F.prototype.getItems=function(){var c=[];c.push(this._oFilterField);return c;};
F.prototype.exit=function(){C.prototype.exit.apply(this,arguments);this._oFilterField=null;this._sFieldPath=null;};
return F;});
sap.ui.predefine('sap/ui/mdc/filterbar/p13n/GroupContainer',['sap/ui/mdc/filterbar/IFilterContainer','sap/ui/mdc/p13n/panels/AdaptFiltersPanel'],function(I,A){"use strict";
var G=I.extend("sap.ui.mdc.filterbar.p13n.GroupContainer");
G.prototype.init=function(){I.prototype.init.apply(this,arguments);this.mFilterItems={};this.oLayout=new A();this.oLayout.setItemFactory(function(b){var k=b.getProperty(b.sPath).name;var f=this.mFilterItems[k];return f;}.bind(this));};
G.prototype.setMessageStrip=function(s){this.oLayout.getCurrentViewContent().setMessageStrip(s);};
G.prototype.insertFilterField=function(c,i){this.mFilterItems[c._getFieldPath()]=c;};
G.prototype.removeFilterField=function(c){this.oLayout.removeItem(c);};
G.prototype.getFilterFields=function(){var f=[];Object.keys(this.mFilterItems).forEach(function(k){f.push(this.mFilterItems[k]);}.bind(this));return f;};
G.prototype.update=function(p){this.oLayout.restoreDefaults();};
G.prototype.setP13nData=function(a){this.oLayout.setP13nData(a);};
G.prototype.exit=function(){this.mFilterItems=null;this.mFilterFields=null;I.prototype.exit.apply(this,arguments);};
return G;});
sap.ui.predefine('sap/ui/mdc/filterbar/p13n/TableContainer',['sap/ui/mdc/filterbar/IFilterContainer','sap/m/Table','sap/m/Column','sap/m/Text','sap/m/VBox','sap/ui/mdc/p13n/panels/FilterPanel','sap/base/util/UriParameters'],function(I,T,C,a,V,F,S){"use strict";
var b=I.extend("sap.ui.mdc.filterbar.p13n.TableContainer");
b.prototype.init=function(){I.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._oTable=new T({sticky:["ColumnHeaders"],growing:true,columns:[new C({header:new a({text:r.getText("filter.AdaptationFilterBar_FIELD_COLUMN")})}),new C({header:new a({text:r.getText("filter.AdaptationFilterBar_FIELD_VALUE_COLUMN")})})]});var u=new S(window.location.search);this._bUseQueryPanel=u.getAll("sap-ui-xx-filterQueryPanel")[0]==="true";if(this._bUseQueryPanel){this.oLayout=new F({enableReorder:false});this.mFilterItems={};this.oLayout.setItemFactory(function(i){var k=i.name;var f=this.mFilterItems[k];return f;}.bind(this));}else{this._oMessageStripContainer=new V(this.getId()+"-messageStripContainer");this.oLayout=new V({items:[this._oMessageStripContainer,this._oTable]});}};
b.prototype.insertFilterField=function(c,i){if(this._bUseQueryPanel){this.mFilterItems[c._getFieldPath()]=c;}else{this._oTable.insertItem(c,i);}};
b.prototype.setP13nData=function(A){if(this._bUseQueryPanel){this.oLayout.setP13nData(A.items);}};
b.prototype.removeFilterField=function(c){this._oTable.removeItem(c);};
b.prototype.setMessageStrip=function(s){if(this._bUseQueryPanel){this.oLayout.setMessageStrip(s);}else{this._oMessageStripContainer.removeAllItems();this._oMessageStripContainer.addItem(s);}};
b.prototype.getFilterFields=function(){return this._oTable.getItems();};
b.prototype.update=function(p){};
b.prototype.exit=function(){this._oTable=null;this._oMessageStripContainer=null;};
return b;});
sap.ui.predefine('sap/ui/mdc/filterbar/vh/CollectiveSearchSelect',["sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/ui/core/Control","sap/ui/layout/HorizontalLayout","sap/m/SearchField","sap/m/Page","sap/m/Toolbar","sap/m/ToggleButton","sap/m/Title","sap/m/ResponsivePopover","sap/m/SelectList","sap/ui/events/KeyCodes","sap/m/library",'sap/ui/model/base/ManagedObjectModel','sap/ui/base/ManagedObjectObserver'],function(F,a,D,I,b,C,H,S,P,T,c,d,R,e,K,m,M,f){"use strict";var B=m.ButtonType;var g=m.PlacementType;
var h=C.extend("sap.ui.mdc.filterbar.vh.CollectiveSearchSelect",{
metadata:{library:"sap.ui.mdc",properties:{title:{type:"string",group:"Misc",defaultValue:null},selectedItemKey:{type:"string",group:"Misc",defaultValue:null},_currentItemText:{type:"string",group:"Misc",defaultValue:null,hidden:true}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item"}},events:{select:{parameters:{key:{type:"string"}}}}},
renderer:{apiVersion:2,render:function(r,o){r.openStart("div",o).class("sapUiMdcCollectiveSearchSelect").attr("title",o.oRb.getText("COL_SEARCH_TRIGGER_TT")).openEnd();r.renderControl(o.oLayout);r.close("div");}}
});
h.prototype.init=function(){this._oManagedObjectModel=new M(this);this.setModel(this._oManagedObjectModel,"$mdcColSearch");this._oObserver=new f(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["selectedItemKey"],aggregations:["items"]});this.oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this.oInvisibleText=new I();this.oText=new d(this.getId()+"-text",{text:"{$mdcColSearch>/_currentItemText}"}).addStyleClass("sapUiMdcCollectiveSearchSelectClickable").addStyleClass("sapUiMdcCollectiveSearchSelectTitle");if(D.system.phone){this.oText.addStyleClass("sapUiMdcCollectiveSearchSelectTextPhoneMaxWidth");}else{this.oText.addStyleClass("sapUiMdcCollectiveSearchSelectTextMaxWidth");}this.oPopoverTrigger=new c(this.getId()+"-trigger",{icon:"sap-icon://slim-arrow-down",type:B.Transparent,tooltip:this.oRb.getText("COL_SEARCH_TRIGGER_TT")}).addAriaLabelledBy(this.oInvisibleText).addStyleClass("sapUiMdcCollectiveSearchSelectTriggerBtn").addStyleClass("sapMTitleStyleH4");this.oLayout=new H({content:[this.oText,this.oPopoverTrigger]}).addStyleClass("sapUiMdcCollectiveSearchSelectLayout");this.oInvisibleText.toStatic();this.addDependent(this.oLayout);};
h.prototype._observeChanges=function(o){if(["selectedItemKey","items"].indexOf(o.name)>=-1){this._updateCurrentItemText();}};
h.prototype._updateCurrentItemText=function(){var k=this.getSelectedItemKey();var i=this._getItemByKey(k);var t=i?i.getText():k;this.oInvisibleText.setText(this.oRb.getText("COL_SEARCH_SEL_INVISIBLETXT",[t]));this.setProperty("_currentItemText",t);};
h.prototype._getItemByKey=function(k){var i=null;var j=this.getItems();j.some(function(E){if(E.getKey()===k){i=E;}return(i!==null);});return i;};
h.prototype.handleOpenClosePopover=function(){if(!this.bPopoverOpen){this._openList();}else if(this.oPopover&&this.oPopover.isOpen()){this.oPopover.close();}};
h.prototype.getFocusDomRef=function(){if(this.oPopoverTrigger){return this.oPopoverTrigger.getFocusDomRef();}};
h.prototype.onclick=function(){if(this.oPopoverTrigger&&!this.bPopoverOpen){this.oPopoverTrigger.focus();}this.handleOpenClosePopover();};
h.prototype.onkeyup=function(E){if(E.which===K.F4||E.which===K.SPACE||E.altKey===true&&E.which===K.ARROW_UP||E.altKey===true&&E.which===K.ARROW_DOWN){this._openList();}};
h.prototype.onAfterRendering=function(){this.oText.$().off("mouseover").on("mouseover",function(){this.oPopoverTrigger.addStyleClass("sapUiMdcCollectiveSearchSelectTriggerBtnHover");}.bind(this));this.oText.$().off("mouseout").on("mouseout",function(){this.oPopoverTrigger.removeStyleClass("sapUiMdcCollectiveSearchSelectTriggerBtnHover");}.bind(this));};
h.prototype._createList=function(){if(this.oPopover){return;}this.oList=new e(this.getId()+"-list",{selectedKey:{path:"$mdcColSearch>/selectedItemKey"},itemPress:function(E){var s=null;if(E&&E.getParameter("item")){var i=E.getParameter("item");if(i){s=i.getKey();}}this.oPopover.close();if(this.getSelectedItemKey()!==s){this.setSelectedItemKey(s);this.fireSelect({key:s});}}.bind(this)});this.oList.bindAggregation("items",{path:"/items",model:"$mdcColSearch",template:new b({key:"{$mdcColSearch>key}",text:"{$mdcColSearch>text}"})});this.oSearchField=new S(this.getId()+"-search");this.oSearchField.attachLiveChange(function(E){var v=E.getParameter("newValue")||"";this._triggerSearch(v,this.oList);}.bind(this));this.oPage=new P(this.getId()+"-selpage",{subHeader:new T({content:[this.oSearchField]}),content:[this.oList],showNavButton:false,showHeader:false});this.oPopover=new R(this.getId()+"-popover",{title:{path:"$mdcColSearch>/title"},titleAlignment:"Auto",contentWidth:"400px",placement:g.VerticalPreferredBottom,content:[this.oPage],afterOpen:function(){this.bPopoverOpen=true;this.oPopoverTrigger.setPressed(true);}.bind(this),afterClose:function(){this.oPopoverTrigger.setPressed(false);if(this.bPopoverOpen){setTimeout(function(){this.bPopoverOpen=false;}.bind(this),200);}}.bind(this),contentHeight:"300px"});this.oPopover.addStyleClass("sapUiMdcCollectiveSearchSelectPopover");if(this.oLayout.$().closest(".sapUiSizeCompact").length>0){this.oPopover.addStyleClass("sapUiSizeCompact");}this.addDependent(this.oPopover);};
h.prototype._openList=function(){if(this.bPopoverOpen){return;}this._createList();this.oSearchField.setValue("");this._triggerSearch("",this.oList);this.oPage.setShowSubHeader(this.oList.getItems().length>9);this.oPopover.openBy(this.oPopoverTrigger);};
h.prototype._triggerSearch=function(v,l){var i=[];if(v){var o=new F({path:"text",operator:a.Contains,value1:v});i.push(o);}l.getBinding("items").filter(i);};
h.prototype.exit=function(){if(this.oInvisibleText){this.oInvisibleText.destroy(true);this.oInvisibleText=undefined;}this.oRb=undefined;this.oList=undefined;this.oPage=undefined;this.oLayout=undefined;this.oText=undefined;this.oPopoverTrigger=undefined;this.oSearchField=undefined;this._oManagedObjectModel.destroy();this._oManagedObjectModel=undefined;this._oObserver.disconnect();this._oObserver=undefined;};
return h;});
sap.ui.predefine('sap/ui/mdc/filterbar/vh/FilterBar',["sap/m/library","sap/ui/mdc/filterbar/FilterBarBase","sap/ui/mdc/filterbar/FilterBarBaseRenderer","sap/ui/mdc/filterbar/aligned/FilterItemLayout","sap/ui/mdc/filterbar/vh/FilterContainer","sap/m/Button","sap/ui/mdc/enum/PersistenceMode"],function(l,F,a,b,c,B,P){"use strict";
var d=F.extend("sap.ui.mdc.filterbar.vh.FilterBar",{
metadata:{properties:{expandFilterFields:{type:"boolean",defaultValue:true},filterFieldThreshold:{type:"int",defaultValue:8}},aggregations:{}},
renderer:a
});
var e=l.ButtonType;
d.prototype._createInnerLayout=function(){this._cLayoutItem=b;this._oFilterBarLayout=new c(this.getId()+"-innerLayout",{});this.setAggregation("layout",this._oFilterBarLayout,true);this._oBtnFilters=new B(this.getId()+"-btnShowFilters",{type:e.Transparent,press:this._onToggleFilters.bind(this)});this._oBtnFilters.bindProperty("text",{model:F.INNER_MODEL_NAME,path:"/expandFilterFields",formatter:function(E){return this._oRb.getText("valuehelp."+(E?"HIDE":"SHOW")+"ADVSEARCH");}.bind(this)});this._oBtnFilters.bindProperty("visible",{model:F.INNER_MODEL_NAME,path:"/filterItems",formatter:function(i){return i.length>0;}});this._oFilterBarLayout.addControl(this._getSearchButton().bindProperty("visible",{parts:[{path:'/showGoButton',model:F.INNER_MODEL_NAME},{path:"/liveMode",model:F.INNER_MODEL_NAME}],formatter:function(s,L){return s&&((this._isPhone())?true:!L);}.bind(this)}));this._oFilterBarLayout.addControl(this._oBtnFilters);this._oShowAllFiltersBtn=new B(this.getId()+"-btnShowAllFilters",{type:e.Transparent,press:this._onShowAllFilters.bind(this),text:this._oRb.getText("valuehelp.SHOWALLFILTERS")});this._oFilterBarLayout.addEndContent(this._oShowAllFiltersBtn);};
d.prototype.applySettings=function(s,S){this._applySettings(s,S);this._waitForMetadata();};
d.prototype._handleConditionModelPropertyChange=function(){F.prototype._handleConditionModelPropertyChange.apply(this,arguments);this.fireFiltersChanged({conditionsBased:true});};
d.prototype.init=function(){F.prototype.init.apply(this,arguments);this._bPersistValues=true;this.getEngine().defaultProviderRegistry.attach(this,P.Transient);};
d.prototype.exit=function(){this.getEngine().defaultProviderRegistry.detach(this);if(this._oCollectiveSearch){this._oFilterBarLayout.removeControl(this._oCollectiveSearch);this._oCollectiveSearch=null;}F.prototype.exit.apply(this,arguments);this._oBasicSearchField=null;this._oBtnFilters=null;this._oShowAllFiltersBtn=null;};
d.prototype._onToggleFilters=function(E){this.setExpandFilterFields(!this.getExpandFilterFields());};
d.prototype._onShowAllFilters=function(E){this._oFilterBarLayout._updateFilterBarLayout(true);};
d.prototype.setCollectiveSearch=function(C){if(this._oCollectiveSearch){if(this._oFilterBarLayout){this._oFilterBarLayout.removeControl(this._oCollectiveSearch);}}this._oCollectiveSearch=C;if(this._oFilterBarLayout&&this._oCollectiveSearch){this._oFilterBarLayout.insertControl(this._oCollectiveSearch,0);}return this;};
d.prototype.getCollectiveSearch=function(){return this._oCollectiveSearch;};
d.prototype.destroyCollectiveSearch=function(){if(this._oCollectiveSearch&&this._oFilterBarLayout){this._oFilterBarLayout.removeControl(this._oCollectiveSearch);this._oCollectiveSearch.destroy();this._oCollectiveSearch=undefined;}return this;};
d.prototype.setBasicSearchField=function(o){if(this._oBasicSearchField){if(this._oFilterBarLayout){this._oFilterBarLayout.removeControl(this._oBasicSearchField);}this._oBasicSearchField.detachSubmit(this._handleFilterItemSubmit,this);}this._oBasicSearchField=o;if(o){if(this.isPropertyInitial("expandFilterFields")){this.setExpandFilterFields(false);}if(this._oFilterBarLayout){this._oFilterBarLayout.insertControl(o,this._oCollectiveSearch?1:0);}o.attachSubmit(this._handleFilterItemSubmit,this);if(!this._oObserver.isObserved(o,{properties:["visible"]})){this._oObserver.observe(o,{properties:["visible"]});}}return this;};
d.prototype.getBasicSearchField=function(){return this._oBasicSearchField;};
d.prototype.destroyBasicSearchField=function(){if(this._oBasicSearchField&&this._oFilterBarLayout){this._oFilterBarLayout.removeControl(this._oBasicSearchField);this._oBasicSearchField.detachSubmit(this._handleFilterItemSubmit,this);if(this._oObserver.isObserved(this._oBasicSearchField,{properties:["visible"]})){this._oObserver.unobserve(this._oBasicSearchField);}this._oBasicSearchField.destroy();this._oBasicSearchField=undefined;}return this;};
return d;});
sap.ui.predefine('sap/ui/mdc/filterbar/vh/FilterContainer',["sap/ui/mdc/filterbar/IFilterContainer","sap/ui/layout/AlignedFlowLayout","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/VBox"],function(I,A,T,a,V){"use strict";
var F=I.extend("sap.ui.mdc.filterbar.vh.FilterContainer",{metadata:{aggregations:{_layout:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});
F.prototype.init=function(){this.aLayoutItems=[];this.oToolbar=new T(this.getId()+"-tbr",{content:[new a()]});this.oAlgnLayout=new A(this.getId()+"-aflayout",{visible:"{$sap.ui.filterbar.mdc.FilterBarBase>/expandFilterFields}"}).addStyleClass("sapUiMdcFilterBarBaseAFLayout");this.oLayout=new V(this.getId()+"-vbox",{items:[this.oToolbar,this.oAlgnLayout]});this.setAggregation("_layout",this.oLayout,true);};
F.prototype.exit=function(){this.aLayoutItems.forEach(function(i){i.destroy();});this.aLayoutItems=null;};
F.prototype.addControl=function(c){this.oToolbar.addContent(c);};
F.prototype.insertControl=function(c,i){this.oToolbar.insertContent(c,i);};
F.prototype.removeControl=function(c){this.oToolbar.removeContent(c);};
F.prototype.addEndContent=function(c){this.oAlgnLayout.addEndContent(c);};
F.prototype.insertFilterField=function(c,i){this.aLayoutItems.splice(i,0,c);this._updateFilterBarLayout();};
F.prototype.removeFilterField=function(c){var n=-1;this.aLayoutItems.some(function(l,i){if(c===l){n=i;return true;}return false;});if(n>=0){this.aLayoutItems.splice(n,1);this._updateFilterBarLayout();}};
F.prototype.getFilterFields=function(){return this.oAlgnLayout.getContent();};
F.prototype._updateFilterBarLayout=function(s){var n=this.aLayoutItems.length;var t=this.getParent().getFilterFieldThreshold();var u=s||n<=t+1;if(!u){var b=this.oAlgnLayout.getContent();b.some(function(o,i){if(o!=this.aLayoutItems[i]){u=true;return true;}return false;}.bind(this));}if(u){this.oAlgnLayout.removeAllContent();this.aLayoutItems.some(function(l,c){if(s||n<=t||c+1<t){this.oAlgnLayout.insertContent(l,c);return false;}return true;}.bind(this));}var S=this.oAlgnLayout.getEndContent()[0];S.setVisible(!s&&n>t);};
return F;});
sap.ui.predefine('sap/ui/mdc/flexibility/ActionToolbar.flexibility',['./ItemBaseFlex'],function(I){"use strict";var a=Object.assign({},I);
a.findItem=function(m,A,n){return sap.ui.getCore().byId(n);};
return{"moveControls":"default",moveAction:a.createMoveChangeHandler()};});
sap.ui.predefine('sap/ui/mdc/flexibility/ActionToolbarAction.flexibility',[],function(){"use strict";return{unhideControl:{changeHandler:"default"},hideControl:{changeHandler:"default"}};});
sap.ui.predefine('sap/ui/mdc/flexibility/AggregateFlex',["sap/ui/fl/apply/api/FlexRuntimeInfoAPI"],function(F){"use strict";var r=function(c){var e=c&&c.isA&&c.isA("sap.ui.mdc.Table")&&c.isTableBound();var E=c&&c.isA&&(c.isA("sap.ui.mdc.Chart"));if(e||E){if(!c._bWaitForBindChanges){c._bWaitForBindChanges=true;F.waitForChanges({element:c}).then(function(){if(e){c.rebind();}else if(E){c.rebind();}delete c._bWaitForBindChanges;});}}};var f=function(c,C,o,i){if(i){c.resetRevertData();}else{c.setRevertData(o);}r(C);};var a=function(c,C,p,i){return new Promise(function(b,d){var m=p.modifier;var o=i?c.getRevertData():c.getContent();Promise.resolve().then(m.getProperty.bind(m,C,"aggregateConditions")).then(function(e){var g=e?e:{};g[o.name]={};var h={name:o.name};m.setProperty(C,"aggregateConditions",g);f(c,C,h,i);b();}).catch(function(e){d(e);});});};var R=function(c,C,p,i){return new Promise(function(b,d){var m=p.modifier;var o=i?c.getRevertData():c.getContent();Promise.resolve().then(m.getProperty.bind(m,C,"aggregateConditions")).then(function(e){var v=e?e:{};if(!v){d();}delete v[o.name];m.setProperty(C,"aggregateConditions",v);f(c,C,o,i);b();}).catch(function(e){d(e);});});};var A={};A.removeAggregate={"changeHandler":{applyChange:function(c,C,p){return R(c,C,p,false);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return a(c,C,p,true);}},"layers":{"USER":true}};A.addAggregate={"changeHandler":{applyChange:function(c,C,p){return a(c,C,p,false);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return R(c,C,p,true);}},"layers":{"USER":true}};return A;});
sap.ui.predefine('sap/ui/mdc/flexibility/AggregationConfigFlex',['sap/ui/mdc/p13n/Engine'],function(E){"use strict";var A={};var c=function(C){if(!C._bWaitForModificationChanges&&C.isA){C._bWaitForModificationChanges=true;E.getInstance().waitForChanges(C).then(function(){if(C._onModifications instanceof Function){C._onModifications();}delete C._bWaitForModificationChanges;});}};var q=function(C,t){var f=function(p){if(C._pQueue===p){delete C._pQueue;}};C._pQueue=C._pQueue instanceof Promise?C._pQueue.then(t):t();C._pQueue.then(f.bind(null,C._pQueue));return C._pQueue;};
A.createSetChangeHandler=function(m){if(!m||!m.hasOwnProperty("aggregation")||!m.hasOwnProperty("property")){throw new Error("Please provide a map containing the affected aggregation and property name!");}var a=m.aggregation;var s=m.property;return{"changeHandler":{applyChange:function(C,o,p){return q(o,function(){return E.getInstance().readXConfig(o,{propertyBag:p}).then(function(P){var O=null;if(P&&P.aggregations&&P.aggregations[a]&&P.aggregations[a][C.getContent().name]&&P.aggregations[a][C.getContent().name][s]){O=P.aggregations[a][C.getContent().name][s];}C.setRevertData({name:C.getContent().name,value:O});return E.getInstance().enhanceXConfig(o,{controlMeta:{aggregation:a,property:s},name:C.getContent().name,value:C.getContent().value,propertyBag:p});}).then(function(){c(o);});});},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return E.getInstance().enhanceXConfig(o,{controlMeta:{aggregation:a,property:s},name:C.getRevertData().name,value:C.getRevertData().value,propertyBag:p}).then(function(){C.resetRevertData();c(o);});}},"layers":{"USER":true}};};
return A;});
sap.ui.predefine('sap/ui/mdc/flexibility/Chart.flexibility',['./SortFlex','./ChartItemFlex','./ConditionFlex','./ChartTypeFlex'],function(S,C,a,b){"use strict";return{addItem:C.addItem,removeItem:C.removeItem,moveItem:C.moveItem,setChartType:b.setChartType,removeSort:S.removeSort,addSort:S.addSort,moveSort:S.moveSort,addCondition:a.addCondition,removeCondition:a.removeCondition};},true);
sap.ui.predefine('sap/ui/mdc/flexibility/ChartItemFlex',['./ItemBaseFlex'],function(I){"use strict";var c=Object.assign({},I);
c.beforeAddItem=function(D,d,C,p,o){return D.addItem.call(D,d,C,p,o.role);};
c.findItem=function(m,i,n){return i.reduce(function(p,o){return p.then(function(f){if(!f){return Promise.all([m.getProperty(o,"key"),m.getProperty(o,"name")]).then(function(P){if(P[0]===n||P[1]===n){return o;}});}return f;});},Promise.resolve());};
c.addItem=c.createAddChangeHandler();c.removeItem=c.createRemoveChangeHandler();c.moveItem=c.createMoveChangeHandler();return c;});
sap.ui.predefine('sap/ui/mdc/flexibility/ChartTypeFlex',[],function(){"use strict";var c={};c.setChartType={layers:{USER:true},changeHandler:{createChange:function(p){if(!p.control){throw new Error("Invalid control. The existing control object is mandatory");}return{selectorElement:p.control,changeSpecificData:{changeType:"setChartType",content:{chartType:p.chartType}}};},completeChangeContent:function(C,s){},applyChange:function(C,o,p){var m=p.modifier;return Promise.resolve().then(m.getProperty.bind(m,o,"chartType")).then(function(O){C.setRevertData(O);m.setProperty(o,"chartType",C.getContent().chartType);});},revertChange:function(C,o,p){p.modifier.setProperty(o,"chartType",C.getRevertData());C.resetRevertData();}}};return c;});
sap.ui.predefine('sap/ui/mdc/flexibility/ColumnFlex',['sap/ui/mdc/p13n/Engine','./ItemBaseFlex'],function(E,I){"use strict";var C=Object.assign({},I);var r=function(c){if(c&&c.isA&&c.isA("sap.ui.mdc.Table")&&c.isTableBound()){if(!c._bWaitForBindChanges){c._bWaitForBindChanges=true;E.getInstance().waitForChanges(c).then(function(){c.rebind();delete c._bWaitForBindChanges;});}}};
C.findItem=function(m,c,n){return c.reduce(function(p,o){return p.then(function(f){if(!f){return Promise.resolve().then(m.getProperty.bind(m,o,"dataProperty")).then(function(d){if(d===n){return o;}});}return f;});},Promise.resolve());};
C.afterApply=function(c,t,i){r(t);};
C.addColumn=C.createAddChangeHandler();C.removeColumn=C.createRemoveChangeHandler();C.moveColumn=C.createMoveChangeHandler();return C;});
sap.ui.predefine('sap/ui/mdc/flexibility/ConditionFlex',['sap/base/util/merge','sap/base/Log','sap/ui/mdc/condition/FilterOperatorUtil'],function(m,L,F){"use strict";var q=function(C,t){var f=function(p){if(C._pQueue===p){delete C._pQueue;}};C._pQueue=C._pQueue instanceof Promise?C._pQueue.then(t):t();C._pQueue.then(f.bind(null,C._pQueue));return C._pQueue;};var g=function(D){return new Promise(function(R,f){sap.ui.require([D],R,f);});};var d=function(C){var o=C&&C.getEngine?C.getEngine().getController(C,"Filter"):null;return o?o.getFilterControl():null;};var a=function(C,o,b,p,i){var f=d(b);if(f&&f.applyConditionsAfterChangesApplied){f.applyConditionsAfterChangesApplied(b);}return q(b,function(){var e,h=null,M=p.modifier;return M.getProperty(b,"filterConditions").then(function(j){e=m({},j);if(e){for(var s in e){if(s===o.name){h=e[s];break;}}}if(!h){e[o.name]=[];h=e[o.name];}var n=F.indexOfCondition(o.condition,h);if(n<0){h.push(o.condition);M.setProperty(b,"filterConditions",e);if(!i){C.setRevertData({name:o.name,condition:o.condition});}return M.getProperty(b,"delegate").then(function(D){return g(D.name);}).then(function(D){var k=D&&(D.getFilterDelegate?D.getFilterDelegate().addCondition:D.addCondition);if(k){return k(o.name,b,p).catch(function(E){L.error("Error during Delegate.addCondition call: "+E);});}}).finally(function(){if(f&&f.addCondition){return f.addCondition(o.name,o.condition);}});}});});};var r=function(C,o,b,p,i){var f=d(b);if(f&&f.applyConditionsAfterChangesApplied){f.applyConditionsAfterChangesApplied(b);}return q(b,function(){var e,h,n=-1,M=p.modifier;return M.getProperty(b,"filterConditions").then(function(j){e=m({},j);if(e){for(var s in e){if(s===o.name){h=e[s];break;}}}if(h&&(h.length>0)){n=F.indexOfCondition(o.condition,h);if(n>=0){h.splice(n,1);M.setProperty(b,"filterConditions",e);if(!i){C.setRevertData({name:o.name,condition:o.condition});}return M.getProperty(b,"delegate").then(function(D){return g(D.name);}).then(function(D){var k=D&&(D.getFilterDelegate?D.getFilterDelegate().removeCondition:D.removeCondition);if(k){return k(o.name,b,p).catch(function(E){L.error("Error during Delegate.removeCondition call: "+E);});}}).finally(function(){if(f&&f.removeCondition){return f.removeCondition(o.name,o.condition);}});}}});});};var c={};c.addCondition={"changeHandler":{applyChange:function(C,o,p){return a(C,C.getContent(),o,p,false);},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return r(C,C.getRevertData(),o,p,true).then(function(){C.resetRevertData();});}},"layers":{"USER":true}};c.removeCondition={"changeHandler":{applyChange:function(C,o,p){return r(C,C.getContent(),o,p,false);},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return a(C,C.getRevertData(),o,p,true).then(function(){C.resetRevertData();});}},"layers":{"USER":true}};return c;});
sap.ui.predefine('sap/ui/mdc/flexibility/FilterBar.flexibility',['./FilterItemFlex','./ConditionFlex','./PropertyInfoFlex'],function(F,C,P){"use strict";return{"addFilter":F.createAddChangeHandler(),"removeFilter":F.createRemoveChangeHandler(),"moveFilter":F.createMoveChangeHandler(),"addCondition":C.addCondition,"removeCondition":C.removeCondition,"addPropertyInfo":P.addPropertyInfo};},true);
sap.ui.predefine('sap/ui/mdc/flexibility/FilterItemFlex',['./ItemBaseFlex'],function(I){"use strict";var f=Object.assign({},I);
f.findItem=function(m,F,n){return F.find(function(o){var s;if(m.targets==="jsControlTree"){s=o.getFieldPath();}else{s=o.getAttribute("conditions");if(s){var e,S=s.indexOf("/conditions/");if(S>=0){s=s.slice(S+12);e=s.indexOf("}");if(e>=0){s=s.slice(0,e);}}}}return s===n;});};
f.beforeApply=function(c){if(c.applyConditionsAfterChangesApplied){c.applyConditionsAfterChangesApplied();}};
f.addFilter=f.createAddChangeHandler();f.removeFilter=f.createRemoveChangeHandler();f.moveFilter=f.createMoveChangeHandler();return f;},true);
sap.ui.predefine('sap/ui/mdc/flexibility/GroupFlex',["sap/ui/fl/apply/api/FlexRuntimeInfoAPI"],function(F){"use strict";var r=function(c){var e=c&&c.isA&&c.isA("sap.ui.mdc.Table")&&c.isTableBound();var E=c&&c.isA&&c.isA("sap.ui.mdc.Chart");if(e||E){if(!c._bWaitForBindChanges){c._bWaitForBindChanges=true;F.waitForChanges({element:c}).then(function(){if(e){c.rebind();}else if(E){c.rebind();}delete c._bWaitForBindChanges;});}}};var f=function(c,C,g,i){if(i){c.resetRevertData();}else{c.setRevertData(g);}r(C);};var a=function(c,C,p,i){return new Promise(function(b,d){var M=p.modifier;var o=i?c.getRevertData():c.getContent();Promise.resolve().then(M.getProperty.bind(M,C,"groupConditions")).then(function(g){var v=g?g.groupLevels:[];var e={name:o.name};v.splice(o.index,0,e);g={groupLevels:v};M.setProperty(C,"groupConditions",g);f(c,C,e,i);b();}).catch(function(e){d(e);});});};var R=function(c,C,p,i){return new Promise(function(b,d){var M=p.modifier;var e=i?c.getRevertData():c.getContent();Promise.resolve().then(M.getProperty.bind(M,C,"groupConditions")).then(function(g){var v=g?g.groupLevels:[];if(!v){d();}var h=v.filter(function(o){return o.name===e.name;});var I=v.indexOf(h[0]);v.splice(I,1);g={groupLevels:v};M.setProperty(C,"groupConditions",g);f(c,C,e,i);b();}).catch(function(E){d(E);});});};var m=function(c,C,p,i){return new Promise(function(b,d){var M=p.modifier;var e=i?c.getRevertData():c.getContent();Promise.resolve().then(M.getProperty.bind(M,C,"groupConditions")).then(function(g){var v=g?g.groupLevels:[];var h=v.filter(function(o){return o.name===e.name;});var O=v.indexOf(h[0]);v.splice(e.index,0,v.splice(O,1)[0]);g={groupLevels:v};M.setProperty(C,"groupConditions",g);f(c,C,e,i);b();}).catch(function(E){d(E);});});};var G={};G.removeGroup={"changeHandler":{applyChange:function(c,C,p){return R(c,C,p,false);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return a(c,C,p,true);}},"layers":{"USER":true}};G.addGroup={"changeHandler":{applyChange:function(c,C,p){return a(c,C,p,false);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return R(c,C,p,true);}},"layers":{"USER":true}};G.moveGroup={"changeHandler":{applyChange:function(c,C,p){return m(c,C,p);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return m(c,C,p,true);}},"layers":{"USER":true}};return G;});
sap.ui.predefine('sap/ui/mdc/flexibility/ItemBaseFlex',["sap/ui/fl/changeHandler/Base","sap/ui/mdc/p13n/Engine","sap/base/Log"],function(F,E,L){"use strict";var I={_bSupressFlickering:true,beforeAddItem:function(D,d,c,p){return D.addItem.call(D,d,c,p);},afterRemoveItem:function(D,i,c,p){return D.removeItem.call(D,i,c,p);},findItem:function(m,d,n){return Promise.resolve();},beforeApply:function(c,C,i){return;},afterApply:function(c,C,i){return;},determineAggregation:function(m,c){var d;return Promise.resolve().then(m.getControlMetadata.bind(m,c)).then(function(M){d=M.getDefaultAggregation().name;return m.getAggregation(c,d);}).then(function(D){return{name:d,items:D};});},_getExistingAggregationItem:function(c,p,C){var m=p.modifier;return this.determineAggregation(m,C).then(function(a){var e,A=a.items;if(A){e=this.findItem(m,A,c.name);}return e;}.bind(this));},_getDelegate:function(d){return new Promise(function(r,R){sap.ui.require([d],r,R);});},_getOperationText:function(i){return i?"reverted ":"applied ";},_getChangeTypeText:function(a){return a?"add":"remove";},_delayInvalidate:function(c){if(c&&c.isInvalidateSuppressed&&!c.isInvalidateSuppressed()){c.iSuppressInvalidate=1;E.getInstance().waitForChanges(c).then(function(){c.iSuppressInvalidate=0;c.invalidate();});}},_applyAdd:function(c,C,p,i){this.beforeApply(c.getChangeType(),C,i);if(this._bSupressFlickering){this._delayInvalidate(C);}var m=p.modifier,o=i?c.getRevertData():c.getContent();var d=o.name;var a;var D;var A;var b=this.determineAggregation(m,C).then(function(r){A=r;D=A.items;a=o.index>-1?o.index:D.length;return this._getExistingAggregationItem(o,p,C);}.bind(this)).then(function(e){if(e){return e;}else{return m.getProperty(C,"delegate").then(function(f){return this._getDelegate(f.name);}.bind(this)).then(function(f){return this.beforeAddItem(f,d,C,p,o);}.bind(this)).then(function(r){return r;});}}.bind(this)).then(function(e){if(!e){throw new Error("No item in"+A.name+"  created. Change to "+this._getChangeTypeText(!i)+"cannot be "+this._getOperationText(i)+"at this moment");}if(D.indexOf(e)<0){m.insertAggregation(C,A.name,e,a);}else{L.warning("The specified change is already existing - change appliance ignored");}return e;}.bind(this)).then(function(){if(i){c.resetRevertData();}else{c.setRevertData({name:o.name,index:a});}this.afterApply(c.getChangeType(),C,i);}.bind(this));return b;},_applyRemove:function(c,C,p,i){this.beforeApply(c.getChangeType(),C,i);if(this._bSupressFlickering){this._delayInvalidate(C);}var m=p.modifier,o=i?c.getRevertData():c.getContent();var a;var b;var d;var e=this.determineAggregation(m,C).then(function(D){a=D;return this._getExistingAggregationItem(o,p,C);}.bind(this)).then(function(r){d=r;if(!d){if(i){throw new Error("No item found in "+a.name+". Change to "+this._getChangeTypeText(i)+"cannot be "+this._getOperationText(i)+"at this moment");}else{L.warning("The specified change is already existing - change appliance ignored");}return-1;}return m.findIndexInParentAggregation(d);}.bind(this)).then(function(f){b=f;return m.removeAggregation(C,a.name,d);}).then(function(){return m.getProperty(C,"delegate").then(function(D){return this._getDelegate(D.name);}.bind(this)).then(function(D){return this.afterRemoveItem(D,d,C,p).then(function(f){if(f&&d){m.destroy(d);}this.afterApply(c.getChangeType(),C,i);}.bind(this));}.bind(this));}.bind(this)).then(function(){if(i){c.resetRevertData();}else{c.setRevertData({name:o.name,index:b});}});return e;},_applyMove:function(c,C,p,i){this.beforeApply(c.getChangeType(),C,i);if(this._bSupressFlickering){this._delayInvalidate(C);}var m=p.modifier;var o=i?c.getRevertData():c.getContent();var a;var A;var O;var b=this.determineAggregation(m,C).then(function(r){A=r;return this._getExistingAggregationItem(o,p,C);}.bind(this)).then(function(r){a=r;}).then(function(){if(!a){throw new Error("No corresponding item in "+A.name+" found. Change to move item cannot be "+this._getOperationText(i)+"at this moment");}return m.findIndexInParentAggregation(a);}.bind(this)).then(function(r){O=r;if(C.moveColumn){return C.moveColumn(a,o.index);}else{return m.removeAggregation(C,A.name,a).then(function(){return m.insertAggregation(C,A.name,a,o.index);});}}).then(function(){if(i){c.resetRevertData();}else{c.setRevertData({name:o.name,index:O});}this.afterApply(c.getChangeType(),C,i);}.bind(this));return b;},_removeIndexFromChange:function(c){delete c.getContent().index;},createChangeHandler:function(a,c,r){return{"changeHandler":{applyChange:function(C,o,p){return a(C,o,p);},completeChangeContent:function(C,m,p){c(C,m,p);},revertChange:function(C,o,p){return r(C,o,p,true);}},"layers":{"USER":true}};},createAddChangeHandler:function(){var a=this._applyAdd.bind(this);var c=function(){};var r=this._applyRemove.bind(this);return this.createChangeHandler(a,c,r);},createRemoveChangeHandler:function(){var a=this._applyRemove.bind(this);var c=this._removeIndexFromChange.bind(this);var r=this._applyAdd.bind(this);return this.createChangeHandler(a,c,r);},createMoveChangeHandler:function(){var a=this._applyMove.bind(this);var c=function(){};var r=a;return this.createChangeHandler(a,c,r);}};return I;});
sap.ui.predefine('sap/ui/mdc/flexibility/Panel.flexibility',['sap/ui/fl/changeHandler/Base','./ItemBaseFlex'],function(B,I){"use strict";var l=Object.assign({},I);
l.findItem=function(m,a,n){return Promise.resolve(sap.ui.getCore().byId(n));};
return{createChanges:function(p,d){var n=d.filter(function(D){return!sap.ui.getCore().byId(D.id);});var N={};return n.reduce(function(r,D){if(!N[D.id]){N[D.id]=true;r.push(D);}return r;},[]).map(function(D){return{selectorElement:p,changeSpecificData:{changeType:"createItem",content:{selector:D.id}}};});},createItem:{layers:{USER:true},changeHandler:{applyChange:function(c,p,P){var s=c.getContent().selector;return Promise.resolve().then(function(){p.getModel();return P.modifier.getProperty(p,"metadataHelperPath");}).then(function(m){return new Promise(function(r,a){sap.ui.require(['sap/ui/mdc/link/PanelItem',m],function(b,M){r(M);},function(e){a(e);});});}).then(function(M){var m=P.modifier;if(m.bySelector(s,P.appComponent,P.view)){return undefined;}var a=M.retrieveAllMetadata(p);var i;var f=function(b,d){var F=-1;d.some(function(o,e){if(o.getId()===b){F=e;return true;}});return F;};var b=m.getControlIdBySelector(s,P.appComponent);return Promise.resolve().then(m.getAggregation.bind(m,p,"items")).then(function(d){i=-1;var o=null;a.some(function(e){var g=f(e.id,d);if(g>-1){i=g;}if(e.id===b){o=e;return true;}});if(!o){return undefined;}return m.createControl("sap.ui.mdc.link.PanelItem",P.appComponent,P.view,o.id,{text:o.text,description:o.description,href:o.href,target:o.target,icon:o.icon,visible:true});}).then(function(o){return m.insertAggregation(p,"items",o,i+1);});});},revertChange:function(c,p,P){var m=P.modifier;if(c.getContent()&&c.getContent().selector){var i=c.getContent().selector.id;var o=m.bySelector(i,P.appComponent,P.view);if(!o){return B.markAsNotApplicable("revertChange of createItem: the item with id "+i+" is not existing and therefore can not be removed.",true);}return Promise.resolve().then(m.removeAggregation.bind(m,p,"items",o));}},completeChangeContent:function(c,s,p){if(s.content){var S=p.modifier.getSelector(s.content.selector,p.appComponent);var C=c.getDefinition();C.content={selector:S};}}}}};},true);
sap.ui.predefine('sap/ui/mdc/flexibility/PanelItem.flexibility',["sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/UnhideControl"],function(H,U){"use strict";return{createChanges:function(d){return d.map(function(D){var c=sap.ui.getCore().byId(D.id);if(!c){throw new Error("Invalid 'id'. For the id "+D.id+" no existing control could be found");}return{selectorElement:c,changeSpecificData:{changeType:D.visible?"revealItem":"hideItem"}};});},revealItem:{layers:{USER:true},changeHandler:U},hideItem:{layers:{USER:true},changeHandler:H}};},true);
sap.ui.predefine('sap/ui/mdc/flexibility/PropertyInfoFlex',[],function(){"use strict";var p={};p.addPropertyInfo={"changeHandler":{applyChange:function(c,C,P){},completeChangeContent:function(c,C,P){},revertChange:function(c,C,P){}},"layers":{"USER":true}};return p;});
sap.ui.predefine('sap/ui/mdc/flexibility/SortFlex',["sap/ui/mdc/p13n/Engine"],function(E){"use strict";var r=function(c){var e=c&&c.isA&&c.isA("sap.ui.mdc.Table")&&c.isTableBound();var b=c&&c.isA&&(c.isA("sap.ui.mdc.Chart"));if(e||b){if(!c._bWaitForBindChanges){c._bWaitForBindChanges=true;E.getInstance().waitForChanges(c).then(function(){if(e){c.rebind();}else if(b){c.rebind();}delete c._bWaitForBindChanges;});}}};var f=function(c,C,s,i){if(i){c.resetRevertData();}else{c.setRevertData(s);}r(C);};var a=function(c,C,p,i){return new Promise(function(b,d){var M=p.modifier;var o=i?c.getRevertData():c.getContent();Promise.resolve().then(M.getProperty.bind(M,C,"sortConditions")).then(function(s){var v=s?s.sorters:[];var e={name:o.name,descending:o.descending};v.splice(o.index,0,e);s={sorters:v};M.setProperty(C,"sortConditions",s);f(c,C,e,i);b();}).catch(function(e){d(e);});});};var R=function(c,C,p,i){return new Promise(function(b,d){var M=p.modifier;var e=i?c.getRevertData():c.getContent();Promise.resolve().then(M.getProperty.bind(M,C,"sortConditions")).then(function(s){var v=s?s.sorters:[];if(!v){d();}var F=v.filter(function(o){return o.name===e.name;});var I=v.indexOf(F[0]);v.splice(I,1);s={sorters:v};M.setProperty(C,"sortConditions",s);f(c,C,e,i);b();}).catch(function(o){d(o);});});};var m=function(c,C,p,i){return new Promise(function(b,d){var M=p.modifier;var e=i?c.getRevertData():c.getContent();Promise.resolve().then(M.getProperty.bind(M,C,"sortConditions")).then(function(s){var v=s?s.sorters:[];var F=v.filter(function(o){return o.name===e.name;});var O=v.indexOf(F[0]);v.splice(e.index,0,v.splice(O,1)[0]);s={sorters:v};M.setProperty(C,"sortConditions",s);f(c,C,e,i);b();}).catch(function(o){d(o);});});};var S={};S.removeSort={"changeHandler":{applyChange:function(c,C,p){return R(c,C,p,false);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return a(c,C,p,true);}},"layers":{"USER":true}};S.addSort={"changeHandler":{applyChange:function(c,C,p){return a(c,C,p,false);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return R(c,C,p,true);}},"layers":{"USER":true}};S.moveSort={"changeHandler":{applyChange:function(c,C,p){return m(c,C,p);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){return m(c,C,p,true);}},"layers":{"USER":true}};return S;});
sap.ui.predefine('sap/ui/mdc/flexibility/Table.flexibility',['./SortFlex','./ColumnFlex','./ConditionFlex','./GroupFlex','./AggregateFlex','./AggregationConfigFlex'],function(S,C,a,G,A,b){"use strict";return{"hideControl":"default","unhideControl":"default",addColumn:C.createAddChangeHandler(),removeColumn:C.createRemoveChangeHandler(),moveColumn:C.createMoveChangeHandler(),removeSort:S.removeSort,addSort:S.addSort,moveSort:S.moveSort,addCondition:a.addCondition,removeCondition:a.removeCondition,removeGroup:G.removeGroup,addGroup:G.addGroup,moveGroup:G.moveGroup,removeAggregate:A.removeAggregate,addAggregate:A.addAggregate,setColumnWidth:b.createSetChangeHandler({aggregation:"columns",property:"width"})};});
sap.ui.predefine('sap/ui/mdc/flp/FlpLinkDelegate',["sap/ui/mdc/LinkDelegate","sap/ui/mdc/link/LinkItem","sap/ui/mdc/link/Factory","sap/ui/mdc/link/Log","sap/base/Log","sap/base/util/isPlainObject","sap/ui/mdc/link/SemanticObjectMapping","sap/ui/mdc/link/SemanticObjectMappingItem","sap/ui/mdc/link/SemanticObjectUnavailableAction"],function(L,a,F,b,S,i,c,d,e){"use strict";var f=Object.assign({},L);
f.fetchLinkItems=function(p,B,I){var C=B?B.getObject(B.getPath()):undefined;var g=[];if(I){I.initialize(f._getSemanticObjects(p));g.forEach(function(o){I.addIntent(b.IntentType.API,{text:o.getText(),intent:o.getHref()});});}var s=f._calculateSemanticAttributes(C,p,I);return f._retrieveNavigationTargets("",s,p,I).then(function(l,o){return Promise.resolve(l);});};
f.fetchLinkType=function(p){var s={};var P=null;var h=function(g){return g.filter(function(j){return!s[j];}).length===0;};var A=function(g){return g.some(function(j){return s[j]&&(s[j].exists===true);});};var r=function(){if(!P){P=new Promise(function(g){var C=F.getService("CrossApplicationNavigation");if(!C){S.error("FlpLinkDelegate: Service 'CrossApplicationNavigation' could not be obtained");g({});return;}C.getDistinctSemanticObjects().then(function(D){D.forEach(function(j){s[j]={exists:true};});P=null;return g(s);},function(){S.error("FlpLinkDelegate: getDistinctSemanticObjects() of service 'CrossApplicationNavigation' failed");return g({});});});}return P;};var H=function(g){if(h(g)){return Promise.resolve(A(g));}return r().then(function(){return A(g);});};if(p&&p.semanticObjects){return H(p.semanticObjects).then(function(g){return Promise.resolve({type:g?2:0,directLink:undefined});});}else{throw new Error("no payload or semanticObjects found");}};
f._calculateSemanticAttributes=function(C,p,I){var s=f._getSemanticObjects(p);var m=f._convertSemanticObjectMapping(f._getSemanticObjectMappings(p));if(!s.length){s.push("");}var r={};s.forEach(function(g){if(I){I.addContextObject(g,C);}r[g]={};for(var A in C){var o=null,t=null;if(I){o=I.getSemanticObjectAttribute(g,A);if(!o){o=I.createAttributeStructure();I.addSemanticObjectAttribute(g,A,o);}}if(C[A]===undefined||C[A]===null){if(o){o.transformations.push({value:undefined,description:"\u2139 Undefined and null values have been removed in FlpLinkDelegate."});}continue;}if(i(C[A])){if(o){o.transformations.push({value:undefined,description:"\u2139 Plain objects has been removed in FlpLinkDelegate."});}continue;}var h=(m&&m[g]&&m[g][A])?m[g][A]:A;if(o&&A!==h){t={value:undefined,description:"\u2139 The attribute "+A+" has been renamed to "+h+" in FlpLinkDelegate.",reason:"\ud83d\udd34 A com.sap.vocabularies.Common.v1.SemanticObjectMapping annotation is defined for semantic object "+g+" with source attribute "+A+" and target attribute "+h+". You can modify the annotation if the mapping result is not what you expected."};}if(r[g][h]){S.error("FlpLinkDelegate: The attribute "+A+" can not be renamed to the attribute "+h+" due to a clash situation. This can lead to wrong navigation later on.");}r[g][h]=C[A];if(o){if(t){o.transformations.push(t);var j=I.createAttributeStructure();j.transformations.push({value:C[A],description:"\u2139 The attribute "+h+" with the value "+C[A]+" has been added due to a mapping rule regarding the attribute "+A+" in FlpLinkDelegate."});I.addSemanticObjectAttribute(g,h,j);}}}});return r;};
f._retrieveNavigationTargets=function(A,s,p,I){if(!p.semanticObjects){return new Promise(function(r){r([]);});}var g=p.semanticObjects;var h=p.sourceControl;var N={ownNavigation:undefined,availableActions:[]};return sap.ui.getCore().loadLibrary('sap.ui.fl',{async:true}).then(function(){return new Promise(function(r){sap.ui.require(['sap/ui/fl/Utils'],function(U){var C=F.getService("CrossApplicationNavigation");var u=F.getService("URLParsing");if(!C||!u){S.error("FlpLinkDelegate: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained");return r(N.availableActions,N.ownNavigation);}var o=sap.ui.getCore().byId(h);var j=U.getAppComponentForControl(o);var P=g.map(function(k){return[{semanticObject:k,params:s?s[k]:undefined,appStateKey:A,ui5Component:j,sortResultsBy:"text"}];});return new Promise(function(){C.getLinks(P).then(function(l){if(!l||!l.length){return r(N.availableActions,N.ownNavigation);}var k=f._getSemanticObjectUnavailableActions(p);var m=f._convertSemanticObjectUnavailableAction(k);var q=C.hrefForExternal();if(q&&q.indexOf("?")!==-1){q=q.split("?")[0];}if(q){q+="?";}var t=function(w,x){return!!m&&!!m[w]&&m[w].indexOf(x)>-1;};var v=function(w){var x=u.parseShellHash(w.intent);if(t(x.semanticObject,x.action)){return;}var H=C.hrefForExternal({target:{shellHash:w.intent}},j);if(w.intent&&w.intent.indexOf(q)===0){N.ownNavigation=new a({href:H,text:w.text});return;}var y=new a({key:(x.semanticObject&&x.action)?(x.semanticObject+"-"+x.action):undefined,text:w.text,description:undefined,href:H,icon:undefined,initiallyVisible:(w.tags&&w.tags.indexOf("superiorAction")>-1)});N.availableActions.push(y);if(I){I.addSemanticObjectIntent(x.semanticObject,{intent:y.getHref(),text:y.getText()});}};for(var n=0;n<g.length;n++){l[n][0].forEach(v);}return r(N.availableActions,N.ownNavigation);},function(){S.error("FlpLinkDelegate: '_retrieveNavigationTargets' failed executing getLinks method");return r(N.availableActions,N.ownNavigation);});});});});});};
f._getSemanticObjects=function(p){return p.semanticObjects?p.semanticObjects:[];};
f._getSemanticObjectUnavailableActions=function(p){var s=[];if(p.semanticObjectUnavailableActions){p.semanticObjectUnavailableActions.forEach(function(o){s.push(new e({semanticObject:o.semanticObject,actions:o.actions}));});}return s;};
f._getSemanticObjectMappings=function(p){var s=[];var g=[];if(p.semanticObjectMappings){p.semanticObjectMappings.forEach(function(o){g=[];if(o.items){o.items.forEach(function(h){g.push(new d({key:h.key,value:h.value}));});}s.push(new c({semanticObject:o.semanticObject,items:g}));});}return s;};
f._convertSemanticObjectMapping=function(s){if(!s.length){return undefined;}var m={};s.forEach(function(o){if(!o.getSemanticObject()){throw Error("FlpLinkDelegate: 'semanticObject' property with value '"+o.getSemanticObject()+"' is not valid");}m[o.getSemanticObject()]=o.getItems().reduce(function(M,I){M[I.getKey()]=I.getValue();return M;},{});});return m;};
f._convertSemanticObjectUnavailableAction=function(s){if(!s.length){return undefined;}var m={};s.forEach(function(o){if(!o.getSemanticObject()){throw Error("FlpLinkDelegate: 'semanticObject' property with value '"+o.getSemanticObject()+"' is not valid");}m[o.getSemanticObject()]=o.getActions();});return m;};
return f;});
sap.ui.predefine('sap/ui/mdc/link/ContactDetails',["sap/ui/core/Control","./ContactDetailsRenderer","sap/ui/core/Title","sap/m/VBox","sap/m/Text","sap/m/Link","sap/m/Label","sap/m/Image","sap/ui/layout/form/SimpleForm"],function(C,c,T,V,d,L,e,I,S){"use strict";
var f=C.extend("sap.ui.mdc.link.ContactDetails",{
metadata:{library:"sap.ui.mdc",defaultAggregation:"items",aggregations:{items:{type:"sap.ui.mdc.link.ContactDetailsItem",multiple:true,singularName:"item"},_content:{type:"sap.m.VBox",visibility:"hidden",multiple:false}}},
renderer:c
});
var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");
f.prototype.applySettings=function(){C.prototype.applySettings.apply(this,arguments);this._createContent();};
f.prototype._createContent=function(){var s=[];this.getItems().forEach(function(o){var t=new T({text:o.getSectionTitle()});var i=new I({src:o.getPhoto(),visible:!!o.getPhoto(),decorative:false,width:"5rem",height:"5rem"});var l=new e({text:"",labelFor:i,visible:!!o.getPhoto()});var a=new d({text:o.getFormattedName(),visible:!!o.getFormattedName()});var b=new e({text:r.getText("info.POPOVER_CONTACT_SECTION_NAME"),labelFor:a,visible:!!o.getFormattedName()});var g=new d({text:o.getRole(),visible:!!o.getRole()});var h=new e({text:r.getText("info.POPOVER_CONTACT_SECTION_ROLE"),labelFor:g,visible:!!o.getRole()});var j=new d({text:o.getTitle(),visible:!!o.getTitle()});var k=new e({text:r.getText("info.POPOVER_CONTACT_SECTION_JOBTITLE"),labelFor:j,visible:!!o.getTitle()});var m=new d({text:o.getOrg(),visible:!!o.getOrg()});var n=new e({text:r.getText("info.POPOVER_CONTACT_SECTION_DEPARTMENT"),labelFor:m,visible:!!o.getOrg()});var p=new S({editable:false,layout:"ColumnLayout",content:[t,l,i,b,a,h,g,k,j,n,m]});this._addEmailsToSimpleForm(o,p,r);this._addPhonesToSimpleForm(o,p,r);this._addAddressesToSimpleForm(o,p,r);s.push(p);}.bind(this));this.setAggregation("_content",new V({items:s}));};
f.prototype._addEmailsToSimpleForm=function(o,s,r){o.getEmails().filter(function(a){return!a.processed&&!!a.getTypes()&&(a.getTypes().indexOf("preferred")>-1||a.getTypes().indexOf("work")>-1);}).sort(function(a,b){if(a.getTypes().indexOf("preferred")>-1&&b.getTypes().indexOf("preferred")<0){return-1;}if(b.getTypes().indexOf("preferred")>-1&&a.getTypes().indexOf("preferred")<0){return 1;}return 0;}).forEach(function(a){this._addLabeledLink("email",r.getText("info.POPOVER_CONTACT_SECTION_EMAIL"),a,s);a.processed=true;},this);};
f.prototype._addPhonesToSimpleForm=function(o,s,r){o.getPhones().filter(function(a){return!a.processed&&!!a.getTypes()&&a.getTypes().indexOf("work")>-1;}).sort(function(a,b){if(a.getTypes().indexOf("preferred")>-1){return-1;}if(b.getTypes().indexOf("preferred")>-1){return 1;}return 0;}).forEach(function(a){this._addLabeledLink("phone",r.getText("info.POPOVER_CONTACT_SECTION_PHONE"),a,s);a.processed=true;},this);o.getPhones().filter(function(a){return!a.processed&&!!a.getTypes()&&a.getTypes().indexOf("cell")>-1;}).sort(function(a,b){if(a.getTypes().indexOf("preferred")>-1){return-1;}if(b.getTypes().indexOf("preferred")>-1){return 1;}return 0;}).forEach(function(a){this._addLabeledLink("phone",r.getText("info.POPOVER_CONTACT_SECTION_MOBILE"),a,s);a.processed=true;},this);o.getPhones().filter(function(a){return!a.processed&&!!a.getTypes()&&a.getTypes().indexOf("fax")>-1;}).sort(function(a,b){if(a.getTypes().indexOf("preferred")>-1){return-1;}if(b.getTypes().indexOf("preferred")>-1){return 1;}return 0;}).forEach(function(a){this._addLabeledLink("phone",r.getText("info.POPOVER_CONTACT_SECTION_FAX"),a,s);a.processed=true;},this);o.getPhones().filter(function(a){return!a.processed&&!!a.getTypes()&&a.getTypes().indexOf("preferred")>-1;}).forEach(function(a){this._addLabeledLink("phone",r.getText("info.POPOVER_CONTACT_SECTION_PHONE"),a,s);a.processed=true;},this);};
f.prototype._addAddressesToSimpleForm=function(o,s,r){o.getAddresses().filter(function(a){return!a.processed&&!!a.getTypes()&&(a.getTypes().indexOf("preferred")>-1||a.getTypes().indexOf("work")>-1);}).sort(function(a,b){if(a.getTypes().indexOf("preferred")>-1&&b.getTypes().indexOf("preferred")<0){return-1;}if(b.getTypes().indexOf("preferred")>-1&&a.getTypes().indexOf("preferred")<0){return 1;}return 0;}).forEach(function(a){this._addLabeledAddress(a,s,r);a.processed=true;},this);};
f.prototype._addLabeledAddress=function(o,s,r){var a=function(g,h,i,R,j){var v=[];if(g){v.push(g);}if(h&&i){v.push(h+" "+i);}else{if(h){v.push(h);}if(i){v.push(i);}}if(R){v.push(R);}if(j){v.push(j);}return v.join(', ');};var A=function(g,h,i,R,j){return!!(g||h||i||R||j);};var p;var b;if(o.getBindingPath("street")&&o.getBindingPath("code")&&o.getBindingPath("locality")&&o.getBindingPath("region")&&o.getBindingPath("country")){p=[{path:o.getBindingPath("street")?o.getBindingPath("street"):"$notExisting"},{path:o.getBindingPath("code")?o.getBindingPath("code"):"$notExisting"},{path:o.getBindingPath("locality")?o.getBindingPath("locality"):"$notExisting"},{path:o.getBindingPath("region")?o.getBindingPath("region"):"$notExisting"},{path:o.getBindingPath("country")?o.getBindingPath("country"):"$notExisting"}];b=new d();b.bindProperty("text",{parts:p,formatter:a});b.bindProperty("visible",{parts:p,formatter:A});}else{b=new d({text:a(o.getStreet(),o.getCode(),o.getLocality(),o.getRegion(),o.getCountry()),visible:A(o.getStreet(),o.getCode(),o.getLocality(),o.getRegion(),o.getCountry())});}var l=new e({text:r.getText("info.POPOVER_CONTACT_SECTION_ADR"),labelFor:b.getId()});s.addContent(l);s.addContent(b);};
f.prototype._addLabeledLink=function(l,s,o,a){var b;if(o.getBindingPath("uri")){b=new L();b.bindProperty("href",{path:o.getBindingPath("uri"),formatter:function(v){return(l==="email"?"mailto:":"tel:")+v;}});b.bindProperty("text",{path:o.getBindingPath("uri")});b.bindProperty("visible",{path:o.getBindingPath("uri"),formatter:function(v){return!!v;}});}else{b=new L({href:l==="email"?"mailto:":"tel:"+o.getUri(),text:o.getUri(),visible:!!o.getUri()});}var g=new e({text:s,labelFor:b.getId()});a.addContent(g);a.addContent(b);};
return f;});
sap.ui.predefine('sap/ui/mdc/link/ContactDetailsAddressItem',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.ui.mdc.link.ContactDetailsAddressItem",{metadata:{library:"sap.ui.mdc",properties:{street:{type:"string"},code:{type:"string"},locality:{type:"string"},region:{type:"string"},country:{type:"string"},types:{type:"sap.ui.mdc.ContactDetailsAddressType[]",defaultValue:[]}}}});
return C;});
sap.ui.predefine('sap/ui/mdc/link/ContactDetailsEmailItem',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.ui.mdc.link.ContactDetailsEmailItem",{metadata:{library:"sap.ui.mdc",properties:{uri:{type:"string"},types:{type:"sap.ui.mdc.ContactDetailsEmailType[]",defaultValue:[]}}}});
return C;});
sap.ui.predefine('sap/ui/mdc/link/ContactDetailsItem',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.ui.mdc.link.ContactDetailsItem",{metadata:{library:"sap.ui.mdc",properties:{sectionTitle:{type:"string",defaultValue:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("info.POPOVER_CONTACT_SECTION_TITLE")},photo:{type:"string"},formattedName:{type:"string"},role:{type:"string"},title:{type:"string"},org:{type:"string"},parameters:{type:"object"}},defaultAggregation:"emails",aggregations:{emails:{type:"sap.ui.mdc.link.ContactDetailsEmailItem",multiple:true,singularName:"email"},phones:{type:"sap.ui.mdc.link.ContactDetailsPhoneItem",multiple:true,singularName:"phone"},addresses:{type:"sap.ui.mdc.link.ContactDetailsAddressItem",multiple:true,singularName:"address"}}}});
return C;});
sap.ui.predefine('sap/ui/mdc/link/ContactDetailsPhoneItem',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.ui.mdc.link.ContactDetailsPhoneItem",{metadata:{library:"sap.ui.mdc",properties:{uri:{type:"string"},types:{type:"sap.ui.mdc.ContactDetailsPhoneType[]",defaultValue:[]}}}});
return C;});
sap.ui.predefine('sap/ui/mdc/link/ContactDetailsRenderer',[],function(){"use strict";var C={apiVersion:2};
C.render=function(r,c){var o=c.getAggregation("_content");r.openStart("div",c);r.openEnd();r.renderControl(o);r.close("div");};
return C;});
sap.ui.predefine('sap/ui/mdc/link/Factory',[],function(){"use strict";return{getService:function(s){switch(s){case"CrossApplicationNavigation":return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");case"URLParsing":return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("URLParsing");default:return null;}}};});
sap.ui.predefine('sap/ui/mdc/link/LinkItem',['sap/ui/core/Element'],function(E){"use strict";
var L=E.extend("sap.ui.mdc.link.LinkItem",{metadata:{library:"sap.ui.mdc",properties:{key:{type:"string"},text:{type:"string"},description:{type:"string"},href:{type:"string"},target:{type:"string",defaultValue:"_self"},icon:{type:"string"},initiallyVisible:{type:"boolean",defaultValue:false}}}});
return L;});
sap.ui.predefine('sap/ui/mdc/link/Log',['sap/ui/base/Object','sap/base/util/isEmptyObject'],function(B,c){"use strict";
var L=B.extend("sap.ui.mdc.link.Log",{constructor:function(){this.reset();}});
L.prototype.reset=function(){this._oLog={semanticObjects:{},intents:{api:[],breakout:[]}};return this;};
L.prototype.isEmpty=function(){return!(!c(this._oLog.semanticObjects)||this._oLog.intents.breakout.length||this._oLog.intents.api.length);};
L.prototype.initialize=function(s){this.reset();s.forEach(function(S){this.createSemanticObjectStructure(S);}.bind(this));};
L.prototype.addContextObject=function(s,C){for(var a in C){var A=this.createAttributeStructure();this.addSemanticObjectAttribute(s,a,A);A.transformations.push({value:C[a],description:"\u2139 The attribute "+a+" with the value "+C[a]+" is initially taken from the binding context."});}};
L.prototype.createSemanticObjectStructure=function(s){this._oLog.semanticObjects[s]={attributes:{},intents:[]};};
L.prototype.createAttributeStructure=function(){return{transformations:[]};};
L.prototype.addSemanticObjectIntent=function(s,i){if(!this._oLog.semanticObjects[s]){this.createSemanticObjectStructure(s);}this._oLog.semanticObjects[s].intents.push(i);return this;};
L.prototype.addSemanticObjectAttribute=function(s,a,A){if(!this._oLog.semanticObjects[s]){this.createSemanticObjectStructure(s);}this._oLog.semanticObjects[s].attributes[a]=A;return this;};
L.prototype.getSemanticObjectAttribute=function(s,a){return(this._oLog.semanticObjects[s]&&this._oLog.semanticObjects[s].attributes[a])?this._oLog.semanticObjects[s].attributes[a]:undefined;};
L.prototype.addIntent=function(t,i){switch(t){case L.IntentType.API:this._oLog.intents.api.push(i);break;case L.IntentType.BREAKOUT:this._oLog.intents.breakout.push(i);break;default:throw"Intent type "+t+" is not supported yet.";}return this;};
L.prototype.getFormattedText=function(){var g=function(v){return(typeof v==="string")?"'"+v+"'":v;};var r=function(a,A){var o={value:"\u2022\u0020"+A+" : ",description:""};a.forEach(function(b,I){o.value=o.value+(I>0?"\u0020 \u279c \u0020":"")+g(b["value"]);o.description=o.description+"\u2026 \u0020 "+b["description"]+"\n";if(b["reason"]){o.description=o.description+"\u2026 \u0020 "+b["reason"]+"\n";}});return o;};var R=function(I){var a="";I.forEach(function(o){a+="\u2022\u0020'"+o.text+"' : "+o.intent+"\n";});return a;};var s=function(e){try{var l=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=='undefined'){var C=window.Intl.Collator(l,{numeric:true});e.sort(function(a,b){return C.compare(a,b);});}else{e.sort(function(a,b){return a.localeCompare(b,l,{numeric:true});});}}catch(E){}};var t="";for(var S in this._oLog.semanticObjects){t=t+"\n\u2b24"+" "+S+"\n";if(c(this._oLog.semanticObjects[S].attributes)){t+="\u2026\u2026 \u0020\ud83d\udd34 No semantic attributes available for semantic object "+S+". Please be aware "+"that without semantic attributes no URL parameters can be created.\n";}else{var d=Object.keys(this._oLog.semanticObjects[S].attributes);s(d);for(var i=0;i<d.length;i++){var A=d[i];var T=r(this._oLog.semanticObjects[S].attributes[A].transformations,A);t+=T.value+"\n";t+=T.description;}}if(this._oLog.semanticObjects[S].intents.length){t+="\nIntents returned by FLP for semantic object "+S+":\n";t+=R(this._oLog.semanticObjects[S].intents);}}if(this._oLog.intents.api.length){t+="\nIntents defined in items aggregation:\n";t+=R(this._oLog.intents.api);}if(this._oLog.intents.breakout.length){t+="\nIntents returned by modifyItemsCallback callback:\n";t+=R(this._oLog.intents.breakout);}return t;};
L.prototype._getLogFormattedText=function(){return(!this.isEmpty())?"---------------------------------------------\nsap.ui.mdc.Link:\nBelow you can see detailed information regarding semantic attributes which have been calculated for one or more semantic objects defined in a Link control. Semantic attributes are used to create the URL parameters. Additionally you can see all links containing the URL parameters.\n"+this.getFormattedText():"No logging data available";};
L.IntentType={BREAKOUT:"Breakout",API:"Api"};return L;});
sap.ui.predefine('sap/ui/mdc/link/Panel',["sap/ui/core/Control","./PanelRenderer","sap/ui/layout/VerticalLayout","sap/base/Log","sap/ui/layout/HorizontalLayout","sap/m/HBox","sap/m/VBox","sap/m/ImageContent","sap/m/Link","sap/m/Label","sap/m/Text","sap/m/Button","sap/m/FlexItemData","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode","sap/ui/base/ManagedObjectObserver","sap/ui/mdc/p13n/subcontroller/LinkPanelController","sap/ui/mdc/p13n/Engine","sap/ui/mdc/mixin/AdaptationMixin","sap/ui/mdc/link/PanelItem"],function(C,P,V,L,H,a,b,I,c,d,T,B,F,J,e,M,f,E,A,g){"use strict";
var h=C.extend("sap.ui.mdc.link.Panel",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/link/Panel.designtime",defaultAggregation:"items",properties:{enablePersonalization:{type:"boolean",defaultValue:true,invalidate:true},metadataHelperPath:{type:"string"},beforeNavigationCallback:{type:"function"}},aggregations:{items:{type:"sap.ui.mdc.link.PanelItem",multiple:true,singularName:"item"},additionalContent:{type:"sap.ui.core.Control",multiple:true},_content:{type:"sap.ui.layout.VerticalLayout",visibility:"hidden",multiple:false}},events:{beforeSelectionDialogOpen:{},afterSelectionDialogClose:{}}},
renderer:P
});
h.prototype.init=function(){C.prototype.init.call(this);E.getInstance().registerAdaptation(this,{controller:{LinkItems:f}});A.call(h.prototype);E.getInstance().defaultProviderRegistry.attach(this,"Global");sap.ui.require([this.getMetadataHelperPath()||"sap/ui/mdc/Link"],function(i){this._oMetadataHelper=i;}.bind(this));var m=new J({countAdditionalContent:0,countItemsWithIcon:0,countItemsWithoutIcon:0,showResetEnabled:false,runtimeItems:[],contentTitle:""});m.setDefaultBindingMode(e.TwoWay);m.setSizeLimit(1000);this.setModel(m,"$sapuimdclinkPanel");this._oObserver=new M(_.bind(this));this._oObserver.observe(this,{properties:["enablePersonalization"],aggregations:["items","additionalContent"]});};
var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");
h.prototype.applySettings=function(){this._createContent();C.prototype.applySettings.apply(this,arguments);};
h.prototype.exit=function(o){if(this._oObserver){this._oObserver.disconnect();this._oObserver=null;}if(this._oMetadataHelper){this._oMetadataHelper=null;}};
h.prototype._createContent=function(){var v=new V({content:[this._createAdditionalContentArea(),this._createSeparator(),this._createLinkArea(),this._createFooterArea()]});this.setAggregation("_content",v);};
h.prototype._createAdditionalContentArea=function(){var o=new b({fitContainer:false,items:this.getAdditionalContent()});return o;};
h.prototype._createSeparator=function(){var s=new b({fitContainer:false,visible:{parts:[{path:"$sapuimdclinkPanel>/countAdditionalContent"},{path:"$sapuimdcLink>/metadata"}],formatter:function(i,m){return i>0&&m.length>0;}}});s.addStyleClass("mdcbaseinfoPanelSeparator");s.setModel(this._getInternalModel(),"$sapuimdclinkPanel");s.setModel(this.getModel("$sapuimdcLink"),"$sapuimdcLink");return s;};
h.prototype._createLinkArea=function(){var l=new b({fitContainer:false,items:{path:"$sapuimdclinkPanel>/runtimeItems",templateShareable:false,factory:this._fnLinkItemFactory.bind(this)}});l.addStyleClass("mdcbaseinfoPanelSectionLinks");l.setModel(this._getInternalModel(),"$sapuimdclinkPanel");return l;};
h.prototype._fnLinkItemFactory=function(i,o){var j=new I({src:"{$sapuimdclinkPanel>icon}",visible:{path:"$sapuimdclinkPanel>icon",formatter:function(s){return!!s;}}});var l=new c({text:"{$sapuimdclinkPanel>text}",href:"{$sapuimdclinkPanel>href}",target:"{$sapuimdclinkPanel>target}",visible:{path:"$sapuimdclinkPanel>href",formatter:function(s){return!!s;}},press:this.onPressLink.bind(this),wrapping:true});var k=new d({text:"{$sapuimdclinkPanel>text}",visible:{path:"$sapuimdclinkPanel>href",formatter:function(s){return!s;}},wrapping:true});var t=new T({text:"{$sapuimdclinkPanel>description}",visible:{path:"$sapuimdclinkPanel>description",formatter:function(D){return!!D;}},wrapping:true});var v=new b({items:[l,k,t]});var m=new a({layoutData:new F({styleClass:o.getProperty("description")?"mdcbaseinfoPanelItemsGroup":"mdcbaseinfoPanelItemsWithoutGroup"}),items:[j,v]});var p=new H({visible:"{$sapuimdclinkPanel>visible}",content:[m]});p.addStyleClass("mdcbaseinfoPanelListItem");return p;};
h.prototype._createFooterArea=function(){var R=new B(this.getId()+"--idSectionPersonalizationButton",{type:"Transparent",text:r.getText("info.POPOVER_DEFINE_LINKS"),press:this.onPressLinkPersonalization.bind(this)});var o=new a({visible:{path:"$sapuimdcLink>/metadata",formatter:function(m){return m.length>0;}},justifyContent:"End",items:[R]});o.addStyleClass("mdcbaseinfoPanelPersonalizationButton");return o;};
h.prototype.onPressLink=function(o){if(this.getBeforeNavigationCallback()&&o.getSource()&&o.getSource().getTarget()!=="_blank"){var s=o.getSource().getHref();o.preventDefault();this.getBeforeNavigationCallback()(o).then(function(n){if(n){h.navigate(s);}});}};
h.oNavigationPromise=undefined;
h.navigate=function(s){if(s.indexOf("#")===0&&sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getServiceAsync){if(!h.oNavigationPromise){h.oNavigationPromise=sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(o){o.toExternal({target:{shellHash:s.substring(1)}});h.oNavigationPromise=undefined;});}}else{window.location.href=s;}};
h.prototype.onPressLinkPersonalization=function(){sap.ui.require([this.getMetadataHelperPath()||"sap/ui/mdc/Link"],function(i){var m=this._getInternalModel();var j=i.retrieveBaseline(this);var k=j;var u=function(s){var S=s._oListControl.getItems().filter(function(o){return o.getSelected();});S=S.map(function(o){var n=s._getP13nModel().getProperty(o.getBindingContext(s.P13N_MODEL).sPath);return{id:n.name,description:n.description,href:n.href,target:n.target,text:n.text,visible:n.visible};});var l=h._showResetButtonEnabled(k,S);this._getInternalModel().setProperty("/showResetEnabled",l);};var p=this.getParent();p.setModal(true);E.getInstance().uimanager.show(this,"LinkItems").then(function(D){var R=D.getCustomHeader().getContentRight()[0];var s=D.getContent()[0];R.setModel(m,"$sapuimdclinkPanel");R.bindProperty("enabled",{path:'$sapuimdclinkPanel>/showResetEnabled'});u.call(this,s);s.attachChange(function(o){u.call(this,s);}.bind(this));D.attachAfterClose(function(){p.setModal(false);});}.bind(this));}.bind(this));};
h._showResetButtonEnabled=function(m,s){var S=false;var i=h._getVisibleItems(s);var j=h._getVisibleItems(m);if(s.length!==m.length){S=true;}else if(j.length&&i.length){var k=h._allItemsIncludedInArray(j,i);var l=h._allItemsIncludedInArray(i,j);S=!k||!l;}return S;};
h._allItemsIncludedInArray=function(m,i){var j=true;m.forEach(function(o){var k=h._getItemsById(o.id,i);if(k.length===0){j=false;}});return j;};
h._getItemsById=function(i,m){return m.filter(function(o){return o.id===i;});};
h._getItemById=function(i,j){return h._getItemsById(i,j)[0];};
h._getVisibleItems=function(m){return m.filter(function(i){return i.id!==undefined&&i.visible;});};
h.prototype._getInternalModel=function(){return this.getModel("$sapuimdclinkPanel");};
h.prototype._propagateDefaultIcon=function(s){if(!s){return;}var m=this._getInternalModel();m.getProperty("/runtimeItems").forEach(function(o,i){if(o.icon){return;}m.setProperty("/runtimeItems/"+i+"/icon","sap-icon://chain-link");});};
function _(o){var m=this._getInternalModel();if(o.object.isA("sap.ui.mdc.link.Panel")){switch(o.name){case"additionalContent":var i=o.child?[o.child]:o.children;i.forEach(function(l){switch(o.mutation){case"insert":this.getAggregation("_content").getContent()[0].addItem(l);break;case"remove":break;default:L.error("Mutation '"+o.mutation+"' is not supported yet.");}}.bind(this));m.setProperty("/countAdditionalContent",i.length);break;case"items":var j=o.child?[o.child]:o.children;j.forEach(function(p){var R=m.getProperty("/runtimeItems/");switch(o.mutation){case"insert":m.setProperty("/countItemsWithIcon",p.getIcon()?m.getProperty("/countItemsWithIcon")+1:m.getProperty("/countItemsWithIcon"));m.setProperty("/countItemsWithoutIcon",p.getIcon()?m.getProperty("/countItemsWithoutIcon"):m.getProperty("/countItemsWithoutIcon")+1);R.splice(this.indexOfItem(p),0,p.getJson());m.setProperty("/runtimeItems",R);this._propagateDefaultIcon(m.getProperty("/countItemsWithIcon")>0&&m.getProperty("/countItemsWithoutIcon")>0);this._oObserver.observe(p,{properties:["visible"]});break;case"remove":m.setProperty("/countItemsWithIcon",p.getIcon()?m.getProperty("/countItemsWithIcon")-1:m.getProperty("/countItemsWithIcon"));m.setProperty("/countItemsWithoutIcon",p.getIcon()?m.getProperty("/countItemsWithoutIcon"):m.getProperty("/countItemsWithoutIcon")-1);var l=R.find(function(n){return n.id===p.getId();});R.splice(R.indexOf(l),1);m.setProperty("/runtimeItems",R);this._propagateDefaultIcon(m.getProperty("/countItemsWithIcon")>0&&m.getProperty("/countItemsWithoutIcon")>0);this._oObserver.unobserve(p);p.destroy();this.invalidate();break;default:L.error("Mutation '"+o.mutation+"' is not supported yet.");}},this);break;case"enablePersonalization":this._getPersonalizationButton().setVisible(o.current);break;default:L.error("The property or aggregation '"+o.name+"' has not been registered.");}}else if(o.object.isA("sap.ui.mdc.link.PanelItem")){switch(o.name){case"visible":var p=o.object;var k=this.indexOfItem(p);if(p.getVisibleChangedByUser()){m.setProperty("/runtimeItems/"+k+"/visible",p.getVisible());}else{m.setProperty("/baselineItems/"+k+"/visible",p.getVisible());m.setProperty("/runtimeItems/"+k+"/visible",p.getVisible());}break;default:L.error("The '"+o.name+"' of PanelItem is not supported yet.");}}this._updateContentTitle();}
h.prototype.getContentTitle=function(){var m=this._getInternalModel();return m.getProperty("/contentTitle");};
h.prototype.getCurrentState=function(){var i=[],s;this.getItems().forEach(function(o,j){s=o&&o.getId();if(o.getVisible()){i.push({name:s});}});return{items:i};};
h.prototype.initPropertyHelper=function(){var i=this._oMetadataHelper.retrieveAllMetadata(this);return Promise.resolve({getProperties:function(){var j=[];i.forEach(function(o){j.push({name:o.id,getName:function(){return o.id;},getLabel:function(){return o.text;},text:o.text,href:o.href,description:o.description,target:o.target,visible:o.visible});});return j;}});};
h.prototype._updateContentTitle=function(){var m=this._getInternalModel();var i=this.getAdditionalContent();var o=this._getPersonalizationButton().getId();if(i.length>0){o=i[0];}else{var j=this.getItems();if(j.length>0){o=j[0];}}m.setProperty("/contentTitle",o);};
h.prototype._getPersonalizationButton=function(){return this.getAggregation("_content").getContent()[3].getItems()[0];};
return h;});
sap.ui.predefine('sap/ui/mdc/link/PanelItem',['sap/ui/core/Element'],function(E){"use strict";
var P=E.extend("sap.ui.mdc.link.PanelItem",{metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/link/PanelItem.designtime",properties:{text:{type:"string"},description:{type:"string"},href:{type:"string"},target:{type:"string",defaultValue:undefined},icon:{type:"string"},visible:{type:"boolean",defaultValue:true},visibleChangedByUser:{type:"boolean"}}}});
P.prototype.getJson=function(){return{id:this.getId(),text:this.getText(),description:this.getDescription(),href:this.getHref(),icon:this.getIcon(),target:this.getTarget(),visible:this.getVisible(),visibleChangedByUser:this.getVisibleChangedByUser()};};
return P;});
sap.ui.predefine('sap/ui/mdc/link/PanelRenderer',[],function(){"use strict";var P={apiVersion:2};
P.render=function(r,p){var c=p.getAggregation("_content");r.openStart("div",p);r.class("mdcbaseinfoPanel");r.openEnd();r.renderControl(c);r.close("div");};
return P;});
sap.ui.predefine('sap/ui/mdc/link/SemanticObjectMapping',['sap/ui/core/Element'],function(E){"use strict";
var S=E.extend("sap.ui.mdc.link.SemanticObjectMapping",{metadata:{library:"sap.ui.mdc",properties:{semanticObject:{type:"string"}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.mdc.link.SemanticObjectMappingItem",multiple:true,singularName:"item"}}}});
return S;});
sap.ui.predefine('sap/ui/mdc/link/SemanticObjectMappingItem',['sap/ui/core/Element'],function(E){"use strict";
var S=E.extend("sap.ui.mdc.link.SemanticObjectMappingItem",{metadata:{library:"sap.ui.mdc",properties:{key:{type:"string"},value:{type:"any"}}}});
return S;});
sap.ui.predefine('sap/ui/mdc/link/SemanticObjectUnavailableAction',['sap/ui/core/Element'],function(E){"use strict";
var S=E.extend("sap.ui.mdc.link.SemanticObjectUnavailableAction",{metadata:{library:"sap.ui.mdc",properties:{semanticObject:{type:"string"},actions:{type:"string[]",defaultValue:[]}}}});
return S;});
sap.ui.predefine('sap/ui/mdc/odata/json/FilterBarDelegate',["sap/ui/mdc/FilterBarDelegate",'sap/base/util/merge','sap/ui/mdc/util/IdentifierUtil'],function(F,m,I){"use strict";var J=Object.assign({},F);
J._createFilterField=function(p,f,P){var M=P.modifier;var n=p.path||p.name;var s={};if(f.getId){s.id=f.getId();}else{s.id=f.id;}var S=M.getControlIdBySelector(s,P.appComponent);var i=S+"--filter--"+I.replace(n);var o;return M.createControl("sap.ui.mdc.FilterField",P.appComponent,P.view,i,{dataType:p.typeConfig.className,conditions:"{$filters>/conditions/"+n+'}',required:p.required,label:p.label,maxConditions:p.maxConditions,delegate:{name:"sap/ui/mdc/field/FieldBaseDelegate",payload:{}}},true).then(function(c){o=c;if(p.fieldHelp){var a=p.fieldHelp;if(P.view.getId){a=P.view.getId()+"--"+p.fieldHelp;}else{a=P.viewId+"--"+p.fieldHelp;}M.setAssociation(o,"fieldHelp",a);}if(p.filterOperators){if(f.getId){return M.setProperty(o,"operators",p.filterOperators);}else{return M.setProperty(o,"operators",p.filterOperators.join(','));}}}).then(function(){if(p.tooltip){M.setProperty(o,"tooltip",p.tooltip);}if(p.constraints){M.setProperty(o,"dataTypeConstraints",p.constraints);}if(p.formatOptions){M.setProperty(o,"dataTypeFormatOptions",p.formatOptions);}if(p.display){M.setProperty(o,"display",p.display);}return o;});};
J.addItem=function(p,f,P){return J.fetchProperties().then(function(a){var o=null;a.some(function(b){if(p===I.getPropertyKey(b)){o=b;}return o!==null;});if(o){return J._createFilterField(o,f,P);}});};
J.removeItem=function(f,o,p){return Promise.resolve(true);};
J.fetchProperties=function(f){return new Promise(function(r,a){r([]);});};
return J;});
sap.ui.predefine('sap/ui/mdc/odata/v4/ChartDelegate',["../../ChartDelegate","../../util/loadModules","../../library","sap/ui/core/Core"],function(C,l,a,b){"use strict";var D=Object.assign({},C);return D;});
sap.ui.predefine('sap/ui/mdc/odata/v4/ChartPropertyHelper',["sap/ui/mdc/chart/PropertyHelper","sap/ui/mdc/library"],function(P,M){"use strict";
var a=P.extend("sap.ui.mdc.odata.v4.ChartPropertyHelper");
a.prototype.prepareProperty=function(p){if(p.groupable){p.availableRoles=this._getLayoutOptionsForType("groupable");p.kind="Groupable";}else if(p.aggregatable){p.availableRoles=this._getLayoutOptionsForType("aggregatable");p.kind="Aggregatable";}if(!p.typeConfig&&p.dataType){var f=p.formatOptions?p.formatOptions:null;var c=p.constraints?p.constraints:{};p.typeConfig=this.getParent().getControlDelegate().getTypeUtil().getTypeConfig(p.dataType,f,c);}P.prototype.prepareProperty.apply(this,arguments);};
a.prototype._getLayoutOptionsForType=function(t){var b=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var A={groupable:[{key:M.ChartItemRoleType.category,text:b.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_CATEGORY')},{key:M.ChartItemRoleType.category2,text:b.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_CATEGORY2')},{key:M.ChartItemRoleType.series,text:b.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_SERIES')}],aggregatable:[{key:M.ChartItemRoleType.axis1,text:b.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS1')},{key:M.ChartItemRoleType.axis2,text:b.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS2')},{key:M.ChartItemRoleType.axis3,text:b.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS3')}]};return A[t];};
return a;});
sap.ui.predefine('sap/ui/mdc/odata/v4/FieldBaseDelegate',["sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/odata/v4/TypeUtil"],function(F,T){"use strict";var O=Object.assign({},F);
O.getDataTypeClass=function(p,t){return T.getDataTypeClassName(t);};
O.getBaseType=function(p,t,f,c){return T.getBaseType(t,f,c);};
O.initializeTypeFromBinding=function(p,t,v){var r={};if(t&&(t.isA("sap.ui.model.odata.type.Unit")||t.isA("sap.ui.model.odata.type.Currency"))&&Array.isArray(v)&&v.length>2&&v[2]!==undefined){t.formatValue(v,"string");r.bTypeInitialized=true;r.mCustomUnits=v[2];}return r;};
O.initializeInternalUnitType=function(p,t,o){if(o&&o.mCustomUnits!==undefined){t.formatValue([null,null,o.mCustomUnits],"string");}};
O.enhanceValueForUnit=function(p,v,t){if(t&&t.bTypeInitialized&&v.length===2){v.push(t.mCustomUnits);return v;}};
O.getDefaultFieldValueHelpDelegate=function(p){return{name:"sap/ui/mdc/odata/v4/FieldValueHelpDelegate",payload:{}};};
O.getTypeUtil=function(p){return T;};
return O;});
sap.ui.predefine('sap/ui/mdc/odata/v4/FieldValueHelpDelegate',['sap/ui/mdc/field/FieldValueHelpDelegate','sap/ui/model/FilterType','sap/ui/mdc/odata/v4/TypeUtil'],function(F,a,T){"use strict";var _=function(b){return new Promise(function(r){var c=false;var h=function(p){if(p.mParameters.detailedReason){return;}if(!c){c=true;b.detachEvent("change",h);r(p);}};b.attachEvent("change",h);b.attachEventOnce("dataReceived",h);});};var O=Object.assign({},F);
O.isSearchSupported=function(p,l){return!!l.changeParameters;};
O.executeSearch=function(p,l,s){if(s){l.changeParameters({$search:s});}else{l.changeParameters({$search:undefined});}return _(l);};
O.executeFilter=function(p,l,f,c,r){var b=_(l).then(function n(d){c();});l.initialize();l.filter(f,a.Application);l.getContexts(0,r);return b;};
O.checkBindingsPending=function(p,b){var P=[];for(var i=0;i<b.length;i++){var B=b[i];if(B&&B.requestValue){P.push(B.requestValue());}}if(P.length>0){return Promise.all(P);}return null;};
O.checkListBindingPending=function(p,l,L){if(!l||l.isSuspended()){return false;}return l.requestContexts(0,L&&L.length).then(function(c){return c.length>0;});};
O.getTypeUtil=function(p){return T;};
return O;});
sap.ui.predefine('sap/ui/mdc/odata/v4/FilterBarDelegate',['./ODataMetaModelUtil','sap/ui/mdc/enum/FieldDisplay',"sap/ui/fl/Utils","sap/ui/mdc/FilterBarDelegate",'sap/base/util/ObjectPath','sap/base/util/merge','sap/ui/mdc/odata/v4/TypeUtil','sap/ui/mdc/condition/FilterOperatorUtil',"sap/ui/model/FilterOperator","sap/ui/model/Filter",'sap/ui/mdc/util/IdentifierUtil','sap/ui/core/util/reflection/JsControlTreeModifier','sap/base/Log'],function(O,F,a,b,c,m,T,d,M,e,I,J,L){"use strict";var f=Object.assign({},b);var D={"Edm.Boolean":"Bool","Edm.Byte":"Int","Edm.DateTime":"Date","Edm.DateTimeOffset":"DateTimeOffset","Edm.Decimal":"Decimal","Edm.Double":"Float","Edm.Float":"Float","Edm.Guid":"Guid","Edm.Int16":"Int","Edm.Int32":"Int","Edm.Int64":"Int","Edm.SByte":"Int","Edm.Single":"Float","Edm.String":"String","Edm.Time":"TimeOfDay"};var g=new Map();
f._fetchPropertiesByMetadata=function(C,p){var o,h,i,j,k;return Promise.resolve().then(function(){if(p){var l=p.modifier;return Promise.resolve().then(l.getProperty.bind(l,C,"delegate")).then(function(o){h=o.payload.modelName===null?undefined:o.payload.modelName;i=o.payload.collectionName;j=p.appComponent.getModel(h);});}o=C.getProperty("delegate");h=o.payload.modelName===null?undefined:o.payload.modelName;i=o.payload.collectionName;j=C.getModel(h);}).then(function(){k=C.getId?C.getId():C.id;var l={getDelegate:function(){return{payload:{modelName:h,collectionName:i}};},getModel:function(s){return j;},getId:function(){return k;}};return p?this.fetchProperties(l):Promise.resolve(C.getPropertyHelper().getProperties());}.bind(this));};
f._ensureSingleRangeEQOperators=function(){var o;if(!d.getOperator("SINGLE_RANGE_EQ")){o=m({},d.getOperator("EQ"));o.name="SINGLE_RANGE_EQ";o.getModelFilter=function(C,s){return new e({filters:[new e(s,M.GE,C.values[0]),new e(s,M.LE,C.values[0])],and:true});};d.addOperator(o);}if(!d.getOperator("SINGLE_RANGE_EQ")){o=m({},d.getOperator("EQ"));o.name="SINGLE_RANGE_EQ";o.getModelFilter=function(C,s){return new e({filters:[new e(s,M.GE,C.values[0]),new e(s,M.LE,C.values[0])],and:true});};d.addOperator(o);}};
f._ensureMultiRangeBTEXOperator=function(){if(!d.getOperator("MULTI_RANGE_BTEX")){var o=m({},d.getOperator("BT"));o.name="MULTI_RANGE_BTEX";o.getModelFilter=function(C,s){return new e({filters:[new e(s,M.GT,C.values[0]),new e(s,M.LT,C.values[1])],and:true});};d.addOperator(o);}};
f._getFilterOperators=function(s){var o=null,h=null;switch(s){case"SingleValue":case"MultiValue":o="EQ";break;case"SingleRange":o="SINGLE_RANGE_EQ,SINGLE_RANGE_EQ,LE,GE";this._ensureSingleRangeEQOperators();break;case"MultiRange":o="EQ,LE,LT,GE,GT,BT,MULTI_RANGE_BTEX";this._ensureMultiRangeBTEXOperator();break;case"SearchExpression":o="StartsWith,EndsWith,Contains";break;case"MultiRangeOrSearchExpression":o="StartsWith,EndsWith,Contains,EQ,LE,LT,GE,GT,BT,MULTI_RANGE_BTEX";this._ensureMultiRangeBTEXOperator();break;default:break;}if(o){h=o.split(',');}return h;};
f._createFilterField=function(p,o,P){var h=P?P.modifier:J;var A=P?P.appComponent:a.getAppComponentForControl(o);var v=(P&&P.view)?P.view:a.getViewForControl(o);var V=P?P.viewId:null;var n=p.path||p.name;var s={};if(o.getId){s.id=o.getId();}else{s.id=o.id;}var S=h.getControlIdBySelector(s,A);var i=S+"--filter--"+I.replace(n);var E=sap.ui.getCore().byId(i);if(E){return Promise.resolve(E);}return Promise.resolve().then(h.createControl.bind(h,"sap.ui.mdc.FilterField",A,v,i,{dataType:p.typeConfig.className,conditions:"{$filters>/conditions/"+n+'}',required:p.required,label:p.label||p.name,maxConditions:p.maxConditions,delegate:{name:"sap/ui/mdc/odata/v4/FieldBaseDelegate",payload:{}}})).then(function(j){if(p.fieldHelp){var k=p.fieldHelp;if(!V){k=v.createId(p.fieldHelp);}else{k=V+"--"+p.fieldHelp;}h.setAssociation(j,"fieldHelp",k);}if(p.filterOperators){if(o.getId){h.setProperty(j,"operators",p.filterOperators);}else{h.setProperty(j,"operators",p.filterOperators.join(','));}}if(p.tooltip){h.setProperty(j,"tooltip",p.tooltip);}if(p.constraints){h.setProperty(j,"dataTypeConstraints",p.constraints);}if(p.formatOptions){h.setProperty(j,"dataTypeFormatOptions",p.formatOptions);}if(p.display){h.setProperty(j,"display",p.display);}return j;});};
f._createFilter=function(p,o,P){return this._fetchPropertiesByMetadata(o,P).then(function(h){var i=h.find(function(j){return(I.getPropertyKey(j)===p);});if(!i){return null;}return Promise.resolve(this._createFilterField(i,o,P));}.bind(this));};
f.addItem=function(p,o,P){return Promise.resolve(this._createFilter(p,o,P));};
f._getInstanceCacheEntry=function(C,k){var i=C.getId&&C.getId()||C.id;var o=g.get(i);return o&&o[k];};
f._setInstanceCacheEntry=function(C,k,v){var i=C.getId&&C.getId()||C.id;var o=g.get(i)||{};o[k]=v;g.set(i,o);};
f._addPropertyInfoEntry=function(C,p,P,h,o){if(h){var n=h.findIndex(function(E){return E.name===p;});if(n>=0){P.push({name:p,dataType:h[n].typeConfig.className,maxConditions:h[n].maxConditions,constraints:h[n].constraints,formatOption:h[n].formatOptions,required:h[n].required,caseSensitive:h[n].caseSensitive,display:h[n].display,label:h[n].label,hiddenFilter:h[n].hiddenFilter});o.setProperty(C,"propertyInfo",P);}else{L.error("ConditionFlex-ChangeHandler: no type info for property '"+p+"'");}}};
f._updatePropertyInfo=function(p,o,P){if(o.isA&&o.isA("sap.ui.mdc.FilterBar")){return Promise.resolve();}var h=P.modifier;return h.getProperty(o,"propertyInfo").then(function(i){if(!i){return Promise.resolve();}var n=i.findIndex(function(E){return E.name===p;});if(n<0){var j=f._getInstanceCacheEntry(o,"fetchedProperties");if(j){f._addPropertyInfoEntry(o,p,i,j,h);}else{return f.fetchProperties(o,P).then(function(k){f._setInstanceCacheEntry(o,"fetchedProperties",k);f._addPropertyInfoEntry(o,p,i,k,h);});}}});};
f.addCondition=function(p,o,P){return f._updatePropertyInfo(p,o,P);};
f.removeCondition=function(p,o,P){return f._updatePropertyInfo(p,o,P);};
f.removeItem=function(o,h,p){return Promise.resolve(true);};
f._getFieldGroupsByFilterFacetsAnnotation=function(o,E){};
f._getNavigationPropertyForParameter=function(E){var o;for(var k in E){o=E[k];if(o){if(o.$kind==="NavigationProperty"){return k;}}}return null;};
f._fetchPropertyInfo=function(o,E,n,h,k){var i=o.getObject(E+"/"+"@com.sap.vocabularies.UI.v1.TextArrangement");var H=false;if(o.getObject(E+"/"+k+"@com.sap.vocabularies.UI.v1.HiddenFilter")){H=true;}var j=false;if(o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.IsDigitSequence")){j=true;}var l=null;var p=o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.FilterDefaultValue");if(p){var v=p["$"+D[h.$Type]];switch(h.$Type){case"Edm.DateTimeOffset":l=v;break;default:l=v;}}var q=false;if(o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.IsUpperCase")){q=true;}var s=o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.Label")||k;var t=o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.QuickInfo")||null;var C={};if(h.$MaxLength||h.$Precision||h.$Scale||j){if(h.$MaxLength){C.maxLength=h.$MaxLength;}if(h.$Precision){C.precision=h.$Precision;}if(h.$Scale){C.scale=h.$Scale;}if(j){C.isDigitSequence=j;}}else{C=null;}var r,u=o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.Text");if(u){var w=o.getObject(E+"/"+k+"@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement")||i;if(w){if(w.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){r=F.Description;}else if(w.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){r=F.ValueDescription;}else{r=F.DescriptionValue;}}else{r=F.DescriptionValue;}}var P={name:k,label:s,tooltip:t,hiddenFilter:H,caseSensitive:!q};if(r){P.display=r;}if(C){P.constraints=C;}if(l){P.defaultFilterConditions=[{fieldPath:k,operator:"EQ",values:[l]}];}P.name=n?n+"/"+k:k;P.typeConfig=T.getTypeConfig(h.$Type,P.formatOptions,P.constraints);return P;};
f._fetchEntitySet=function(o,E,v,n,p){return Promise.all([o.requestObject(E+"/"),o.requestObject(E+"@")]).then(function(r){var h=r[0];var i=r[1]||{};if(!h){return Promise.resolve([]);}var j,P,k=[],l=[],N=[],R=[],s=[],A={},q={},t=false;var u=o.getObject(E);if(u&&u.$NavigationPropertyBinding){q=u.$NavigationPropertyBinding;}var w=i["@Org.OData.Capabilities.V1.FilterRestrictions"];if(w){if(w.NonFilterableProperties){N=w.NonFilterableProperties.map(function(C){return C.$PropertyPath;});}if(w.RequiredProperties){R=w.RequiredProperties.map(function(C){return C.$PropertyPath;});}if(w.FilterExpressionRestrictions){w.FilterExpressionRestrictions.forEach(function(C){A[C.Property.$PropertyPath]=C.AllowedExpressions;});}}w=o.getObject(E+"/"+"@com.sap.vocabularies.UI.v1.SelectionFields");if(w){s=w.map(function(C){return C.$PropertyPath;});}var x=o.getObject(E+"/@sapui.name");var G=x;var y=o.getObject(E+"@com.sap.vocabularies.Common.v1.Label");if(!y){y=G.split(".")[1];}v.push(x);w=o.getObject(E+"/"+"@com.sap.vocabularies.Common.v1.ResultContext");if(w){t=true;p.parameterNavigationName=f._getNavigationPropertyForParameter(h);}if(!n){var S=x.split('.');p.parameterEntityType=S[S.length-1];}for(var K in h){j=h[K];if(j){if(t&&(K==="$Key")){p.parameters=m([],j);}else if(j.$kind==="Property"){if(N.indexOf(K)>=0){continue;}if(o.getObject(E+"/"+K+"@com.sap.vocabularies.UI.v1.Hidden")){continue;}if(j.$isCollection){L.warning("Complex property with type "+j.$Type+" has been ignored");continue;}P=f._fetchPropertyInfo(o,E,n,j,K,p);if(P){P.group=G;P.groupLabel=y;P.required=R.indexOf(K)>=0;P.visible=s.indexOf(K)>=0;if(A[K]){var z=f._getFilterOperators(A[K]);if(z){P.filterOperators=z;}}P.maxConditions=O.isMultiValueFilterExpression(A[K])?-1:1;if(t&&p&&(p.parameters.indexOf(K)>-1)){P.path=null;P.name=K;P.required=true;p.parameterTypes[K]=j.$Type;k.push(P);}else if(!t){k.push(P);}}}else if(!t&&(j.$kind==="NavigationProperty")&&(!j.$isCollection)){var B=q[K];if(B&&(v.indexOf(j.$Type)===-1)){l.push(f._fetchEntitySet(o,'/'+B,v,K,p));}}}}return Promise.all(l).then(function(C){C.forEach(function(H){k=k.concat(H);});return k;});});};
f._waitForMetaModel=function(o,p){return new Promise(function(r,h){var i=function(){var s=p===null?undefined:p;var k=o.getModel(s);if(k){r(k);}return k;};var j=function(){if(i()){o.detachModelContextChange(j);}};if(!i()){if(!o.attachModelContextChange){h();return;}o.attachModelContextChange(j);}});};
f.fetchProperties=function(o,p){if(!(o.isA&&o.isA("sap.ui.mdc.FilterBar"))&&p){return f._fetchPropertiesByMetadata(o,p);}var s=o.getDelegate().payload.modelName;var E=o.getDelegate().payload.collectionName;return new Promise(function(r,h){var i;var C=f._getInstanceCacheEntry(o,"fetchedProperties");if(C){r(C);return;}this._waitForMetaModel(o,s).then(function(j){if(!j||!E){h("model or entity set name not available");return;}i=j.getMetaModel();if(!i){h("metadata model not available");}else{var v=[];var P={parameterNavigationName:null,parameters:[],parameterTypes:{}};f._fetchEntitySet(i,'/'+E,v,null,P).then(function(k){if(P.parameterNavigationName&&(P.parameters.length>0)){f._setInstanceCacheEntry(o,E+"-Parameters",P);k.sort(function(n,q){var t=n.path||n.name;var u=q.path||q.name;if((!(P.parameters.indexOf(t)>-1)&&!(P.parameters.indexOf(u)>-1))||((P.parameters.indexOf(t)>-1)&&(P.parameters.indexOf(u)>-1))){return 0;}if((P.parameters.indexOf(t)>-1)&&!(P.parameters.indexOf(u)>-1)){return-1;}if(!(P.parameters.indexOf(t)>-1)&&(P.parameters.indexOf(u)>-1)){return 1;}});}var l=k.reduce(function(n,q){n[q.name]=q;return n;},{});k=Object.keys(l).map(function(n){return l[n];});f._setInstanceCacheEntry(o,"fetchedProperties",k);r(k);});}},function(){h("model not obtained");});}.bind(this));};
f.cleanup=function(o){g.delete(o.getId());};
f.getTypeUtil=function(p){return T;};
return f;});
sap.ui.predefine('sap/ui/mdc/odata/v4/TableDelegate',["../../TableDelegate","../../table/V4AnalyticsPropertyHelper","../../util/loadModules","../../library","sap/m/ColumnPopoverSelectListItem","sap/m/MessageBox","sap/ui/core/Item","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/format/ListFormat","sap/ui/base/ManagedObjectObserver"],function(T,V,l,a,C,M,I,b,c,L,d){"use strict";var f=a.TableType;var P=a.TableP13nMode;var g=new window.WeakMap();var D=Object.assign({},T);
D.getPropertyHelperClass=function(){return V;};
D.fetchPropertyExtensions=function(e,B){return Promise.resolve(null);};
D.fetchPropertiesForBinding=function(e){return this.fetchProperties(e);};
D.fetchPropertyExtensionsForBinding=function(e,B){return this.fetchPropertyExtensions(e,B);};
D.preInit=function(e){if(!g.has(e)){g.set(e,{});}return w(e).then(function(){s(e);});};
D.validateState=function(e,S,K){var B=T.validateState.apply(this,arguments);var E;var R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");if(K=="Sort"&&S.sorters){if(v(e)&&!t(e,S.items,S.sorters)){E={validation:c.MessageType.Information,message:R.getText("table.PERSONALIZATION_DIALOG_SORT_RESTRICTION")};}}else if(K=="Group"&&S.aggregations){var F=Object.keys(S.aggregations);var G=[];var H=L.getInstance();F.forEach(function(N){var O=e.getPropertyHelper().getProperty(N);if(O&&O.groupable){G.push(N);}});if(G.length){E={validation:c.MessageType.Information,message:R.getText("table.PERSONALIZATION_DIALOG_GROUP_RESTRICTION",[H.format(G)])};}}else if(K=="Column"){var J;var F=S.aggregations&&Object.keys(S.aggregations);if(!t(e,S.items,F)){J=R.getText("table.PERSONALIZATION_DIALOG_TOTAL_RESTRICTION");}if(v(e)&&!t(e,S.items,S.sorters)){J=J?J+"\n"+R.getText("table.PERSONALIZATION_DIALOG_SORT_RESTRICTION"):R.getText("table.PERSONALIZATION_DIALOG_SORT_RESTRICTION");}if(J){E={validation:c.MessageType.Information,message:J};}}return u(B,E);};
D.updateBinding=function(B,E,F){if(!F||F.getPath()!=E.path){this.rebind(B,E);return;}var R=F.getRootBinding();var H=R&&!R.isSuspended();try{if(H){R.suspend();}s(B,E);F.changeParameters(E.parameters);F.filter(E.filters,"Application");F.sort(E.sorter);}catch(e){this.rebind(B,E);if(R==F){H=false;}}finally{if(H&&R.isSuspended()){R.resume();}}};
D.rebind=function(e,B){s(e,B);T.rebind(e,B);};
D.addColumnMenuItems=function(e,B){var E=e.getPropertyHelper();var F=E.getProperty(B.getDataProperty());var G=[];if(!F){return[];}if(e.isGroupingEnabled()){var H=F.getGroupableProperties();if(H.length>0){G.push(h(H,B));}}if(e.isAggregationEnabled()){var J=F.getAggregatableProperties();if(J.length>0){G.push(i(J,B));}}var K=e._oPopover;if(K){K.getItems().forEach(function(N,O,G){var Q=N.getLabel();var R=b.getLibraryResourceBundle("sap.ui.mdc");if(Q===R.getText("table.SETTINGS_GROUP")||Q===R.getText("table.SETTINGS_TOTALS")){G[O].destroy();}if(G.length==0){K.destroy();}});}return G;};
D.getSupportedP13nModes=function(e){var S=T.getSupportedP13nModes(e);if(e._getStringType()===f.Table){if(!S.includes(P.Group)){S.push(P.Group);}if(!S.includes(P.Aggregate)){S.push(P.Aggregate);}}return S;};
function h(G,e){var B=G.map(function(E){return new I({text:E.label,key:E.name});});if(B.length>0){return new C({items:B,label:b.getLibraryResourceBundle("sap.ui.mdc").getText("table.SETTINGS_GROUP"),icon:"sap-icon://group-2",action:[{sName:"Group",oMDCColumn:e},j,this]});}}
function i(e,B){var E=e.map(function(F){return new I({text:F.label,key:F.name});});if(E.length>0){return new C({items:E,label:b.getLibraryResourceBundle("sap.ui.mdc").getText("table.SETTINGS_TOTALS"),icon:"sap-icon://sum",action:[{sName:"Aggregate",oMDCColumn:B},j,this]});}}
function j(e,B){var N=B.sName,E=B.oMDCColumn.getParent(),G=E.getCurrentState().groupLevels||[],F=E.getCurrentState().aggregations||{},H=Object.keys(F),J=false,K=e.getParameter("property"),O=N==="Aggregate"?G:H,Q=O.filter(function(X){return N==="Aggregate"?X.name===K:X===K;}).length>0;if(Q){var R=b.getLibraryResourceBundle("sap.ui.mdc");var S;var U;var W;if(N==="Aggregate"){S=R.getText("table.SETTINGS_WARNING_TITLE_TOTALS");U=R.getText("table.SETTINGS_MESSAGE2");W=R.getText("table.SETTINGS_WARNING_BUTTON_TOTALS");}else{S=R.getText("table.SETTINGS_WARNING_TITLE_GROUPS");U=R.getText("table.SETTINGS_MESSAGE1");W=R.getText("table.SETTINGS_WARNING_BUTTON_GROUP");}J=true;M.warning(U,{id:E.getId()+"-messageBox",title:S,actions:[W,R.getText("table.SETTINGS_WARNING_BUTTON_CANCEL")],onClose:function(X){if(X===W){k(N,E,K);}}});}if(N==="Aggregate"&&!J){o(N,E,K);}else if(N==="Group"&&!J){o(N,E,K);}}
function o(e,B,E){if(e==="Group"){B._onCustomGroup(E);}else{B._onCustomAggregate(E);}}
function k(N,e,B){if(N==="Aggregate"){e._onCustomGroup(B);e._onCustomAggregate(B);}else if(N==="Group"){e._onCustomAggregate(B);e._onCustomGroup(B);}}
function s(e,B){var E=g.get(e).plugin;if(!E||E.isDestroyed()){return;}var G=e._getGroupedProperties().map(function(J){return J.name;});var F=Object.keys(e._getAggregatedProperties());var S=B?B.parameters["$search"]:undefined;if(S){delete B.parameters["$search"];}var H={visible:m(e),groupLevels:G,grandTotal:F,subtotals:F,columnState:n(e,F),search:S};E.setAggregationInfo(H);}
function m(e){var B=new Set();var E=g.get(e).oPropertyHelperForBinding;e.getColumns().forEach(function(F){var G=E.getProperty(F.getDataProperty());if(!G){return;}if(G.isComplex()){G.getReferencedProperties().forEach(function(G){B.add(G.name);});}else{B.add(G.name);}});return Array.from(B);}
function n(e,B){var E={};e.getColumns().forEach(function(F){var G=F.getId()+"-innerColumn";var H=q(e,F,B);var J=H.length>0;if(G in E){E[G].subtotals=J||E[G].subtotals;E[G].grandTotal=J||E[G].grandTotal;return;}E[G]={subtotals:J,grandTotal:J};r(e,H).forEach(function(U){G=U.getId()+"-innerColumn";if(G in E){E[G].subtotals=J||E[G].subtotals;E[G].grandTotal=J||E[G].grandTotal;}else{E[G]={subtotals:J,grandTotal:J};}});});return E;}
function p(e,B){var E=e.getPropertyHelper().getProperty(B.getDataProperty());if(!E){return[];}else if(E.isComplex()){return E.getReferencedProperties();}else{return[E];}}
function q(e,B,E){return p(e,B).filter(function(F){return E.includes(F.name);});}
function r(e,B){var U=[];B.forEach(function(E){if(E.unitProperty){U.push(E.unitProperty);}});return e.getColumns().filter(function(E){return p(e,E).some(function(F){return U.includes(F);});});}
function t(e,B,S){var E,F=[];B&&B.forEach(function(G){E=e.getPropertyHelper().getProperty(G.name);if(!E.isComplex()){F.push(E.name);}else{E.getReferencedProperties().forEach(function(R){F.push(R.name);});}});var O=S?S.every(function(G){return F.find(function(H){return G.name?G.name===H:G===H;});}):true;return O;}
function u(B,e){var S={Error:1,Warning:2,Information:3,None:4};if(!e||S[e.validation]-S[B.validation]>0){return B;}else{return e;}}
function v(e){return(e.isGroupingEnabled()||e.isAggregationEnabled())&&e._isOfType(f.Table);}
function w(e){if(e._isOfType(f.Table)){return(v(e)?x(e):y(e)).then(function(){return A(e);});}return Promise.resolve();}
function x(e){var B=g.get(e);var E=B.plugin;if(E&&!E.isDestroyed()){E.activate();return Promise.resolve();}return Promise.all([e.awaitPropertyHelper(),l("sap/ui/table/plugins/V4Aggregation")]).then(function(R){var F=R[1][0];var G=e.getControlDelegate();E=new F({groupHeaderFormatter:function(H,J){return G.formatGroupHeader(e,H,J);}});e._oTable.addDependent(E);B.plugin=E;return z(e);}).then(function(F){E.setPropertyInfos(F.getProperties());});}
function y(e){var B=g.get(e);if(B.plugin){B.plugin.deactivate();}return Promise.resolve();}
function z(e){var B=g.get(e);if(B.oPropertyHelperForBinding){return Promise.resolve(B.oPropertyHelperForBinding);}var E=e.getControlDelegate();var F;var G;return E.fetchPropertiesForBinding(e).then(function(H){F=H;return E.fetchPropertyExtensionsForBinding(e,F);}).then(function(H){G=H;return E.getPropertyHelperClass();}).then(function(H){B.oPropertyHelperForBinding=new H(F,G,e);return B.oPropertyHelperForBinding;});}
function A(e){var B=g.get(e);if(!B.observer){B.observer=new d(function(E){if(E.type==="destroy"){if(B.oPropertyHelperForBinding){B.oPropertyHelperForBinding.destroy();}}else{w(e);}});B.observer.observe(e,{properties:["p13nMode"],destroy:true});}}
return D;});
sap.ui.predefine('sap/ui/mdc/odata/v4/ValueHelpDelegate',["../../ValueHelpDelegate","sap/ui/model/FilterType",'sap/ui/mdc/odata/v4/TypeUtil','sap/ui/mdc/condition/ConditionConverter'],function(V,F,T,C){"use strict";var O=Object.assign({},V);
O.isSearchSupported=function(p,c,l){return!!l.changeParameters;};
var _=function(b){return new Promise(function(r){var c=false;var h=function(p){if(p.mParameters.detailedReason){return;}if(!c){c=true;b.detachEvent("change",h);r(b);}};b.attachEvent("change",h);b.attachEventOnce("dataReceived",h);});};
O.executeSearch=function(p,l,s){if(s){l.changeParameters({$search:s});}else{l.changeParameters({$search:undefined});}return _(l);};
O.executeFilter=function(p,l,f,r){l.initialize();l.filter(f,F.Application);l.getContexts(0,r);return _(l);};
O.checkBindingsPending=function(p,b){var P=[];for(var i=0;i<b.length;i++){var B=b[i];if(B&&B.requestValue){P.push(B.requestValue());}}if(P.length>0){return Promise.all(P);}return null;};
O.checkListBindingPending=function(p,l,L){if(!l||l.isSuspended()){return false;}return l.requestContexts(0,L&&L.length).then(function(c){return c.length===0;});};
O.getInitialFilterConditions=function(p,c,o){var b={};return b;};
O.getTypeUtil=function(p){return T;};
function a(o,e){var t=O.getTypeUtil();var b=t.getTypeConfig(o.type,o.formatOptions,o.constraints);var c=e?C.toString:C.toType;return c(o.condition,b,O.getTypeUtil());}
O.externalizeCondition=function(p,o){return a(o,true);};
O.internalizeCondition=function(p,o){return a(o,false);};
return O;});
sap.ui.predefine('sap/ui/mdc/odata/v4/util/DelegateUtil',['sap/ui/mdc/util/FilterUtil',"sap/ui/mdc/condition/ConditionConverter",'sap/base/Log','sap/base/util/merge',"sap/ui/model/FilterOperator","sap/ui/model/odata/v4/ODataUtils"],function(F,C,L,m,a,O){"use strict";var D={_getParameters:function(M){var p=null;if(M&&M.getDelegate()&&M.getDelegate().payload&&M.getDelegate().payload.collectionName){var e=M.getDelegate().payload.collectionName;if(window[M.getId()+'->'+e+"-Parameters"]){p=window[M.getId()+'->'+e+"-Parameters"];}}return p;},getParametersInfo:function(M){var p=D._getParameters(M);return D._getParameterPath(M,p);},_getParametersListUrl:function(M,p){var P=[];var c=F.getConditionsMap(M,p);var b=M.getPropertyInfoSet();p.forEach(function(s){var o=F.getPropertyByKey(b,s);if(o&&(o.maxConditions===1)){c[s].forEach(function(d){if(d.operator===a.EQ){P.push(s+'='+encodeURIComponent(O.formatLiteral(d.values[0],o.typeConfig.className)));}});}});return P;},_getParameterPath:function(M,p){if(!M||!M.isA("sap.ui.mdc.FilterBar")){return null;}if(!p||(p.parameters.length<=0)){return null;}var e=M.getDelegate().payload.collectionName;var P=D._getParametersListUrl(M,p.parameters);return'/'+e+'('+P.toString()+")/"+p.parameterNavigationName;},getParameterNames:function(M){var p=null,P=D._getParameters(M);if(P){p=P.parameters;}return p;}};return D;});
sap.ui.predefine('sap/ui/mdc/odata/v4/vizChart/ChartDelegate',["../ChartDelegate","../../../util/loadModules","sap/ui/core/Core","sap/m/library","sap/m/Text","sap/ui/mdc/library","sap/ui/mdc/odata/v4/ODataMetaModelUtil","sap/base/Log",'sap/ui/mdc/util/FilterUtil','sap/ui/mdc/odata/v4/util/DelegateUtil',"sap/ui/mdc/chart/ChartTypeButton","sap/ui/mdc/chart/Item","sap/ui/model/Sorter","sap/m/VBox","sap/ui/base/ManagedObjectObserver","sap/ui/core/ResizeHandler","sap/ui/mdc/p13n/panels/ChartItemPanel","sap/m/MessageStrip","../TypeUtil","../FilterBarDelegate","sap/ui/model/Filter","sap/ui/mdc/odata/v4/ChartPropertyHelper","sap/ui/thirdparty/jquery"],function(V,l,C,m,T,M,O,L,F,D,c,d,S,f,g,R,h,n,o,p,q,P,Q){"use strict";var r=Object.assign({},V);var s=m.FlexJustifyContent;var t=m.FlexAlignItems;var u=new window.WeakMap();var v;var w;var x;var y;
r._getState=function(a){if(u.has(a)){return u.get(a);}L.info("Couldn't get state for "+a.getId());};
r._setState=function(a,b){u.set(a,b);};
r.getTypeUtil=function(){return o;};
r.getFilterDelegate=function(){return p;};
r.addCondition=function(a,b,e){return Promise.resolve();};
r.removeCondition=function(a,b,e){return Promise.resolve();};
r._deleteState=function(a){if(this._getState(a).vizTooltip){this._getState(a).vizTooltip.destroy();}if(this._getState(a).observer){this._getState(a).observer.disconnect();this._getState(a).observer=null;}return u.delete(a);};
r._getChart=function(a){if(u.has(a)){return u.get(a).innerChart;}L.info("Couldn't get state for "+a.getId());return undefined;};
r._setChart=function(a,i){if(u.has(a)){u.get(a).innerChart=i;}else{u.set(a,{innerChart:i});}};
r._getInnerStructure=function(a){if(u.has(a)){return u.get(a).innerStructure;}L.info("Couldn't get state for "+a.getId());return undefined;};
r._setInnerStructure=function(a,i){if(u.has(a)){u.get(a).innerStructure=i;}else{u.set(a,{innerStructure:i});}};
r._getBindingInfoFromState=function(a){if(u.has(a)){return u.get(a).bindingInfo;}L.info("Couldn't get state for "+a.getId());return undefined;};
r._setBindingInfoForState=function(a,b){if(u.has(a)){u.get(a).bindingInfo=b;}else{u.set(a,{bindingInfo:b});}};
r._setUpChartObserver=function(a){var b=this._getState(a);if(!b.observer){b.observer=new g(function(e){if(e.type==="destroy"){this.exit(e.object);}}.bind(this));}b.observer.observe(a,{destroy:true});};
r.exit=function(a){if(this._getInnerStructure(a)){this._getInnerStructure(a).destroy();}this._deleteState(a);};
r.zoomIn=function(a,i){this._getChart(a).zoom({direction:"in"});};
r.zoomOut=function(a,i){this._getChart(a).zoom({direction:"out"});};
r.getZoomState=function(a){if(this._getChart(a)){return this._getChart(a).getZoomInfo(this);}};
r.getInnerChartSelectionHandler=function(a){return{eventId:"_selectionDetails",listener:this._getChart(a)};};
r.getChartTypeLayoutConfig=function(){if(this._aChartTypeLayout){return this._aChartTypeLayout;}var a=[M.ChartItemRoleType.axis1,M.ChartItemRoleType.category,M.ChartItemRoleType.series];var b=[M.ChartItemRoleType.axis1,M.ChartItemRoleType.axis2,M.ChartItemRoleType.category,M.ChartItemRoleType.series];var e=[M.ChartItemRoleType.axis1,M.ChartItemRoleType.category,M.ChartItemRoleType.category2];var i=[M.ChartItemRoleType.axis1,M.ChartItemRoleType.axis2,M.ChartItemRoleType.axis3,M.ChartItemRoleType.category,M.ChartItemRoleType.series];this._aChartTypeLayout=[{key:"column",allowedLayoutOptions:a},{key:"bar",allowedLayoutOptions:a},{key:"line",allowedLayoutOptions:a},{key:"combination",allowedLayoutOptions:a},{key:"pie",allowedLayoutOptions:a},{key:"donut",allowedLayoutOptions:a},{key:"dual_column",allowedLayoutOptions:b},{key:"dual_bar",allowedLayoutOptions:b},{key:"dual_line",allowedLayoutOptions:b},{key:"stacked_bar",allowedLayoutOptions:a},{key:"scatter",allowedLayoutOptions:b},{key:"bubble",allowedLayoutOptions:i},{key:"heatmap",allowedLayoutOptions:e},{key:"bullet",allowedLayoutOptions:a},{key:"vertical_bullet",allowedLayoutOptions:a},{key:"dual_stacked_bar",allowedLayoutOptions:b},{key:"100_stacked_bar",allowedLayoutOptions:a},{key:"stacked_column",allowedLayoutOptions:a},{key:"dual_stacked_column",allowedLayoutOptions:b},{key:"100_stacked_column",allowedLayoutOptions:a},{key:"dual_combination",allowedLayoutOptions:b},{key:"dual_horizontal_combination",allowedLayoutOptions:b},{key:"dual_horizontal_combination",allowedLayoutOptions:b},{key:"dual_stacked_combination",allowedLayoutOptions:b},{key:"dual_horizontal_stacked_combination",allowedLayoutOptions:b},{key:"stacked_combination",allowedLayoutOptions:a},{key:"100_dual_stacked_bar",allowedLayoutOptions:a},{key:"100_dual_stacked_column",allowedLayoutOptions:a},{key:"horizontal_stacked_combination",allowedLayoutOptions:a},{key:"waterfall",allowedLayoutOptions:e},{key:"horizontal_waterfall",allowedLayoutOptions:e}];return this._aChartTypeLayout;};
r.getAdaptionUI=function(a){return Promise.resolve(this._setupAdaptionUI(a));};
r._setupAdaptionUI=function(a){var b=this.getChartTypeLayoutConfig().find(function(H){return H.key===a.getChartType();});if(!b){var e=[M.ChartItemRoleType.axis1,M.ChartItemRoleType.axis2,M.ChartItemRoleType.axis3,M.ChartItemRoleType.category,M.ChartItemRoleType.category2,M.ChartItemRoleType.series];b={key:a.getChartType(),allowedLayoutOptions:e};}var i=[{kind:"Groupable"},{kind:"Aggregatable"}];b.templateConfig=i;var j={panelConfig:b};var k=new h(j);if(a.getChartType()==="heatmap"){var G=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");k.setMessageStrip(new n({text:G.getText("chart.PERSONALIZATION_DIALOG_MEASURE_WARNING"),type:"Warning"}));}return k;};
r.setLegendVisible=function(a,b){if(this._getChart(a)){this._getChart(a).setVizProperties({'legend':{'visible':b},'sizeLegend':{'visible':b}});}else{L.error("Could not set legend visibility since inner chart is not yet initialized!");}};
r.getSorterForItem=function(a,b){if(a.getType()==="aggregatable"){return new S(this._getAggregatedMeasureNameForMDCItem(a),b.descending);}else if(a.getType()==="groupable"){return new S(this.getInternalChartNameFromPropertyNameAndKind(b.name,"groupable",a.getParent()),b.descending);}};
r.insertItemToInnerChart=function(a,b,i){if(b.getType()==="groupable"){var I=this.getInternalChartNameFromPropertyNameAndKind(b.getName(),"groupable",a);var e=this._getChart(a).getDimensionByName(I);if(!e){this.createInnerDimension(a,b);}else{e.setLabel(b.getLabel());e.setRole(b.getRole()?b.getRole():"category");}var j=this._getChart(a).getVisibleDimensions();j.splice(i,0,I);this._getChart(a).setVisibleDimensions(j);}else if(b.getType()==="aggregatable"){this.createInnerMeasure(a,b);var k=this._getChart(a).getVisibleMeasures();k.splice(i,0,this._getAggregatedMeasureNameForMDCItem(b));this._getChart(a).setVisibleMeasures(k);}this._prepareColoringForItem(b).then(function(){this._updateColoring(a,this._getChart(a).getVisibleDimensions(),this._getChart(a).getVisibleMeasures());}.bind(this));this._updateSemanticalPattern(a);};
r.removeItemFromInnerChart=function(a,b){if(b.getType()==="groupable"&&this._getChart(a).getVisibleDimensions().includes(this.getInternalChartNameFromPropertyNameAndKind(b.getName(),"groupable",a))){var i=this.getInternalChartNameFromPropertyNameAndKind(b.getName(),"groupable",a);var N=this._getChart(a).getVisibleDimensions().filter(function(e){return e!==i;});if(this._getState(a).inResultDimensions.length>0){this._getChart(a).setInResultDimensions(this._getState(a).inResultDimensions);}this._getChart(a).setVisibleDimensions(N);}else if(b.getType()==="aggregatable"&&this._getChart(a).getVisibleMeasures().includes(this._getAggregatedMeasureNameForMDCItem(b))){var j=[];a.getItems().filter(function(I){return I.getType()==="aggregatable";}).filter(function(I){return I!==b;}).forEach(function(I){j.push(this._getAggregatedMeasureNameForMDCItem(I));}.bind(this));this._getChart(a).setVisibleMeasures(j);this._getChart(a).removeMeasure(this._getChart(a).getMeasureByName(this._getAggregatedMeasureNameForMDCItem(b)));}this._updateColoring(a,this._getChart(a).getVisibleDimensions(),this._getChart(a).getVisibleMeasures());this._updateSemanticalPattern(a);};
r.addItem=function(a,b,e,i){if(b.getModel){return Promise.resolve(this._createMDCChartItem(a,b,i));}};
r.removeItem=function(a,b){return Promise.resolve(true);};
r.checkAndUpdateMDCItems=function(a){return new Promise(function(b,e){var i=[];a.getItems().forEach(function(j){var I=j.getName()&&j.getLabel()&&j.getType()&&j.getRole();if(!I){i.push(this._getPropertyInfosByName(j.getName(),a).then(function(k){j.setLabel(k.label);if(k.groupable){j.setType("groupable");j.setRole(j.getRole()?j.getRole():"category");}else if(k.aggregatable){j.setType("aggregatable");j.setRole(j.getRole()?j.getRole():"axis1");}}));}}.bind(this));Promise.all(i).then(function(){b();});}.bind(this));};
r._createMDCChartItem=function(a,b,e){return this._getPropertyInfosByName(a,b).then(function(i){if(!i){return null;}return this._createMDCItemFromProperty(i,b.getId(),e);}.bind(this));};
r._createMDCItemFromProperty=function(a,i,b){if(a.groupable){return new d(i+"--GroupableItem--"+a.name,{name:a.name,label:a.label,type:"groupable",role:b?b:"category"});}if(a.aggregatable){return new d(i+"--AggregatableItem--"+a.name,{name:a.name,label:a.label,type:"aggregatable",role:b?b:"axis1"});}return null;};
r.initializeInnerChart=function(a){return new Promise(function(b,e){this._loadChart().then(function(i){var j=this._calculateInnerChartHeight(a);this._setInnerStructure(a,new f({justifyContent:"Center",alignItems:"Center",height:j,width:"100%"}));var k=new T();k.setText(a.getNoDataText());this._getInnerStructure(a).addItem(k);this._setUpChartObserver(a);b(this._getInnerStructure(a));}.bind(this));}.bind(this));};
r.createInitialChartContent=function(a){};
r._createContentFromItems=function(a){return new Promise(function(b,e){var i=[];var j=[];var k=[];var G=[];a.getItems().forEach(function(I,H){j.push(this._getPropertyInfosByName(I.getName(),a).then(function(J){if(!J){L.error("sap.ui.mdc.Chart: Item "+I.getName()+" has no property info representing it in the metadata. Make sure the name is correct and the metadata is defined correctly. Skipping the item!");return;}switch(I.getType()){case"groupable":k.push(this.getInternalChartNameFromPropertyNameAndKind(I.getName(),"groupable",a));this._addInnerDimension(a,I,J);break;case"aggregatable":G.push(this._getAggregatedMeasureNameForMDCItem(I));this._addInnerMeasure(a,I,J);break;default:L.error("MDC Chart Item "+I.getId()+" with label "+I.getLabel()+" has no known type. Supported typed are: \"groupable\" & \"aggregatable\"");}i.push(this._prepareColoringForItem(I));}.bind(this)));}.bind(this));Promise.all(j).then(function(){this._getState(a).aColMeasures.forEach(function(K){if(this._getState(a).aInSettings.indexOf(K)==-1){i.push(new Promise(function(b,e){a._getPropertyByNameAsync(K).then(function(H){var I=H.aggregationMethod;var J=H.propertyPath;var N=this.getInternalChartNameFromPropertyNameAndKind(K,"aggregatable",a);var U={name:N,label:H.label,role:"axis1"};if(I&&J){U.analyticalInfo={propertyPath:J,"with":I};}var W=new x(U);G.push(W);this._getChart(a).addMeasure(W);b();});}));}}.bind(this));Promise.all(i).then(function(){this._getChart(a).setVisibleDimensions(k);this._getChart(a).setVisibleMeasures(G);var I=a.getDelegate().inResultDimensions;if(I&&I instanceof Array&&I.length!=0){var H=[];I.forEach(function(J){H.push(this._getPropertyInfosByName(J,a).then(function(K){var N=this.getInternalChartNameFromPropertyNameAndKind(K.name,"groupable",a);var U=new w({name:N,label:K.label});this._getState(a).inResultDimensions.push(N);this._getChart(a).addDimension(U);}.bind(this)));}.bind(this));Promise.all(H).then(function(){this._getChart(a).setInResultDimensions(this._getState(a).inResultDimensions);}.bind(this));}this._updateColoring(a,k,G);this._updateSemanticalPattern(a);b();}.bind(this));}.bind(this));}.bind(this));};
r.getInnerChart=function(a){return this._getChart(a);};
r._prepareColoringForItem=function(i){return this._addCriticality(i).then(function(){this._getState(i.getParent()).aInSettings.push(i.getName());if(i.getType==="aggregatable"){this._getPropertyInfosByName(i.getName(),i.getParent()).then(function(a){for(var j=0;j<this._getAdditionalColoringMeasuresForItem(a);j++){if(this._getState(i.getParent()).aColMeasures.indexOf(this._getAdditionalColoringMeasuresForItem(a)[j])==-1){this._getState(i.getParent()).aColMeasures.push(this._getAdditionalColoringMeasuresForItem(a)[j]);}}}.bind(this));}}.bind(this));};
r._getAdditionalColoringMeasuresForItem=function(a){var b=[];var e=a.datapoint?a.datapoint.criticality:null;if(e&&e.DynamicThresholds){b=e.DynamicThresholds.usedMeasures;}return b;};
r._addCriticality=function(i){return this._getPropertyInfosByName(i.getName(),i.getParent()).then(function(a){if(a.criticality||(a.datapoint&&a.datapoint.criticality)){var b=this._getState(i.getParent()).oColorings||{Criticality:{DimensionValues:{},MeasureValues:{}}};var e={};if(i.getType()=="groupable"){var j=a.criticality?a.criticality:[];for(var k in j){e[k]={Values:j[k]};}var G=this.getInternalChartNameFromPropertyNameAndKind(i.getName(),"groupable",i.getParent());b.Criticality.DimensionValues[G]=e;}else{var j=a.datapoint&&a.datapoint.criticality?a.datapoint.criticality:[];for(var k in j){e[k]=j[k];}var H=this.getInternalChartNameFromPropertyNameAndKind(i.getName(),"aggregatable",i.getParent());b.Criticality.MeasureValues[H]=e;}var I=this._getState(i.getParent());I.oColorings=b;this._setState(i.getParent(),I);}}.bind(this));};
r._updateColoring=function(a,b,e){var i=Q.extend(true,{},this._getState(a).oColorings),k;if(i&&i.Criticality){var j;for(k=0;k<b.length;k++){if(this._getState(a).oColorings.Criticality.DimensionValues[b[k]]){j={coloring:"Criticality",parameters:{dimension:b[k]}};delete i.Criticality.MeasureValues;break;}}if(!j){delete i.Criticality.DimensionValues;for(var G in i.Criticality.MeasureValues){if(e.indexOf(G)==-1){delete i.Criticality.MeasureValues[G];}}j={coloring:"Criticality",parameters:{measure:e}};}if(j){this._getChart(a).setColorings(i);this._getChart(a).setActiveColoring(j);}}};
r._updateSemanticalPattern=function(a){var b=this._getChart(a).getVisibleMeasures();b.forEach(function(e){var i=this.getPropertyFromNameAndKind(e,"aggregatable",a);if(!i){return;}var j=i.datapoint;if(j){if(j.targetValue||j.foreCastValue){var k=this._getChart(a).getMeasureByName(e);k.setSemantics("actual");if(j.targetValue!=null){var G=this._getChart(a).getMeasureByName(j.targetValue);if(G){G.setSemantics("reference");}else{L.error("sap.ui.mdc.Chart: "+j.targetValue+" is not a valid measure");}}if(j.foreCastValue){var H=this._getChart(a).getMeasureByName(j.foreCastValue);if(H){H.setSemantics("projected");}else{L.error("sap.ui.comp.SmartChart: "+j.ForecastValue.Path+" is not a valid measure");}}k.setSemanticallyRelatedMeasures({referenceValueMeasure:j.targetValue,projectedValueMeasure:j.foreCastValue});}}}.bind(this));};
r.getChartTypeInfo=function(a){if(!this._getChart(a)){throw'inner chart is not bound';}var b=a.getChartType(),e=C.getLibraryResourceBundle("sap.ui.mdc");var i={icon:c.mMatchingIcon[b],text:e.getText("chart.CHART_TYPE_TOOLTIP",[b])};return i;};
r.getAvailableChartTypes=function(a){var b=[];if(this._getChart(a)){var e=this._getChart(a).getAvailableChartTypes().available;if(b){var j=C.getLibraryResourceBundle("sap.chart.messages");for(var i=0;i<e.length;i++){var k=e[i].chart;b.push({key:k,icon:c.mMatchingIcon[k],text:j.getText("info/"+k),selected:(k==a.getChartType())});}}}return b;};
r.getDrillStackInfo=function(){};
r.getDrillStack=function(a){var b=[];b=Object.assign(b,this._getChart(a).getDrillStack());b.forEach(function(e){e.dimension=e.dimension.map(function(i){var j=this.getPropertyFromNameAndKind(i,"groupable",a);if(j){return j.name;}else{L.error("MDC Chart Delegate: Couldn't map chart dimension to groupable property: "+i);return i;}}.bind(this));}.bind(this));return b;};
r.getSortedDimensions=function(a){return new Promise(function(b,e){if(a.isPropertyHelperFinal()){b(this._sortPropertyDimensions(a.getPropertyHelper().getProperties()));}else{a.finalizePropertyHelper().then(function(){b(this._sortPropertyDimensions(a.getPropertyHelper().getProperties()));}.bind(this));}}.bind(this));};
r._sortPropertyDimensions=function(e){var i=e.filter(function(I){return I.groupable;});if(i){i.sort(function(a,b){if(a.label&&b.label){return a.label.localeCompare(b.label);}});}return i;};
r.getDrillableItems=function(a){var b=a.getItems().filter(function(i){return i.getType()==="groupable";});return b;};
r.setChartType=function(a,b){this._getChart(a).setChartType(b);};
r.createInnerChartContent=function(a,b){return new Promise(function(e,i){this._setChart(a,new v({id:a.getId()+"--innerChart",chartType:"column",width:"100%",isAnalytical:true}));this._getChart(a).setCustomMessages({'NO_DATA':a.getNoDataText()});this._getState(a).inResultDimensions=[];if(a.getHeight()){this._getChart(a).setHeight(this._calculateInnerChartHeight(a));}R.register(a,function(){this.adjustChartHeight(a);}.bind(this));var j=this._getState(a);j.aColMeasures=[];j.aInSettings=[];this._setState(a,j);this._createContentFromItems(a).then(function(){this._getChart(a).attachRenderComplete(function(){if(this._getState(a).toolbarUpdateRequested){a._updateToolbar();this._getState(a).toolbarUpdateRequested=false;}}.bind(this));this._getInnerStructure(a).removeAllItems();this._getInnerStructure(a).setJustifyContent(s.Start);this._getInnerStructure(a).setAlignItems(t.Stretch);this._getInnerStructure(a).addItem(this._getChart(a));j.dataLoadedCallback=b;this._setState(a,j);var k=this._getBindingInfo(a);this.updateBindingInfo(a,k);this._performInitialBind(a,k);e();}.bind(this));}.bind(this));};
r._performInitialBind=function(a,b){if(a&&b&&this._getChart(a)){this._addBindingListener(b,"dataReceived",this._getState(a).dataLoadedCallback.bind(a));this._getChart(a).bindData(b);this._setBindingInfoForState(a,b);var e=this._getState(a);e.innerChartBound=true;}};
r._calculateInnerChartHeight=function(a){var i=Q(a.getDomRef()).height();var b=0;var e=a.getAggregation("_toolbar");var j=0;var k=a.getAggregation("_breadcrumbs");if(e){b=Q(e.getDomRef()).outerHeight(true);}if(k){j=Q(k.getDomRef()).outerHeight(true);}var G=j+b;if(!i){return"480px";}return i-G+"px";};
r.adjustChartHeight=function(a){if(a.getHeight()&&this._getChart(a)){var H=this._calculateInnerChartHeight(a);this._getInnerStructure(a).setHeight(H);this._getChart(a).setHeight(H);}};
r.requestToolbarUpdate=function(a){this._getState(a).toolbarUpdateRequested=true;};
r.createInnerDimension=function(a,b){this._getPropertyInfosByName(b.getName(),a).then(function(e){this._addInnerDimension(a,b,e);}.bind(this));};
r.createInnerMeasure=function(a,b){this._getPropertyInfosByName(b.getName(),a).then(function(e){this._addInnerMeasure(a,b,e);}.bind(this));};
r._addInnerDimension=function(a,b,e){var i=new w({name:this.getInternalChartNameFromPropertyNameAndKind(b.getName(),"groupable",a),role:b.getRole()?b.getRole():"category",label:b.getLabel()});if(e.textProperty){i.setTextProperty(e.textProperty);if(e.textFormatter){i.setTextFormatter(this._formatText.bind(e));}i.setDisplayText(true);}this._getChart(a).addDimension(i);};
r._addInnerMeasure=function(a,b,e){var i=e.aggregationMethod;var j=e.propertyPath;var k={name:this._getAggregatedMeasureNameForMDCItem(b),label:b.getLabel(),role:b.getRole()?b.getRole():"axis1"};if(i&&j){k.analyticalInfo={propertyPath:j,"with":i};}var G=new x(k);this._getChart(a).addMeasure(G);};
r._getAggregatedMeasureNameForProperty=function(a){return a.aggregationMethod+a.name;};
r.rebindChart=function(a,b){this.rebind(a,b);};
r.rebind=function(a,b){if(a&&b&&this._getChart(a)){this._addBindingListener(b,"dataReceived",this._getState(a).dataLoadedCallback.bind(a));if(b.binding){b.binding.bHasAnalyticalInfo=true;}this._getChart(a).bindData(b);this._setBindingInfoForState(a,b);var e=this._getState(a);e.innerChartBound=true;}};
r._getBindingInfo=function(a){if(this._getBindingInfoFromState(a)){return this._getBindingInfoFromState(a);}var b=a.getDelegate().payload;var e="/"+b.collectionName;var i={path:e};return i;};
r.getInnerChartBound=function(a){var b=this._getState(a);if(!b){return false;}return b.innerChartBound?true:false;};
r.updateBindingInfo=function(a,b){var e=z.call(this,a).concat(A.call(this,a));B(a,b);b.filters=new q(e,true);b.sorter=this.getSorters(a);};
function z(a){var b=a.getP13nMode().indexOf("Filter")>-1;var e=[];if(b){var i=a.getPropertyHelper().getProperties();var I=F.getFilterInfo(this.getTypeUtil(),a.getConditions(),i);if(I.filters){e.push(I.filters);}}return e;}
function A(a){var b=C.byId(a.getFilter());var e=[];if(!b){return e;}var i=b.getConditions();if(i){var j=b.getPropertyInfoSet?b.getPropertyInfoSet():null;var k=D.getParameterNames(b);var G=F.getFilterInfo(this.getTypeUtil(),i,j,k);if(G.filters){e.push(G.filters);}}return e;}
function B(a,b){var e=C.byId(a.getFilter());if(!e){return;}var i=e.getConditions();var j=e.getSearch instanceof Function?e.getSearch():"";if(i){var k=D.getParametersInfo(e,i);if(k){b.path=k;}}if(!b.parameters){b.parameters={};}b.parameters["$search"]=j||undefined;}
r.getSorters=function(a){var b;var e=a.getSortConditions()?a.getSortConditions().sorters:[];e.forEach(function(i){var j=a.getItems().find(function(G){return G.getName()===i.name;});if(!j){return;}var k=this.getSorterForItem(j,i);if(b){b.push(k);}else{b=[k];}}.bind(this));return b;};
r._getAggregatedMeasureNameForMDCItem=function(a){return this.getInternalChartNameFromPropertyNameAndKind(a.getName(),"aggregatable",a.getParent());};
r.getInternalChartNameFromPropertyNameAndKind=function(N,k,a){return N;};
r.getPropertyFromNameAndKind=function(N,k,a){return a.getPropertyHelper().getProperty(N);};
r.addInnerItem=function(a,b,e){return Promise.resolve(null);};
r.insertInnerItem=function(a,b,e){};
r.removeInnerItem=function(a,b,e){return Promise.resolve(true);};
r.setChartTooltipVisibility=function(a,b){if(this._getChart(a)){if(b){if(!this._getState(a).vizTooltip){var e=this._getState(a);e.vizTooltip=new y();this._setState(a,e);}this._getState(a).vizTooltip.connect(this._getChart(a).getVizUid());}else if(this._getState(a).vizTooltip){this._getState(a).vizTooltip.destroy();}}else{L.error("Trying to set chart tooltip while inner chart was not yet initialized");}};
r._loadChart=function(){return new Promise(function(a){var N=['sap/chart/library','sap/chart/Chart','sap/chart/data/Dimension','sap/chart/data/HierarchyDimension','sap/chart/data/TimeDimension','sap/chart/data/Measure','sap/viz/ui5/controls/VizTooltip'];function b(e,i,j,H,k,G,I){v=i;w=j;x=G;y=I;a();}sap.ui.require(N,b);});};
r.getPropertyHelperClass=function(){return P;};
r._formatText=function(k,a){return k;};
r.setNoDataText=function(a,b){this._getChart(a).setCustomMessages({'NO_DATA':b});};
r.fetchProperties=function(a){var b=this._getModel(a);var e;if(!b){e=new Promise(function(i){a.attachModelContextChange({resolver:i},E,this);}.bind(this)).then(function(b){return this._createPropertyInfos(a.getDelegate().payload,b);}.bind(this));}else{e=this._createPropertyInfos(a.getDelegate().payload,b);}return e.then(function(i){if(a.data){a.data("$mdcChartPropertyInfo",i);}return i;});};
function E(e,a){var b=e.getSource();var i=this._getModel(b);if(i){b.detachModelContextChange(E);a.resolver(i);}}
r._createPropertyInfos=function(a,b){var e=[];var i="/"+a.collectionName;var j=b.getMetaModel();return Promise.all([j.requestObject(i+"/"),j.requestObject(i+"@")]).then(function(k){var G=k[0],H=k[1];var I=H["@Org.OData.Capabilities.V1.SortRestrictions"]||{};var J=O.getSortRestrictionsInfo(I);var K=H["@Org.OData.Capabilities.V1.FilterRestrictions"];var N=O.getFilterRestrictionsInfo(K);for(var U in G){var W=G[U];if(W&&W.$kind==="Property"){if(W.$isCollection){continue;}var X=j.getObject(i+"/"+U+"@");if(!X["@Org.OData.Aggregation.V1.Aggregatable"]&&!X["@Org.OData.Aggregation.V1.Groupable"]){continue;}if(X["@Org.OData.Aggregation.V1.Aggregatable"]){e=e.concat(this._createPropertyInfosForAggregatable(U,X,W,N,J));}if(X["@Org.OData.Aggregation.V1.Groupable"]){e.push({name:U,propertyPath:U,label:X["@com.sap.vocabularies.Common.v1.Label"]||U,sortable:J[U]?J[U].sortable:true,filterable:N[U]?N[U].filterable:true,groupable:true,aggregatable:false,maxConditions:O.isMultiValueFilterExpression(N.propertyInfo[U])?-1:1,sortKey:U,dataType:W.$Type,role:M.ChartItemRoleType.category,criticality:null,textProperty:X["@com.sap.vocabularies.Common.v1.Text"]?X["@com.sap.vocabularies.Common.v1.Text"].$Path:null});}}}return e;}.bind(this));};
r._createPropertyInfosForAggregatable=function(k,a,b,e,i){var j=[];if(a["@Org.OData.Aggregation.V1.SupportedAggregationMethods"]){a["@Org.OData.Aggregation.V1.SupportedAggregationMethods"].forEach(function(G){j.push({name:G+k,propertyPath:k,label:a["@com.sap.vocabularies.Common.v1.Label"]+" ("+G+")"||k+" ("+G+")",sortable:i[k]?i[k].sortable:true,filterable:e[k]?e[k].filterable:true,groupable:false,aggregatable:a["@Org.OData.Aggregation.V1.Aggregatable"],aggregationMethod:G,maxConditions:O.isMultiValueFilterExpression(e.propertyInfo[k])?-1:1,dataType:b.$Type,datapoint:null});});}return j;};
r._getPropertyInfosByName=function(N,a){return a._getPropertyByNameAsync(N);};
r._getModel=function(a){var b=a.getDelegate().payload;return a.getModel(b.model);};
r._addBindingListener=function(b,e,H){if(!b.events){b.events={};}if(!b.events[e]){b.events[e]=H;}else{var a=b.events[e];b.events[e]=function(){H.apply(this,arguments);a.apply(this,arguments);};}};
return r;});
sap.ui.predefine('sap/ui/mdc/p13n/AdaptationProvider',["sap/ui/base/Object"],function(B){"use strict";
var A=B.extend("sap.ui.mdc.p13n.AdaptationProvider",{metadata:{baseType:"sap.ui.mdc.p13n.AdaptationProvider"}});
A.prototype.initAdaptation=function(c,k,C){throw new Error("Please implement 'initAdaptation'");};
A.prototype.reset=function(c,k){throw new Error("Please implement 'reset'");};
A.prototype.handleP13n=function(c,k){throw new Error("Please implement 'handleP13n'");};
return A;});
sap.ui.predefine('sap/ui/mdc/p13n/Engine',["sap/ui/mdc/p13n/AdaptationProvider","sap/base/util/merge","sap/base/Log","sap/ui/mdc/util/PropertyHelper","sap/ui/mdc/p13n/modification/FlexModificationHandler","sap/m/MessageStrip","sap/ui/core/library","sap/ui/core/Element","sap/ui/mdc/p13n/modules/DefaultProviderRegistry","sap/ui/mdc/p13n/UIManager","sap/ui/mdc/p13n/modules/StateHandlerRegistry","sap/ui/mdc/p13n/modules/xConfigAPI"],function(A,m,L,P,F,M,c,E,D,U,S,x){"use strict";var b="Engine: This class is a singleton. Please use the getInstance() method instead.";var d=c.MessageType;var _=new WeakMap();var e;
var f=A.extend("sap.ui.mdc.p13n.Engine",{constructor:function(){A.call(this);if(e){throw Error(b);}this._aRegistry=[];this._aStateHandlers=[];this.defaultProviderRegistry=D.getInstance(this);this.uimanager=U.getInstance(this);this.stateHandlerRegistry=S.getInstance();}});
f.prototype.registerAdaptation=function(C,o){if(!o.hasOwnProperty("controller")){throw new Error("Please provide atleast a configuration 'controller' containing a map of key-value pairs (key + Controller class) in order to register adaptation.");}if(this._getRegistryEntry(C)){this.deregisterAdaptation(C);}var a=Object.keys(o.controller);a.forEach(function(k){var g=o.controller[k];if(!this.getController(C,k)){if(this._aRegistry.indexOf(C.getId())<0){this._aRegistry.push(C.getId());}var h=new g(C);this.addController(h,k);}}.bind(this));};
f.prototype.deregisterAdaptation=function(C){var r=this._getRegistryEntry(C);Object.keys(r.controller).forEach(function(k){var o=r.controller[k];o.destroy();delete r.controller[k];});_.delete(C);var i=this._aRegistry.indexOf(C.getId());this._aRegistry.splice(i,1);};
f.prototype._setModificationHandler=function(C,o){if(!o.isA("sap.ui.mdc.p13n.modification.ModificationHandler")){throw new Error("Only sap.ui.mdc.p13n.modification.ModificationHandler derivations are allowed for modification");}var a=this._determineModification(C);a.handler=o;this._getRegistryEntry(C).modification=a;};
var q=function(C,t){var a=function(p){if(C._pModificationQueue===p){delete C._pModificationQueue;}};C._pModificationQueue=C._pModificationQueue instanceof Promise?C._pModificationQueue.then(t):t();C._pModificationQueue.then(a.bind(null,C._pModificationQueue));return C._pModificationQueue;};
f.prototype.createChanges=function(g){var k=g.key;var n=g.state;var h=!!g.applyAbsolute;var s=!!g.suppressAppliance;var i=!!g.applySequentially;if(!k||!g.control||!n){throw new Error("To create changes via Engine, atleast a 1)Control 2)Key and 3)State needs to be provided.");}var C=f.getControlInstance(g.control);var j=function(){return this.initAdaptation(C,k).then(function(){var o=this.getController(C,k);var l=o.getChangeOperations();var r=this._getRegistryEntry(C);var p=o.getCurrentState();var t=m(p instanceof Array?[]:{},p);var u={existingState:g.stateBefore||t,applyAbsolute:h,changedState:n,control:o.getAdaptationControl(),changeOperations:l,deltaAttributes:["name"],propertyInfo:r.helper.getProperties().map(function(a){return{name:a.name};})};var v=o.getDelta(u);if(!s){return this._processChanges(C,v);}return v||[];}.bind(this));}.bind(this);if(i){return q(C,j);}else{return j.apply(this);}};
f.prototype.reset=function(C,k){k=k instanceof Array?k:[k];var s=[];k.forEach(function(K){s=s.concat(this.getController(C,K).getSelectorForReset());}.bind(this));var r={selectors:s,selector:C};var o=this._determineModification(C);return o.handler.reset(r,o.payload).then(function(){this.stateHandlerRegistry.fireChange(C);return this.initAdaptation(C,k).then(function(p){k.forEach(function(K){var a=this.getController(C,K);a.update(p);}.bind(this));}.bind(this));}.bind(this));};
f.prototype.waitForChanges=function(C){var o=this._determineModification(C);return o.handler.waitForChanges({element:C},o.payload);};
f.prototype.isModificationSupported=function(C){var o=this._determineModification(C);return o.handler.isModificationSupported({element:C},o.payload);};
f.prototype._processChanges=function(C,a){if(a instanceof Array&&a.length>0){var o=this._determineModification(C);return o.handler.processChanges(a,o.payload).then(function(a){var g=f.getControlInstance(C);this.stateHandlerRegistry.fireChange(g);return a;}.bind(this));}else{return Promise.resolve([]);}};
f.prototype.getRTASettingsActionHandler=function(C,p,k){var r;var a=f.hasForReference(C,"sap.ui.mdc.p13n.PersistenceProvider");if(a.length>0&&!C.isA("sap.ui.mdc.link.Panel")){return Promise.reject("Please do not use a PeristenceProvider in RTA.");}var o=this.getModificationHandler(C);var t=new F();var R=new Promise(function(g,h){r=g;});t.processChanges=function(g){r(g);return Promise.resolve(g);};this._setModificationHandler(C,t);this.uimanager.show(C,k).then(function(g){var h=g.getCustomHeader();if(h){h.getContentRight()[0].setVisible(false);}g.addStyleClass(p.styleClass);if(p.fnAfterClose instanceof Function){g.attachAfterClose(p.fnAfterClose);}});R.then(function(){this._setModificationHandler(C,o);t.destroy();}.bind(this));return R;};
f.prototype.enhanceXConfig=function(C,a){var o=f.getControlInstance(C);var r=this._getRegistryEntry(C);return Promise.resolve().then(function(){return x.enhanceConfig(o,a).then(function(g){if(r){r.xConfig=g;}});});};
f.prototype.readXConfig=function(C,a){var o=f.getControlInstance(C);return x.readConfig(o,a)||{};};
f.prototype.externalizeKeys=function(C,i){var o={};Object.keys(i).forEach(function(I){var a=this.getController(f.getControlInstance(C),I);if(a){o[a.getStateKey()]=i[I];}}.bind(this));return o;};
f.prototype.internalizeKeys=function(C,o){var a=this.getRegisteredControllers(C),i={};a.forEach(function(I){var s=this.getController(C,I).getStateKey();if(o.hasOwnProperty(s)){i[I]=o[s];}}.bind(this));return i;};
f.prototype.applyState=function(C,s,a){return this.retrieveState(C).then(function(o){var g=[],h=[],i={};if(C.validateState instanceof Function){i=C.validateState(this.externalizeKeys(C,s));}if(i.validation===d.Error){L.error(i.message);}Object.keys(s).forEach(function(j){var k=this.getController(C,j);if(!k){return;}var l=this.createChanges({control:C,key:j,state:k.sanityCheck(s[j]),suppressAppliance:true,applyAbsolute:a});g.push(l);}.bind(this));return Promise.all(g).then(function(r){r.forEach(function(j){if(j&&j.length>0){h=h.concat(j);}});return this._processChanges(C,h);}.bind(this));}.bind(this));};
f.prototype.diffState=function(C,o,n){var a=[],g={};o=m({},o);n=m({},n);this.getRegisteredControllers(C).forEach(function(k){a.push(this.createChanges({control:C,stateBefore:o[k],state:n[k],applyAbsolute:true,key:k,suppressAppliance:true}));}.bind(this));return Promise.all(a).then(function(h){this.getRegisteredControllers(C).forEach(function(k,i){var s=this.getController(C,k).changesToState(h[i],o[k],n[k]);g[k]=s;}.bind(this));return g;}.bind(this));};
f.prototype.retrieveState=function(C){var v=this.checkXStateInterface(C);if(!v){throw new Error("The control needs to implement the interface IxState.");}return C.initialized().then(function(){return f.getInstance().waitForChanges(C).then(function(){var r={};f.getInstance().getRegisteredControllers(C).forEach(function(k){r[k]=f.getInstance().getController(C,k).getCurrentState();});return m({},r);});});};
f.prototype.checkXStateInterface=function(C){if(!C){return false;}if(!this.isModificationSupported(C)){return false;}if(!C.isA("sap.ui.mdc.IxState")){return false;}return true;};
f.prototype.initAdaptation=function(C,k,a){this.verifyController(C,k);return this._retrievePropertyHelper(C,a);};
f.prototype.addController=function(C,k,p){var r=this._createRegistryEntry(C.getAdaptationControl(),p);r.controller[k]=C;};
f.prototype.getController=function(C,k){var r=this._getRegistryEntry(C);if(r&&r.controller.hasOwnProperty(k)){return r.controller[k];}};
f.prototype.verifyController=function(C,k){var K=k instanceof Array?k:[k];K.forEach(function(s){if(!this.getController(C,s)){var o=f.getControlInstance(C);throw new Error("No controller registered yet for "+o.getId()+" and key: "+s);}}.bind(this));};
f.prototype.getUISettings=function(C,k){var K=Array.isArray(k)?k:[k];this.verifyController(C,K);var p=this._getRegistryEntry(C).helper;var u={};K.forEach(function(s){var o=this.getController(C,s);var a=o.getAdaptationUI(p);if(a instanceof Promise){u[s]={};u[s]={resetEnabled:o.getResetEnabled(),containerSettings:o.getUISettings(),adaptationUI:a};}}.bind(this));return u;};
f.prototype.isRegisteredForModification=function(C){var r=this._getRegistryEntry(C);return r&&!!r.modification;};
f.prototype.getRegisteredControllers=function(C){var r=this._getRegistryEntry(C);return Object.keys(r.controller);};
f.prototype._getRegistryEntry=function(C){var o=f.getControlInstance(C);return _.get(o);};
f.prototype.getModificationHandler=function(C){var o=this._determineModification(C);return o.handler;};
f.prototype._createRegistryEntry=function(C,p){var o=f.getControlInstance(C);if(!_.has(o)){_.set(o,{modification:p&&p.modification?p.modification:null,controller:{},activeP13n:null,helper:null,xConfig:null});}return _.get(o);};
f.prototype._determineModification=function(C){var r=this._getRegistryEntry(C);if(r&&r.modification){return r.modification;}var p=f.hasForReference(C,"sap.ui.mdc.p13n.PersistenceProvider");var v=f.hasForReference(C,"sap.ui.fl.variants.VariantManagement");var a=p.length?p:undefined;var h=a?a[0].getMode():"Standard";var H={undefined:F,Global:F,Transient:F,Standard:F,Auto:F};var g=H[h];if(!g){throw new Error("Please provide a valid ModificationHandler! - valid Modification handlers are:"+Object.keys(H));}var o={handler:g.getInstance(),payload:{hasVM:v&&v.length>0,hasPP:p&&p.length>0,mode:h}};if(r&&!r.modification){r.modification=o;}return o;};
f.hasForReference=function(C,s){var a=C&&C.getId?C.getId():C;var r=E.registry.filter(function(o){if(!o.isA(s)){return false;}var g=o.getFor();for(var n=0;n<g.length;n++){if(g[n]===a||f.hasControlAncestorWithId(a,g[n])){return true;}}return false;});return r;};
f.hasControlAncestorWithId=function(C,a){var o;if(C===a){return true;}o=sap.ui.getCore().byId(C);while(o){if(o.getId()===a){return true;}if(typeof o.getParent==="function"){o=o.getParent();}else{return false;}}return false;};
f.getControlInstance=function(C){return typeof C=="string"?sap.ui.getCore().byId(C):C;};
f.prototype.hasActiveP13n=function(C){return!!this._getRegistryEntry(C).activeP13n;};
f.prototype.setActiveP13n=function(C,k){this._getRegistryEntry(C).activeP13n=k;};
f.prototype.validateP13n=function(C,k,p){var o=this.getController(C,k);var a=f.getControlInstance(C);var g=this._getRegistryEntry(C).controller;var t={};Object.keys(g).forEach(function(s){t[s]=g[s].getCurrentState();});if(o&&o.model2State instanceof Function){t[k]=o.model2State();var i=a.validateState(this.externalizeKeys(a,t),k);var h;if(i.validation!==d.None){h=new M({type:i.validation,text:i.message});}if(p.setMessageStrip instanceof Function){p.setMessageStrip(h);}else{L.warning("message strip could not be provided - the adaptation UI needs to implement 'setMessageStrip'");}return i;}else{return undefined;}};
f.prototype.handleP13n=function(C,k){var a=[];k.forEach(function(s){var o=this.getController(C,s);var p=this.createChanges({control:C,key:s,state:o.getP13nData(),suppressAppliance:true,applyAbsolute:true}).then(function(i){return o.getBeforeApply().then(function(g){var h=g?g.concat(i):i;return h;});});a.push(p);}.bind(this));return Promise.all(a).then(function(g){var h=[];g.forEach(function(t){h=h.concat(t);});if(h.length>0){f.getInstance()._processChanges(C,h);}});};
f.prototype._retrievePropertyHelper=function(C,a){var r=this._getRegistryEntry(C);var o=f.getControlInstance(C);if(a){if(r.helper){r.helper.destroy();}r.helper=new P(a);return Promise.resolve(r.helper);}if(r.helper){return Promise.resolve(r.helper);}return o.initPropertyHelper().then(function(p){r.helper=p;return p;},function(h){throw new Error(h);});};
f.getInstance=function(){if(!e){e=new f();}return e;};
f.prototype._getRegistry=function(){var r={stateHandlerRegistry:this.stateHandlerRegistry,defaultProviderRegistry:this.defaultProviderRegistry,controlRegistry:{}};this._aRegistry.forEach(function(k){var C=sap.ui.getCore().byId(k);r.controlRegistry[k]=_.get(C);});return r;};
f.prototype.destroy=function(){A.prototype.destroy.apply(this,arguments);e=null;this._aRegistry=null;_.delete(this);this.defaultProviderRegistry.destroy();this.defaultProviderRegistry=null;this.stateHandlerRegistry.destroy();this.stateHandlerRegistry=null;this.uimanager.destroy();this.uimanager=null;};
return f;});
sap.ui.predefine('sap/ui/mdc/p13n/FlexUtil',['sap/base/util/merge','sap/base/util/deepEqual','sap/ui/mdc/condition/FilterOperatorUtil','sap/base/Log'],function(m,d,F,L){"use strict";var a={getPropertySetterChanges:function(D){var c=D.control;var e=D.existingState;var C=D.changedState;var o=D.operation;var s=D.deltaAttribute;var S=[];C.forEach(function(i){if(i.hasOwnProperty(s)){var E=e.find(function(b){return b.name==i.name;});var O=E&&E.hasOwnProperty(s)&&E[s];var n=i[s];var v=O!==n;if(v){S.push(this.createChange(c,o,{name:i.name,value:i[s]}));}}}.bind(this));return S;},_getChangeContent:function(p,D){var c={};if(p.index>=0){c.index=p.index;}D.forEach(function(A){if(p.hasOwnProperty(A)){c[A]=p[A];}});return c;},getConditionDeltaChanges:function(D){var c=[];var n=D.changedState;var p=D.existingState;var A=D.control;var b=D.hasOwnProperty("applyAbsolute")?D.applyAbsolute:true;var P=D.propertyInfo;for(var f in n){var v=a._hasProperty(P,f);if(!v){L.warning("property '"+f+"' not supported");continue;}var e=a._diffConditionPath(f,n[f],p[f],A,b);c=c.concat(e);}return c;},_hasProperty:function(p,n){return p.some(function(P){var v=P.name===n||n=="$search";v=v?v:P.path===n;return v;});},_diffConditionPath:function(f,c,o,C,A){var b,e=[];var O=m([],c);var s=o?m([],o):[];if(d(c,s)){return e;}var r=function(c,s){var R;do{R=false;for(var i=0;i<c.length;i++){var n=c[i];var g=F.indexOfCondition(n,s);if(g>-1){c.splice(i,1);if(A){s.splice(g,1);}R=true;break;}}}while(R);};r(c,s);if((c.length>0)||(s.length>0)){s.forEach(function(g){var n=F.indexOfCondition(g,O);var N=n>-1&&O[n].filtered===false;if(A||N){b=a.createConditionChange("removeCondition",C,f,g);e.push(b);}});c.forEach(function(g){if(A||(!g.hasOwnProperty("filtered")||g.filtered!==false)){b=a.createConditionChange("addCondition",C,f,g);e.push(b);}});}return e;},createChange:function(c,o,C){var A={selectorElement:c,changeSpecificData:{changeType:o,content:C}};return A;},createConditionChange:function(c,C,f,o){delete o.filtered;var b={selectorElement:C,changeSpecificData:{changeType:c,content:{name:f,condition:o}}};return b;},handleChanges:function(c,i,u){return new Promise(function(r,b){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.add({changes:c,ignoreVariantManagement:i,useStaticArea:u}).then(function(D){r(D);},b);});});},saveChanges:function(c,D){return new Promise(function(r,b){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.save({selector:c,changes:D}).then(r);});});},restore:function(p){return new Promise(function(r,b){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.restore(p).then(function(){r();},b);});});},reset:function(p){return new Promise(function(r,b){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.reset(p).then(function(){r();},b);});});}};return a;});
sap.ui.predefine('sap/ui/mdc/p13n/P13nBuilder',["./PropertyHelper","sap/m/Button","sap/m/Bar","sap/m/Title","sap/base/util/merge","sap/m/MessageBox","sap/ui/Device"],function(P,B,a,T,m,M,D){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var b={createP13nPopover:function(p,d){return new Promise(function(c,e){sap.ui.require(["sap/m/ResponsivePopover"],function(R){b["_checkSettings"](p,d,e);var o=new R({title:d.title,horizontalScrolling:d.hasOwnProperty("horizontalScrolling")?d.horizontalScrolling:false,verticalScrolling:d.hasOwnProperty("verticalScrolling")?d.verticalScrolling:false,contentWidth:d.contentWidth?d.contentWidth:"24rem",resizable:d.hasOwnProperty("resizable")?d.resizable:true,contentHeight:d.contentHeight?d.contentHeight:"35rem",placement:d.placement?d.placement:"Bottom",content:p,afterClose:d.afterClose?d.afterClose:function(){}});if(d.reset){var C=b._createResetHeader({title:d.title,reset:d.reset.onExecute,idResetButton:d.reset.idButton,warningText:d.reset.warningText});o.setCustomHeader(C);}c(o);},e);});},createP13nDialog:function(p,d){return new Promise(function(c,e){b["_checkSettings"](p,d,e);var i=d.id;sap.ui.require(["sap/m/Dialog","sap/m/Button"],function(f,B){var R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var C=new f(i,{title:d.title,horizontalScrolling:d.hasOwnProperty("horizontalScrolling")?d.horizontalScrolling:false,verticalScrolling:d.hasOwnProperty("verticalScrolling")?d.verticalScrolling:true,contentWidth:d.contentWidth?d.contentWidth:"40rem",contentHeight:d.contentHeight?d.contentHeight:"55rem",draggable:true,resizable:true,stretch:D.system.phone,content:p,afterClose:d.afterClose?d.afterClose:function(){},buttons:[new B(i?i+"-confirmBtn":undefined,{text:d.confirm&&d.confirm.text?d.confirm.text:R.getText("p13nDialog.OK"),type:"Emphasized",press:function(){if(d.confirm&&d.confirm.handler){d.confirm.handler.apply(C,arguments);}}}),new B(i?i+"-cancelBtn":undefined,{text:R.getText("p13nDialog.CANCEL"),press:function(){d.cancel.apply(C,arguments);}})]});if(d.reset){var o=b._createResetHeader({title:d.title,idResetButton:d.reset.idButton,reset:d.reset.onExecute,warningText:d.reset.warningText});C.setCustomHeader(o);}var A=d.additionalButtons;if(A instanceof Array){A.forEach(function(g){if(!g.isA("sap.m.Button")){e("Please only provide sap.m.Button instances as 'additionalButtons'");}C.addButton(g);});}c(C);},e);});},_createResetHeader:function(s){var o=new a({contentLeft:[new T({text:s.title})]});if(s.reset){var i=s.idResetButton;o.addContentRight(new B(i,{text:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.RESET"),press:function(e){var d=e.getSource().getParent().getParent();var c=d.getParent();var R=s.warningText?s.warningText:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("filterbar.ADAPT_RESET_WARNING");M.warning(R,{actions:[M.Action.OK,M.Action.CANCEL],emphasizedAction:M.Action.OK,onClose:function(A){if(A===M.Action.OK){d.getButtons()[0].focus();s.reset(c);}}});}}));}return o;},prepareAdaptationData:function(p,e,g){var o=p&&p.getProperties instanceof Function?p:new P(p);var i=[];var I=g?{}:null;var E=e instanceof Function;o.getProperties().forEach(function(c){var d={};if(E){var f=e(d,c);if(!f){return;}}d.name=c.name;d.label=c.label||c.name;d.tooltip=c.tooltip;if(I){d.group=c.group?c.group:"BASIC";d.groupLabel=c.groupLabel;I[d.group]=I[d.group]?I[d.group]:[];I[d.group].push(d);}i.push(d);});var A={items:i};if(I){A.itemsGrouped=this._buildGroupStructure(I);}return A;},sortP13nData:function(s,i){var p=s;var c=p.position;var S=p.visible;var l=sap.ui.getCore().getConfiguration().getLocale().toString();var C=window.Intl.Collator(l,{});i.sort(function(f,F){if(f[S]&&F[S]){return(f[c]||0)-(F[c]||0);}else if(f[S]){return-1;}else if(F[S]){return 1;}else if(!f[S]&&!F[S]){return C.compare(f.label,F.label);}});},_buildGroupStructure:function(i){var g=[];Object.keys(i).forEach(function(G){this.sortP13nData("generic",i[G]);g.push({group:G,groupLabel:i[G][0].groupLabel||r.getText("p13nDialog.FILTER_DEFAULT_GROUP"),groupVisible:true,items:i[G]});}.bind(this));return g;},_isExcludeProperty:function(p,i){return i.some(function(k){var I=k.ignoreKey;var v=k.ignoreValue;return p[I]===v;});},_checkSettings:function(p,d,o){if(!d){o("Please provide a settings object for p13n creation");}if(!d.title&&!d.customHeader){o("Please provide a title or customHeader in the settings object for p13n creation");}},arrayToMap:function(A){return A.reduce(function(c,p,i){c[p.name]=p;c[p.name].position=i;return c;},{});}};return b;});
sap.ui.predefine('sap/ui/mdc/p13n/PropertyHelper',["../util/PropertyHelper"],function(P){"use strict";
var a=P.extend("sap.ui.mdc.p13n.PropertyHelper",{constructor:function(p,e,o,E){var A=["filterable","sortable"];P.call(this,p,e,o,A,E);}});
a.prototype.validateProperties=function(){};
a.prototype.prepareProperty=function(p){P.prototype.prepareProperty.apply(this,arguments);p.label=p.label||p.name;};
return a;});
sap.ui.predefine('sap/ui/mdc/p13n/StateUtil',["sap/ui/mdc/p13n/Engine"],function(E){"use strict";var S={applyExternalState:function(c,s){var i=E.getInstance().internalizeKeys(c,s);return E.getInstance().applyState(c,i);},retrieveExternalState:function(c){return E.getInstance().retrieveState(c).then(function(e){return E.getInstance().externalizeKeys(c,e);});},diffState:function(c,o,n){return sap.ui.mdc.p13n.Engine.getInstance().diffState(c,E.getInstance().internalizeKeys(c,o),E.getInstance().internalizeKeys(c,n)).then(function(e){return E.getInstance().externalizeKeys(c,e);});},attachStateChange:function(l){E.getInstance().stateHandlerRegistry.attachChange(l);},detachStateChange:function(l){E.getInstance().stateHandlerRegistry.detachChange(l);}};return S;});
sap.ui.predefine('sap/ui/mdc/p13n/UIManager',["sap/ui/base/Object","sap/ui/mdc/p13n/P13nBuilder","sap/m/p13n/Container","sap/m/p13n/AbstractContainerItem","sap/base/util/UriParameters","sap/base/Log","sap/ui/thirdparty/jquery"],function(B,P,a,A,S,L,q){"use strict";var E="UIManager: This class is a singleton and should not be used without an AdaptationProvider. Please use 'sap.ui.mdc.p13n.Engine.getInstance().uimanager' instead";var u;var U=S.fromQuery(window.location.search);
var b=B.extend("sap.ui.mdc.p13n.UIManager",{constructor:function(o){if(u){throw Error(E);}this.oAdaptationProvider=o;B.call(this);}});
b.prototype.show=function(c,k,s){this.bLiveMode=false;if(U.get("sap-ui-xx-p13nLiveMode")==="true"){this.bLiveMode=true;L.warning("Please note that the p13n liveMode is experimental");}if(!this.hasActiveP13n(c)){this.setActiveP13n(c,k);return this.create(c,k).then(function(p){this._openP13nControl(c,k,p,s);return p;}.bind(this),function(e){this.setActiveP13n(c,null);L.error("Engine UI failure:"+e.stack);}.bind(this));}else{return Promise.resolve();}};
b.prototype.create=function(c,k,C){var K=k instanceof Array?k:[k];var o=typeof c=="string"?sap.ui.getCore().byId(c):c;return this.oAdaptationProvider.initAdaptation(c,K,C).then(function(){return this._retrieveP13nContainer(o,K).then(function(d){o.addDependent(d);return d;});}.bind(this));};
b.prototype._openP13nControl=function(c,k,p,s){var K=k instanceof Array?k:[k];if(this.bLiveMode){p.openBy(s);delete this.bLiveMode;}else{p.open();}if(this.oAdaptationProvider&&this.oAdaptationProvider.validateP13n instanceof Function){K.forEach(function(d){var w=K.length>1;var o;var C=p.getContent()[0];if(w&&C.isA("sap.m.p13n.Container")&&C.getView(d)){o=C.getView(d).getContent();}else{o=C;}this.oAdaptationProvider.validateP13n(c,d,o);}.bind(this));}};
b.prototype._retrieveP13nContainer=function(c,k){var p=[];var d=k instanceof Array&&k.length>1;var o=this.oAdaptationProvider.getUISettings(c,k);k.forEach(function(r){if(!o[r]){k.splice(k.indexOf(r),1);return;}});k.forEach(function(r){var e=o[r].adaptationUI;e._key=r;var f=e.then(function(g){if(this.bLiveMode&&g&&g.attachChange){g.attachChange(function(){this.oAdaptationProvider.handleP13n(c,k);}.bind(this));}if(g&&g.attachChange){g.attachChange(function(h){var K=d?h.getSource().getParent().getParent().getCurrentViewKey():k[0];this.oAdaptationProvider.validateP13n(c,K,g);}.bind(this));}var s=o[e._key];return{key:e._key,tab:s.containerSettings&&s.containerSettings.tabText?s.containerSettings.tabText:e._key,panel:g};}.bind(this));p.push(f);}.bind(this));return Promise.all(p).then(function(e){var f=d?new a({afterViewSwitch:function(g){this.oAdaptationProvider.validateP13n(c,g.getParameter("target"),g.getSource().getCurrentViewContent());}.bind(this)}):e[0].panel;if(d){e.forEach(function(m){if(m.panel){f.addView(new A({key:m.key,text:m.tab,content:m.panel}));}});f.switchView(e[0].key);}return this._createUIContainer(c,k,f,o).then(function(D){return D;});}.bind(this));};
b.prototype._createUIContainer=function(c,k,p,o){var C;var m=k.length>1?this._getDefaultContainerConfig(o):o[k[0]];if(this.bLiveMode){C=this._createPopover(c,k,p,m);}else{C=this._createModalDialog(c,k,p,m);}return C.then(function(d){d.addStyleClass("sapUiMdcPersonalizationDialog");d.isPopupAdaptationAllowed=function(){return false;};if(this.bLiveMode===false){d.setEscapeHandler(function(D){this.setActiveP13n(c,null);k.forEach(function(K){if(o[K].containerSettings&&o[K].containerSettings.afterClose instanceof Function){o[K].containerSettings.afterClose({getSource:function(){return d;}});}});d.close();d.destroy();D.resolve();}.bind(this));}d.toggleStyleClass("sapUiSizeCompact",!!q(c).closest(".sapUiSizeCompact").length);return d;}.bind(this));};
b.prototype._createPopover=function(c,k,p,m){var f=function(e){var o=e.getSource();this.setActiveP13n(c,null);o.destroy();}.bind(this);var s=Object.assign({verticalScrolling:true,reset:m.reset,afterClose:f},m.containerSettings);if(m.resetEnabled){s.reset={onExecute:function(){k.forEach(function(K){this.oAdaptationProvider.reset(c,K);}.bind(this));}};}return P.createP13nPopover(p,s);};
b.prototype._createModalDialog=function(c,k,p,m){var d=function(e){var o=e.getSource().getParent();var f=this._confirmContainer(c,k,p);f.then(function(){this.setActiveP13n(c,null);o.close();}.bind(this));}.bind(this);var D=function(e){var C=e.getSource().getParent();this.setActiveP13n(c,null);C.close();}.bind(this);var s=Object.assign({verticalScrolling:true,reset:m.reset||{},afterClose:function(e){var o=e.getSource();if(o){o.destroy();}},cancel:D},m.containerSettings);if(m.resetEnabled){s.reset.onExecute=function(){this.oAdaptationProvider.reset(c,k);}.bind(this);}s.confirm={handler:function(e){d(e);}};return P.createP13nDialog(p,s);};
b.prototype.setActiveP13n=function(c,k){if(this.oAdaptationProvider.setActiveP13n instanceof Function){this.oAdaptationProvider.setActiveP13n(c,k);}};
b.prototype.hasActiveP13n=function(c){var d=false;if(this.oAdaptationProvider.hasActiveP13n instanceof Function){d=this.oAdaptationProvider.hasActiveP13n(c);}return d;};
b.prototype._getDefaultContainerConfig=function(o){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var k=Object.keys(o);var c={containerSettings:{title:r.getText("p13nDialog.VIEW_SETTINGS"),verticalScrolling:false,contentHeight:o.contentHeight,contentWidth:o.contentWidth,afterClose:function(e){k.forEach(function(K){if(o[K]&&o[K].containerSettings&&o[K].containerSettings.afterClose instanceof Function){o[K].containerSettings.afterClose(e);}});e.getSource().destroy();}}};if(o.resetEnabled!==false){c.reset={onExecute:function(C){this.oAdaptationProvider.reset(C,k);}.bind(this),warningText:r.getText("p13nDialog.RESET_WARNING_TEXT")};}return c;};
b.prototype._confirmContainer=function(c,k){return this.oAdaptationProvider.handleP13n(c,k);};
b._checkValidInterface=function(o){if(!o||!o.isA("sap.ui.mdc.p13n.AdaptationProvider")){throw Error("The UIManager singleton must not be accessed without an AdaptationProvider interface!");}};
b.getInstance=function(o){if(!u){this._checkValidInterface(o);u=new b(o);}return u;};
b.prototype.destroy=function(){B.prototype.destroy.apply(this,arguments);u=null;};
return b;});
sap.ui.predefine('sap/ui/mdc/p13n/modification/FlexModificationHandler',["./ModificationHandler","sap/ui/mdc/p13n/FlexUtil","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/ui/mdc/enum/PersistenceMode"],function(M,F,a,m){"use strict";var f;
var b=M.extend("sap.ui.mdc.p13n.modification.FlexModificationHandler");
b.prototype.processChanges=function(c,o){var C=c&&c[0]?c[0].selectorElement:undefined;var i=o.mode;var I=i===m.Auto;if(I){i=o.hasVM?"Standard":m.Global;}var d=i===m.Global;var e=i===m.Transient;var h=F.handleChanges.call(this,c,d,e);return d?h.then(function(D){return F.saveChanges.call(this,C,D);}):h;};
b.prototype.waitForChanges=function(p,o){return a.waitForChanges.apply(this,arguments);};
b.prototype.reset=function(p,o){var P=o.mode;var i=P===m.Global;var I=!o.hasVM&&o.hasPP&&P===m.Auto;return(i||I)?F.reset.call(this,p):F.restore.call(this,p);};
b.prototype.isModificationSupported=function(p,o){return a.isFlexSupported.apply(this,arguments);};
b.getInstance=function(){if(!f){f=new b();}return f;};
return b;});
sap.ui.predefine('sap/ui/mdc/p13n/modification/ModificationHandler',["sap/ui/base/Object","sap/base/util/merge","sap/ui/core/util/reflection/JsControlTreeModifier"],function(B,m,J){"use strict";var M;
var a=B.extend("sap.ui.mdc.p13n.modification.ModificationHandler");
a.prototype.processChanges=function(c,o){return Promise.resolve();};
a.prototype.waitForChanges=function(p,o){return Promise.resolve();};
a.prototype.reset=function(p,o){return Promise.resolve();};
a.prototype.isModificationSupported=function(p,o){return false;};
a.getInstance=function(){if(!M){M=new a();}return M;};
return a;});
sap.ui.predefine('sap/ui/mdc/p13n/modules/DefaultProviderRegistry',["sap/ui/base/Object","sap/ui/mdc/p13n/PersistenceProvider"],function(B,P){"use strict";var E="DefaultProviderRegistry: This class is a singleton and should not be used without an AdaptationProvider. Please use 'sap.ui.mdc.p13n.Engine.getInstance().defaultProviderRegistry' instead";var d;
var D=B.extend("sap.ui.mdc.p13n.modules.DefaultProviderRegistry",{constructor:function(e){if(d){throw Error(E);}B.call(this);this._mDefaultProviders={};this._oEngine=e;}});
D.prototype.destroy=function(){Object.keys(this._mDefaultProviders).forEach(function(p){this._mDefaultProviders[p].destroy();delete this._mDefaultProviders[p];}.bind(this));this._oEngine=null;B.prototype.destroy.apply(this,arguments);d=null;};
D.prototype.attach=function(e,p){if(this._oEngine.isRegisteredForModification(e)){throw new Error("DefaultProviderRegistry: You must not change the modificationSettings for an already registered element");}var o=this._retrieveDefaultProvider(p);var c=typeof e==="string"?e:e.getId();if(o.getFor().indexOf(c)===-1){o.addFor(e);}return o;};
D.prototype.detach=function(c){Object.keys(this._mDefaultProviders).forEach(function(m){var o=this._mDefaultProviders[m];o.removeFor(c);}.bind(this));};
D.prototype._retrieveDefaultProvider=function(p){this._mDefaultProviders[p]=this._mDefaultProviders[p]||new P({mode:p});return this._mDefaultProviders[p];};
D.getInstance=function(e){if(!d){d=new D(e);}return d;};
return D;});
sap.ui.predefine('sap/ui/mdc/p13n/modules/StateHandlerRegistry',["sap/ui/base/EventProvider"],function(E){"use strict";var a="StateHandlerRegistry: This class is a singleton and should not be used without an AdaptationProvider. Please use 'sap.ui.mdc.p13n.Engine.getInstance().stateHandlerRegistry' instead";var s;
var S=E.extend("sap.ui.mdc.p13n.modules.StateHandlerRegistry",{constructor:function(){if(s){throw Error(a);}E.call(this);}});
S.prototype.attachChange=function(f){return E.prototype.attachEvent.call(this,"stateChange",f);};
S.prototype.detachChange=function(f){return E.prototype.detachEvent.call(this,"stateChange",f);};
S.prototype.fireChange=function(c){return E.prototype.fireEvent.call(this,"stateChange",{control:c});};
S.getInstance=function(){if(!s){s=new S();}return s;};
return S;});
sap.ui.predefine('sap/ui/mdc/p13n/panels/ActionToolbarPanel',["sap/m/p13n/SelectionPanel","sap/ui/model/Sorter"],function(S,a){"use strict";
var A=S.extend("sap.ui.mdc.p13n.panels.ActionToolbarPanel",{
metadata:{library:"sap.ui.mdc"},
renderer:{apiVersion:2}
});
A.prototype._bindListItems=function(b){var t=this.getAggregation("_template");if(t){var g=function(c){return c.getProperty("alignment");};var s=new a({path:"alignment",descending:false,group:g});this._oListControl.bindItems(Object.assign({path:this.P13N_MODEL+">/items",sorter:s,key:"name",templateShareable:false,template:this.getAggregation("_template").clone()},b));}};
return A;});
sap.ui.predefine('sap/ui/mdc/p13n/panels/AdaptFiltersPanel',["sap/m/p13n/AbstractContainer","sap/m/p13n/AbstractContainerItem","sap/m/p13n/SelectionPanel","./GroupView","sap/ui/model/Filter","sap/m/Button","sap/m/Bar","sap/m/ToolbarSpacer","sap/m/Select","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/SearchField","sap/m/OverflowToolbarLayoutData","sap/ui/core/Item","sap/m/library","sap/ui/model/json/JSONModel"],function(A,a,S,G,F,B,b,T,c,d,e,f,O,I,l,J){"use strict";var g=l.BarDesign;
var h=A.extend("sap.ui.mdc.p13n.panels.AdaptFiltersPanel",{
metadata:{library:"sap.ui.mdc",properties:{itemFactory:{type:"function"},enableReorder:{type:"boolean",defaultValue:true}}},
renderer:{apiVersion:2}
});
h.prototype.GROUP_KEY="group";h.prototype.LIST_KEY="list";h.prototype.P13N_MODEL="$p13n";
h.prototype.applySettings=function(s){this.addView(new a({key:this.LIST_KEY,content:new S(this.getId()+"-listView",{activeColumn:this._getResourceText("p13nDialog.LIST_VIEW_ACTIVE"),change:function(E){this.getP13nModel().setProperty("/items",E.getSource().getP13nData());}.bind(this)})}));this.addView(new a({key:this.GROUP_KEY,content:new G(this.getId()+"-groupView",{change:function(E){this.getP13nModel().setProperty("/itemsGrouped",E.getSource().getP13nData());}.bind(this)})}));A.prototype.applySettings.apply(this,arguments);this.getView(this.LIST_KEY).getContent().setEnableReorder(this.getEnableReorder());var q=this._getQuickFilter();var v=this._getViewSwitch();var o=this._getShowHideBtn();var H=new b({contentMiddle:[q,new T(),o,v]});H.setDesign(g.SubHeader);this.setHeader(H);var i=new b({contentMiddle:[this._getSearchField()]});i.addStyleClass("sapUiMDCAdaptFiltersSearchBar");i.setDesign(g.SubHeader);this.setSubHeader(i);this.addStyleClass("sapUiMDCAdaptFiltersPanel");};
h.prototype.setItemFactory=function(i){this.setProperty("itemFactory",i);this.getViews().forEach(function(v){var p=v.getContent();p.setItemFactory(i);});return this;};
h.prototype.switchView=function(k){var s=k;A.prototype.switchView.call(this,s);this._getShowHideBtn().setVisible(!this._isCustomView());this._getViewSwitch().setSelectedKey(this.getCurrentViewKey());if(!this._isCustomView(k)){this.showFactory(this.getCurrentViewContent()._getShowFactory());}this._filterByModeAndSearch();};
h.prototype.addCustomView=function(v){var i=v.item;var k=i.getKey();var C=v.content;var o=v.search;var s=v.selectionChange;var D=v.filterSelect;if(!k){throw new Error("Please provide an item of type sap.m.SegmentedButtonItem with a key");}if(this._oViewSwitch){this._oViewSwitch.attachSelectionChange(function(E){if(s){s(E.getParameter("item").getKey());}if(this._isCustomView()){if(o instanceof Function){o(this._getSearchField().getValue());}if(D instanceof Function){D(this._getQuickFilter().getSelectedKey());}}}.bind(this));}if(o instanceof Function){this._getSearchField().attachLiveChange(function(E){if(this._isCustomView()){o(this._getSearchField().getValue());}}.bind(this));}if(D instanceof Function){this._getQuickFilter().attachChange(function(E){if(this._isCustomView()){D(this._getQuickFilter().getSelectedKey());}}.bind(this));}this.addView(new a({key:k,content:C.addStyleClass("sapUiMDCPanelPadding")}));var V=this._getViewSwitch();V.addItem(i);};
h.prototype.showFactory=function(s){if(this.getCurrentViewContent().showFactory){this.getCurrentViewContent().showFactory(s);}};
h.prototype.getSelectedFields=function(){return this.getCurrentViewContent().getSelectedFields();};
h.prototype.setGroupExpanded=function(s,E){this.getView(this.GROUP_KEY).getContent().setGroupExpanded(s,E);};
h.prototype.setP13nModel=function(m){this.setModel(m,this.P13N_MODEL);this.getView(this.LIST_KEY).getContent().setP13nData(m.getProperty("/items"));this.getView(this.GROUP_KEY).getContent().setP13nData(m.getProperty("/itemsGrouped"));this._filterByModeAndSearch();};
h.prototype.setP13nData=function(p){var P=this.getP13nModel();if(!P){this.setP13nModel(new J(p));}else{this.getView(this.LIST_KEY).getContent().setP13nData(P.getProperty("/items"));this.getView(this.GROUP_KEY).getContent().setP13nData(P.getProperty("/itemsGrouped"));}};
h.prototype.restoreDefaults=function(){this._getSearchField().setValue("");this._filterByModeAndSearch();};
h.prototype.getP13nModel=function(){return this.getModel(this.P13N_MODEL);};
h.prototype._getShowHideBtn=function(){var s=this._getResourceText("filterbar.ADAPT_SHOW_VALUE");var H=this._getResourceText("filterbar.ADAPT_HIDE_VALUE");if(!this._oShowHideBtn){this._oShowHideBtn=new B({press:function(E){this.showFactory(!this.getCurrentViewContent()._getShowFactory());var o=E.oSource;var n=o.getText()===s?H:s;o.setText(n);}.bind(this)});}this._oShowHideBtn.setText(!this._isCustomView()&&this.getCurrentViewContent()._getShowFactory()?H:s);return this._oShowHideBtn;};
h.prototype._getQuickFilter=function(){if(!this._oGroupModeSelect){this._oGroupModeSelect=new c({items:[new I({key:"all",text:this._getResourceText("p13nDialog.GROUPMODE_ALL")}),new I({key:"visible",text:this._getResourceText("p13nDialog.GROUPMODE_VISIBLE")}),new I({key:"active",text:this._getResourceText("p13nDialog.GROUPMODE_ACTIVE")}),new I({key:"visibleactive",text:this._getResourceText("p13nDialog.GROUPMODE_VISIBLE_ACTIVE")}),new I({key:"mandatory",text:this._getResourceText("p13nDialog.GROUPMODE_MANDATORY")})],tooltip:this._getResourceText("p13nDialog.QUICK_FILTER"),change:this._onGroupModeChange.bind(this)});}return this._oGroupModeSelect;};
h.prototype._getSearchField=function(){if(!this._oSearchField){this._oSearchField=new f(this.getId()+"-searchField",{liveChange:[this._filterByModeAndSearch,this],width:"100%",layoutData:new O({shrinkable:true,moveToOverflow:true,priority:"High",maxWidth:"16rem"})});this._oSearchField.setPlaceholder(this._getResourceText("p13nDialog.ADAPT_FILTER_SEARCH"));}return this._oSearchField;};
h.prototype._onGroupModeChange=function(E){this._sModeKey=E.getParameters().selectedItem.getKey();this._filterByModeAndSearch();};
h.prototype._getViewSwitch=function(){if(!this._oViewSwitch){this._oViewSwitch=new d({items:[new e({tooltip:this._getResourceText("filterbar.ADAPT_LIST_VIEW"),icon:"sap-icon://list",key:this.LIST_KEY}),new e({tooltip:this._getResourceText("filterbar.ADAPT_GROUP_VIEW"),icon:"sap-icon://group-2",key:this.GROUP_KEY})],selectionChange:function(E){if(this.getCurrentViewKey()===this.LIST_KEY){this.getCurrentViewContent()._removeMoveButtons();}var k=E.getParameter("item").getKey();this.switchView(k);}.bind(this)});}return this._oViewSwitch;};
h.prototype._isCustomView=function(){return this._sCurrentView!=this.GROUP_KEY&&this._sCurrentView!=this.LIST_KEY;};
h.prototype._filterByModeAndSearch=function(){if(this._isCustomView(this.getCurrentViewKey())){return;}this._sSearchString=this._getSearchField().getValue();var i=this._createFilterQuery();this._getSearchField().setValue(this._sSearchString);this.getCurrentViewContent().filterContent(i);return i;};
h.prototype._getResourceText=function(k){return sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText(k);};
h.prototype._createFilterQuery=function(){var i=[],v=[],q=[];if(this._sSearchString){i=[new F("label","Contains",this._sSearchString),new F("tooltip","Contains",this._sSearchString)];q=new F(i,false);}switch(this._sModeKey){case"visible":v=new F("visible","EQ",true);break;case"active":v=new F("active","EQ",true);break;case"mandatory":v=new F("required","EQ",true);break;case"visibleactive":v=new F([new F("active","EQ",true),new F("visible","EQ",true)],true);break;default:}var V=new F("visibleInDialog","EQ",true);return new F([].concat(q,v,V),true);};
h.prototype.exit=function(){A.prototype.exit.apply(this,arguments);this._sModeKey=null;this._sSearchString=null;};
return h;});
sap.ui.predefine('sap/ui/mdc/p13n/panels/ChartItemPanel',["sap/m/p13n/BasePanel","sap/m/Label","sap/m/ColumnListItem","sap/m/Select","sap/m/Text","sap/ui/core/Item","sap/ui/mdc/library","sap/m/Button",'sap/m/Column',"sap/m/Table","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/VBox","sap/m/HBox","sap/m/ComboBox","sap/ui/model/Sorter","sap/base/Log","sap/m/library","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/core/CustomData","sap/ui/thirdparty/jquery","sap/ui/core/ValueState"],function(B,L,C,S,T,I,M,c,d,e,F,f,V,H,g,h,i,l,D,R,j,q,k){"use strict";var m=l.FlexJustifyContent;var n=sap.ui.getCore();
var o=B.extend("sap.ui.mdc.p13n.panels.ChartItemPanel",{
metadata:{library:"sap.ui.mdc",properties:{panelConfig:{type:"object"}},events:{changeItems:{}}},
init:function(){this._bMobileMode=D.system.phone;B.prototype.init.apply(this,arguments);this._bindListItems();},
renderer:{}
});
o.prototype._setInnerLayout=function(){this._oInnerControl=new V({items:[this._oListControl]});this.setAggregation("_content",this._oInnerControl);this._fnHandleResize=function(){if(this.getParent){var $=null;var p=this.getParent();if(p&&p.$){$=p.$("cont");if($.children().length>0){var s=this._oInnerControl.$()[0].clientWidth;var a=570;if(!this._bMobileMode&&s<=a){this._switchMobileMode(true);}else if(this._bMobileMode&&s>a){this._switchMobileMode(false);}}}}};if(D.system.desktop){this._sContainerResizeListener=R.register(this._oInnerControl,this._fnHandleResize.bind(this));}};
o.prototype._switchMobileMode=function(b){if(this._bMobileMode==b){return;}this._bMobileMode=b;if(this._sContainerResizeListener){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}this._oListControl.destroy();this._oDragDropInfo=null;this._oListControl=this._createInnerListControl();this._oListControl.setMultiSelectMode("ClearAll");this._setInnerLayout();this._bindListItems();};
o.prototype._createInnerListControl=function(){var s=this._bMobileMode?this.getId()+"-innerP13nListMobile":this.getId()+"-innerP13nList";var t=new e(s,Object.assign(this._getListControlConfig(),{}));this.setEnableReorder(true);t.addEventDelegate({onAfterRendering:this._onAfterTableRender.bind(this)});return t;};
o.prototype._onAfterTableRender=function(){if(this._oFocusInfo&&this._oFocusInfo.tableItem){this._oFocusInfo.tableItem.focus();}this._mInvalidMap.forEach(function(v,K){if(this._mNamesMap.has(K)){this._mNamesMap.get(K).setValueState(k.Error);this._mNamesMap.get(K).setValue(v);}}.bind(this));this._oFocusInfo=null;};
o.prototype._bindListItems=function(p){var s;var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");if(this.getPanelConfig()&&this.getPanelConfig().sorter){s=this.getPanelConfig().sorter;}else{var t={text:r.getText('chart.PERSONALIZATION_DIALOG_MEASURE_GROUP_HEADER')};var u={text:r.getText('chart.PERSONALIZATION_DIALOG_DIMENSION_GROUP_HEADER')};var G={"Aggregatable":t,"Groupable":u,"Measure":t,"Dimension":u};var v=function(a){var b=a.getProperty("kind");return{key:b,text:G[b].text};};var w=function(a,b){if(a===b){return 0;}if(a==="MEASURE"||a==="AGGREGATABLE"){return 1;}return-1;};s=new h("kind",false,v,w);}var x;this._mTemplatesMap=new Map();this._mNamesMap=new Map();this._mInvalidMap=new Map();if(this._bMobileMode){x=this._createListItemMobile;}else{x=this._createListItem;}this._oListControl.bindItems(Object.assign({path:this.P13N_MODEL+">/items",key:"name",filters:[new F({filters:[new F("visible",f.EQ,true),new F("template",f.EQ,true)],and:false})],factory:x.bind(this),sorter:s},p));};
o.prototype._getTemplateComboBox=function(K){var v=new F("visible",f.EQ,false);var a=new g({id:"p13nPanel-templateComboBox-"+K,width:"100%",placeholder:this._getPlaceholderTextForTemplate(K),items:{path:this.P13N_MODEL+">/items",template:new I({key:"{"+this.P13N_MODEL+">name}",text:"{"+this.P13N_MODEL+">label}"}),templateShareable:false,filters:[v,new F("kind",f.EQ,K)]},change:[this.onChangeOfTemplateName,this]});this._mTemplatesMap.set(K,a);return a;};
o.prototype._getPlaceholderTextForTemplate=function(K){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");return a.getText('chart.PERSONALIZATION_DIALOG_TEMPLATE_PLACEHOLDER');};
o.prototype._getRoleSelect=function(){return new S({width:"100%",selectedKey:"{"+this.P13N_MODEL+">role}",change:[this.onChangeOfRole,this],forceSelection:false,items:{path:this.P13N_MODEL+">availableRoles",templateShareable:false,template:new I({key:"{"+this.P13N_MODEL+">key}",text:"{"+this.P13N_MODEL+">text}"})},visible:{path:this.P13N_MODEL+">availableRoles",formatter:function(r){if(!r){return false;}return r.length>1;}}});};
o.prototype._getNameComboBox=function(K,N){var a=new F({filters:[new F("visible",f.EQ,false),new F("name",f.EQ,N)],and:false});return new g({width:"100%",items:{path:this.P13N_MODEL+">/items",template:new I({key:"{"+this.P13N_MODEL+">name}",text:"{"+this.P13N_MODEL+">label}"}),templateShareable:false,filters:[a,new F("kind",f.EQ,K)]},change:[this.onChangeOfItemName,this],selectedKey:"{"+this.P13N_MODEL+">tempName}",customData:[new j({key:"prevName",value:N}),new j({key:"prevKind",value:K})]});};
o.prototype._createListItem=function(s,O){var r,a=[];if(O.getObject()&&O.getObject().template){a.push(this._getTemplateComboBox(O.getObject().kind));}else{var N;if(O.getObject().name!=O.getObject().tempName){O.getObject().tempName=O.getObject().name;}N=this._getNameComboBox(O.getObject().kind,O.getObject().name);a.push(N);a.push(this._getRoleSelect());r=this.getId()+O.getObject().kind+"-RemoveBtn-"+O.getObject().name;a.push(new H({justifyContent:m.End,items:[new c({id:r,press:[this._onPressHide,this],type:"Transparent",icon:"sap-icon://decline",tooltip:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_REMOVE_ENTRY"),customData:[new j({key:"propertyName",value:"{"+this.P13N_MODEL+">name}"}),new j({key:"propertyKind",value:"{"+this.P13N_MODEL+">kind}"})]})]}));this._mNamesMap.set(O.getObject().name,N);}var b;if(O.getObject()&&O.getObject().template){var K=O.getObject().kind;b=new C({cells:a,visible:{path:this.P13N_MODEL+">/items",formatter:function(p){p=p.filter(function(t){return t.visible===false&&t.template===false&&t.kind===K;});return p.length!=0;}}});}else{b=new C({cells:a});}b.addEventDelegate({onmouseover:this._hoverHandler.bind(this),onfocusin:this._focusHandler.bind(this),onkeydown:this._handleOnKeyDown.bind(this)});return b;};
o.prototype._createListItemMobile=function(s,O){var r,a=[];if(O.getObject()&&O.getObject().template){a.push(this._getTemplateComboBox(O.getObject().kind));}else{var v=new V({items:[this._getNameComboBox(O.getObject().kind,O.getObject().name),this._getRoleSelect()]});r=O.getObject().kind+"-RemoveBtn-"+O.getObject().name;a.push(v);}var b=new H({justifyContent:m.End,items:[new c({id:r,press:[this._onPressHide,this],type:"Transparent",icon:"sap-icon://decline",visible:{path:this.P13N_MODEL+">template",formatter:function(E){return!E;}},customData:[new j({key:"propertyName",value:"{"+this.P13N_MODEL+">name}"}),new j({key:"propertyKind",value:"{"+this.P13N_MODEL+">kind}"})]})]});a.push(b);var p;if(O.getObject()&&O.getObject().template){var K=O.getObject().kind;p=new C({cells:a,visible:{path:this.P13N_MODEL+">/items",formatter:function(t){t=t.filter(function(u){return u.visible===false&&u.template===false&&u.kind===K;});return t.length!=0;}}});}else{p=new C({cells:a});}p.addEventDelegate({onmouseover:this._hoverHandler.bind(this),onfocusin:this._focusHandler.bind(this),onkeydown:this._handleOnKeyDown.bind(this)});return p;};
o.prototype._handleOnKeyDown=function(E){if(E.keyCode===38&&E.ctrlKey){}else if(E.keyCode===40&&E.ctrlKey){}else if(E.keyCode===68&&E.ctrlKey){var r,a=n.byId(E.currentTarget.id);if(this._bMobileMode){r=a.getCells()[1].getItems()[a.getCells()[1].getItems().length-1];}else{r=a.getCells()[2].getItems()[a.getCells()[2].getItems().length-1];}if(r){this._onPressHide(E,r);E.preventDefault();}}};
o.prototype._focusHandler=function(E){var t=n.byId(E.target.id);if(t instanceof c){return;}B.prototype._focusHandler.apply(this,arguments);};
o.prototype._handleActivated=function(a){var b=this._getModelItemByTableItem(a);if(b&&b.template){this.removeMoveButtons();}this._oHoveredItem=a;this._updateEnableOfMoveButtons(a,false);this._addMoveButtons(a);this._setMoveButtonVisibility(true);};
o.prototype.onChangeOfItemName=function(E){var p=E.getSource().data().prevName;var K=E.getSource().data().prevKind;var N=E.getSource().getSelectedKey();var P=this._getP13nModel().getProperty("/items").find(function(b){return b.name===p&&b.kind===K;});var a=this._getP13nModel().getProperty("/items").find(function(b){return b.name===N&&b.kind===K;});this.removeMoveButtons();if(P&&a){P.visible=false;a.visible=true;P.tempName=P.name;a.role=P.role;this._moveItemsByIndex(this._getItemIndex(a),this._getItemIndex(P));this._refreshP13nModel();this._fireChangeItems();this._updateVisibleIndexes();this._mInvalidMap.delete(p);this._mInvalidMap.delete(N);}else if(E.getSource()&&E.getSource()instanceof g){this._mInvalidMap.set(E.getSource().data("prevName"),E.getSource().getValue());E.getSource().setValueState(k.Error);}};
o.prototype._getItemIndexByNameAndKind=function(N,K){var a=this._getP13nModel().getProperty("/items");var b=a.find(function(p){return(p.name===N&&p.kind===K&&!p.template);});return this._getItemIndex(b);};
o.prototype._getItemIndex=function(a){return this._getP13nModel().getProperty("/items").indexOf(a);};
o.prototype.removeMoveButtons=function(){var a=this._getMoveButtonContainer();if(a){a.removeItem(this._getMoveBottomButton());a.removeItem(this._getMoveDownButton());a.removeItem(this._getMoveUpButton());a.removeItem(this._getMoveTopButton());}};
o.prototype.getP13nData=function(){var a=this._getCleanP13nItems();this._getP13nModel().setProperty("/items",a);return a;};
o.prototype._getMoveButtonContainer=function(){if(this._oMoveUpButton&&this._oMoveUpButton.getParent()&&this._oMoveUpButton.getParent().isA("sap.m.FlexBox")){return this._oMoveUpButton.getParent();}return undefined;};
o.prototype._addMoveButtons=function(a){var t=a;if(!t){return;}var b=this._getP13nModel().getProperty(t.getBindingContextPath())?this._getP13nModel().getProperty(t.getBindingContextPath()).template:true;if(t.getCells()&&(t.getCells().length===2||t.getCells().length===3)&&!b){if(this._bMobileMode){t.getCells()[1].insertItem(this._getMoveDownButton(),0);t.getCells()[1].insertItem(this._getMoveUpButton(),0);}else{t.getCells()[2].insertItem(this._getMoveBottomButton(),0);t.getCells()[2].insertItem(this._getMoveDownButton(),0);t.getCells()[2].insertItem(this._getMoveUpButton(),0);t.getCells()[2].insertItem(this._getMoveTopButton(),0);}}};
o.prototype._moveSelectedItem=function(){this._oSelectedItem=this._getMoveButtonContainer().getParent();B.prototype._moveSelectedItem.apply(this,arguments);};
o.prototype._updateAvailableRolesForItems=function(){var a=this._getP13nModel().getProperty("/items");var A=[];if(this.getPanelConfig()&&this.getPanelConfig().allowedLayoutOptions){A=this.getPanelConfig().allowedLayoutOptions;}else{i.warning("No allowedLayoutOptions configured for chart type. This will not show any p13n options!");}a.forEach(function(b){if(!b.availableRoles){return;}b.availableRoles=b.availableRoles.filter(function(p){return A.indexOf(p.key)!=-1;});});this._getP13nModel().setProperty("/items",a);this._refreshP13nModel();};
o.prototype._onPressHide=function(E,r){var p;if(r){p=r.data().propertyName;}else{p=E.getSource().data().propertyName;}var a=q.extend([],this._getP13nModel().getProperty("/items"),true);a.filter(function(b){return b.name===p;}).forEach(function(b){b.visible=false;if(this._mTemplatesMap.has(b.kind)&&this._mTemplatesMap.get(b.kind).getVisible()){this._mTemplatesMap.get(b.kind).focus();}}.bind(this));this._getP13nModel().setProperty("/items",a);this._refreshP13nModel();this._fireChangeItems();this._updateVisibleIndexes();};
o.prototype.setP13nData=function(p){p=p.filter(function(b){return!b.template;});B.prototype.setP13nData.apply(this,arguments);var a=[];var A=[];this.getP13nData().forEach(function(b,r){if(!b.availableRoles){b.availableRoles=this._getChartItemTextByKey(b.kind);}if(this.getPanelConfig()&&this.getPanelConfig().allowedLayoutOptions){var s=this.getPanelConfig().allowedLayoutOptions;if(s&&s.length>=1){b.availableRoles=b.availableRoles.filter(function(t){return s.indexOf(t.key)!=-1;});if(s.indexOf(b.role)===-1){b.role=s[0];}}}b.template=false;b.tempName=b.name;if(!b.visible){A.push(b);}if(!b.index){b.index=r;}a.push(b);}.bind(this));a=a.concat(this._getTemplateItems());this._getP13nModel().setProperty("/items",a);this._updateVisibleIndexes();};
o.prototype._updateVisibleIndexes=function(){this._mVisibleIndexes=new Map();this._getP13nModel().getProperty("/items").forEach(function(a,_){if(a.template||!a.visible){return;}if(this._mVisibleIndexes.has(a.kind)){this._mVisibleIndexes.get(a.kind).push(_);}else{var b=[_];this._mVisibleIndexes.set(a.kind,b);}}.bind(this));};
o.prototype.onChangeOfTemplateName=function(E){var s=E.getSource().getSelectedKey();var a=this._getCleanP13nItems().find(function(p){return p.name===s;});if(a){a.visible=true;E.getSource().setSelectedKey(undefined);this._refreshP13nModel();var b=this._mVisibleIndexes.has(a.kind)?this._mVisibleIndexes.get(a.kind):[];var O=this._getItemIndexByNameAndKind(a.name,a.kind);var N=b[b.length-1];if(O>N){N+=1;}if(N&&O!=N){this._moveItemsByIndex(O,N,true);}else{this._fireChangeItems();}this._mInvalidMap.delete(E.getSource().getValue());this._updateVisibleIndexes();}else if(E.getSource()&&E.getSource()instanceof g){if(E.getSource().getValue()!=""){E.getSource().setValueState(k.Error);}else{E.getSource().setValueState(k.None);}}};
o.prototype._refreshP13nModel=function(){this._getP13nModel().refresh(true);};
o.prototype._getTemplateItems=function(){var a=[];if(!this.getPanelConfig()||!this.getPanelConfig().templateConfig){return[];}this.getPanelConfig().templateConfig.forEach(function(t){var b={template:true,kind:t.kind};a.push(b);});return a;};
o.prototype._getListControlConfig=function(){var a=B.prototype._getListControlConfig.apply(this,arguments);if(this._bMobileMode){a.columns=[new d({header:new T({text:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_DESCRIPTION")+" / "+this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_ROLE")})}),new d()];}else{var b=new d({header:new T({text:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_DESCRIPTION")})});var r=new d({header:new T({text:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_ROLE")})});a.columns=[b,r,new d()];}a.mode="None";return a;};
o.prototype._getCleanP13nItems=function(){return this._getP13nModel().getProperty("/items").filter(function(a){return!a.template;});};
o.prototype._fireChangeItems=function(){this.fireChangeItems({items:this._getCleanP13nItems().map(function(a){return{columnKey:a.name,visible:a.visible,index:a.index,role:a.role};})});};
o.prototype.onChangeOfRole=function(E){var s=E.getParameter("selectedItem");if(s){var t;if(this._bMobileMode){t=E.getSource().getParent().getParent();}else{t=E.getSource().getParent();}this.fireChange();this._updateEnableOfMoveButtons(t);}this._fireChangeItems();};
o.prototype._updateEnableOfMoveButtons=function(t,b){if(!t){return;}var a,p=this._getModelItemByTableItem(t);var r=this._getP13nModel().getProperty("/items").indexOf(p);var u=true,s=true;if(!p||p.template){return;}a=this._mVisibleIndexes.has(p.kind)?this._mVisibleIndexes.get(p.kind):[];if(r==0||a.indexOf(r)===0){u=false;}if(a.indexOf(r)===a.length-1){s=false;}this._getMoveTopButton().setEnabled(u);this._getMoveUpButton().setEnabled(u);this._getMoveDownButton().setEnabled(s);this._getMoveBottomButton().setEnabled(s);if(b){this._oFocusInfo={tableItem:t};}};
o.prototype._getListItemFromMoveButton=function(b){if(b&&b.getParent()&&b.getParent().getParent()){return b.getParent().getParent();}return undefined;};
o.prototype._onPressButtonMoveToTop=function(E){var a=this._getListItemFromMoveButton(E.getSource());if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var t=this._mVisibleIndexes.get(b.kind)[0];this._oSelectedItem=a;this._moveSelectedItem(t);};
o.prototype._onPressButtonMoveUp=function(E,a){if(!a){a=this._getListItemFromMoveButton(E.getSource());}if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var p=this._mVisibleIndexes.get(b.kind);var t=this._getP13nModel().getProperty("/items").indexOf(b);this._oSelectedItem=a;var N=p[p.indexOf(t)-1];this._moveSelectedItem(N);};
o.prototype._onPressButtonMoveDown=function(E,a){if(!a){a=this._getListItemFromMoveButton(E.getSource());}if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var p=this._mVisibleIndexes.get(b.kind);var t=this._getP13nModel().getProperty("/items").indexOf(b);this._oSelectedItem=a;var N=p[p.indexOf(t)+1];this._moveSelectedItem(N);};
o.prototype._onPressButtonMoveToBottom=function(E){var a=this._getListItemFromMoveButton(E.getSource());if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var p=this._mVisibleIndexes.get(b.kind)[this._mVisibleIndexes.get(b.kind).length-1];this._oSelectedItem=a;this._moveSelectedItem(p);};
o.prototype._moveTableItem=function(a,N){var b=this._getP13nModel().getProperty("/items");var O=b.indexOf(a.getBindingContext(this.P13N_MODEL).getObject());this._moveItemsByIndex(O,N);};
o.prototype._moveItemsByIndex=function(O,N,p){var a=this._getP13nModel().getProperty("/items");N=(N<=0)?0:Math.min(N,a.length-1);if(N==O){return;}a.splice(N,0,a.splice(O,1)[0]);a.forEach(function(b,r){if(!b.template){b.index=r;}});this._getP13nModel().setProperty("/items",a);if(!p){this._oSelectedItem=this._oListControl.getItems().find(function(b){var r=this._getModelItemByTableItem(b);return r&&r===a[N];}.bind(this));this._updateEnableOfMoveButtons(this._oSelectedItem,!p);this._handleActivated(this._oSelectedItem);}this._fireChangeItems();};
o.prototype._getModelItemByTableItem=function(t){return this._getP13nModel().getProperty(t.getBindingContextPath());};
o.prototype._getMoveConfigForTableItem=function(t){var a=this._getModelItemByTableItem(t);if(!a){return undefined;}return{currentIndex:this._getP13nModel().getProperty("/items").indexOf(a),aggregationRole:a.kind,template:a.template};};
o.prototype._getDragDropConfig=function(){if(!this._oDragDropInfo){var a=B.prototype._getDragDropConfig.apply(this,arguments);a.attachDragStart(this._checkDragStart.bind(this));a.attachDragEnter(this._checkDrag.bind(this));a.attachDragEnd(function(){this._oDraggedItem=null;}.bind(this));return a;}return this._oDragDropInfo;};
o.prototype._checkDrag=function(E){var a=E.getParameter("target");var b=this._getMoveConfigForTableItem(a);var p=this._getMoveConfigForTableItem(this._oDraggedItem);if(!b||b.template||p.aggregationRole!=b.aggregationRole){E.preventDefault();return;}};
o.prototype._checkDragStart=function(E){this._oDraggedItem=E.getParameter("target");this._checkDrag(E);};
o.prototype._onRearrange=function(E){var a=E.getParameter("draggedControl");var b=E.getParameter("droppedControl");var s=E.getParameter("dropPosition");var p=this._getMoveConfigForTableItem(a);var r=this._getMoveConfigForTableItem(b);if(!p||p.template||!r){E.preventDefault();return;}var t=p.currentIndex;var u=r.currentIndex;if(r.template&&s=="After"){E.preventDefault();return;}if(!r.template&&(p.aggregationRole!=undefined&&p.aggregationRole!=r.aggregationRole)){E.preventDefault();return;}if(t<u){if(s=="Before"&&u!=0){u-=1;}}else if(s=="After"){u+=1;}this._moveItemsByIndex(t,u);this._refreshP13nModel();this._updateVisibleIndexes();};
o.prototype._getMoveTopButton=function(){if(this._oMoveTopBtn&&this._oMoveTopBtn.isDestroyed()){this._oMoveTopBtn=null;}return B.prototype._getMoveTopButton.apply(this,arguments);};
o.prototype._getMoveUpButton=function(){if(this._oMoveUpButton&&this._oMoveUpButton.isDestroyed()){this._oMoveUpButton=null;}return B.prototype._getMoveUpButton.apply(this,arguments);};
o.prototype._getMoveDownButton=function(){if(this._oMoveDownButton&&this._oMoveDownButton.isDestroyed()){this._oMoveDownButton=null;}return B.prototype._getMoveDownButton.apply(this,arguments);};
o.prototype._getMoveBottomButton=function(){if(this._oMoveBottomButton&&this._oMoveBottomButton.isDestroyed()){this._oMoveBottomButton=null;}return B.prototype._getMoveBottomButton.apply(this,arguments);};
o.prototype._getChartItemTextByKey=function(K){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var A={Dimension:[{key:M.ChartItemRoleType.category,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_CATEGORY')},{key:M.ChartItemRoleType.category2,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_CATEGORY2')},{key:M.ChartItemRoleType.series,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_SERIES')}],Measure:[{key:M.ChartItemRoleType.axis1,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS1')},{key:M.ChartItemRoleType.axis2,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS2')},{key:M.ChartItemRoleType.axis3,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS3')}]};return A[K];};
o.prototype._getResourceTextMDC=function(t,v){this.oResourceBundleMDC=this.oResourceBundleMDC?this.oResourceBundleMDC:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");return t?this.oResourceBundleMDC.getText(t,v):this.oResourceBundleMDC;};
return o;});
sap.ui.predefine('sap/ui/mdc/p13n/panels/FilterPanel',["sap/m/p13n/QueryPanel","sap/m/VBox","sap/m/Text","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/m/Button","sap/m/ComboBox","sap/ui/core/library"],function(Q,V,T,G,a,B,C,c){"use strict";var b=c.ValueState;
var F=Q.extend("sap.ui.mdc.p13n.panels.FilterPanel",{
metadata:{properties:{itemFactory:{type:"function"}}},
renderer:{}
});
F.prototype.PRESENCE_ATTRIBUTE="active";
F.prototype._createQueryRowGrid=function(i){var s=i.name?new V({items:[new T({text:i.label}).addStyleClass("sapUiTinyMarginTop").addStyleClass("sapUiTinyMarginBegin")]}):this._createKeySelect(i.name);var A;if(!i.name){A=new B({text:"Add",press:this._addPressed.bind(this),enabled:false});A.setLayoutData(new a({indent:"XL7 L7 M7 S7",span:"XL1 L1 M1 S1"}));}return new G({containerQuery:true,defaultSpan:"XL4 L4 M4 S4",content:[s,i.name?this._createFactoryControl(i):A]}).addStyleClass("sapUiTinyMargin");};
F.prototype._getPlaceholderText=function(){return this._getResourceText("p13n.FILTER_PLACEHOLDER");};
F.prototype._getRemoveButtonTooltipText=function(){return this._getResourceText("p13n.FILTER_REMOVEICONTOOLTIP");};
F.prototype._createKeySelect=function(k){var o=new C({width:"100%",items:this._getAvailableItems(),placeholder:this._getPlaceholderText(),selectionChange:function(e){var o=e.getSource();this._selectKey(o);}.bind(this),change:function(e){var o=e.getSource();var n=e.getParameter("newValue");o.setValueState(n&&!o.getSelectedItem()?b.Error:b.None);}});o.onsapenter=function(e){this._selectKey();}.bind(this);return o;};
F.prototype._getAvailableItems=function(k){var i=Q.prototype._getAvailableItems.apply(this,arguments);i.shift();return i;};
F.prototype._createRemoveButton=function(v){var r=Q.prototype._createRemoveButton.apply(this,arguments);r.setLayoutData(new a({span:"XL1 L1 M1 S1"}));return r;};
F.prototype._addPressed=function(e){this._selectKey();};
F.prototype._selectKey=function(o){var q,k;if(o){this._oComboBox=o;q=o.getParent();k=o.getSelectedKey();q.getContent()[1].setEnabled(!!k);}else if(this._oComboBox){o=this._oComboBox;q=o.getParent();k=o.getSelectedKey();if(k){Q.prototype._selectKey.call(this,o);var t=k?o.getSelectedItem().getText():"";var s=q.getContent()[0];q.removeContent(s);var A=q.getContent()[0];q.removeContent(A);var f=new V({items:[new T({text:t}).addStyleClass("sapUiTinyMarginTop").addStyleClass("sapUiTinyMarginBegin")]});f._key=k;q.insertContent(f,0);var d=this._createFactoryControl({name:k});q.insertContent(d,1);}delete this._oComboBox;}};
F.prototype._createFactoryControl=function(i){var f=this.getItemFactory().call(this,i);f.setLayoutData(new a({span:"XL7 L7 M7 S7"}));return f;};
return F;});
sap.ui.predefine('sap/ui/mdc/p13n/panels/GroupView',["sap/m/p13n/BasePanel","sap/m/Label","sap/base/util/deepEqual","sap/m/CustomListItem","sap/m/List","sap/m/Panel","sap/m/Toolbar","sap/m/Text","sap/ui/core/Icon","sap/ui/core/library","sap/m/HBox","sap/m/library","sap/base/util/merge"],function(B,L,d,C,a,P,T,b,I,c,H,l,m){"use strict";var e=c.IconColor;var F=l.FlexJustifyContent;var f=l.ListKeyboardMode;
var G=B.extend("sap.ui.mdc.p13n.panels.GroupView",{
metadata:{library:"sap.ui.mdc",properties:{itemFactory:{type:"function"}}},
renderer:{apiVersion:2}
});
G.prototype.init=function(){B.prototype.init.apply(this,arguments);this.addStyleClass("sapUiMDCGroupView");var g=new C({visible:"{"+this.P13N_MODEL+">groupVisible}",accDescription:{path:this.P13N_MODEL+">groupLabel",formatter:function(s){return sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.FILTER_GROUP_DESCRIPTION",s);}},content:[this._createGroupPanelTemplate()]});this._bShowFactory=true;this.displayColumns();this._aInitializedLists=[];this._setTemplate(g);g.setType("Inactive");this._setMoveButtonVisibility(true);};
G.prototype._getShowFactory=function(){return this._bShowFactory;};
G.prototype.getPanels=function(){var p=[];this._oListControl.getItems().forEach(function(i){p.push(i.getContent()[0]);});return p;};
G.prototype._createGroupPanelTemplate=function(){var g=this.P13N_MODEL;return new P({expandable:true,expanded:{path:this.P13N_MODEL+">group",formatter:function(){if(this.getBindingContext(g)){var E=this.getBindingContext(g).sPath.split("/")[2]==="0";return E;}else{return false;}}},expand:function(E){var s=E.getSource();var i=s.getContent()[0];this._addInitializedList(i);if(this._getShowFactory()){this._addFactoryControl(i);this.filterContent(this._aCurrentFilters);}}.bind(this),width:"100%",headerToolbar:[new T({content:[new L({wrapping:true,text:"{"+this.P13N_MODEL+">groupLabel}",design:"Bold"})]})],content:[this._createGroupListTemplate()]});};
G.prototype._createGroupListTemplate=function(){var o=new a({keyboardMode:f.Navigation,selectionChange:function(E){var p=E.getParameter("listItem").getBindingContext(this.P13N_MODEL).sPath;var i=this._getP13nModel().getProperty(p);var g=this.getModel(this.P13N_MODEL);if(g&&i){g.setProperty(p+"/selected",i.visible);}var s=this._checkSpecialChangeReason(E.getParameter("selectAll"),E.getParameter("listItems"));this.fireChange({reason:s||(i.visible?this.CHANGE_REASON_ADD:this.CHANGE_REASON_REMOVE),item:i});}.bind(this),showSeparators:"None",mode:"MultiSelect"});o.bindItems(this._getItemsBinding());return o;};
G.prototype._addFactoryControl=function(o){if(o.getItems().length==0||o.getItems()[0].getContent().length<2){o.getItems().forEach(function(i){var g=i.getBindingContext(this.P13N_MODEL);var h=this.getItemFactory().call(this,g);if(h){i.addContent(h);i.getContent()[0].getItems()[0].setLabelFor(h.getId());}if(i.getContent()[0].getItems().length>1){i.getContent()[0].removeItem(1);}}.bind(this));}this.addStyleClass("sapUiMDCAFLabelMarking");};
G.prototype._createInnerListControl=function(){var o=new a(this.getId()+"-innerGroupViewList",Object.assign(this._getListControlConfig(),{mode:"None",infoToolbar:new T(),updateStarted:function(E){this._checkAllPanels();}.bind(this)}));return o;};
G.prototype._getItemsBinding=function(){var g=function(){var i=[new H({width:"100%",justifyContent:F.SpaceBetween,items:[new L({required:"{"+this.P13N_MODEL+">required}",text:"{"+this.P13N_MODEL+">label}"})]})];return new C({selected:"{"+this.P13N_MODEL+">visible}",tooltip:"{"+this.P13N_MODEL+">tooltip}",accDescription:"{"+this.P13N_MODEL+">label}",content:i});}.bind(this);return{path:this.P13N_MODEL+">items",templateShareable:false,template:g()};};
G.prototype._getIconTemplate=function(){return new H({width:"18.5%",justifyContent:F.Center,items:[new I({src:"sap-icon://circle-task-2",size:"0.5rem",color:e.Neutral,visible:{path:this.P13N_MODEL+">active",formatter:function(i){if(i){return true;}else{return false;}}}})]});};
G.prototype._loopGroupList=function(g){this._oListControl.getItems().forEach(function(o){var p=o.getContent()[0];var i=p.getContent()[0];this._loopItems(i,function(h,k){g(h,k);});}.bind(this));};
G.prototype._loopItems=function(o,i){o.getItems().forEach(function(g){var p=g.getBindingContextPath();var k=this._getP13nModel().getProperty(p).name;i.call(this,g,k);}.bind(this));};
G.prototype._removeFactoryControl=function(){this._loopGroupList(function(i,k){if(i.getContent()[1]){i.removeContent(i.getContent()[1]);var o=i.getParent();this._addInitializedList(o);var g=this._getIconTemplate();i.getContent()[0].addItem(g);}}.bind(this));this.removeStyleClass("sapUiMDCAFLabelMarking");return this._aInitializedLists||[];};
G.prototype._addInitializedList=function(o){var s=o.getId();if(this._aInitializedLists.indexOf(s)<0){this._aInitializedLists.push(s);}};
G.prototype._getInitializedLists=function(){var g=[];this._aInitializedLists.forEach(function(s){var o=sap.ui.getCore().byId(s);if(o){g.push(o);}});return g;};
G.prototype.getSelectedFields=function(){var s=[];this._oListControl.getItems().forEach(function(o){var p=o.getContent()[0];var i=p.getContent()[0];this._loopItems(i,function(g,k){if(g.getSelected()){s.push(k);}});}.bind(this));return s;};
G.prototype.filterContent=function(g){if(!this._bInitialized||d(g,this._aCurrentFilters)){return;}var i=this._removeFactoryControl();this._oListControl.getItems().forEach(function(o){var p=o.getContent()[0];var h=p.getContent()[0];if(h.getBinding("items")){h.getBinding("items").filter(g,true);this._togglePanelVisibility(p);}if(this._getShowFactory()&&i.indexOf(h.getId())>-1){this._addFactoryControl(h);}}.bind(this));this._aCurrentFilters=g;};
G.prototype.showFactory=function(s){this._bShowFactory=s;this.displayColumns();if(s){this._getInitializedLists().forEach(function(i){this._addFactoryControl(i);}.bind(this));}else{this._removeFactoryControl();}};
G.prototype._checkAllPanels=function(){this._oListControl.getItems().forEach(function(o){var p=o.getContent()[0];this._togglePanelVisibility(p);}.bind(this));};
G.prototype.setGroupExpanded=function(g,E){this._oListControl.getItems().forEach(function(o){var p=o.getContent()[0];var s=p.getBindingContext(this.P13N_MODEL).sPath;var i=this._getP13nModel().getProperty(s);if(i.group===g){p.setExpanded(E);}},this);};
G.prototype._togglePanelVisibility=function(p){var i=p.getContent()[0];var o=p.getBindingContext(this.P13N_MODEL);if(o){var s=o.sPath;var g=this._getP13nModel().getProperty(s);g.groupVisible=i.getVisibleItems().length<1?false:true;this._getP13nModel().setProperty(s,g);}};
G.prototype.getItems=function(){return this._oListControl.getItems();};
G.prototype._checkFirstGroup=function(){if(!this._bInitialized&&this._oListControl&&this._oListControl.getItems().length>0){this._bInitialized=true;var o=this._oListControl.getItems()[0].getContent()[0].getContent()[0];this._addFactoryControl(o);this._addInitializedList(o);}};
G.prototype.displayColumns=function(){var p=this._oListControl.getInfoToolbar().removeAllContent();p.forEach(function(o){o.destroy();});this._oListControl.getInfoToolbar().addContent(new b({width:"75%",text:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.LIST_VIEW_COLUMN")}).addStyleClass("firstColumnPadding"));if(!this._bShowFactory){this._oListControl.getInfoToolbar().addContent(new b({textAlign:"Center",width:"25%",text:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.LIST_VIEW_ACTIVE")}).addStyleClass("firstColumnPadding"));}};
G.prototype.setP13nData=function(p){this._getP13nModel().setProperty("/itemsGrouped",p);if(!this._bInitialized){this._bindListItems();}this._checkFirstGroup();this._checkAllPanels();};
G.prototype.getP13nData=function(o){var i=this._getP13nModel().getProperty("/itemsGrouped");if(o){i=i.filter(function(g){return g[this.PRESENCE_ATTRIBUTE];}.bind(this));}return i;};
G.prototype._bindListItems=function(){this._oListControl.bindItems(Object.assign({path:this.P13N_MODEL+">/itemsGrouped",templateShareable:false,key:"group",template:this.getAggregation("_template").clone()}));};
G.prototype.exit=function(){B.prototype.exit.apply(this,arguments);this._aInitializedLists=null;this._bShowFactory=false;this._bInitialized=false;};
return G;});
sap.ui.predefine('sap/ui/mdc/p13n/panels/LinkSelectionPanel',["sap/m/p13n/SelectionPanel","sap/m/ColumnListItem","sap/m/HBox","sap/m/VBox","sap/m/Link","sap/m/Text","sap/ui/core/Icon","sap/m/library","sap/m/OverflowToolbar","sap/ui/model/Filter"],function(S,C,H,V,L,T,I,l,O,F){"use strict";var a=l.ListType;
var b=S.extend("sap.ui.mdc.p13n.panels.LinkSelectionPanel",{
metadata:{library:"sap.ui.mdc",events:{linkPressed:{}}},
renderer:{apiVersion:2}
});
b.prototype._getListTemplate=function(){return new C({selected:"{"+this.P13N_MODEL+">"+this.PRESENCE_ATTRIBUTE+"}",type:a.Active,cells:[new H({items:[new V({items:[new L({tooltip:"{"+this.P13N_MODEL+">tooltip}",text:"{"+this.P13N_MODEL+">text}",href:"{"+this.P13N_MODEL+">href}",target:"{"+this.P13N_MODEL+">target}",press:this._onLinkPressed.bind(this)}),new T({text:"{"+this.P13N_MODEL+">description}",visible:"{= ${"+this.P13N_MODEL+">description} ? true:false}"})]})]})]});};
b.prototype.setShowHeader=function(s){if(s){this._oListControl.setHeaderToolbar(new O({content:[this._getSearchField()]}));}this.setProperty("showHeader",s);return this;};
b.prototype._getSearchField=function(){var s=S.prototype._getSearchField.apply(this,arguments);s.getLayoutData().setMaxWidth(undefined);return s;};
b.prototype._onLinkPressed=function(e){this.fireLinkPressed(e);};
b.prototype.setMultiSelectMode=function(m){this._oListControl.setMultiSelectMode(m);};
b.prototype._filterList=function(s,c){var o=[],d=[];if(s){d=new F(this.PRESENCE_ATTRIBUTE,"EQ",true);}if(c){o=new F("text","Contains",c);}this._oListControl.getBinding("items").filter(new F([].concat(d,o),true));};
return b;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/ActionToolbarController',["./BaseController","sap/ui/mdc/p13n/panels/ActionToolbarPanel","sap/m/Column","sap/ui/mdc/p13n/P13nBuilder"],function(B,A,C,P){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");
var a=B.extend("saps.ui.mdc.p13n.subcontroller.ActionToolbarController");
a.prototype.getUISettings=function(){return{title:r.getText("actiontoolbar.RTA_TITLE")};};
a.prototype.getAdaptationUI=function(p){var s=new A({showHeader:true});s.setEnableReorder(false);s.setFieldColumn(r.getText("actiontoolbar.RTA_COLUMN_HEADER"));var o=this.mixInfoAndState(p);s.setP13nData(o.items);this._oPanel=s;return Promise.resolve(s);};
a.prototype.getDelta=function(p){var c=B.prototype.getDelta.apply(this,arguments);c.forEach(function(o){var s=o.changeSpecificData.changeType;if(s==="hideControl"||s==="unhideControl"){o.selectorElement=sap.ui.getCore().byId(o.changeSpecificData.content.name);delete o.changeSpecificData.content;}});return c;};
a.prototype.mixInfoAndState=function(p){var i=this.getCurrentState();var I=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(m,b){var e=I[b.name];m.visible=!!e;m.position=e?e.position:-1;m.alignment=b.alignment;return b.visible;});P.sortP13nData({visible:"visible",position:"position"},o.items);o.items.forEach(function(b){delete b.position;});return o;};
a.prototype.getChangeOperations=function(){return{add:"unhideControl",remove:"hideControl",move:"moveAction"};};
return a;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/AdaptFiltersController',["./BaseController","sap/ui/mdc/p13n/P13nBuilder","sap/base/util/merge"],function(B,P,m){"use strict";
var A=B.extend("sap.ui.mdc.p13n.subcontroller.AdaptFiltersController",{constructor:function(){B.apply(this,arguments);this._bResetEnabled=true;}});
A.prototype.getUISettings=function(){return{verticalScrolling:false,title:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("filterbar.ADAPT_TITLE"),afterClose:function(e){var d=e.getSource();if(d){d.getContent()[0].executeRemoves();d.removeAllContent();d.destroy();}}};};
A.prototype.getBeforeApply=function(){var a=this.getAdaptationControl().getInbuiltFilter();var p=a?a.createConditionChanges():Promise.resolve([]);return p;};
A.prototype.getFilterControl=function(){return this.getAdaptationControl();};
A.prototype.getChangeOperations=function(){return{add:"addFilter",remove:"removeFilter",move:"moveFilter"};};
A.prototype.getAdaptationUI=function(p){return this.getAdaptationControl().retrieveInbuiltFilter().then(function(a){var o=this._getP13nModel(p);a.setP13nData(o.oData);a.setLiveMode(false);return a.createFilterFields().then(function(){return a;});}.bind(this));};
A.prototype.update=function(){B.prototype.update.apply(this,arguments);this.getAdaptationControl().getInbuiltFilter().createFilterFields();};
A.prototype.mixInfoAndState=function(p){var e=this.getAdaptationControl().getCurrentState().filter||{};var i=this.getCurrentState();var E=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(I,a){var b=E[a.name];var c=e[a.name];I.visible=b?true:false;I.visibleInDialog=true;I.position=b?b.position:-1;I.isFiltered=c&&c.length>0?true:false;I.required=a.required;return!(a.hiddenFilter===true||a.name=="$search");},true);P.sortP13nData({visible:"visible",position:"position"},o.items);return o;};
return A;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/AggregateController',['./BaseController','sap/ui/mdc/p13n/P13nBuilder','sap/base/util/merge'],function(B,P,m){"use strict";
var A=B.extend("sap.ui.mdc.p13n.subcontroller.AggregateController");
A.prototype.getStateKey=function(){return"aggregations";};
A.prototype.sanityCheck=function(c){var a=[];Object.keys(c).forEach(function(i){var o={name:i};if(c[i].hasOwnProperty("aggregated")){o["aggregated"]=c[i].aggregated;}a.push(o);});return a;};
A.prototype.getDelta=function(p){p.existingState=this.sanityCheck(p.existingState);return B.prototype.getDelta.apply(this,arguments);};
A.prototype.getAdaptationUI=function(p){return null;};
A.prototype.getChangeOperations=function(){return{add:"addAggregate",remove:"removeAggregate"};};
A.prototype._getPresenceAttribute=function(){return"aggregated";};
A.prototype.mixInfoAndState=function(p){var e=this.getCurrentState();var o=P.prepareAdaptationData(p,function(i,a){var E=e[a.name];i.aggregated=!!E;return a.aggregatable;});return o;};
return A;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/BaseController',['sap/base/util/array/diff','sap/ui/base/Object','sap/ui/mdc/p13n/FlexUtil','sap/ui/mdc/p13n/P13nBuilder','sap/base/util/merge','sap/base/util/deepEqual','sap/ui/model/json/JSONModel','sap/m/p13n/SelectionPanel'],function(d,B,F,P,m,a,J,S){"use strict";
var b=B.extend("sap.ui.mdc.p13n.subcontroller.BaseController",{constructor:function(c){B.call(this);this._oAdaptationControl=c;this._oP13nData=null;this._bLiveMode=false;this._bResetEnabled=false;}});
b.prototype.getUISettings=function(){return{title:"Adaptation Dialog"};};
b.prototype.getAdaptationControl=function(){return this._oAdaptationControl;};
b.prototype.getLiveMode=function(){return this._bLiveMode;};
b.prototype.getChangeOperations=function(){return{add:null,remove:null,move:null};};
b.prototype.getResetEnabled=function(){return this._bResetEnabled;};
b.prototype.getSelectorForReset=function(){return this._oAdaptationControl;};
b.prototype.sanityCheck=function(s){return s;};
b.prototype.getAdaptationUI=function(p){var s=new S();var A=this.mixInfoAndState(p);s.setP13nData(A.items);this._oPanel=s;return Promise.resolve(s);};
b.prototype.getCurrentState=function(){return this._oAdaptationControl.getCurrentState()[this.getStateKey()];};
b.prototype.getStateKey=function(){return"items";};
b.prototype.getDelta=function(p){var s=this._getPresenceAttribute(p.externalAppliance);var n;var f=function(i){return i.hasOwnProperty(s)&&i[s]===false?false:true;};n=p.applyAbsolute?p.changedState.filter(f):this._getFilledArray(p.existingState,p.changedState,s).filter(f);p.changedState=n;if(a(p.existingState,n)){return[];}else{return this.getArrayDeltaChanges(p);}};
b.prototype.getArrayDeltaChanges=function(D){var e=D.existingState;var c=D.changedState;var C=D.control;var i=D.changeOperations.add;var r=D.changeOperations.remove;var M=D.changeOperations.move;var g=D.generator;var f=D.deltaAttributes||[];var s=function(o){var k="";f.forEach(function(A){k=k+o[A];});return k;};var R=d(e,c,s);var h=function(o,A){return A.filter(function(E){return E&&(E.name===o.name);})[0];};var j=[];var p=e.slice(0);R.forEach(function(o){if(o.type==="delete"&&p[o.index]===undefined){p.splice(o.index,1);return;}var k,E,l;if(o.type==="insert"){E=h(c[o.index],p);if(E){E.index=p.indexOf(E);p.splice(E.index,1,undefined);j=j.concat(this._createAddRemoveChange(C,r,F._getChangeContent(E,f),g));}}k=o.type==="delete"?p[o.index]:c[o.index];k.index=o.index;if(o.type==="delete"){p.splice(k.index,1);}else{p.splice(k.index,0,k);}if(M){l=j.length;if(l){E=j[l-1];E=E?E.changeSpecificData.content:undefined;}if(E&&E.name===k.name&&o.index!=E.index){j.pop();j=j.concat(this._createMoveChange(E.id,E.name,o.index,M,C,M!=="moveSort",g));return;}}j=j.concat(this._createAddRemoveChange(C,o.type==="delete"?r:i,F._getChangeContent(k,f),g));}.bind(this));return j;};
b.prototype._createAddRemoveChange=function(c,o,C){var A={selectorElement:c,changeSpecificData:{changeType:o,content:C}};return A;};
b.prototype._createMoveChange=function(i,p,n,M,c,e){var o={selectorElement:c,changeSpecificData:{changeType:M,content:{id:i,name:p,index:n}}};if(!e){delete o.changeSpecificData.content.id;}return o;};
b.prototype._getPresenceAttribute=function(c){return"visible";};
b.prototype.getBeforeApply=function(){return Promise.resolve();};
b.prototype.mixInfoAndState=function(p){var i=this.getCurrentState();var I=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(c,e){var E=I[e.name];c.visible=!!E;c.position=E?E.position:-1;return e.visible;});P.sortP13nData({visible:"visible",position:"position"},o.items);o.items.forEach(function(c){delete c.position;});return o;};
b.prototype.getP13nData=function(){return this._oPanel?this._oPanel.getP13nData():this._oAdaptationModel.getProperty("/items");};
b.prototype.model2State=false;
b.prototype.update=function(p){if(this._oPanel){var A=this.mixInfoAndState(p);this._oPanel.setP13nData(A.items);}else if(this._oAdaptationModel){var o=this.mixInfoAndState(p);this._oAdaptationModel.setProperty("/items",o.items);this._oAdaptationModel.setProperty("/itemsGrouped",o.itemsGrouped);}};
b.prototype._getFilledArray=function(p,n,r){var N=m([],p);var c=m([],n);var e=P.arrayToMap(p);c.forEach(function(i){var E=e[i.name];if(!i.hasOwnProperty(r)||i[r]){var f=i.position;if(E){f=f>-1?f:E.position;var o=E.position;N.splice(f,0,N.splice(o,1)[0]);}else{f=f>-1?f:N.length;N.splice(f,0,i);}N[f]=i;}else if(E){N[E.position][r]=false;}});return N;};
b.prototype._getP13nModel=function(p){if(!this._oAdaptationModel){this._oAdaptationModel=new J(this.mixInfoAndState(p));this._oP13nData=this._oAdaptationModel.getData();this._oAdaptationModel.setSizeLimit(10000);}else{this.update(p);}return this._oAdaptationModel;};
b.prototype.changesToState=function(c){var s=[];c.forEach(function(C){var o=m({},C.changeSpecificData.content);var i=o.index;delete o.index;if(C.changeSpecificData.changeType===this.getChangeOperations()["move"]){o.position=i;}if(C.changeSpecificData.changeType===this.getChangeOperations()["remove"]){o[this._getPresenceAttribute()]=false;}s.push(o);}.bind(this));return s;};
b.prototype.destroy=function(){B.prototype.destroy.apply(this,arguments);this._oAdaptationControl=null;this._bLiveMode=null;this._oPanel=null;this._bResetEnabled=null;this._oAdaptationModel=null;};
return b;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/ChartItemController',["./BaseController","sap/ui/mdc/p13n/P13nBuilder"],function(B,P){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");
var C=B.extend("sap.ui.mdc.p13n.subcontroller.ChartItemController");
C.prototype.getAdaptationUI=function(p){var R;this._oAdaptationControl.getAdaptationUI().then(function(o){this._oPanel=o;this._oPropHelper=p;var a=this.mixInfoAndState(p);o.setP13nData(a.items);R(o);}.bind(this));return new Promise(function(a,b){R=a;});};
C.prototype.update=function(){B.prototype.update.apply(this,arguments);this._oPanel.setP13nData(this.mixInfoAndState(this._oPropHelper).items);};
C.prototype.getDelta=function(p){p.deltaAttributes.push("role");return B.prototype.getDelta.apply(this,arguments);};
C.prototype.getUISettings=function(){return{title:r.getText("chart.PERSONALIZATION_DIALOG_TITLE"),tabText:r.getText("p13nDialog.TAB_Chart")};};
C.prototype.mixInfoAndState=function(p){var i=this.getCurrentState();var I=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(m,a){var e=I[a.name];m.visible=!!e;m.position=e?e.position:-1;m.role=e?e.role:a.role;m.kind=a.kind;if(a.availableRoles){m.availableRoles=a.availableRoles;}return a.visible;});P.sortP13nData({visible:"visible",position:"position"},o.items);o.items.forEach(function(a){delete a.position;});return o;};
C.prototype.getChangeOperations=function(){return{add:"addItem",remove:"removeItem",move:"moveItem"};};
return C;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/ChartTypeController',['./BaseController'],function(B){"use strict";
var C=B.extend("sap.ui.mdc.p13n.subcontroller.ChartTypeController",{constructor:function(){B.apply(this,arguments);this._bResetEnabled=true;}});
C.prototype.getCurrentState=function(){return{properties:{chartType:this.getAdaptationControl().getChartType()}};};
C.prototype.getStateKey=function(){return"supplementaryConfig";};
C.prototype.getDelta=function(p){var t=p.changedState.type?p.changedState.type:p.changedState.properties.chartType;var c={selectorElement:p.control,changeSpecificData:{changeType:"setChartType",content:{chartType:t}}};return[c];};
return C;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/ColumnController',["./BaseController","sap/m/p13n/SelectionPanel"],function(B,S){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");
var C=B.extend("sap.ui.mdc.p13n.subcontroller.ColumnController",{constructor:function(){B.apply(this,arguments);this._bResetEnabled=true;}});
C.prototype.getUISettings=function(){return{title:r.getText("table.SETTINGS_COLUMN"),tabText:r.getText("p13nDialog.TAB_Column")};};
C.prototype.model2State=function(){var i=[];this._oPanel.getP13nData(true).forEach(function(I){if(I.visible){i.push({name:I.name});}});return i;};
C.prototype.getAdaptationUI=function(p){var s=new S({enableReorder:true,showHeader:true,enableCount:true,fieldColumn:r.getText("fieldsui.COLUMNS")});var a=this.mixInfoAndState(p);s.setP13nData(a.items);this._oPanel=s;return Promise.resolve(s);};
C.prototype.getChangeOperations=function(){return{add:"addColumn",remove:"removeColumn",move:"moveColumn"};};
return C;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/ColumnWidthController',["./BaseController","sap/ui/mdc/p13n/FlexUtil",'sap/ui/mdc/p13n/modules/xConfigAPI',"sap/base/util/merge"],function(B,F,x,m){"use strict";
var C=B.extend("sap.ui.mdc.p13n.subcontroller.ColumnWidthController",{constructor:function(){B.apply(this,arguments);this._bXConfigEnabled=true;this._bResetEnabled=true;}});
C.prototype.sanityCheck=function(s){var c=[];if(s&&s.hasOwnProperty("aggregations")&&s.aggregations.hasOwnProperty("columns")){Object.keys(s.aggregations.columns).forEach(function(i){var o={name:i,width:s.aggregations.columns[i].width};c.push(o);});}return c;};
C.prototype.getCurrentState=function(){return this.getAdaptationControl().getCurrentState().xConfig;};
C.prototype.getStateKey=function(){return"supplementaryConfig";};
C.prototype.changesToState=function(c){var s;var o=c.length&&c[0].selectorElement;c.forEach(function(a){var b=m({},a.changeSpecificData.content);var X={name:b.name,controlMeta:{aggregation:"columns",property:"width"},value:b.value};s=x.createConfigObject(o,X,s);});return s||{};};
C.prototype.getDelta=function(p){p.deltaAttribute="width";p.operation="setColumnWidth";p.changedState=p.changedState instanceof Array?p.changedState:this.sanityCheck(p.changedState);p.existingState=this.sanityCheck(p.existingState);return F.getPropertySetterChanges(p);};
return C;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/FilterController',['sap/ui/mdc/condition/FilterOperatorUtil','./BaseController','sap/ui/mdc/p13n/P13nBuilder','sap/ui/mdc/p13n/FlexUtil','sap/base/Log','sap/base/util/merge'],function(F,B,P,a,L,m){"use strict";
var b=B.extend("sap.ui.mdc.p13n.subcontroller.FilterController",{constructor:function(){B.apply(this,arguments);this._bResetEnabled=true;}});
b.prototype.getStateKey=function(){return"filter";};
b.prototype.getUISettings=function(){return{title:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("filter.PERSONALIZATION_DIALOG_TITLE"),tabText:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.TAB_Filter"),afterClose:function(e){var d=e.getSource();if(d){var D=d.getContent()[0];if(D.isA("sap.m.p13n.Container")){D.removeView("Filter");}else{d.removeAllContent();}}d.destroy();}};};
b.prototype.getChangeOperations=function(){return{add:"addCondition",remove:"removeCondition"};};
b.prototype.getBeforeApply=function(){var A=this.getAdaptationControl().getInbuiltFilter();var p=A?A.createConditionChanges():Promise.resolve([]);return p;};
b.prototype.getFilterControl=function(){return this.getAdaptationControl().isA("sap.ui.mdc.IFilter")?this.getAdaptationControl():this.getAdaptationControl()._oP13nFilter;};
b.prototype.sanityCheck=function(s){b.checkConditionOperatorSanity(s);return s;};
b.checkConditionOperatorSanity=function(c){for(var f in c){var C=c[f];for(var i=0;i<C.length;i++){var o=C[i];var O=o.operator;if(!F.getOperator(O)){C.splice(i,1);if(c[f].length==0){delete c[f];}L.warning("The provided conditions for field '"+f+"' contain unsupported operators - these conditions will be neglected.");}}}};
b.prototype._getPresenceAttribute=function(c){return"isFiltered";};
b.prototype.getAdaptationUI=function(p,w){var A=this._getP13nModel(p);return this.getAdaptationControl().retrieveInbuiltFilter().then(function(o){o.setP13nData(A.oData);o.setLiveMode(false);this._oAdaptationFB=o;return o.createFilterFields().then(function(){return o;});}.bind(this));};
b.prototype.update=function(){B.prototype.update.apply(this,arguments);var A=this.getAdaptationControl();var i=A&&A.getInbuiltFilter();if(i){i.createFilterFields();}};
b.prototype.getDelta=function(p){p.applyAbsolute=true;return a.getConditionDeltaChanges(p);};
b.prototype.model2State=function(){var i={},f=this.getCurrentState();this._oAdaptationModel.getProperty("/items").forEach(function(I){if(I.active&&Object.keys(f).includes(I.name)){i[I.name]=f[I.name];}});return i;};
b.prototype.mixInfoAndState=function(p){var e=this.getCurrentState()||{};var o=P.prepareAdaptationData(p,function(i,c){var n=c.name;var E=e[n];i.active=E&&E.length>0?true:false;return!(c.filterable===false);});P.sortP13nData({visible:undefined,position:undefined},o.items);return o;};
b.prototype.changesToState=function(c,o,n){var s={};c.forEach(function(C){var d=m({},C.changeSpecificData.content);var N=d.name;s[N]=n[N];});return s;};
return b;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/GroupController',['./BaseController','sap/ui/mdc/p13n/P13nBuilder','sap/m/p13n/GroupPanel'],function(B,P,G){"use strict";
var a=B.extend("sap.ui.mdc.p13n.subcontroller.GroupController");
a.prototype.getStateKey=function(){return"groupLevels";};
a.prototype.getUISettings=function(){return{tabText:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.TAB_Group"),title:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("group.PERSONALIZATION_DIALOG_TITLE")};};
a.prototype.getDelta=function(p){return B.prototype.getDelta.apply(this,arguments);};
a.prototype.getAdaptationUI=function(p){var g=new G();var A=this.mixInfoAndState(p);var o=this.getAdaptationControl();if(o.isA("sap.ui.mdc.Table")&&o._getStringType()==="ResponsiveTable"){g.setQueryLimit(1);}g.setP13nData(A.items);this._oPanel=g;return Promise.resolve(g);};
a.prototype.model2State=function(){var i=[];this._oPanel.getP13nData(true).forEach(function(I){if(I.grouped){i.push({name:I.name});}});return i;};
a.prototype.getChangeOperations=function(){return{add:"addGroup",remove:"removeGroup",move:"moveGroup"};};
a.prototype._getPresenceAttribute=function(){return"grouped";};
a.prototype.mixInfoAndState=function(p){var i=this.getCurrentState();var I=P.arrayToMap(i);var c=this.getAdaptationControl();var A=c.getAggregateConditions?c.getAggregateConditions()||{}:{};var o=P.prepareAdaptationData(p,function(m,b){var e=I[b.name];m.grouped=!!e;m.position=e?e.position:-1;return!(b.groupable===false||A[b.name]);});P.sortP13nData({visible:"grouped",position:"position"},o.items);o.presenceAttribute=this._getPresenceAttribute();o.items.forEach(function(b){delete b.position;});return o;};
return a;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/LinkPanelController',["sap/ui/mdc/p13n/P13nBuilder","./BaseController","sap/ui/mdc/p13n/panels/LinkSelectionPanel","sap/m/library","sap/m/MessageBox"],function(P,B,S,l,M){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var a=l.MultiSelectMode;
var L=B.extend("sap.ui.mdc.p13n.subcontroller.LinkPanelController",{constructor:function(){B.apply(this,arguments);this._bResetEnabled=true;}});
L.prototype.getUISettings=function(){return{contentWidth:"28rem",contentHeight:"35rem",reset:{warningText:r.getText("info.SELECTION_DIALOG_RESET_WARNING")},title:r.getText("info.SELECTION_DIALOG_ALIGNEDTITLE")};};
L.prototype.getSelectorForReset=function(){return this.getAdaptationControl().getItems().concat(this.getAdaptationControl());};
L.prototype.getAdaptationUI=function(p){var s=new S({showHeader:true,fieldColumn:r.getText("info.SELECTION_DIALOG_COLUMNHEADER_WITHOUT_COUNT"),enableCount:true,linkPressed:this._onLinkPressed.bind(this)});var A=this.mixInfoAndState(p);s.setP13nData(A.items);s.setEnableReorder(false);s.setMultiSelectMode(a.Default);this._oPanel=s;return Promise.resolve(s);};
L.prototype._onLinkPressed=function(e){var s=e.getParameter("oSource");var t=s.getTarget();if(t!=="_blank"){e.preventDefault();var p=this.getAdaptationControl();var h=s.getHref();if(p.getBeforeNavigationCallback){p.getBeforeNavigationCallback()(e).then(function(n){if(n){p.navigate(h);}});}else{M.show(sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("info.SELECTION_DIALOG_LINK_VALIDATION_QUESTION"),{icon:M.Icon.WARNING,title:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("info.SELECTION_DIALOG_LINK_VALIDATION_TITLE"),actions:[M.Action.YES,M.Action.NO],onClose:function(A){if(A===M.Action.YES){p.navigate(h);}},styleClass:this.$().closest(".sapUiSizeCompact").length?"sapUiSizeCompact":""});}}};
L.prototype._createAddRemoveChange=function(c,o,C){var s=C.name;var b=sap.ui.getCore().byId(s);var d=[];if(!b){d.push({selectorElement:c,changeSpecificData:{changeType:"createItem",content:{selector:s}}});}else{d.push({selectorElement:b,changeSpecificData:{changeType:o==="hideItem"?"hideItem":"revealItem",content:{}}});}return d;};
L.prototype.mixInfoAndState=function(p){var i=this.getCurrentState();var e=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(I,b){var E=e[b.name];I.visible=E?true:false;I.position=E?E.position:-1;I.href=b.href;I.description=b.description;I.target=b.target;I.text=b.text;return true;});P.sortP13nData({visible:"visible",position:"position"},o.items);o.presenceAttribute=this._getPresenceAttribute();o.items.forEach(function(I){delete I.position;});return o;};
L.prototype._createMoveChange=function(i,p,n,m,c,b){return{selectorElement:c,changeSpecificData:{changeType:m,content:{index:n,name:p}}};};
L.prototype.getChangeOperations=function(){return{add:["createItem","revealItem"],remove:"hideItem",move:"moveItem"};};
return L;});
sap.ui.predefine('sap/ui/mdc/p13n/subcontroller/SortController',['./BaseController','sap/ui/mdc/p13n/P13nBuilder','sap/m/p13n/SortPanel'],function(B,P,S){"use strict";
var a=B.extend("sap.ui.mdc.p13n.subcontroller.SortController",{constructor:function(){B.apply(this,arguments);this._bResetEnabled=true;}});
a.prototype.getStateKey=function(){return"sorters";};
a.prototype.getUISettings=function(){return{tabText:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("p13nDialog.TAB_Sort"),title:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("sort.PERSONALIZATION_DIALOG_TITLE")};};
a.prototype.getDelta=function(p){p.deltaAttributes.push("descending");return B.prototype.getDelta.apply(this,arguments);};
a.prototype.getAdaptationUI=function(p){var s;s=new S();var A=this.mixInfoAndState(p);s.setP13nData(A.items);this._oPanel=s;return Promise.resolve(s);};
a.prototype.model2State=function(){var i=[];if(this._oPanel){this._oPanel.getP13nData(true).forEach(function(I){if(I.sorted){i.push({name:I.name});}});return i;}};
a.prototype.getChangeOperations=function(){return{add:"addSort",remove:"removeSort",move:"moveSort"};};
a.prototype._getPresenceAttribute=function(b){return"sorted";};
a.prototype.mixInfoAndState=function(p){var i=this.getCurrentState();var e=P.arrayToMap(i);var o=P.prepareAdaptationData(p,function(I,b){var E=e[b.name];I.sorted=E?true:false;I.sortPosition=E?E.position:-1;I.descending=E?!!E.descending:false;return!(b.sortable===false);});P.sortP13nData({visible:"sorted",position:"sortPosition"},o.items);o.presenceAttribute=this._getPresenceAttribute();o.items.forEach(function(I){delete I.sortPosition;});return o;};
return a;});
sap.ui.predefine('sap/ui/mdc/table/Column',["./GridTableType","./ResponsiveTableType","sap/m/library","sap/m/Label","sap/ui/model/json/JSONModel","sap/ui/model/base/ManagedObjectModel","sap/ui/core/Control","sap/ui/core/Core"],function(G,R,M,L,J,a,C,b){"use strict";
var c=C.extend("sap.ui.mdc.table.Column",{
metadata:{library:"sap.ui.mdc",defaultAggregation:"template",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minWidth:{type:"float",group:"Behavior",defaultValue:8},header:{type:"string"},headerVisible:{type:"boolean",group:"Misc",defaultValue:true},hAlign:{type:"sap.ui.core.HorizontalAlign",defaultValue:"Begin"},importance:{type:"sap.ui.core.Priority",group:"Behavior",defaultValue:"None"},initialIndex:{type:"int",defaultValue:-1},dataProperty:{type:"string"}},aggregations:{template:{type:"sap.ui.core.Control",multiple:false},creationTemplate:{type:"sap.ui.core.Control",multiple:false}}},
renderer:{apiVersion:2,render:function(r,o){r.openStart("div",o);r.openEnd();if(o._oColumnHeaderLabel){r.renderControl(o._oColumnHeaderLabel.getLabel());}r.close("div");}}
});
c.prototype.init=function(){this.mSkipPropagation={template:true,creationTemplate:true};this._oManagedObjectModel=new a(this);this._oSettingsModel=new J({width:this.getWidth(),calculatedWidth:null,p13nWidth:null,resizable:false});};
c.prototype.getInnerColumn=function(){var t=this.getTable();if(t&&(!this._oInnerColumn||this._oInnerColumn.isDestroyed())){this._oInnerColumn=this._createInnerColumn();}return this._oInnerColumn;};
c.prototype._createInnerColumn=function(){var t=this.getTable();var o;var w={parts:[{path:"$this>/width"},{path:"$columnSettings>/calculatedWidth"},{path:"$columnSettings>/p13nWidth"}],formatter:function(W,s,p){return p||s||W;}};this._readP13nValues();if(t._bMobileTable){o=R.createColumn(this.getId()+"-innerColumn",{width:w,autoPopinWidth:"{$this>/minWidth}",hAlign:"{$this>/hAlign}",header:this._getColumnHeaderLabel(),importance:"{$this>/importance}",popinDisplay:"Inline"});}else{o=G.createColumn(this.getId()+"-innerColumn",{width:w,minWidth:{path:"$this>/minWidth",formatter:function(m){return Math.round(m*parseFloat(M.BaseFontSize));}},hAlign:"{$this>/hAlign}",label:this._getColumnHeaderLabel(),resizable:"{$columnSettings>/resizable}",autoResizable:"{$columnSettings>/resizable}",template:this.getTemplateClone()});o.setCreationTemplate(this.getCreationTemplateClone());}o.setModel(this._oManagedObjectModel,"$this");o.setModel(this._oSettingsModel,"$columnSettings");return o;};
var d=C.extend("sap.ui.mdc.table.ColumnHeaderLabel",{
metadata:{"final":true,aggregations:{label:{type:"sap.m.Label",multiple:false}},associations:{column:{type:"sap.ui.mdc.table.Column"}}},
renderer:{apiVersion:2,render:function(r,o){r.openStart("div",o);r.style("width","100%");r.openEnd();r.renderControl(b.byId(o.getColumn()));r.close("div");}},
getText:function(){return this.getLabel().getText();},
clone:function(){return this.getLabel().clone();}
});
c.prototype._getColumnHeaderLabel=function(){var t=this.getTable();if(t&&(!this._oColumnHeaderLabel||this._oColumnHeaderLabel.isDestroyed())){this._oColumnHeaderLabel=new d({column:this,label:new L({width:"{= ${$this>/headerVisible} ? null : '0px' }",text:"{$this>/header}",textAlign:"{$this>/hAlign}",wrapping:{parts:[{path:"$this>/headerVisible"},{path:"$columnSettings>/resizable"}],formatter:function(h,r){return t._bMobileTable&&h&&!r;}},wrappingType:t._bMobileTable?"Hyphenated":null})});}return this._oColumnHeaderLabel;};
c.prototype.getTemplateClone=function(){var t=this.getTable();var T=this.getTemplate();if(t&&T&&(!this._oTemplateClone||this._oTemplateClone.isDestroyed())){this._oTemplateClone=T.clone();if(!t._bMobileTable){if(this._oTemplateClone.setWrapping){this._oTemplateClone.setWrapping(false);}if(this._oTemplateClone.setRenderWhitespace){this._oTemplateClone.setRenderWhitespace(false);}}}return this._oTemplateClone;};
c.prototype.getCreationTemplateClone=function(){var t=this.getTable();var o=this.getCreationTemplate();if(t&&o&&(!this._oCreationTemplateClone||this._oCreationTemplateClone.isDestroyed())){this._oCreationTemplateClone=o.clone();if(!t._bMobileTable){if(this._oCreationTemplateClone.setWrapping){this._oCreationTemplateClone.setWrapping(false);}if(this._oCreationTemplateClone.setRenderWhitespace){this._oCreationTemplateClone.setRenderWhitespace(false);}}}return this._oCreationTemplateClone;};
c.prototype.setHeader=function(h){this.setProperty("header",h,true);var l=this.getDomRef();if(l){l.textContent=this.getHeader();}return this;};
c.prototype._onTableChange=function(e){if(e.getParameter("name")==="enableColumnResize"){this._readTableSettings();}};
c.prototype._readTableSettings=function(){var t=this.getTable();this._oSettingsModel.setProperty("/resizable",t.getEnableColumnResize());};
c.prototype.setParent=function(p){var P=this.getTable();C.prototype.setParent.apply(this,arguments);if(this._bIsBeingMoved){return;}this._disconnectFromTable(P);this._connectToTable();};
c.prototype._connectToTable=function(){var t=this.getTable();if(!t){return;}this._calculateColumnWidth();this._readP13nValues();this._readTableSettings();t.attachEvent("_change",this._onTableChange,this);};
c.prototype._disconnectFromTable=function(t){t=t||this.getTable();if(!t){return;}if(this._oInnerColumn){this._oInnerColumn.destroy("KeepDom");t.invalidate();}};
c.prototype._onModifications=function(){this._readP13nValues();};
c.prototype._calculateColumnWidth=function(){var t=this.getTable();if(!t||!t.getEnableAutoColumnWidth()||!this.isPropertyInitial("width")){return;}var p=t.getPropertyHelper();if(p){this._oSettingsModel.setProperty("/calculatedWidth",p.calculateColumnWidth(this));}else{t.awaitPropertyHelper().then(this._calculateColumnWidth.bind(this));}};
c.prototype._readP13nValues=function(){var t=this.getTable();var x=t.getCurrentState().xConfig;var p=this.getDataProperty();if(x instanceof Promise){x.then(this._readP13nValues.bind(this));return;}var w=x&&x.aggregations&&x.aggregations.columns&&x.aggregations.columns[p]&&x.aggregations.columns[p].width;this._oSettingsModel.setProperty("/p13nWidth",w);};
c.prototype.getTable=function(){var p=this.getParent();return p&&p.isA("sap.ui.mdc.Table")?p:null;};
c.prototype.exit=function(){this._disconnectFromTable();["_oManagedObjectModel","_oSettingsModel","_oInnerColumn","_oTemplateClone","_oCreationTemplateClone","_oColumnHeaderLabel"].forEach(function(o){if(this[o]){this[o].destroy();delete this[o];}},this);};
return c;});
sap.ui.predefine('sap/ui/mdc/table/CreationRow',["../library","sap/ui/core/Element"],function(L,E){"use strict";var T=L.TableType;
var C=E.extend("sap.ui.mdc.table.CreationRow",{metadata:{library:"sap.ui.mdc",properties:{applyEnabled:{type:"boolean",group:"Behavior",defaultValue:true},busy:{type:"boolean",group:"Behavior",defaultValue:false},visible:{type:"boolean",group:"Appearance",defaultValue:true}},events:{apply:{allowPreventDefault:true}}}});
C.prototype.init=function(){this._sTableType="";this._oInnerCreationRow=null;this._mBindingContexts={};};
C.prototype.exit=function(){if(this._oInnerCreationRow){this._oInnerCreationRow.destroy();this._oInnerCreationRow=null;}this._mBindingContexts=null;};
C.prototype.setBusy=function(b){this.setProperty('busy',b,true);if(this._oInnerCreationRow){this._oInnerCreationRow.setBusy(b);}return this;};
C.prototype.setBindingContext=function(o,m){E.prototype.setBindingContext.call(this,o,m);this._mBindingContexts[m]={context:o,modelName:m};if(this._oInnerCreationRow){this._oInnerCreationRow.setBindingContext(o,m);}return this;};
C.prototype.setApplyEnabled=function(e){this.setProperty("applyEnabled",e,true);if(this._oInnerCreationRow){this._oInnerCreationRow.setApplyEnabled(e);}return this;};
C.prototype.setVisible=function(v){this.setProperty("visible",v,true);if(this._oInnerCreationRow){this._oInnerCreationRow.setVisible(v);this._getTable()._oTable.getRowMode().setHideEmptyRows(v);}return this;};
C.prototype._onInnerApply=function(e){if(!this.fireApply()){e.preventDefault();}};
C.prototype.update=function(){return this._updateInnerCreationRow();};
C.prototype._updateInnerCreationRow=function(){var t=this._getTable();var n=t?t._getStringType():"";var p;if(this._sTableType===n||!t||!t._oTable){return Promise.resolve();}this._sTableType=n;if(n===T.Table){p=this._createGridTableCreationRow();t._oTable.getRowMode().setHideEmptyRows(this.getVisible());}else{p=this._createResponsiveTableCreationRow();}return p.then(function(I){i(t,I);});};
function g(m){return new Promise(function(r,a){sap.ui.require([m],function(M){r(M);},function(e){a(e);});});}
C.prototype._createGridTableCreationRow=function(){return g("sap/ui/table/CreationRow").then(function(C){c(this);this._oInnerCreationRow=new C(this.getId()+"-inner",{visible:this.getVisible(),applyEnabled:this.getApplyEnabled(),apply:[this._onInnerApply,this]});this._getTable()._oTable.getRowMode().setHideEmptyRows(this.getVisible());for(var m in this._mBindingContexts){var b=this._mBindingContexts[m];this._oInnerCreationRow.setBindingContext(b.context,b.modelName);}return this._oInnerCreationRow;}.bind(this));};
C.prototype._createResponsiveTableCreationRow=function(){c(this);return Promise.resolve();};
function i(m,I){if(m&&m._oTable&&I){m._oTable.setCreationRow(I);}}
function c(m){if(m&&m._oInnerCreationRow){m._oInnerCreationRow.destroy();m._oInnerCreationRow=null;}}
C.prototype._getTable=function(){var p=this.getParent();return p&&p.isA("sap.ui.mdc.Table")?p:null;};
return C;});
sap.ui.predefine('sap/ui/mdc/table/GridTableType',["./TableTypeBase","../library"],function(T,l){"use strict";var I,a,b,c,d,e,f,g;var R=l.RowCountMode;
var G=T.extend("sap.ui.mdc.table.GridTableType",{metadata:{library:"sap.ui.mdc",properties:{rowCountMode:{type:"sap.ui.mdc.RowCountMode",defaultValue:R.Auto},rowCount:{type:"int",defaultValue:10},selectionLimit:{type:"int",defaultValue:200},showHeaderSelector:{type:"boolean",defaultValue:true}}}});
G.prototype.updateRelevantTableProperty=function(t,p,v){if(!t||!t.isA("sap.ui.table.Table")){return;}if(p==="rowCountMode"){var r=t.getRowMode();var h=false;if(r&&(v===R.Fixed&&!r.isA("sap.ui.table.rowmodes.FixedRowMode")||v===R.Auto&&!r.isA("sap.ui.table.rowmodes.AutoRowMode"))){h=r.getHideEmptyRows();r.destroy();r=null;}if(!r){var i=v===R.Fixed?e:f;t.setRowMode(new i({hideEmptyRows:h}));}this._updateTableRowCount(t,v,this.getRowCount());}else if(p==="rowCount"){this._updateTableRowCount(t,this.getRowCountMode(),v);}else if(p==="selectionLimit"){t.getPlugins()[0].setLimit(v).setEnableNotification(v>0);}else if(p==="showHeaderSelector"){t.getPlugins()[0].setShowHeaderSelector(v);}};
G.prototype._updateTableRowCount=function(t,m,v){if(m===R.Fixed){t.getRowMode().setRowCount(v);}else{t.getRowMode().setMinRowCount(v);}};
G.updateDefault=function(t){if(t){t.setRowMode(new f({minRowCount:10}));}};
G.loadGridTableLib=function(){if(!this._oGridTableLibLoaded){this._oGridTableLibLoaded=sap.ui.getCore().loadLibrary("sap.ui.table",true);}return this._oGridTableLibLoaded;};
G.loadTableModules=function(){if(!I){return new Promise(function(r,h){this.loadGridTableLib().then(function(){sap.ui.require(["sap/ui/table/Table","sap/ui/table/Column","sap/ui/table/RowAction","sap/ui/table/RowActionItem","sap/ui/table/plugins/MultiSelectionPlugin","sap/ui/table/rowmodes/FixedRowMode","sap/ui/table/rowmodes/AutoRowMode","sap/ui/table/RowSettings"],function(i,j,k,m,M,F,A,n){I=i;a=j;b=k;c=m;d=M;e=F;f=A;g=n;r();},function(){h("Failed to load some modules");});});}.bind(this));}else{return Promise.resolve();}};
G.createTable=function(i,s){return new I(i,s);};
G.createColumn=function(i,s){var C=new a(i,s);C.attachColumnMenuOpen(function(E){E.preventDefault();});C._menuHasItems=function(){return true;};return C;};
G.createMultiSelectionPlugin=function(t,E){return new d(t.getId()+"--multiSelectPlugin",{selectionMode:T.getSelectionMode(t),selectionChange:E});};
G.enableColumnResizer=function(t,i){i.getColumns().forEach(function(C){C.setResizable(true);C.setAutoResizable(true);});i.detachColumnResize(t._onColumnResize,t);i.attachColumnResize(t._onColumnResize,t);};
G.disableColumnResizer=function(t,i){i.getColumns().forEach(function(C){C.setResizable(false);C.setAutoResizable(false);});i.detachColumnResize(t._onColumnResize,t);};
G.updateSelection=function(t){var s=T.getSelectionMode(t);t._oTable.getPlugins()[0].setSelectionMode(s);};
G.removeRowActions=function(t){var i=t._oTable.getRowActionTemplate();if(i){i.destroy();}t._oTable.setRowActionTemplate();t._oTable.setRowActionCount();};
G.updateRowSettings=function(t,r,h){var i=new g(undefined,r.getAllSettings());this.updateRowActions(t.getParent(),r,h);t.getRowSettingsTemplate().destroy();t.setRowSettingsTemplate(i);};
G.updateRowActions=function(t,r){this.removeRowActions(t);if(!r){return;}if(!r.isBound("rowActions")&&(!r.getRowActions()||r.getRowActions().length==0)){return;}var o=r.getAllActions();if("templateInfo"in o){var h=o.templateInfo;o.items.template=new c({type:h.type,visible:h.visible,icon:h.icon,text:h.text,press:[this._onRowActionPress,t]});delete o.templateInfo;}else{o.items=o.items.map(function(j){var k=new c({type:j.isBound("type")?j.getBindingInfo("type"):j.getType(),visible:j.isBound("visible")?j.getBindingInfo("visible"):j.getVisible(),icon:j.isBound("icon")?j.getBindingInfo("icon"):j._getIcon(),text:j.isBound("text")?j.getBindingInfo("text"):j._getText(),press:[this._onRowActionPress,t]});k.data("rowAction",j);return k;},this);}var i=new b(t.getId()+"--rowAction",o);t._oTable.setRowActionTemplate(i);t._oTable.setRowActionCount(r.getRowActionCount());};
G._onRowActionPress=function(E){var i=E.getParameter("item");var r=this.getRowSettings().getAllActions();if(this.getRowSettings().isBound("rowActions")){var A=r.items.model;var o=i.getBindingContext(A);if(!this._oRowActionItem){this._oRowActionItem=r.items.template.clone();}this._oRowActionItem.setBindingContext(o,r.items.model);this._oRowActionItem.setModel(this.getModel(A),A);this.getRowSettings().addDependent(this._oRowActionItem);}else{this._oRowActionItem=i.data("rowAction");}var h=E.getParameter("row");this._oRowActionItem.firePress({bindingContext:h.getBindingContext()});};
return G;});
sap.ui.predefine('sap/ui/mdc/table/PropertyHelper',["../util/PropertyHelper","sap/m/table/Util"],function(P,T){"use strict";
var a=P.extend("sap.ui.mdc.table.PropertyHelper",{constructor:function(p,e,o,E){var A=["filterable","sortable","groupable","key","unit","text","exportSettings","propertyInfos","visualSettings"];P.call(this,p,e,o,A,E);}});
function i(c){return!!(c&&c.isA&&c.isA("sap.ui.mdc.table.Column"));}
function g(w){if(w.indexOf("em")>0){return Math.round(parseFloat(w));}if(w.indexOf("px")>0){return Math.round(parseInt(w)/16);}return"";}
a.prototype.prepareProperty=function(p){P.prototype.prepareProperty.apply(this,arguments);p.aggregatable=false;};
a.prototype.getColumnExportSettings=function(c){var C=[];if(!i(c)){return C;}var p=this.getProperty(c.getDataProperty());if(!p){return C;}var e=p.exportSettings;if(e===null){return C;}var d=[];var o;var f;if(!p.isComplex()){o=b(c,p,e);o.property=p.path;C.push(o);return C;}f=p.getReferencedProperties();if(Object.keys(e).length){o=b(c,p,e);f.forEach(function(p){d.push(p.path);});o.property=d;C.push(o);}else{f.forEach(function(p,I){var h=p.exportSettings,j=b(c,p,h);j.property=p.path;if(I>0){j.columnId=c.getId()+"-additionalProperty"+I;}if(h||j.property){C.push(j);}});}return C;};
function b(c,p,e){var E=Object.assign({columnId:c.getId(),label:p.label,width:g(c.getWidth()),textAlign:c.getHAlign(),type:"String"},e);return E;}
a.prototype.calculateColumnWidth=function(m){var p=m.getDataProperty();var o=this.getProperty(p);if(!o){return null;}var c=o.visualSettings;if(c&&c.widthCalculation===null){return null;}return this._calcColumnWidth(o);};
a.prototype._calcColumnWidth=function(p){var w=Object.assign({gap:0,includeLabel:true,excludeProperties:[]},p.visualSettings&&p.visualSettings.widthCalculation);var t=[];if(p.isComplex()){t=p.getReferencedProperties().flatMap(function(o){var m=o.visualSettings?o.visualSettings.widthCalculation:undefined;return m===null||w.excludeProperties.includes(o.name)?[]:[[o.typeConfig.typeInstance,m]];});}else{t.push(p.typeConfig.typeInstance);}if(p.unit){w.gap+=2.5;}var h=(w.includeLabel)?p.label:"";return T.calcColumnWidth(t,h,w);};
return a;});
sap.ui.predefine('sap/ui/mdc/table/ResponsiveTableType',["sap/ui/core/Core","./TableTypeBase","../library","sap/m/Button","sap/ui/Device","sap/m/plugins/ColumnResizer","sap/m/SegmentedButton","sap/m/SegmentedButtonItem"],function(C,T,l,B,D,a,S,b){"use strict";var I,c,d;var G=l.GrowingMode;var R=l.RowAction;
var e=T.extend("sap.ui.mdc.table.ResponsiveTableType",{metadata:{library:"sap.ui.mdc",properties:{growingMode:{type:"sap.ui.mdc.GrowingMode",defaultValue:G.Basic},showDetailsButton:{type:"boolean",group:"Misc",defaultValue:false},detailsButtonSetting:{type:"sap.ui.core.Priority[]",group:"Behavior"},popinLayout:{type:"sap.m.PopinLayout",group:"Appearance",defaultValue:"Block"}}}});
e.prototype.setDetailsButtonSetting=function(p){this.setProperty("detailsButtonSetting",p,true);return this;};
e.prototype.updateRelevantTableProperty=function(t,p,v){if(t&&t.isA("sap.m.Table")){if(p==="growingMode"){t.setGrowingScrollToLoad(v===G.Scroll);t.setGrowing(v!==G.None);}else if(p==="showDetailsButton"){this.updateShowDetailsButton(t,v);}else if(p==="popinLayout"){t.setPopinLayout(v);}}};
e.updateDefault=function(t){if(t){t.setGrowing(true);t.setGrowingScrollToLoad(false);}};
e.prototype.updateShowDetailsButton=function(t,v){if(v&&!this._oShowDetailsButton){t.getHeaderToolbar().insertEnd(this._getShowDetailsButton(),0);t.attachEvent("popinChanged",this._onPopinChanged,this);t.setHiddenInPopin(this._getImportanceToHide());}else if(!v&&this._oShowDetailsButton){t.detachEvent("popinChanged",this._onPopinChanged,this);t.getHeaderToolbar().removeEnd(this._oShowDetailsButton);t.setHiddenInPopin([]);this._oShowDetailsButton.destroy();delete this._oShowDetailsButton;}};
e.loadTableModules=function(){if(!I){return new Promise(function(r,f){sap.ui.require(["sap/m/Table","sap/m/Column","sap/m/ColumnListItem"],function(g,h,i){I=g;c=h;d=i;r();},function(){f("Failed to load some modules");});});}else{return Promise.resolve();}};
e.createTable=function(i,s){return new I(i,s);};
e.createColumn=function(i,s){return new c(i,s);};
e.createTemplate=function(i,s){return new d(i,s);};
e.updateSelection=function(t){t._oTable.setMode(T.getSelectionMode(t));};
e.updateMultiSelectMode=function(t){t._oTable.setMultiSelectMode(t.getMultiSelectMode());};
e.updateRowSettings=function(t,r,f){var o=t._oTemplate;o.unbindProperty("navigated");o.unbindProperty("highlight");o.unbindProperty("highlightText");this.updateRowActions(t,r,f);var s=r.getAllSettings();o.applySettings(s);};
e.updateRowActions=function(t,r){t._oTemplate.unbindProperty("type");var s=t.hasListeners("rowPress")?"Active":"Inactive";if(!r){t._oTemplate.setType(s);return;}var v,V,f,o=r.getAllActions();if("templateInfo"in o){var g=o.templateInfo;f=g.visible.formatter;V=typeof g.visible=="object";v=g.visible;}else if(o&&o.items){var _;if(o.items.length==0){t._oTemplate.setType(s);return;}_=o.items.find(function(h){return h.getType()=="Navigation";});if(!_&&o.items.length>0){throw new Error("No RowAction of type 'Navigation' found. sap.m.Table only accepts RowAction of type 'Navigation'.");}t._oTemplate.data("rowAction",_);V=_.isBound("visible");v=V?_.getBindingInfo("visible"):_.getVisible();f=v.formatter;}if(f){v.formatter=function(h){var i=f(h);return i?R.Navigation:s;};}else{v=v?R.Navigation:s;}if(V){t._oTemplate.bindProperty("type",v);}else{t._oTemplate.setProperty("type",v);}};
e.disableColumnResizer=function(t,i){var o=a.getPlugin(i);if(o){o.setEnabled(false);o.detachColumnResize(t._onColumnResize,t);}};
e.enableColumnResizer=function(t,i){i.setFixedLayout("Strict");var o=a.getPlugin(i);if(!o){var f=new a();i.addDependent(f);f.attachColumnResize(t._onColumnResize,t);}else{o.setEnabled(true);o.detachColumnResize(t._onColumnResize,t);o.attachColumnResize(t._onColumnResize,t);}};
e.startColumnResize=function(i,o,f){var g=a.getPlugin(i);if(!g){return;}if(f&&f.isA("sap.m.table.columnmenu.Menu")){return g.getColumnResizeQuickAction(o,f);}else{return g.getColumnResizeButton(o);}};
e.prototype._toggleShowDetails=function(v){if(!this._oShowDetailsButton||(v===this.bHideDetails)){return;}var t=this.getRelevantTable();this.bHideDetails=v;if(this.bHideDetails){t.setHiddenInPopin(this._getImportanceToHide());}else{t.setHiddenInPopin([]);}};
e.prototype._getShowDetailsButton=function(){if(!this._oShowDetailsButton){var r=C.getLibraryResourceBundle("sap.ui.mdc");this.bHideDetails=true;this._oShowDetailsButton=new S(this.getId()+"-showHideDetails",{visible:false,selectedKey:"hideDetails",items:[new b({icon:"sap-icon://detail-more",key:"showDetails",tooltip:r.getText("table.SHOWDETAILS_TEXT"),press:[function(){this._toggleShowDetails(false);},this]}),new b({icon:"sap-icon://detail-less",key:"hideDetails",tooltip:r.getText("table.HIDEDETAILS_TEXT"),press:[function(){this._toggleShowDetails(true);},this]})]});}return this._oShowDetailsButton;};
e.prototype._getImportanceToHide=function(){var f=this.getDetailsButtonSetting()||[];if(f.length){return f;}else{return D.system.phone?["Low","Medium"]:["Low"];}};
e.prototype._onPopinChanged=function(E){var h=E.getParameter("hasPopin");var H=E.getParameter("hiddenInPopin");var v=E.getSource().getVisibleItems().length;if(v&&(H.length||(h&&!this.bHideDetails))){this._oShowDetailsButton.setVisible(true);}else{this._oShowDetailsButton.setVisible(false);}};
e._onRowActionPress=function(E){var i=E.getParameter("listItem");var o=i.getBindingContext();if(i.getType()!=="Navigation"){return;}var r=this.getRowSettings();var f=r.getAllActions();if(this.getRowSettings().isBound("rowActions")){var A=f.items.model;if(!this._oRowActionItem){this._oRowActionItem=f.items.template.clone();}this._oRowActionItem.setModel(this.getModel(A),A);this.getRowSettings().addDependent(this._oRowActionItem);}else{this._oRowActionItem=i.data("rowAction");}this._oRowActionItem.setType("Navigation");this._oRowActionItem.firePress({bindingContext:o});};
return e;});
sap.ui.predefine('sap/ui/mdc/table/TableSettings',["sap/m/OverflowToolbarButton","sap/m/library","sap/m/MenuButton","sap/ui/core/library","sap/ui/Device","sap/ui/core/ShortcutHintsMixin"],function(O,M,a,C,D,S){"use strict";var H=C.aria.HasPopup;var r;var T={createSettingsButton:function(i,e){if(!r){this._loadResourceBundle();}var b=this._createButton(i+"-settings",{icon:"sap-icon://action-settings",text:r.getText("table.SETTINGS"),press:e,tooltip:r.getText("table.SETTINGS"),ariaHasPopup:H.Dialog});S.addConfig(b,{addAccessibilityLabel:true,messageBundleKey:D.os.macintosh?"mdc.PERSONALIZATION_SHORTCUT_MAC":"mdc.PERSONALIZATION_SHORTCUT"},e[1]);return b;},createPasteButton:function(i){var p=this._createButton(i+"-paste");sap.ui.require(["sap/m/plugins/PasteProvider"],function(P){p.addDependent(new P({pasteFor:i+"-innerTable"}));});return p;},createExportButton:function(i,e){if(!r){this._loadResourceBundle();}var m=new a(i+"-export",{icon:"sap-icon://excel-attachment",tooltip:r.getText("table.EXPORT_BUTTON_TEXT"),type:M.ButtonType.Ghost,buttonMode:M.MenuButtonMode.Split,useDefaultActionOnly:true,defaultAction:e.default});sap.ui.getCore().loadLibrary("sap.ui.unified",{async:true}).then(function(){sap.ui.require(["sap/m/Menu","sap/m/MenuItem"],function(b,c){var o=new b({items:[new c({text:r.getText("table.QUICK_EXPORT"),press:e.default}),new c({text:r.getText("table.EXPORT_WITH_SETTINGS"),press:e.exportAs})]});m.setMenu(o);});});S.addConfig(m._getButtonControl(),{addAccessibilityLabel:true,messageBundleKey:D.os.macintosh?"table.SHORTCUT_EXPORT_TO_EXCEL_MAC":"table.SHORTCUT_EXPORT_TO_EXCEL"},e.exportAs[1]);return m;},_createButton:function(i,s){return new O(i,s);},_loadResourceBundle:function(){r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");},showPanel:function(c,p,s,i){T["showUI"+p](c,s);},showUIColumns:function(c,s){c.getEngine().uimanager.show(c,c.getActiveP13nModes(),s);},showUIFilter:function(c,s){c.getEngine().uimanager.show(c,"Filter",s);},createSort:function(c,p,s,R){c.getEngine().createChanges({control:c,key:"Sort",state:[{selected:true,name:p,descending:s===C.SortOrder.Descending,sorted:s!==C.SortOrder.None}],applyAbsolute:R});},createGroup:function(c,p){var g={grouped:true,name:p};var G=[g];c.getCurrentState().groupLevels.some(function(P){if(P.name==p){G[0].grouped=false;}});c.getEngine().createChanges({control:c,key:"Group",state:G,applyAbsolute:c._bMobileTable});},createAggregation:function(c,p){var A={name:p,aggregated:true};var b=[A];if(c.getCurrentState().aggregations[p]){A.aggregated=false;}c.getEngine().createChanges({control:c,key:"Aggregate",state:b,applyAbsolute:false});},createColumnWidth:function(c,p,w){var o={name:p,width:w};var b=[o];c.getEngine().createChanges({control:c,key:"ColumnWidth",state:b,applyAbsolute:false});},moveColumn:function(c,d,n){if(d!=n){this._moveItem(c,d,n,"moveColumn");}},_moveItem:function(c,d,n,m){var v=c.getCurrentState(c).items||[];var o=v[d];c.getEngine().createChanges({control:c,key:"Column",state:[{name:o.name,position:n}]});}};return T;});
sap.ui.predefine('sap/ui/mdc/table/TableTypeBase',["sap/ui/core/Element"],function(E){"use strict";
var T=E.extend("sap.ui.mdc.table.TableTypeBase",{metadata:{library:"sap.ui.mdc",properties:{}}});
T.prototype.setProperty=function(p,v,s){E.prototype.setProperty.call(this,p,v,true);var t=this.getRelevantTable();if(t){this.updateRelevantTableProperty(t,p,v);}return this;};
T.prototype.updateRelevantTableProperty=function(t,p,v){};
T.prototype.getRelevantTable=function(){var t=this.getParent();if(t&&t.isA("sap.ui.mdc.Table")){t=t._oTable;}else{t=null;}return t;};
T.prototype.updateTableSettings=function(a){var p=Object.assign({},a,this.getMetadata().getProperties()),P,t=this.getRelevantTable();if(t){for(P in p){this.updateRelevantTableProperty(t,P,this.getProperty(P));}}};
T.getSelectionMode=function(t){var s=t.getSelectionMode();switch(s){case"Single":s=t._bMobileTable?"SingleSelectLeft":"Single";break;case"Multi":s=t._bMobileTable?"MultiSelect":"MultiToggle";break;default:s="None";}return s;};
return T;});
sap.ui.predefine('sap/ui/mdc/table/V4AnalyticsPropertyHelper',["./PropertyHelper"],function(T){"use strict";
var P=T.extend("sap.ui.mdc.table.V4AnalyticsPropertyHelper",{constructor:function(p,e,o){T.call(this,p,e,o,{defaultAggregate:{type:{contextDefiningProperties:{type:"PropertyReference[]"}}}});}});
P.prototype.prepareProperty=function(p){T.prototype.prepareProperty.apply(this,arguments);p.aggregatable=p.extension.defaultAggregate!=null;p.getAggregatableProperties=function(){var a=p.isComplex()?p.getReferencedProperties():[p];return a.filter(function(p){return p.aggregatable;});};};
P.prototype.getAggregatableProperties=function(){return this.getProperties().filter(function(p){return p.aggregatable;});};
return P;});
sap.ui.predefine('sap/ui/mdc/util/Common',[],function(){"use strict";var C={cleanup:function(t,f){f.forEach(function(F){var r=t[F];if(r){if(r.destroy&&!r.bIsDestroyed){r.destroy();}t[F]=null;}});}};return C;});
sap.ui.predefine('sap/ui/mdc/util/FilterUtil',['sap/ui/mdc/util/IdentifierUtil','sap/ui/mdc/enum/ConditionValidated',"sap/ui/mdc/condition/ConditionConverter",'sap/ui/mdc/condition/FilterConverter','sap/base/Log','sap/base/util/merge'],function(I,C,a,F,L,m){"use strict";var b={getPropertyByKey:function(p,k){var P=null;p.some(function(o){if(I.getPropertyPath(o)===k){P=o;}return P!=null;});if(!P){p.some(function(o){if(I.getPropertyKey(o)===k){P=o;}return P!=null;});}return P;},getConditionsMap:function(f,p){var P,o,r={};if(!f||!f.isA("sap.ui.mdc.FilterBar")){L.error("instance of sap.ui.mdc.FilterBar expected");return r;}var c=f.getInternalConditions();for(var s in c){if(p.indexOf(s)>=0){P=[];if(c[s]){for(var i=0;i<c[s].length;i++){o={};o.operator=c[s][i].operator;if((o.operator==="EQ")&&(c[s][i].validated===C.Validated)){o.values=[c[s][i].values[0]];}else{o.values=c[s][i].values;}P.push(o);}r[s]=P;}}}return r;},getFilterInfo:function(t,c,p,d){var f={};d=d?d:[];var i,s,e={},o;var g={};if(p&&p.length>0){for(s in c){if(d.indexOf(s)<0){var P=b.getPropertyByKey(p,s);if(P){g[s]={type:P.typeConfig.typeInstance,caseSensitive:P.caseSensitive,baseType:P.typeConfig.baseType};e[s]=[];for(i=0;i<c[s].length;i++){o=m({},c[s][i]);e[s].push(a.toType(o,P.typeConfig,t.getTypeUtil?t.getTypeUtil():t));}}else{L.error("no such property: "+s);}}}if(Object.keys(e).length>0){f.filters=F.createFilters(e,g);}}return f;}};return b;});
sap.ui.predefine('sap/ui/mdc/util/FormatUtil',[],function(){"use strict";var F={getWidth:function(p,m,M){var w=p.precision||p.maxLength,W;if(!m){m=20;}if(!M){M=3;}if(p.type==="Edm.DateTime"&&p.type==="Edm.Date"){w="9em";}else if(w){if(w==="Max"){w=m+"";}W=parseInt(w);if(!isNaN(W)){W+=0.75;if(W>m){W=m;}else if(W<M){W=M;}w=W+"em";}else{w=null;}}if(!w){if(p.type==="Edm.Boolean"){w=M+"em";}else{w=m+"em";}}return w;}};return F;});
sap.ui.predefine('sap/ui/mdc/util/IdentifierUtil',['sap/ui/base/DataType'],function(D){"use strict";var I={replace:function(n){var t=D.getType("sap.ui.core.ID");if(!t.isValid(n)){n=n.replace(/[^A-Za-z0-9_.:]+/g,"__mdc__");if(!t.isValid(n)){n="__mdc__"+n;}}return n;},getFilterFieldId:function(f,k){return f.getId()+"--filter--"+I.replace(k);},getPropertyKey:function(p){return p.name;},getPropertyPath:function(p){return p.path;},getView:function(c){var v=null;if(c){var o=c.getParent();while(o){if(o.isA("sap.ui.core.mvc.View")){v=o;break;}o=o.getParent();}}return v;}};return I;});
sap.ui.predefine('sap/ui/mdc/util/PropertyHelper',["sap/ui/base/Object","sap/ui/base/DataType","sap/base/util/merge","sap/base/util/isPlainObject","sap/base/Log"],function(B,D,m,a,L){"use strict";var A={name:{type:"string",mandatory:true,allowedForComplexProperty:true},label:{type:"string",mandatory:true,allowedForComplexProperty:true},visible:{type:"boolean","default":{value:true},allowedForComplexProperty:true},path:{type:"string",valueForComplexProperty:null},typeConfig:{type:{className:{type:"string"},baseType:{type:"string"},typeInstance:{type:"object"}},valueForComplexProperty:null},maxConditions:{type:"int","default":{value:-1},valueForComplexProperty:null},caseSensitive:{type:"boolean","default":{value:true}},group:{type:"string",allowedForComplexProperty:true},groupLabel:{type:"string",allowedForComplexProperty:true},filterable:{type:"boolean","default":{value:true},valueForComplexProperty:false},sortable:{type:"boolean","default":{value:true},valueForComplexProperty:false},key:{type:"boolean",valueForComplexProperty:false},groupable:{type:"boolean",valueForComplexProperty:false},propertyInfos:{type:"PropertyReference[]",allowedForComplexProperty:true},unit:{type:"PropertyReference"},text:{type:"PropertyReference"},exportSettings:{type:"object","default":{value:{},ignoreIfNull:true},allowedForComplexProperty:true},visualSettings:{type:{widthCalculation:{type:{minWidth:{type:"int","default":{value:2}},maxWidth:{type:"int","default":{value:19}},defaultWidth:{type:"int","default":{value:8}},gap:{type:"float","default":{value:0}},includeLabel:{type:"boolean","default":{value:true}},verticalArrangement:{type:"boolean","default":{value:false}},excludeProperties:{type:"PropertyReference[]"}},"default":{value:{},ignoreIfNull:true}}},"default":{value:{}},allowedForComplexProperty:true},required:{type:"boolean"},hiddenFilter:{type:"boolean"}};var p={isComplex:function(){return P.isPropertyComplex(this);},getReferencedProperties:function(){return this.propertyInfosProperties||[];},getSortableProperties:function(){return o(this,function(i){return i.sortable;});},getFilterableProperties:function(){return o(this,function(i){return i.filterable;});},getGroupableProperties:function(){return o(this,function(i){return i.groupable;});},getVisibleProperties:function(){return o(this,function(i){return i.visible;});}};var c=["name","label","visible","path","typeConfig","maxConditions","group","groupLabel","caseSensitive"];var _=new WeakMap();
function s(O){return JSON.stringify(O,function(K,V){return V===undefined?null:V;})||"";}
function r(M,i){var y=s(i);L.warning("Invalid property definition: "+M+(y?"\n"+y:""));}
function t(M,i){var y=i?s(i):null;throw new Error("Invalid property definition: "+M+(y?"\n"+y:""));}
function e(i,y){y.map(function(z){Object.keys(p).forEach(function(M){Object.defineProperty(z,M,{value:function(){return p[M].call(this);},writable:true});});});}
function d(O){var K=Object.getOwnPropertyNames(O);Object.freeze(O);for(var i=0;i<K.length;i++){var V=O[K[i]];if(typeof V==="function"){Object.freeze(V);}else if(a(V)&&!Object.isFrozen(V)){d(V);}else if(Array.isArray(V)){d(V);}}}
function b(O,i){if(!i){return O;}return i.split(".").reduce(function(C,S){return C&&C[S]?C[S]:null;},O);}
function g(i){var T;if(typeof i==="object"){T="object";}else{T=i.replace("PropertyReference","string");}return D.getType(T);}
function f(i){var y=g(i);if(y.isArrayType()){return y.getBaseType().getDefaultValue();}else{return y.getDefaultValue();}}
function h(i,y){y.forEach(function(z){i.prepareProperty(z);});d(y);}
function j(i,y,z,C,E,F){var T=C==null;var G=[];var I=P.isPropertyComplex(y);if(T){F=_.get(i).mAttributeMetadata;E=y;}if(!E){return[];}for(var H in F){var J=F[H];var K=T?H:C+"."+H;var V=E[H];if(I&&!J.allowedForComplexProperty){if("valueForComplexProperty"in J){E[H]=J.valueForComplexProperty;}continue;}if(V!=null&&typeof J.type==="string"&&J.type.startsWith("PropertyReference")||K==="propertyInfos"){if(I||K!=="propertyInfos"){k(E,H,z);}continue;}if(V==null){l(E,J,C,H,G,V);}if(typeof J.type==="object"){G=G.concat(j(i,y,z,K,E[H],J.type));}}return G;}
function k(i,y,z){var C=i[y];var E;var F=y;if(Array.isArray(C)){E=C.map(function(N){return z[N];});F+="Properties";}else{E=z[C];F+="Property";}Object.defineProperty(i,F,{value:E});}
function l(i,y,S,z,C,V){if("default"in y){var E=y.default;if(V===null&&E.ignoreIfNull&&E.value!==undefined){return;}if(E.value===undefined){i[z]=f(y.type);}else if(typeof E.value==="string"&&E.value.startsWith("attribute:")){C.push({source:E.value.substring(E.value.indexOf(":")+1),targetPath:S,targetAttribute:z,targetType:y.type});}else if(typeof E.value==="object"){i[z]=m({},E.value);}else{i[z]=E.value;}}else{i[z]=f(y.type);}}
function n(i){return Object.freeze(i.reduce(function(M,y){M[y.name]=y;return M;},{}));}
function o(i,F){if(i.isComplex()){return i.getReferencedProperties().filter(F);}else if(F(i)){return[i];}else{return[];}}
function q(i,y,z){for(var C in i){var E=i[C];var F=y==null?C:y+"."+C;if(y==="extension"){q(E.type,F);continue;}if(z&&E.allowedForComplexProperty!==false){E.allowedForComplexProperty=true;}if(typeof E.type==="object"){q(E.type,F,E.allowedForComplexProperty);}}}
function u(y,E){var M=0;E=E||{};for(var i=0;i<y.length;i++){if("extension"in y[i]){t("Property contains invalid attribute 'extension'.",y[i]);}if(y[i].name in E){y[i].extension=E[y[i].name];M++;}else{y[i].extension={};}}if(M!==Object.keys(E).length){throw new Error("At least one property extension does not point to an existing property.");}}
function v(i,y,z,E,C,F){var G={};var I=c.concat(C||[]).reduce(function(N,O){if(O in A){N[O]=A[O];}return N;},Object.assign({},i._mExperimentalAdditionalAttributes));if(F){G.mAttributeMetadata=Object.assign({extension:{type:F,mandatory:true,allowedForComplexProperty:true}},I);G.aMandatoryExtensionAttributes=Object.keys(F).filter(function(N){return F[N].mandatory;});}else{G.mAttributeMetadata=I;G.aMandatoryExtensionAttributes=[];}q(G.mAttributeMetadata);G.aMandatoryAttributes=Object.keys(G.mAttributeMetadata).filter(function(N){return G.mAttributeMetadata[N].mandatory;});var H=m([],z);var J=n(H);if(F){u(H,m({},E));}var K=_.get(i);var M=K&&K.aRawProperties;_.set(i,G);i.validateProperties(H,M);G.oParent=y||null;G.aRawProperties=z;G.aProperties=H;G.mProperties=J;G._={mExtensions:E,aAllowedAttributes:C,mExtensionAttributeMetadata:F};e(i,H);h(i,H);}
var P=B.extend("sap.ui.mdc.util.PropertyHelper",{constructor:function(i,E,y,z,C){B.call(this);if(!Array.isArray(i)){t("Property infos must be an array.");}if(E){if(!C){throw new Error("Property extensions are not supported.");}else if(!a(E)){throw new Error("Property extensions must be a plain object.");}}if(y&&!B.isA(y,"sap.ui.base.ManagedObject")){throw new Error("The type of the parent is invalid.");}if(this._mExperimentalAdditionalAttributes){Object.keys(A).concat("extension").forEach(function(F){if(F in this._mExperimentalAdditionalAttributes){throw new Error("The attribute '"+F+"' is reserved and cannot be overridden by additional attributes.");}}.bind(this));}v(this,y,i,E,z,C);}});
P.prototype.validateProperties=function(y,z){var U=new Set();for(var i=0;i<y.length;i++){this.validateProperty(y[i],y,z);U.add(y[i].name);}if(U.size!==y.length){t("Properties do not have unique names.");}};
P.prototype.validateProperty=function(i,y,z){if(!a(i)){t("Property info must be a plain object.",i);}w(this,i,y);if(P.isPropertyComplex(i)){if(i.propertyInfos.length===0){t("Complex property does not reference existing properties.",i);}}_.get(this).aMandatoryAttributes.forEach(function(M){if(!(M in i)){r("Property does not contain mandatory attribute '"+M+"'.",i);}else if(i[M]==null){t("Property does not contain mandatory attribute '"+M+"'.",i);}});_.get(this).aMandatoryExtensionAttributes.forEach(function(M){if(!(M in i.extension)){r("Property does not contain mandatory attribute 'extension."+M+"'.",i);}else if(i.extension[M]==null){t("Property does not contain mandatory attribute 'extension."+M+"'.",i);}});};
function w(i,y,z,C,E,F){var T=C==null;if(T){F=_.get(i).mAttributeMetadata;E=y;}for(var G in E){var H=F[G];var I=T?G:C+"."+G;var V=E[G];if(!H){r("Property contains invalid attribute '"+I+"'.",y);}else if(P.isPropertyComplex(y)&&!H.allowedForComplexProperty){r("Complex property contains invalid attribute '"+I+"'.",y);}else if(typeof H.type==="object"&&V&&typeof V==="object"){w(i,y,z,I,V,H.type);}else if(V!=null&&!g(H.type).isValid(V)){t("The value of '"+I+"' is invalid.",y);}else if(V&&typeof H.type==="string"&&H.type.startsWith("PropertyReference")){x(i,y,z,I,V,H);}}}
function x(y,z,C,E,F,G){var H=G.type.endsWith("[]")?F:[F];var U=new Set(H);if(H.indexOf(z.name)>-1){t("Property references itself in the '"+E+"' attribute",z);}if(U.size!==H.length){t("Property contains duplicate names in the '"+E+"' attribute.",z);}for(var i=0;i<C.length;i++){if(U.has(C[i].name)){if(P.isPropertyComplex(C[i])){t("Property references complex properties in the '"+E+"' attribute.",z);}U.delete(C[i].name);}}if(U.size>0){t("Property references non-existing properties in the '"+E+"' attribute.",z);}}
P.prototype.prepareProperty=function(i){var y=this.getPropertyMap();var z=j(this,i,y);z.forEach(function(C){var E=b(i,C.targetPath);if(E){var V=b(i,C.source);if(V==null){V=f(C.targetType);}E[C.targetAttribute]=V;if(typeof C.targetType==="string"&&C.targetType.startsWith("PropertyReference")){k(E,C.targetAttribute,y);}}});};
P.prototype.getParent=function(){var i=_.get(this);return i?i.oParent:null;};
P.prototype.setProperties=function(i){var y=_.get(this);v(this,y.oParent,i,y._.mExtensions,y._.aAllowedAttributes,y._.mExtensionAttributeMetadata);return this;};
P.prototype.getProperties=function(){var i=_.get(this);return i?i.aProperties:[];};
P.prototype.getPropertyMap=function(){var i=_.get(this);return i?i.mProperties:{};};
P.prototype.getProperty=function(N){return this.getPropertyMap()[N]||null;};
P.prototype.hasProperty=function(N){return N in this.getPropertyMap();};
P.isPropertyComplex=function(i){return i!=null&&typeof i==="object"?"propertyInfos"in i:false;};
P.prototype.getSortableProperties=function(){return this.getProperties().filter(function(i){return i.sortable;});};
P.prototype.getFilterableProperties=function(){return this.getProperties().filter(function(i){return i.filterable;});};
P.prototype.getGroupableProperties=function(){return this.getProperties().filter(function(i){return i.groupable;});};
P.prototype.getKeyProperties=function(){return this.getProperties().filter(function(i){return i.key;});};
P.prototype.getVisibleProperties=function(){return this.getProperties().filter(function(i){return i.visible;});};
P.prototype.destroy=function(){B.prototype.destroy.apply(this,arguments);_.delete(this);};
return P;});
sap.ui.predefine('sap/ui/mdc/valuehelp/Dialog',['sap/ui/mdc/valuehelp/base/Container','sap/ui/mdc/valuehelp/base/DialogTab','sap/ui/mdc/util/loadModules','sap/ui/Device','sap/m/VBox','sap/m/FlexItemData','sap/ui/model/resource/ResourceModel','sap/ui/mdc/util/Common','sap/ui/mdc/enum/SelectType','sap/base/strings/formatMessage'],function(C,D,l,a,V,F,R,b,S,f){"use strict";var M,c,B,d,I,e;var P,H,T,g;
var h=C.extend("sap.ui.mdc.valuehelp.Dialog",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.IDialogContainer"],properties:{_selectedContentKey:{type:"string",visibility:"hidden"},_quickSelectEnabled:{type:"boolean",visibility:"hidden",defaultValue:false},_selectableContents:{type:"object[]",visibility:"hidden",defaultValue:[]},groupConfig:{type:"object",defaultValue:{}}},defaultAggregation:"content"}});
function _(){if(a.system.desktop){return"700px";}if(a.system.tablet){return a.orientation.landscape?"600px":"600px";}}
function j(){if(a.system.desktop){return"1080px";}if(a.system.tablet){return a.orientation.landscape?"920px":"600px";}}
function k(n){var i=this.getContent();return i.filter(function(o){return!!o.getVisible()&&o.getGroup&&o.getGroup()===n;}).length>1;}
h.prototype._handleContentSelectionChange=function(n){this.fireRequestDelegateContent({container:this.getId(),contentId:n});this._getRetrieveDelegateContentPromise().then(function(){var s=this.getProperty("_selectedContentKey");var i=this.getContent();var o=s&&i&&i.find(function(p){return p.getId()===s;});if(o){o.onHide();}this._renderSelectedContent(n);}.bind(this));};
h.prototype._onTabBarSelect=function(E){var n=E&&E.getParameter("key");this._handleContentSelectionChange(n);};
h.prototype.invalidate=function(o){if(o){var i=this.getContent();var n=i.indexOf(o);if(this._oIconTabBar&&n!==-1&&!this._bIsBeingDestroyed){var p=this._oIconTabBar.getItems();if(p[n]){p[n].invalidate(o);}}else{C.prototype.invalidate.apply(this,arguments);}}};
h.prototype._getUIAreaForContent=function(){var o=this.getAggregation("_container");if(o){return o.getUIArea();}return C.prototype._getUIAreaForContent.apply(this,arguments);};
h.prototype._handleConfirmed=function(E){this.fireConfirm({close:true});};
h.prototype._handleClosed=function(E){var o=this.getSelectedContent();if(o){o.onHide();}this.setProperty("_selectedContentKey",this._sInitialContentKey);C.prototype._handleClosed.apply(this,arguments);};
h.prototype._getContainer=function(){if(!this.getModel("$i18n")){this.setModel(new R({bundleName:"sap/ui/mdc/messagebundle",async:false}),"$i18n");}var o=this.getAggregation("_container");if(!o){return this._retrievePromise("dialog",function(){return l(["sap/m/Dialog","sap/m/Button","sap/ui/model/base/ManagedObjectModel","sap/m/library"]).then(function(i){M=i[0];B=i[1];d=i[2];c=i[3];var n=c.ButtonType;if(!this._oResourceBundle){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");}this.oButtonOK=new B(this.getId()+"-ok",{text:this._oResourceBundle.getText("valuehelp.OK"),enabled:"{$valueHelp>/_valid}",type:n.Emphasized,press:this._handleConfirmed.bind(this),visible:{parts:['$valueHelp>/_config/maxConditions','$help>/_quickSelectEnabled'],formatter:function(q,Q){return q!==1||!Q;}}});this.oButtonCancel=new B(this.getId()+"-cancel",{text:this._oResourceBundle.getText("valuehelp.CANCEL"),press:this._handleCanceled.bind(this)});this._oManagedObjectModel=new d(this);var o=new M(this.getId()+"-dialog",{contentHeight:_(),contentWidth:j(),horizontalScrolling:false,verticalScrolling:false,title:{parts:['$help>/title','$help>/_selectableContents'],formatter:function(t,q){if(q&&q.length==1){var r=q[0];var s=r.getFormattedShortTitle()?r.getFormattedShortTitle():r.getTitle();if(s){t=this._oResourceBundle.getText("valuehelp.DIALOGSHORTTITLECOLONTITLE",[s,t]);}}return t;}.bind(this)},stretch:a.system.phone,resizable:true,draggable:true,afterOpen:this._handleOpened.bind(this),afterClose:this._handleClosed.bind(this),buttons:[this.oButtonOK,this.oButtonCancel]});o.setModel(this._oManagedObjectModel,"$help");this.setAggregation("_container",o,true);o.isPopupAdaptationAllowed=function(){return false;};o.addStyleClass("sapMdcValueHelp");o.addStyleClass("sapMdcValueHelpTitle");o.addStyleClass("sapMdcValueHelpTitleShadow");var v=new V(this.getId()+"-Content",{fitContainer:true});v.addStyleClass("sapMdcValueHelpPanel");o.addContent(v);var p=[];p.push(this._getIconTabBar(o));if(m(this.getMaxConditions(),this.getContent())){p.push(this._getTokenizerPanel());}return Promise.all(p).then(function(q){q.forEach(function(r){v.addItem(r);});return o;});}.bind(this));}.bind(this));}return o;};
h.prototype._handleSelect=function(E){C.prototype._handleSelect.apply(this,arguments);if(this.getProperty("_quickSelectEnabled")&&this._isSingleSelect()){this.fireConfirm({close:true});}};
h.prototype._observeChanges=function(o){if(o.name==="content"){var i=this.getContent();this.setProperty("_quickSelectEnabled",i&&i.every(function(p){return p.isQuickSelectSupported();}));this._updateInitialContentKey();if(o.mutation==="insert"&&!this.getProperty("_selectedContentKey")){this.setProperty("_selectedContentKey",this._sInitialContentKey);}this.setProperty("_selectableContents",this._getSelectableContents());if(m(this.getMaxConditions(),this.getContent())){var n=this.getAggregation("_container");if(n&&n.getContent()[0].getItems().length===1){Promise.all([this._getTokenizerPanel()]).then(function(p){p.forEach(function(q){n.getContent()[0].addItem(q);});});}}}C.prototype._observeChanges.apply(this,arguments);};
h.prototype._updateInitialContentKey=function(){var o=this.getContent().find(function(i){return!!i.getVisible();});this._sInitialContentKey=o&&o.getId();};
h.prototype.getSelectedContent=function(){var s=this.getProperty("_selectedContentKey");return this.getContent().find(function(o){return o.getId()===s;});};
h.prototype._getSelectableContents=function(){var s=this.getSelectedContent();var o=s&&s.getGroup&&s.getGroup();var i=s?o:"";var v=[i];return this.getContent().filter(function(n){if(!n.getVisible()){return false;}var G=n.getGroup&&n.getGroup();var p=G&&k.call(this,G);if(p&&(n!==s)){if(v.indexOf(G)>=0){return false;}else{v.push(G);}}return true;}.bind(this));};
h.prototype._updateGroupSelectModel=function(){if(this._oGroupSelectModel){var s=this.getSelectedContent();var o=s&&s.getGroup&&s.getGroup();var r=o?this.getContent().filter(function(q){return!!q.getVisible()&&q.getGroup&&q.getGroup()===o;}):[];this._oGroupSelectModel.setData(r.reduce(function(q,t){q.entries.push({key:t.getId(),text:t.getFormattedTitle()});return q;},{entries:[]}));if(this._oGroupSelect){var i=this._oGroupSelect.getSelectedItemKey();var n=r.map(function(q){return q.getId();});var p=this.getProperty("_selectedContentKey");if(n.indexOf(i)==-1||(i!==p)){this._oGroupSelect.setSelectedItemKey(r[0].getId());}}}};
h.prototype._retrieveGroupSelect=function(){return this._retrievePromise("collectiveSearchSelect",function(){return l(["sap/ui/mdc/filterbar/vh/CollectiveSearchSelect","sap/ui/core/Item","sap/ui/model/json/JSONModel"]).then(function(i){var n=i[0];var o=i[1];var J=i[2];if(!this._oGroupSelectModel){this._oGroupSelectModel=new J();}if(!this._oGroupSelect){var p=new o(this.getId()+"-collSearchItem",{key:"{$select>key}",text:"{$select>text}",enabled:true});this._oGroupSelect=new n(this.getId()+"--Select",{title:"{$i18n>COL_SEARCH_SEL_TITLE}",items:{path:"$select>/entries",template:p},select:function(E){this._handleContentSelectionChange(E.getParameter("key"));}.bind(this),selectedItemKey:this.getSelectedContent().getId()});this._oGroupSelect.setModel(this._oGroupSelectModel,"$select");}return this._oGroupSelect;}.bind(this));}.bind(this));};
h.prototype._getIconTabBar=function(o){if(!this._oIconTabBar){return l(["sap/m/IconTabBar","sap/m/IconTabFilter"]).then(function(i){I=i[0];e=i[1];var n=c.IconTabHeaderMode;this._oIconTabBar=new I(this.getId()+"-ITB",{expandable:false,upperCase:false,stretchContentHeight:true,headerMode:n.Inline,select:this._onTabBarSelect.bind(this),layoutData:new F({growFactor:1}),selectedKey:"{path: '$help>/_selectedContentKey', mode: 'OneWay'}",visible:{parts:['$help>/_selectableContents'],formatter:function(q){if(q&&q.length==1){this.addStyleClass("sapMdcNoHeader");o.removeStyleClass("sapMdcValueHelpTitleShadow");}else{this.removeStyleClass("sapMdcNoHeader");o.addStyleClass("sapMdcValueHelpTitleShadow");}return true;}}});this._oIconTabBar.addStyleClass("sapUiNoContentPadding");var p=new e(this.getId()+"-ITF",{key:{path:"$help>id"},content:new D(this.getId()+"-DT",{content:{path:"$help>displayContent"}}),text:{parts:['$help>','$valueHelp>/conditions'],formatter:function(q,r){var t="none";if(q){var G=q.getGroup&&q.getGroup();var s=q.getCount(r,G);t=G?this._getFormattedContentGroupLabel(G,s):q.getFormattedTitle(s);}return t;}.bind(this)}});this._oIconTabBar.bindAggregation("items",{path:"/_selectableContents",model:"$help",templateShareable:false,template:p});return this._oIconTabBar;}.bind(this));}return this._oIconTabBar;};
h.prototype._getFormattedContentGroupLabel=function(G,i){var o=this.getGroupConfig();var n=o&&o[G];var t=n&&(i?n.label:n.nnLabel);t=t&&f(t,i?i:"");t=t||this._oResourceBundle.getText(i?"valuehelp.SELECTFROMLIST":"valuehelp.SELECTFROMLISTNONUMBER",i);return t;};
h.prototype._getTokenizerPanel=function(o){if(!this.oTokenizerPanel){return l(['sap/m/Panel','sap/m/HBox','sap/m/VBox','sap/m/Tokenizer','sap/m/Token','sap/ui/model/Filter','sap/ui/mdc/field/ConditionType']).then(function(n){P=n[0];H=n[1];V=n[2];T=n[3];g=n[4];var p=n[5];var q=n[6];var r=c.BackgroundDesign;var s=c.ButtonType;this.oTokenizerPanel=new P(this.getId()+"-TokenPanel",{backgroundDesign:r.Transparent,expanded:true,visible:{parts:['$valueHelp>/_config/maxConditions','$help>/content'],formatter:m},headerText:{parts:['$i18n>valuehelp.TOKENIZERTITLE','$valueHelp>/conditions'],formatter:function(A,E){var G=0;for(var i=0;i<E.length;i++){var J=E[i];if(J.isEmpty!==true){G++;}}if(G===0){A=this._oResourceBundle.getText("valuehelp.TOKENIZERTITLENONUMBER");}return f(A,G);}.bind(this)}});this.oTokenizerPanel.addStyleClass("sapMdcTokenizerPanel");var t=new H(this.getId()+"-TokenBox",{fitContainer:true,width:"100%"});var u=new p({path:'isEmpty',operator:'NE',value1:true});var v=this.getModel("$valueHelp");var w=v?v.getProperty("/_config"):{};var x=this.getParent();var y={maxConditions:-1,valueType:w.dataType,operators:w.operators,display:w.display,fieldHelpID:x&&x.getId()};var z=new g(this.getId()+"-Token",{text:{path:'$valueHelp>',type:new q(y)}});this.oTokenizer=new T(this.getId()+"-Tokenizer",{width:"100%",tokenDelete:function(E){if(E.getParameter("tokens")){var A=E.getParameter("tokens");var G=this.getModel("$valueHelp").getObject("/conditions");var J=[];A.forEach(function(K,i){var L=K.getBindingContext("$valueHelp").sPath;var N=parseInt(L.slice(L.lastIndexOf("/")+1));J.push(G[N]);});this.fireSelect({type:S.Remove,conditions:J});}}.bind(this),tokens:{path:'/conditions',model:"$valueHelp",templateShareable:false,template:z,filters:u},layoutData:new F({growFactor:1,maxWidth:"calc(100% - 2rem)"})});this.oTokenizer.addAriaDescribedBy(this.oTokenizer.getTokensInfoId());this.oTokenizer.addStyleClass("sapMdcTokenizer");this.oRemoveAllBtn=new B(this.getId()+"-TokenRemoveAll",{press:function(E){this.fireSelect({type:S.Set,conditions:[]});}.bind(this),type:s.Transparent,icon:"sap-icon://decline",tooltip:"{$i18n>valuehelp.REMOVEALLTOKEN}",layoutData:new F({growFactor:0,baseSize:"2rem"})});this.oRemoveAllBtn.addStyleClass("sapUiTinyMarginBegin");t.addItem(this.oTokenizer);t.addItem(this.oRemoveAllBtn);this.oTokenizerPanel.addContent(t);return this.oTokenizerPanel;}.bind(this));}return this.oTokenizerPanel;};
function m(i,n){var v=i!==1;if(v&&n&&n.every(function(o){return!o.getRequiresTokenizer();})){v=false;}return v;}
h.prototype._open=function(o){if(o){this._updateInitialContentKey();if(m(this.getMaxConditions(),this.getContent())&&o.getContent()[0].getItems().length===1){Promise.all([this._getTokenizerPanel()]).then(function(i){i.forEach(function(n){o.getContent()[0].addItem(n);});this._renderSelectedContent(this._sInitialContentKey,function(){o.open();});});}else{this._renderSelectedContent(this._sInitialContentKey,function(){o.open();});}}};
h.prototype._renderSelectedContent=function(n,i){var N=this.getContent().find(function(p){return p.getId()===n;});if(!N){throw new Error("sap.ui.mdc.ValueHelp: No content found.");}var o=[N.getContent(),N.onBeforeShow()];var s=N.getGroup&&N.getGroup();var G;if(s&&k.call(this,s)){G=this._retrieveGroupSelect();o.push(G);}return Promise.all(o).then(function(p){this.setProperty("_selectedContentKey",n);this.setProperty("_selectableContents",this._getSelectableContents());this._oManagedObjectModel.checkUpdate(true,true);if(G){this._updateGroupSelectModel();}if(N.setCollectiveSearchSelect){N.setCollectiveSearchSelect(G?this._oGroupSelect:undefined);}if(i){i();}return this._retrievePromise("open").then(function(){N.onShow();return N;});}.bind(this));};
h.prototype._close=function(){var o=this.getAggregation("_container");if(o){o.close();}};
h.prototype.getValueHelpIcon=function(){return"sap-icon://value-help";};
h.prototype.getAriaAttributes=function(i){return{contentId:null,ariaHasPopup:"dialog",role:null,roleDescription:null};};
h.prototype.isMultiSelect=function(){return this.getMaxConditions()!==1;};
h.prototype.exit=function(){b.cleanup(this,["_oManagedObjectModel","_oResourceBundle","oButtonOK","oButtonCancel","oTokenizerPanel","oTokenizer","_oIconTabBar","_oGroupSelect","_oGroupSelectModel","_sInitialContentKey"]);};
return h;});
sap.ui.predefine('sap/ui/mdc/valuehelp/Popover',['sap/ui/mdc/valuehelp/base/Container','sap/ui/mdc/util/loadModules',"sap/ui/dom/units/Rem","sap/ui/thirdparty/jquery"],function(C,l,R,q){"use strict";var M,a,T,b;
var P=C.extend("sap.ui.mdc.valuehelp.Popover",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.ITypeaheadContainer","sap.ui.mdc.valuehelp.IDialogContainer"],properties:{},defaultAggregation:"content"}});
P.prototype.invalidate=function(o){if(o){var p=this.getAggregation("_container");var c=this._oCurrentContent;if(p&&c&&o===c&&!this._bIsBeingDestroyed){p.invalidate(o);}else{C.prototype.invalidate.apply(this,arguments);}}};
P.prototype._getUIAreaForContent=function(){var p=this.getAggregation("_container");if(p){return p.getUIArea();}return C.prototype._getUIAreaForContent.apply(this,arguments);};
P.prototype._getContent=function(){var c=this.getContent();return c&&c[0];};
P.prototype._getContainer=function(){var p=this.getAggregation("_container");if(!p){return l(["sap/m/Popover","sap/m/library","sap/m/Toolbar","sap/m/ToolbarSpacer"]).then(function(L){M=L[0];a=L[1];T=L[2];b=L[3];p=new M(this.getId()+"-pop",{contentHeight:"auto",placement:a.PlacementType.VerticalPreferredBottom,showHeader:false,showArrow:false,title:this.getTitle(),titleAlignment:a.TitleAlignment.Center,afterOpen:this._handleOpened.bind(this),afterClose:this._handleClosed.bind(this)}).addStyleClass("sapMdcValueHelpPopover").addStyleClass("sapMComboBoxBasePicker").addStyleClass("sapMComboBoxBasePicker-CTX");p.addStyleClass(this._isSingleSelect()?"sapMdcValueHelpSingleSelect":"sapMdcValueHelpMultiSelect");p.addDelegate({onsapshow:this._handleRequestSwitchToDialog.bind(this)});p._getAllContent=function(){var d=this.getParent();var e=[];if(d){if(this._oCurrentContent){e.push(this._oCurrentContent);}}return e;}.bind(this);var c=this._getContent();var o=this._getContainerConfig(c);if(o){p.setShowArrow(!!o.showArrow);p.setShowHeader(!!o.showHeader);p.setResizable(!!o.resizable);if(o.getContentWidth){p.setContentWidth(o.getContentWidth());}}this.setAggregation("_container",p,true);return p;}.bind(this));}return p;};
var _=function(){var c=this.getAggregation("_container");var o=this._getContent();var d=o&&this._getContainerConfig(o);if(c&&d&&d.getContentHeight){var h=d.getContentHeight();var i=c.$().find(".sapMPopoverCont").height();var e=i<R.toPx("30rem");c.setContentHeight(!h||e||i>=h?"auto":"30rem");c.invalidate();}};
P.prototype.providesScrolling=function(){return true;};
P.prototype._observeChanges=function(c){if(c.name==="content"){var o=c.child;if(c.mutation==="remove"){o.detachEvent("contentUpdated",_,this);o.detachNavigated(this._handleNavigated,this);}else{o.attachEvent("contentUpdated",_,this);}}C.prototype._observeChanges.apply(this,arguments);};
P.prototype._placeContent=function(p){var c=this._getContent();var o=c&&c.getContent();var B=c&&c.onBeforeShow();var d=this._getContainerConfig(c);var f=d&&d.getFooter&&d.getFooter();return Promise.all([o,f,B]).then(function(e){this._oCurrentContent=e[0];var F=e[1];if(F&&p.getFooter()!=F&&F.isA&&F.isA("sap.m.Toolbar")){p.setFooter(F);return p;}if(F){if(!p.getFooter()){var t=[new b(this.getId()+"-Spacer")].concat(F);var g=new T(this.getId()+"-TB",{content:t}).setModel(this._oManagedObjectModel,"$help");p.setFooter(g);}else{}}else if(p.getFooter()){p.setFooter();}return p;}.bind(this));};
P.prototype._open=function(p){if(p.isOpen()){return;}var c=this._getControl();var t=c&&c.getFocusElementForValueHelp?c.getFocusElementForValueHelp(this.isTypeahead()):c;if(t&&t.getDomRef()){p.setContentMinWidth(q(t.getDomRef()).outerWidth()+"px");if(!this.isFocusInHelp()){p.setInitialFocus(t);}p.openBy(t);}};
P.prototype._close=function(){var p=this.getAggregation("_container");if(p){p.close();}};
P.prototype._handleOpened=function(){_.call(this);C.prototype._handleOpened.apply(this,arguments);var c=this._getContent();if(c){c.onShow();}};
P.prototype._handleConfirmed=function(e){this.fireConfirm({close:e.getParameter("close")||this._isSingleSelect()});};
P.prototype._handleClosed=function(e){var c=this._getContent();if(c){c.onHide();}var p=this.getAggregation("_container");if(p){p._oPreviousFocus=null;}C.prototype._handleClosed.apply(this,arguments);};
P.prototype.removeFocus=function(){var c=this._getContent();if(c){c.removeFocus();}};
P.prototype._navigate=function(s){var c=this._getContent();if(c){return c.navigate(s);}};
P.prototype.getItemForValue=function(c){var o=this._getContent();if(o){return o.getItemForValue(c);}};
P.prototype.isValidationSupported=function(c){var o=this._getContent();if(o){return o.isValidationSupported();}};
P.prototype.getUseAsValueHelp=function(){var c=this._getContent();return c&&c.getUseAsValueHelp&&c.getUseAsValueHelp();};
P.prototype.getValueHelpIcon=function(){var c=this._getContent();return c&&c.getValueHelpIcon();};
P.prototype.getAriaAttributes=function(m){var c=this._getContent();var o=c&&c.getAriaAttributes(m);if(o){return{contentId:o.contentId,ariaHasPopup:o.ariaHasPopup,role:this.getUseAsValueHelp()?"combobox":null,roleDescription:o.roleDescription};}return C.prototype.getAriaAttributes.apply(this,arguments);};
P.prototype.shouldOpenOnClick=function(){var c=this._getContent();return!!c&&c.shouldOpenOnClick();};
P.prototype.shouldOpenOnNavigate=function(){var c=this._getContent();return!!c&&c.shouldOpenOnNavigate();};
P.prototype.isFocusInHelp=function(){var c=this._getContent();return!!c&&c.isFocusInHelp();};
P.prototype.isMultiSelect=function(){var c=this._getContent();return!!c&&c.isMultiSelect();};
P.prototype.isTypeaheadSupported=function(){var c=this._getContent();return c&&c.isSearchSupported();};
P.prototype.exit=function(){if(this._oCurrentContent){if(!this._oCurrentContent.bIsDestroyed){this._oCurrentContent.destroy();}this._oCurrentContent=null;}};
return P;});
sap.ui.predefine('sap/ui/mdc/valuehelp/base/Container',['sap/ui/core/Element','sap/ui/mdc/mixin/PromiseMixin','sap/ui/model/BindingMode','sap/ui/base/ManagedObjectObserver'],function(E,P,B,M){"use strict";
var C=E.extend("sap.ui.mdc.valuehelp.base.Container",{metadata:{library:"sap.ui.mdc",properties:{title:{type:"string",group:"Appearance",defaultValue:""}},aggregations:{_container:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},content:{type:"sap.ui.mdc.valuehelp.base.Content",multiple:true}},events:{select:{parameters:{type:{type:"sap.ui.mdc.enum.SelectType"},conditions:{type:"object[]"}}},confirm:{parameters:{close:{type:"boolean"}}},opened:{},closed:{},cancel:{},requestDelegateContent:{parameters:{contentId:{type:"string"}}},requestSwitchToDialog:{},navigated:{parameters:{leaveFocus:{type:"boolean"},condition:{type:"object"},itemId:{type:"string"}}}}}});
C.prototype.init=function(){this._oObserver=new M(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["content"]});};
C.prototype._observeChanges=function(c){if(c.name==="content"){var o=c.child;if(c.mutation==="remove"){this._unbindContent(o);}else{this._bindContent(o);}}};
C.prototype._bindContent=function(c){c.bindProperty("filterValue",{path:"/filterValue",model:"$valueHelp",mode:B.OneWay});var b={path:"/conditions",model:"$valueHelp",mode:B.OneWay};if(c._formatConditions){b.formatter=c._formatConditions.bind(c);}c.bindProperty("conditions",b);c.bindProperty("config",{path:"/_config",model:"$valueHelp",mode:B.OneWay});c.attachConfirm(this._handleConfirmed,this);c.attachCancel(this._handleCanceled,this);c.attachSelect(this._handleSelect,this);if(c.attachNavigated){c.attachNavigated(this._handleNavigated,this);}if(c.attachRequestSwitchToDialog){c.attachRequestSwitchToDialog(this._handleRequestSwitchToDialog,this);}};
C.prototype._unbindContent=function(c){c.unbindProperty("filterValue");c.unbindProperty("conditions");c.unbindProperty("config");c.detachConfirm(this._handleConfirmed,this);c.detachCancel(this._handleCanceled,this);c.detachSelect(this._handleSelect,this);if(c.detachNavigated){c.detachNavigated(this._handleNavigated,this);}if(c.detachRequestSwitchToDialog){c.detachRequestSwitchToDialog(this._handleRequestSwitchToDialog,this);}};
C.prototype._handleNavigated=function(e){this.fireNavigated(e.mParameters);};
C.prototype._handleRequestSwitchToDialog=function(e){this.fireRequestSwitchToDialog({container:this});};
C.prototype._getContainer=function(){};
C.prototype._getControl=function(){var v=this.getParent();return v&&v.getControl();};
C.prototype.getMaxConditions=function(){var v=this.getModel("$valueHelp");return v&&v.getObject("/_config/maxConditions");};
C.prototype._isSingleSelect=function(){return this.getMaxConditions()===1;};
C.prototype.getDomRef=function(){var c=this.getAggregation("_container");return c&&c.getDomRef();};
C.prototype.getUIArea=function(){return null;};
C.prototype._getUIAreaForContent=function(){return this.getUIArea();};
C.prototype.open=function(v){if(!this.isOpening()){var o=this._addPromise("open");return Promise.all([this._getContainer(),v]).then(function(r){return this._placeContent(r[0]);}.bind(this)).then(function(c){if(!o.isCanceled()){this._open(c);}return o;}.bind(this));}return this._retrievePromise("open");};
C.prototype.close=function(){var p=this._retrievePromise("open");if(p){if(p.isSettled()){this._close();}else{this._cancelPromise(p);}}};
C.prototype._placeContent=function(c){return c;};
C.prototype._open=function(c){};
C.prototype._close=function(){};
C.prototype._handleOpened=function(){this._resolvePromise("open");this.fireOpened();};
C.prototype._handleClosed=function(e){this._removePromise("open");this.fireClosed();};
C.prototype._handleConfirmed=function(e){this.fireConfirm();};
C.prototype._handleCanceled=function(e){this.fireCancel();};
C.prototype._handleSelect=function(e){this.fireSelect({type:e.getParameter("type"),conditions:e.getParameter("conditions")});};
C.prototype.isOpen=function(){var p=this._retrievePromise("open");return p&&p.isSettled();};
C.prototype.isOpening=function(){var p=this._retrievePromise("open");return p&&!p.isCanceled()&&!p.isSettled();};
C.prototype.getItemForValue=function(c){};
C.prototype.isValidationSupported=function(){return false;};
C.prototype.navigate=function(s){return Promise.all([this._getContainer()]).then(function(r){return this._placeContent(r[0]);}.bind(this)).then(function(c){this._navigate(s);}.bind(this));};
C.prototype._navigate=function(s){};
C.prototype.removeFocus=function(){};
C.prototype.isTypeahead=function(){var v=this.getParent();return v&&v.getTypeahead()===this;};
C.prototype.isTypeaheadSupported=function(){return false;};
C.prototype.providesScrolling=function(){return false;};
C.prototype.getValueHelpDelegate=function(){var v=this.getParent();return v&&v.getControlDelegate();};
C.prototype.getValueHelpDelegatePayload=function(){var v=this.getParent();return v&&v.getPayload();};
C.prototype.awaitValueHelpDelegate=function(){var v=this.getParent();return v&&v.awaitControlDelegate();};
C.prototype.isValueHelpDelegateInitialized=function(){var v=this.getParent();return v&&v.bDelegateInitialized;};
C.prototype.getUseAsValueHelp=function(){return false;};
C.prototype.getValueHelpIcon=function(){};
C.prototype.getAriaAttributes=function(m){return{contentId:null,ariaHasPopup:"listbox",role:"combobox",roleDescription:null};};
C.prototype.getScrollDelegate=function(m){var c=this.getAggregation("_container");return c&&c.getScrollDelegate&&c.getScrollDelegate();};
C.prototype.shouldOpenOnClick=function(){return false;};
C.prototype.shouldOpenOnNavigate=function(){return false;};
C.prototype.isFocusInHelp=function(){return!this.isTypeahead();};
C.prototype.isMultiSelect=function(){return false;};
C.prototype._getContainerConfig=function(c){var o=c&&c.getContainerConfig();var r=o&&o[this.getMetadata().getName()];if(!r&&o){var t=Object.keys(o);var n=t.find(function(T){return this.isA(T);}.bind(this));if(n){r=o[n];}}return r;};
C.prototype._getRetrieveDelegateContentPromise=function(){var v=this.getParent();return v&&v._retrievePromise("delegateContent");};
C.prototype.getSelectedContent=function(){var c=this.getContent();return c&&c[0];};
C.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined;};
P.call(C.prototype);return C;});
sap.ui.predefine('sap/ui/mdc/valuehelp/base/Content',['sap/ui/core/Element','sap/ui/mdc/mixin/PromiseMixin','sap/ui/base/ManagedObjectObserver','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/ui/mdc/enum/ConditionValidated','sap/base/strings/formatMessage'],function(E,P,M,C,F,O,a,f){"use strict";
var b=E.extend("sap.ui.mdc.valuehelp.base.Content",{metadata:{library:"sap.ui.mdc",properties:{title:{type:"string",group:"Appearance",defaultValue:""},shortTitle:{type:"string",group:"Appearance",defaultValue:""},conditions:{type:"object[]",defaultValue:[],byValue:true},filterValue:{type:"string",defaultValue:""},config:{type:"object",defaultValue:{}},visible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{displayContent:{type:"sap.ui.core.Control",multiple:false}},events:{select:{parameters:{type:{type:"sap.ui.mdc.enum.SelectType"},conditions:{type:"object[]"}}},confirm:{parameters:{close:{type:"boolean"}}},cancel:{},requestSwitchToDialog:{},navigated:{parameters:{leaveFocus:{type:"boolean"},condition:{type:"object"},itemId:{type:"string"}}}}}});
b.prototype.init=function(){this._oObserver=new M(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["filterValue","conditions","config"]});this._oOperator=F.getEQOperator();};
b.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined;};
b.prototype.setProperty=function(p,v,s){if(p==="conditions"||p==="filterValue"||p==="config"){s=true;}return E.prototype.setProperty.apply(this,[p,v,s]);};
b.prototype.getContent=function(){};
b.prototype.getContainerConfig=function(){};
b.prototype.onBeforeShow=function(){};
b.prototype.onShow=function(){this._bVisible=true;this._handleConditionsUpdate();};
b.prototype.onHide=function(){this._bVisible=false;};
b.prototype.getItemForValue=function(o){};
b.prototype.isValidationSupported=function(){return false;};
b.prototype.getScrollDelegate=function(){var o=this.getParent();return o&&o.getScrollDelegate();};
b.prototype._observeChanges=function(o){if(o.name==="conditions"){this._handleConditionsUpdate(o);}if(o.name==="filterValue"){this._handleFilterValueUpdate(o);}if(o.name==="config"){_.call(this,o.current);}};
b.prototype._handleFilterValueUpdate=function(o){};
b.prototype._handleConditionsUpdate=function(o){};
b.prototype._createCondition=function(v,D,p){var o=d.call(this);var V=[v];if(o.valueTypes.length>1&&o.valueTypes[1]!==O.ValueType.Static&&D!==null&&D!==undefined){V.push(D);}return C.createCondition(o.name,V,undefined,undefined,a.Validated,p);};
b.prototype.removeFocus=function(){};
b.prototype.navigate=function(s){};
b.prototype.getUIArea=function(){var o=this.getParent();if(o&&o._getUIAreaForContent){return o._getUIAreaForContent();}return E.prototype.getUIArea.apply(this,arguments);};
b.prototype.isTypeahead=function(){var o=this.getParent();return o&&o.isTypeahead();};
b.prototype.isSearchSupported=function(){return false;};
b.prototype.provideScrolling=function(){var o=this.getParent();return!o||!o.providesScrolling();};
b.prototype.isContainerOpen=function(){var o=this.getParent();return o&&o.isOpen();};
b.prototype.isContainerOpening=function(){var o=this.getParent();return o&&o.isOpening();};
b.prototype._getValueHelpDelegate=function(){var o=this.getParent();return o&&o.getValueHelpDelegate();};
b.prototype._getValueHelpDelegatePayload=function(){var o=this.getParent();return o&&o.getValueHelpDelegatePayload();};
b.prototype._awaitValueHelpDelegate=function(){var o=this.getParent();return o&&o.awaitValueHelpDelegate();};
b.prototype._isValueHelpDelegateInitialized=function(){var o=this.getParent();return o&&o.isValueHelpDelegateInitialized();};
b.prototype._getControl=function(){var o=this.getParent();return o&&o._getControl();};
b.prototype.getCount=function(e){return 0;};
b.prototype.getValueHelpIcon=function(){};
b.prototype.getAriaAttributes=function(m){return{contentId:null,ariaHasPopup:"listbox",roleDescription:null};};
b.prototype._isSingleSelect=function(e){return this._getMaxConditions()===1;};
b.prototype.shouldOpenOnClick=function(){return false;};
b.prototype.shouldOpenOnNavigate=function(){return!this._isSingleSelect();};
b.prototype.isFocusInHelp=function(){return!this.isTypeahead();};
b.prototype.isMultiSelect=function(){return!this._isSingleSelect();};
b.prototype.isQuickSelectSupported=function(){return false;};
b.prototype.getRequiresTokenizer=function(){return true;};
function _(o){c.call(this,o.operators);}
function c(o){this._oOperator=F.getEQOperator(o);}
function d(){return this._oOperator;}
b.prototype.getFormattedTitle=function(i){var t=this.getTitle();if(t){t=f(t,i?i:"");}return t;};
b.prototype.getFormattedShortTitle=function(){return this.getShortTitle();};
b.prototype._getMaxConditions=function(){var o=this.getConfig();return o&&o.maxConditions;};
P.call(b.prototype);return b;});
sap.ui.predefine('sap/ui/mdc/valuehelp/base/DialogTab',['sap/ui/core/Control'],function(C){"use strict";
var D=C.extend("sap.ui.mdc.valuehelp.base.DialogTab",{
metadata:{library:"sap.ui.mdc",properties:{content:{type:"object"}},events:{select:{parameters:{type:{type:"sap.ui.mdc.enum.SelectType"},conditions:{type:"object[]"}}},confirm:{parameters:{close:{type:"boolean"}}},cancel:{}}},
renderer:{apiVersion:2,render:function(r,c){var o=c.getContent();if(o){r.renderControl(o);}}}
});
D.prototype.init=function(){C.prototype.init.apply(this,arguments);};
D.prototype.exit=function(){if(this._displayContent){this._displayContent=null;}return C.prototype.exit.apply(this,arguments);};
return D;});
sap.ui.predefine('sap/ui/mdc/valuehelp/base/FilterableListContent',['sap/ui/mdc/util/loadModules','sap/ui/mdc/valuehelp/base/ListContent','sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/util/Common','sap/ui/mdc/enum/PersistenceMode','sap/ui/mdc/p13n/Engine','sap/base/util/merge'],function(l,L,C,a,b,P,E,m){"use strict";
var F=L.extend("sap.ui.mdc.valuehelp.base.FilterableListContent",{metadata:{library:"sap.ui.mdc",properties:{filterFields:{type:"string",defaultValue:""},keyPath:{type:"string",defaultValue:""},descriptionPath:{type:"string",defaultValue:""},group:{type:"string",defaultValue:""}},aggregations:{collectiveSearchItems:{type:"sap.ui.core.Item",multiple:true,singularName:"collectiveSearchItem"},filterBar:{type:"sap.ui.mdc.filterbar.vh.FilterBar",multiple:false},_defaultFilterBar:{type:"sap.ui.mdc.filterbar.vh.FilterBar",multiple:false,visibility:"hidden"}},associations:{filters:{type:"sap.ui.mdc.IFilter",multiple:true}},events:{}}});
F.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._oObserver.observe(this,{properties:["filterFields"],aggregations:["_defaultFilterBar","filterBar"]});E.getInstance().defaultProviderRegistry.attach(this,P.Transient);};
F.prototype._handleFilterValueUpdate=function(o){c.call(this,this._getPriorityFilterBar(),o.current);if(this.isContainerOpen()){this.applyFilters(o.current);}};
F.prototype._reduceIFilterConditions=function(o){var d=this._getValueHelpDelegate();var p=this._getValueHelpDelegatePayload();return d?d.reduceIFilterConditions(p,this,o):o;};
F.prototype.applyFilters=function(s){this.applyFilterConditions();};
F.prototype._prettyPrintFilters=function(f){var r;if(!f){return"";}if(Array.isArray(f)){r="";f.forEach(function(f,i,d){r+=this._prettyPrintFilters(f);if(d.length-1!=i){r+=" or ";}},this);return"("+r+")";}else if(f._bMultiFilter){r="";var A=f.bAnd;f.aFilters.forEach(function(f,i,d){r+=this._prettyPrintFilters(f);if(d.length-1!=i){r+=A?" and ":" or ";}},this);return"("+r+")";}else{r=f.sPath+" "+f.sOperator+" '"+f.oValue1+"'";if(f.sOperator==="BT"){r+="...'"+f.oValue2+"'";}return r;}};
F.prototype._getItemFromContext=function(B,o){var k=(o&&o.keyPath)||this.getKeyPath();var d=(o&&o.descriptionPath)||this.getDescriptionPath();var K;var D;if(!k){throw new Error("KeyPath missing");}if(B){K=k?B.getProperty(k):undefined;D=d?B.getProperty(d):undefined;}if(K===null||K===undefined){return false;}var p=this._createConditionPayload([K,D],B);return{key:K,description:D,payload:p};};
F.prototype._createConditionPayload=function(v,d){var o;var D=this._getValueHelpDelegate();if(D){var e=this._getValueHelpDelegatePayload();o={};o=D.createConditionPayload(e,this,v,d);}return o;};
F.prototype._isItemSelected=function(i,d){var D=this._isValueHelpDelegateInitialized()&&this._getValueHelpDelegate();return D?D.isFilterableListItemSelected(this._getValueHelpDelegatePayload(),this,i,d):false;};
F.prototype._createDefaultFilterBar=function(){return l(["sap/ui/mdc/filterbar/vh/FilterBar"]).then(function(M){var d=M[0];var f=new d(this.getId()+"-FB",{liveMode:false,showGoButton:false});_.call(this,f);this.setAggregation("_defaultFilterBar",f,true);return f;}.bind(this));};
F.prototype._handleSearch=function(e){};
function _(f){var e=f.getBasicSearchField();var s=this.getFilterFields();if(!e&&s){if(!this._oSearchField){return l(["sap/ui/mdc/FilterField"]).then(function(M){if(!f.bIsDestroyed){var d=M[0];this._oSearchField=new d(this.getId()+"-search",{conditions:"{$filters>/conditions/"+s+"}",placeholder:"{$i18n>filterbar.SEARCH}",label:"{$i18n>filterbar.SEARCH}",maxConditions:1,width:"50%"});this._oSearchField._bCreatedByValueHelp=true;_.call(this,f);}}.bind(this));}f.setBasicSearchField(this._oSearchField);}else if(e){if(s){e.setConditions([]);}else if(e._bCreatedByValueHelp){f.setBasicSearchField();}}}
F.prototype.onShow=function(){L.prototype.onShow.apply(this,arguments);var o=this.getListBinding();var d=this._getListBindingInfo();var B=o&&o.isSuspended();var e=!o&&d&&d.suspended;this._applyInitialConditions(this._getPriorityFilterBar());if((B||e)&&!this.isTypeahead()){return;}this.applyFilters(this.getFilterValue());};
F.prototype.onHide=function(){L.prototype.onHide.apply(this,arguments);};
F.prototype._getPriorityFilterBar=function(){return this.getFilterBar()||this.getAggregation("_defaultFilterBar");};
F.prototype._observeChanges=function(o){if(o.object==this){var f;if(["_defaultFilterBar","filterBar"].indexOf(o.name)!==-1){f=o.child;var d;if(o.mutation==="insert"){_.call(this,f);this._assignCollectiveSearchSelect();if(o.name!=="_defaultFilterBar"||!this.getFilterBar()){f.attachSearch(this._handleSearch,this);}if(o.name==="filterBar"){d=this.getAggregation("_defaultFilterBar");if(d){d.detachSearch(this._handleSearch,this);}}}else{var e=f.getBasicSearchField();if(e&&e._bCreatedByValueHelp){f.setBasicSearchField();}f.detachSearch(this._handleSearch,this);if(o.name==="filterBar"){d=this.getAggregation("_defaultFilterBar");if(d){d.attachSearch(this._handleSearch,this);}else{this._createDefaultFilterBar();}}}c.call(this,this._getPriorityFilterBar(),this.getFilterValue());}else if(o.name==="filterFields"){f=this._getPriorityFilterBar();if(f){_.call(this,f);}}}L.prototype._observeChanges.apply(this,arguments);};
F.prototype.getCollectiveSearchKey=function(){return this._oCollectiveSearchSelect&&this._oCollectiveSearchSelect.getSelectedItemKey();};
F.prototype.getListBinding=function(){throw new Error("FilterableListContent: Every filterable listcontent must implement this method.");};
F.prototype._getListBindingInfo=function(){throw new Error("FilterableListContent: Every filterable listcontent must implement this method.");};
F.prototype._getTypesForConditions=function(o){var d=this._getValueHelpDelegate();var D=this._getValueHelpDelegatePayload();return d?d.getTypesForConditions(D,this,o):{};};
function c(f,s){var d=this.getFilterFields();if(f&&d){var o=f.getInternalConditions();if(!o[d]||o[d].length!==1||o[d][0].values[0]!==s){var e=C.createCondition("Contains",[s],undefined,undefined,a.NotValidated);o[d]=[e];f.setInternalConditions(o);}}}
F.prototype.getFormattedTitle=function(i){var t=L.prototype.getFormattedTitle.apply(this,arguments);if(!t){t=this._oResourceBundle.getText(i?"valuehelp.SELECTFROMLIST":"valuehelp.SELECTFROMLISTNONUMBER",i);}return t;};
F.prototype.getFormattedShortTitle=function(){var s=this.getShortTitle();if(!s){s=this._oResourceBundle.getText("valuehelp.SELECTFROMLIST.Shorttitle");}return s;};
F.prototype.isSearchSupported=function(){var f=this.getFilterFields();var s=!!f;if(f==="$search"){var o=this.getListBinding();var d=this._getValueHelpDelegate();var D=this._getValueHelpDelegatePayload();s=d&&d.isSearchSupported(D,this,o);}return s;};
F.prototype.setCollectiveSearchSelect=function(d){this._oCollectiveSearchSelect=d;this._assignCollectiveSearchSelect();};
F.prototype._assignCollectiveSearchSelect=function(){var f=this._getPriorityFilterBar();if(f.setCollectiveSearch&&this._oCollectiveSearchSelect){f.setCollectiveSearch(this._oCollectiveSearchSelect);}};
F.prototype.onBeforeShow=function(){var d=this._getValueHelpDelegate();return Promise.resolve(d&&d.getInitialFilterConditions(this._getValueHelpDelegatePayload(),this,this._getControl())).then(function(o){this._oInitialFilterConditions=o;}.bind(this));};
F.prototype._applyInitialConditions=function(f){if(f){var s=this.getFilterFields();var n=m({},this._oInitialFilterConditions);if(!n[s]){var o=f.getInternalConditions();if(o[s]){n[s]=o[s];}}f.setInternalConditions(n);}};
F.prototype._fireSelect=function(o){var d=this._getValueHelpDelegate();var D=this._getValueHelpDelegatePayload();var M=d&&d.modifySelectionBehaviour?d.modifySelectionBehaviour(D,this,o):o;if(M){this.fireSelect(M);}};
F.prototype.exit=function(){E.getInstance().defaultProviderRegistry.detach(this);b.cleanup(this,["_oCollectiveSearchSelect","_oInitialFilterConditions"]);if(this._oSearchField&&!this._oSearchField.getParent()){this._oSearchField.destroy();delete this._oSearchField;}L.prototype.exit.apply(this,arguments);};
F.prototype.getCount=function(d,g){var D=this._isValueHelpDelegateInitialized()&&this._getValueHelpDelegate();var o=D&&this._getValueHelpDelegatePayload();return D&&D.getCount?D.getCount(o,this,d,g):L.prototype.getCount.apply(this,arguments);};
return F;});
sap.ui.predefine('sap/ui/mdc/valuehelp/base/ListContent',['sap/ui/mdc/valuehelp/base/Content','sap/ui/mdc/enum/ConditionValidated'],function(C,a){"use strict";
var L=C.extend("sap.ui.mdc.valuehelp.base.ListContent",{metadata:{library:"sap.ui.mdc",properties:{caseSensitive:{type:"boolean",defaultValue:false},useFirstMatch:{type:"boolean",group:"Behavior",defaultValue:true},useAsValueHelp:{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{inParameters:{type:"sap.ui.mdc.field.InParameter",group:"Data",multiple:true},outParameters:{type:"sap.ui.mdc.field.OutParameter",group:"Data",multiple:true}},events:{}}});
L.prototype.init=function(){C.prototype.init.apply(this,arguments);this._oObserver.observe(this,{properties:["caseSensitive"]});};
L.prototype._observeChanges=function(c){if(c.name==="caseSensitive"){this._handleFilterValueUpdate(c);}C.prototype._observeChanges.apply(this,arguments);};
L.prototype.getCount=function(c){var b=0;for(var i=0;i<c.length;i++){var o=c[i];if(o.isEmpty!==true&&o.validated===a.Validated){b++;}}return b;};
return L;});
sap.ui.predefine('sap/ui/mdc/valuehelp/content/Bool',["sap/ui/mdc/valuehelp/content/FixedList","sap/ui/mdc/util/loadModules","sap/ui/model/ParseException"],function(F,l,P){"use strict";
var B=F.extend("sap.ui.mdc.valuehelp.content.Bool",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.ITypeaheadContent"]}});
B.prototype.init=function(){F.prototype.init.apply(this,arguments);this.setUseFirstMatch(true);this.setUseAsValueHelp(true);this.setFilterList(false);this.setCaseSensitive(false);this._oObserver.observe(this,{properties:["config"]});};
B.prototype.exit=function(){if(this._oModel){this._oModel.destroy();this._oModel=undefined;}F.prototype.exit.apply(this,arguments);};
B.prototype.getContent=function(){return this._retrievePromise("boolContent",function(){return l(["sap/ui/mdc/field/ListFieldHelpItem","sap/ui/model/json/JSONModel"]).then(function(m){var L=m[0];var J=m[1];this._oModel=new J({"type":"","items":[{"key":true,"text":"true"},{"key":false,"text":"false"}]});_.call(this,this.getConfig());var i=new L(this.getId()+"-Item",{key:{path:"$Bool>key"},text:{path:"$Bool>text"}});this.bindAggregation("items",{path:"$Bool>/items",template:i});this.setModel(this._oModel,"$Bool");return F.prototype.getContent.apply(this,arguments);}.bind(this));}.bind(this));};
B.prototype.getItemForValue=function(c){return Promise.resolve().then(function(){var g=this.getConfig();var t=g&&g.dataType;if(t){if(c.checkKey){if(c.parsedValue===true||c.parsedValue===false){return{key:c.parsedValue,description:t.formatValue(c.parsedValue,"string")};}else{c.checkDescription=true;}}if(c.checkDescription&&c.value){var T=t.formatValue(true,"string");if(T.toLowerCase().startsWith(c.value.toLowerCase())){return{key:true,description:T};}var f=t.formatValue(false,"string");if(f.toLowerCase().startsWith(c.value.toLowerCase())){return{key:false,description:f};}}var e=this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[c.value]);var E=c.exception||P;throw new E(e);}else{throw new Error("Type missing");}}.bind(this));};
B.prototype.shouldOpenOnClick=function(){return false;};
B.prototype._observeChanges=function(c){if(c.type==="property"&&c.name==="config"){_.call(this,c.current);}F.prototype._observeChanges.apply(this,arguments);};
function _(c){if(this._oModel&&c){var t=c.dataType;var d=this._oModel.getData();if(t&&d["type"]!==t.getMetadata().getName()){d["type"]=t.getMetadata().getName();var I=d["items"];for(var i=0;i<I.length;i++){var o=I[i];o["text"]=t.formatValue(o["key"],"string");}this._oModel.checkUpdate(true);}}}
return B;});
sap.ui.predefine('sap/ui/mdc/valuehelp/content/Conditions',['sap/ui/mdc/valuehelp/base/Content','sap/ui/mdc/util/loadModules','sap/ui/mdc/enum/SelectType','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/util/Common'],function(C,l,S,a,b){"use strict";
var c=C.extend("sap.ui.mdc.valuehelp.content.Conditions",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.ITypeaheadContent","sap.ui.mdc.valuehelp.IDialogContent"],properties:{label:{type:"string"}},aggregations:{},events:{}}});
c.prototype.init=function(){C.prototype.init.apply(this,arguments);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");};
c.prototype.exit=function(){b.cleanup(this,["_oScrollContainer","_oDefineConditionPanel"]);C.prototype.exit.apply(this,arguments);};
c.prototype.getContent=function(){return this._retrievePromise("content",function(){var m=["sap/ui/mdc/field/DefineConditionPanel","sap/ui/model/base/ManagedObjectModel"];if(this.provideScrolling()){m.push("sap/m/ScrollContainer");}return l(m).then(function(m){var D=m[0];var M=m[1];var f=m.length>2&&m[2];this._oManagedObjectModel=new M(this);this._oDefineConditionPanel=new D(this.getId()+"-DCP",{label:"{$help>/label}",conditions:"{$help>/conditions}",inputOK:"{$valueHelp>/_valid}",formatOptions:{path:"$help>/config",formatter:e},conditionProcessed:d.bind(this)}).setModel(this._oManagedObjectModel,"$help");if(f){this._oScrollContainer=new f(this.getId()+"-SC",{height:"100%",width:"100%",vertical:true,content:[this._oDefineConditionPanel]});this.setAggregation("displayContent",this._oScrollContainer);return this._oScrollContainer;}else{this.setAggregation("displayContent",this._oDefineConditionPanel);return this._oDefineConditionPanel;}}.bind(this));}.bind(this));};
c.prototype.getCount=function(f){var g=0;for(var i=0;i<f.length;i++){var o=f[i];if(o.isEmpty!==true&&o.validated===a.NotValidated){g++;}}return g;};
c.prototype.getUseAsValueHelp=function(){return false;};
c.prototype.getValueHelpIcon=function(){return"sap-icon://value-help";};
c.prototype.isFocusInHelp=function(){return true;};
c.prototype.getRequiresTokenizer=function(){return false;};
c.prototype.getFormattedTitle=function(i){var t=C.prototype.getFormattedTitle.apply(this,arguments);if(!t){t=this._oResourceBundle.getText(i?"valuehelp.DEFINECONDITIONS":"valuehelp.DEFINECONDITIONSNONUMBER",i);}return t;};
c.prototype.getFormattedShortTitle=function(){var s=this.getShortTitle();if(!s){s=this._oResourceBundle.getText("valuehelp.DEFINECONDITIONS.Shorttitle");}return s;};
c.prototype.getAriaAttributes=function(m){return{contentId:this.getId()+"-DCP",ariaHasPopup:"dialog",roleDescription:null};};
c.prototype.getContainerConfig=function(){return{'sap.ui.mdc.valuehelp.Popover':{showArrow:true,showHeader:true,getContentWidth:function(){return"500px";},getFooter:function(){return this._retrievePromise("footer",function(){return l(["sap/m/library","sap/m/Button"]).then(function(m){var M=m[0];var B=M.ButtonType;var f=m[1];var o=new f(this.getId()+"-ok",{text:this._oResourceBundle.getText("valuehelp.OK"),enabled:"{$valueHelp>/_valid}",type:B.Emphasized,press:_.bind(this)});var g=new f(this.getId()+"-cancel",{text:this._oResourceBundle.getText("valuehelp.CANCEL"),press:this.fireCancel.bind(this)});return[o,g];}.bind(this));}.bind(this));}.bind(this)}};};
function _(E){this.fireConfirm({close:true});}
function d(E){var n=this.getConditions();if(this._getMaxConditions()===1){n=n.filter(function(o){return o.validated==="NotValidated";});}this.fireSelect({type:S.Set,conditions:n});}
function e(o){var f={};if(o){f.valueType=o.dataType;f.maxConditions=o.maxConditions;f.delegate=o.delegate;f.delegateName=o.delegateName;f.payload=o.payload;f.operators=o.operators;f.display=o.display;f.defaultOperatorName=o.defaultOperatorName;}return f;}
return c;});
sap.ui.predefine('sap/ui/mdc/valuehelp/content/FixedList',["sap/ui/mdc/valuehelp/base/ListContent","sap/ui/mdc/util/loadModules","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/enum/SelectType","sap/ui/model/ParseException"],function(L,l,C,S,P){"use strict";
var F=L.extend("sap.ui.mdc.valuehelp.content.FixedList",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.ITypeaheadContent","sap.ui.mdc.valuehelp.IDialogContent"],properties:{groupable:{type:"boolean",group:"Appearance",defaultValue:false},filterList:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{items:{type:"sap.ui.mdc.field.ListFieldHelpItem",multiple:true,singularName:"item"}},defaultAggregation:"items",events:{}}});
F.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");};
F.prototype.exit=function(){if(this._oManagedObjectModel){this._oManagedObjectModel.destroy();delete this._oManagedObjectModel;}L.prototype.exit.apply(this,arguments);};
F.prototype.getContent=function(){return this._retrievePromise("content",function(){return l(["sap/m/List","sap/m/DisplayListItem","sap/m/library","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/base/ManagedObjectModel","sap/base/strings/whitespaceReplacer"]).then(function(m){var i=m[0];var D=m[1];var k=m[2];var n=m[3];var o=m[4];var M=m[5];var w=m[6];this._oManagedObjectModel=new M(this);var I=new D(this.getId()+"-item",{type:k.ListType.Active,label:{path:"$help>text",formatter:w},value:{path:"$help>additionalText",formatter:w},valueTextDirection:"{$help>textDirection}"}).addStyleClass("sapMComboBoxNonInteractiveItem");var p=new n({path:"text",test:c.bind(this),caseSensitive:true});var s;if(this.getGroupable()){s=new o("groupKey",false,f.bind(this));}var q=new i(this.getId()+"-List",{width:"100%",showNoData:false,mode:k.ListMode.SingleSelectMaster,rememberSelections:false,items:{path:"$help>/items",template:I,filters:p,sorter:s,templateShareable:false},itemPress:a.bind(this)}).addStyleClass("sapMComboBoxBaseList").addStyleClass("sapMComboBoxList");q.setModel(this._oManagedObjectModel,"$help");this.setAggregation("displayContent",q,true);return q;}.bind(this));}.bind(this));};
function _(){return this.getAggregation("displayContent");}
function a(E){var i=E.getParameter("listItem");var s=i.getSelected();if(s){var o=h.call(this,i);var k=j.call(this,o);b.call(this,k,i.getLabel());this.fireSelect({type:S.Set,conditions:this.getConditions()});this.fireConfirm();}}
function b(k,v){var o=this._createCondition(k,v);this.setProperty("conditions",[o],true);return o;}
function c(t){var i=this.getFilterList();return!i||d.call(this,t,this.getFilterValue());}
function d(t,s){return!s||(typeof s==="string"&&(this.getCaseSensitive()?t.startsWith(s):t.toLowerCase().startsWith(s.toLowerCase())));}
function e(){var o=_.call(this);if(o){var B=o.getBinding("items");B.update();o.updateItems();o.invalidate();g.call(this);}}
function f(o){var k=o.getProperty('groupKey');var t=o.getProperty('groupText');return{key:k,text:t};}
function g(){var o=_.call(this);if(o){var k=this.getConditions();var s;var m=this.getFilterValue();var u=this.getUseFirstMatch();var n=false;if(k.length>0&&(k[0].validated===C.Validated||k[0].operator==="EQ")){s=k[0].values[0];}var I=o.getItems();for(var i=0;i<I.length;i++){var p=I[i];if(p.isA("sap.m.DisplayListItem")){var O=h.call(this,p);if(k.length>0&&j.call(this,O)===s){p.setSelected(true);}else if(k.length===0&&u&&m&&!n&&d.call(this,p.getLabel(),m)){p.setSelected(true);n=true;}else if(this.hasOwnProperty("_iNavigateIndex")&&i===this._iNavigateIndex){p.setSelected(true);}else{p.setSelected(false);}}}}}
function h(i){var p=i.getBindingContextPath();return this._oManagedObjectModel.getProperty(p);}
function j(i){var B=i.getBinding("key");if(B){return B.getInternalValue();}else{return i.getKey();}}
F.prototype.getItemForValue=function(o){return Promise.resolve().then(function(){if(o.value===null||o.value===undefined){return null;}else if(!o.value&&o.checkDescription){return null;}var I=this.getItems();var k;var i=0;var K;var t;for(i=0;i<I.length;i++){k=I[i];K=j.call(this,k);t=k.getText();if((o.checkKey&&K===o.parsedValue)||(o.checkDescription&&(t===o.value||K==o.value))){return{key:K,description:k.getText()};}}if(o.checkKey&&o.value===""){return null;}if(this.getUseFirstMatch()){for(i=0;i<I.length;i++){k=I[i];t=o.checkDescription?k.getText():k.getKey();if(d.call(this,t,o.value)){K=j.call(this,k);return{key:K,description:k.getText()};}}}var E=this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[o.value]);var m=o.exception||P;throw new m(E);}.bind(this));};
F.prototype.isValidationSupported=function(o){return true;};
F.prototype.isSearchSupported=function(){return true;};
F.prototype._handleConditionsUpdate=function(o){g.call(this);};
F.prototype._handleFilterValueUpdate=function(o){e.call(this);};
F.prototype.removeFocus=function(){var o=_.call(this);if(o){o.removeStyleClass("sapMListFocus");}};
F.prototype.navigate=function(s){var o=_.call(this);if(!o){return;}o.addStyleClass("sapMListFocus");var k=o.getSelectedItem();var I=o.getItems();var m=I.length;var n=0;var p=this.getFilterList();var q=this.getFilterValue();var r=false;if(!p&&!k){var i=0;if(s>=0){for(i=0;i<I.length;i++){if(!I[i].isA("sap.m.GroupHeaderListItem")&&d.call(this,I[i].getLabel(),q)){n=i;break;}}}else{for(i=I.length-1;i>=0;i--){if(!I[i].isA("sap.m.GroupHeaderListItem")&&d.call(this,I[i].getLabel(),q)){n=i;break;}}}}else if(k){n=o.indexOfItem(k);n=n+s;}else if(s>=0){n=s-1;}else{n=m+s;}var t;if(n<0){n=0;t=true;r=true;}else if(n>=m-1){n=m-1;t=false;}else{t=s>=0;}while(I[n]&&I[n].isA("sap.m.GroupHeaderListItem")){if(t){n++;}else{n--;}}if(n<0||n>m-1){t=!t;r=n<0;n=n<0?0:m-1;while(I[n]&&I[n].isA("sap.m.GroupHeaderListItem")){if(t){n++;}else{n--;}}}var u=I[n];if(u){var U=this.getUseFirstMatch();if(u!==k||(U&&!r)){var O=h.call(this,u);var K=j.call(this,O);var D=O.getText();if(this.getParent().isOpen()){o.scrollToIndex(n);}else{this._iNavigateIndex=n;}u.setSelected(true);var v=b.call(this,K,D);this.fireNavigated({condition:v,itemId:u.getId(),leaveFocus:false});}else if(r){this.fireNavigated({condition:undefined,itemId:undefined,leaveFocus:r});}}};
F.prototype.onShow=function(){L.prototype.onShow.apply(this,arguments);var o=_.call(this);if(!o){return;}var s=o.getSelectedItem();if(s){var i=o.indexOfItem(s);o.scrollToIndex(i);}if(this.hasOwnProperty("_iNavigateIndex")){delete this._iNavigateIndex;}};
F.prototype.onHide=function(){this.removeFocus();};
F.prototype.getValueHelpIcon=function(){if(this.getUseAsValueHelp()){return"sap-icon://slim-arrow-down";}else{return null;}};
F.prototype.getAriaAttributes=function(m){return{contentId:this.getId()+"-List",ariaHasPopup:"listbox",roleDescription:null};};
F.prototype.shouldOpenOnClick=function(){return!this.getFilterList();};
F.prototype.isFocusInHelp=function(){return false;};
F.prototype._isSingleSelect=function(E){return true;};
F.prototype.shouldOpenOnNavigate=function(){return!L.prototype._isSingleSelect.apply(this);};
return F;});
sap.ui.predefine('sap/ui/mdc/valuehelp/content/MDCTable',['sap/ui/mdc/valuehelp/base/FilterableListContent','sap/ui/mdc/util/loadModules','sap/base/util/deepEqual','sap/ui/mdc/enum/SelectType','sap/ui/mdc/library','sap/m/library',"sap/ui/table/library","sap/ui/thirdparty/jquery",'sap/ui/mdc/condition/FilterConverter','sap/base/util/restricted/_throttle'],function(F,l,d,S,a,L,u,q,b,t){"use strict";var c=L.ListMode;var e=L.Sticky;var M=a.SelectionMode;var U=u.VisibleRowCountMode;var f=u.SelectionMode;var g=u.SelectionBehavior;var _=function(T){var i,v=i=T&&T.getType();if(!v){i="Table";}else if(typeof v==="object"){if(v.isA("sap.ui.mdc.table.ResponsiveTableType")){i="ResponsiveTable";}else{i="Table";}}return i;};var h=function(){var T=this._getTable();var I=T&&T._oTable;var v=T.getRowBinding();var w=function(){return this._oUITableSelectionPlugin||I;}.bind(this);var x=function(C,i){var z=i?S.Add:S.Remove;if(!i&&this._isSingleSelect()){z=S.Add;}this._fireSelect({type:z,conditions:C});};var y={"ResponsiveTable":{getListBindingInfo:function(){return I&&I.getBindingInfo("items");},getItems:function(){return I.getItems();},getSelectedItems:function(){return I.getSelectedItems();},modifySelection:function(i,z){if(i.getSelected()!==z){i.setSelected(z);}},handleItemPress:function(E){var i=E.getParameter("listItem");if(!this.isTypeahead()||!this._isSingleSelect()){i.setSelected(!i.getSelected());}var z=this._getListBindingInfo().model;var A=i.getBindingContext(z);var V=this._getItemFromContext(A);var C=V&&this._createCondition(V.key,V.description,V.payload);x.call(this,[C],i.getSelected());},handleSelectionChange:function(E){if(!this.isTypeahead()||!this._isSingleSelect()){var P=E.getParameters();var i=P.listItems||P.listItem&&[P.listItem];var z=this._getListBindingInfo().model;var C=i.map(function(A){var B=A.getBindingContext(z);var V=this._getItemFromContext(B);return V&&this._createCondition(V.key,V.description,V.payload);}.bind(this));x.call(this,C,P.selected);}},adjustTable:function(){var i=I.getSticky();if(!i||i.length===0){I.setSticky([e.ColumnHeaders]);}if(this._isSingleSelect()){I.setMode(c.SingleSelectLeft);}else{I.setMode(c.MultiSelect);}},handleScrolling:function(i){var z=this.getScrollDelegate();if(z){I.scrollToIndex(i).catch(function(E){});return true;}},handleListBinding:function(){}},"Table":{getListBindingInfo:function(){return I&&I.getBindingInfo("rows");},getItems:function(){return I.getRows().filter(function(R){var i=R.getBindingContext();return i&&i.getObject();});},getSelectedItems:function(){var i=w().getSelectedIndices();var z=i.reduce(function(R,C){var A=I.getContextByIndex(C);return A?R.concat(A):R;},[]);return y["Table"].getItems().filter(function(R){return z.indexOf(R.getBindingContext())>=0;});},modifySelection:function(i,z){var C=i.getBindingContext();var A=y["Table"].getContexts().indexOf(C);var B=w().getSelectedIndices().indexOf(A)>=0;if(z&&!B){return this._isSingleSelect()?w().setSelectedIndex(A):w().addSelectionInterval(A,A);}else if(!z&&B){return w().removeSelectionInterval(A,A);}},handleItemPress:function(E){},handleSelectionChange:function(E){if(this._bScrolling||this._bBusy){return;}var R=E.getParameter("rowIndices");var C=y["Table"].getContexts().filter(function(i,J){return R.indexOf(J)>=0;});var z=y["Table"].getItems().filter(function(i,J){return C.indexOf(i.getBindingContext())>=0;});var A=[],B=[];var D=y["Table"].getSelectedItems();var G=this.getConditions();z.forEach(function(J,i){var K=this._isItemSelected(J,G);var N=D.indexOf(J)!==-1;if(K!==N){var O=D.indexOf(J)!==-1?A:B;var V=this._getItemFromContext(J.getBindingContext());var P=V&&this._createCondition(V.key,V.description,V.payload);O.push(P);}}.bind(this));var H=this._isSingleSelect();if(A.length){x.call(this,A,true);if(H){return;}}if(B.length){x.call(this,B,false);}},adjustTable:function(){var R=I.getRowMode();if(!R){I.setVisibleRowCountMode(U.Auto);I.setMinAutoRowCount(3);}else if(R.isA("sap.ui.table.rowmodes.AutoRowMode")){R.setMinRowCount(3);}var i=this._isSingleSelect()?f.Single:f.MultiToggle;I.setSelectionBehavior(g.Row);w().setSelectionMode(i);},handleScrolling:function(i){var z=I.getFirstVisibleRow();if(typeof i==="undefined"||i<0){i=z-1;}if(i>=0&&i!=z){I.setFirstVisibleRow(i);return Promise.resolve();}return false;},getContexts:function(){return v&&v.getAllCurrentContexts();},handleListBinding:function(){v.attachEvent("change",this._handleUpdateFinished.bind(this));}}};return y[this._sTableType];};
function j(){if(this._oTableHelper&&!this._bSelectionIsUpdating){this._bSelectionIsUpdating=true;var i=this._oTableHelper.getItems();var C=this.getConditions();var v=[];for(var I in i){var w=i[I];var x=this._isItemSelected(w,C);v.push(this._oTableHelper.modifySelection.call(this,w,x));}Promise.all(v).then(function(){this._bSelectionIsUpdating=false;}.bind(this));}}
var k=t(j,100,{leading:true});
var m=F.extend("sap.ui.mdc.valuehelp.content.MDCTable",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.IDialogContent"],properties:{},aggregations:{table:{type:"sap.ui.mdc.Table",multiple:false}},events:{},defaultAggregation:"table"}});
m.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver.observe(this,{aggregations:["table"]});this._addPromise("listBinding");};
var n=function(){var i=this._getTable().getRowBinding();if(i){this._oTableHelper=h.call(this);this._oTableHelper.handleListBinding.call(this);s.call(this);this._resolvePromise("listBinding",i);}};var o=function(){if(this._oTable&&!this._oTable.getHeader()){this._oTable.setHeader(this._oResourceBundle.getText("valuehelp.TABLETITLENONUMBER"));}};
m.prototype._handleConditionsUpdate=function(){k.call(this);};
m.prototype._handleUpdateFinished=function(E){this._bScrolling=false;this._bSearchTriggered=false;k.call(this);};
m.prototype._handleFirstVisibleRowChanged=function(E){this._bScrolling=true;k.call(this);};
m.prototype._handleBusyStateChanged=function(E){this._bBusy=E.getParameter("busy");};
var p=function(i,v){if(!i){return;}if(v==="remove"){if(this._sTableType==="Table"){i.detachEvent("cellClick",this._handleItemPress,this);i.detachEvent("rowSelectionChange",this._handleSelectionChange,this);i.detachEvent("rowsUpdated",this._handleUpdateFinished,this);i.detachEvent("firstVisibleRowChanged",this._handleFirstVisibleRowChanged,this);i.detachEvent("busyStateChanged",this._handleBusyStateChanged,this);if(this._oUITableSelectionPlugin){this._oUITableSelectionPlugin.detachEvent("selectionChange",this._handleSelectionChange,this);}this._oUITableSelectionPlugin=undefined;}else if(this._sTableType==="ResponsiveTable"){i.detachEvent("itemPress",this._handleItemPress,this);i.detachEvent("selectionChange",this._handleSelectionChange,this);i.detachEvent("updateFinished",this._handleUpdateFinished,this);}this._oObserver.unobserve(i);}else{if(this._sTableType==="Table"){this._oObserver.observe(i,{bindings:["rows"],aggregations:["plugins"]});i.attachEvent("cellClick",this._handleItemPress,this);i.attachEvent("rowSelectionChange",this._handleSelectionChange,this);i.attachEvent("rowsUpdated",this._handleUpdateFinished,this);i.attachEvent("firstVisibleRowChanged",this._handleFirstVisibleRowChanged,this);i.attachEvent("busyStateChanged",this._handleBusyStateChanged,this);this._oUITableSelectionPlugin=i.getPlugins().find(function(P){return P.isA("sap.ui.table.plugins.SelectionPlugin");});if(this._oUITableSelectionPlugin){this._oUITableSelectionPlugin.attachEvent("selectionChange",this._handleSelectionChange,this);}}else if(this._sTableType==="ResponsiveTable"){this._oObserver.observe(i,{bindings:["items"]});i.attachEvent("itemPress",this._handleItemPress,this);i.attachEvent("selectionChange",this._handleSelectionChange,this);i.attachEvent("updateFinished",this._handleUpdateFinished,this);}}};
m.prototype._handleSearch=function(E){var i=this.getFilterFields();var v=E.getSource();var C=v.getInternalConditions();var w=i&&C[i]&&C[i][0];var x=w&&w.values[0];this.setFilterValue(x);};
m.prototype._observeChanges=function(C){if(["_defaultFilterBar","filterBar"].indexOf(C.name)!==-1){r.call(this);}if(C.name==="table"){var T=C.child;if(C.mutation==="remove"){this._oObserver.unobserve(T);this._oTable=null;this._oTableHelper=null;this._addPromise("listBinding");}else{this._oTable=T;this._oObserver.observe(T,{aggregations:["_content"]});this._sTableType=_(T);T.addDelegate({onmouseover:function(E){var i=q(E.target).control(0);if(i&&i.isA("sap.m.ColumnListItem")){i.setType("Active");}}});p.call(this,this._oTable._oTable,"insert");n.call(this);o.call(this);r.call(this);}return;}if(C.name==="_content"){p.call(this,C.child,C.mutation);return;}if(["rows","items"].indexOf(C.name)!==-1&&C.mutation==="ready"){n.call(this);return;}if(C.name==="config"){s.call(this);}if(C.name==="plugins"){this._oUITableSelectionPlugin=C.mutation==="remove"||!C.child.isA("sap.ui.table.plugins.SelectionPlugin")?undefined:C.child;if(this._oUITableSelectionPlugin){this._oUITableSelectionPlugin.attachEvent("selectionChange",this._handleSelectionChange,this);}}F.prototype._observeChanges.apply(this,arguments);};
m.prototype._getTable=function(){return this._oTable;};
function r(){var i=this._getPriorityFilterBar();if(this._oTable&&i&&this._oTable.getFilter()!==i.getId()){this._oTable.setFilter(i);}}
function s(){if(this._oTableHelper){this._oTableHelper.adjustTable.call(this);}}
m.prototype.getContent=function(){return this._retrievePromise("wrappedContent",function(){return l(["sap/ui/layout/FixFlex","sap/m/VBox","sap/m/ScrollContainer"]).then(function(i){var v=i[0];var V=i[1];var w=i[2];if(!this._oContentLayout){this._oFilterBarVBox=new V(this.getId()+"-FilterBarBox",{visible:"{$this>/_filterBarVisible}"});this._oFilterBarVBox.addStyleClass("sapMdcValueHelpPanelFilterbar");this._oFilterBarVBox._oWrapper=this;this._oFilterBarVBox.getItems=function(){var x=this._oWrapper._getPriorityFilterBar.call(this._oWrapper);var I=x?[x]:[];return I;};this._oTableBox=new V(this.getId()+"-TB",{height:"100%"});this._oTableBox.addStyleClass("sapMdcValueHelpPanelTableBox");this._oTableBox._oWrapper=this;this._oTableBox.getItems=function(){var T=this._oWrapper._sTableType==="ResponsiveTable"?this._oWrapper._oScrollContainer:this._oWrapper._oTable;var I=T?[T]:[];return I;};this._oContentLayout=new v(this.getId()+"-FF",{minFlexSize:200,fixContent:this._oFilterBarVBox,flexContent:this._oTableBox});this._oScrollContainer=new w(this.getId()+"-SC",{height:"calc(100% - 0.5rem)",width:"100%",vertical:true});this._oScrollContainer._oWrapper=this;this._oScrollContainer.getContent=function(){var C=[];var T=this._oWrapper&&this._oWrapper._oTable;if(T){C.push(T);}return C;};}this.setAggregation("displayContent",this._oContentLayout);if(!this._getPriorityFilterBar()){return this._createDefaultFilterBar().then(function(){this._oFilterBarVBox.invalidate();return this._oContentLayout;}.bind(this));}return this._oContentLayout;}.bind(this));}.bind(this));};
m.prototype.getListBinding=function(){var T=this.getTable();return T&&T.getRowBinding();};
m.prototype._getListBindingInfo=function(){return this._oTableHelper&&this._oTableHelper.getListBindingInfo();};
m.prototype.onShow=function(){if(this._oTable){var i=F.prototype._isSingleSelect.apply(this)?M.Single:M.Multi;if(this._oTable.getSelectionMode()===M.None){this._oTable.setSelectionMode(i);}if(this._oTable.getSelectionMode()!==i){throw new Error("Table selectionMode needs to be "+i);}}F.prototype.onShow.apply(this,arguments);};
m.prototype.onHide=function(){this._bSearchTriggered=false;F.prototype.onHide.apply(this,arguments);};
m.prototype._createFiltersFromBarConditions=function(C){var i=this._getTypesForConditions(C);var v=C&&i&&b.createFilters(C,i,undefined,this.getCaseSensitive());return v&&[].concat(v);};
m.prototype.applyFilters=function(i){var T=this.getTable();var v=this._getPriorityFilterBar();if(T&&v){var w=this.getListBinding();var x=w&&w.isSuspended();if(w&&!x&&!this._bSearchTriggered){var y=v.getSearch()||"";var B=w.mParameters.$search||"";var z=this._createFiltersFromBarConditions(v.getConditions());var A=w.aApplicationFilters.reduce(function(R,G){return R.concat(G._bMultiFilter?G.aFilters:G);},[]);var C=!d(z,A);var D=y!==B;var E=T._oTable&&T._oTable.getShowOverlay&&T._oTable.getShowOverlay();if(C||D||E){this._handleScrolling();v.triggerSearch();this._bSearchTriggered=true;}}if(x){w.resume();}if(!w&&T.getAutoBindOnInit()){this._retrievePromise("listBinding").then(function(){this.applyFilters(i);}.bind(this));}}};
m.prototype._handleScrolling=function(i){return this._oTableHelper&&this._oTableHelper.handleScrolling.call(this,i);};
m.prototype.getScrollDelegate=function(){if(!this.isTypeahead()&&this._oScrollContainer){return this._oScrollContainer.getScrollDelegate();}return F.prototype.getScrollDelegate.apply(this,arguments);};
m.prototype._handleItemPress=function(E){this._oTableHelper.handleItemPress.call(this,E);};
m.prototype._handleSelectionChange=function(E){if(!this._bSelectionIsUpdating){this._oTableHelper.handleSelectionChange.call(this,E);}};
m.prototype.isQuickSelectSupported=function(){return true;};
m.prototype.setParent=function(P){F.prototype.setParent.apply(this,arguments);s.call(this);};
m.prototype._isSingleSelect=function(){if(this._oTable){if(this._oTable.getSelectionMode()===M.Multi){return false;}else{return true;}}else{return F.prototype._isSingleSelect.apply(this,arguments);}};
return m;});
sap.ui.predefine('sap/ui/mdc/valuehelp/content/MTable',['sap/ui/mdc/valuehelp/base/FilterableListContent','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/FilterConverter','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/util/loadModules','sap/m/library','sap/ui/model/FilterType','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/FilterProcessor','sap/ui/mdc/util/Common','sap/base/strings/formatMessage','sap/base/util/merge','sap/ui/mdc/enum/SelectType','sap/base/Log','sap/ui/thirdparty/jquery'],function(F,C,a,b,l,c,d,e,f,g,h,i,m,S,L,q){"use strict";var j=c.ListMode;var k=c.Sticky;
var M=F.extend("sap.ui.mdc.valuehelp.content.MTable",{metadata:{library:"sap.ui.mdc",interfaces:["sap.ui.mdc.valuehelp.ITypeaheadContent","sap.ui.mdc.valuehelp.IDialogContent"],properties:{},aggregations:{table:{type:"sap.m.Table",multiple:false}},events:{contentUpdated:{}},defaultAggregation:"table"}});
M.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver.observe(this,{aggregations:["table"]});this._addPromise("listBinding");this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._oMResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");};
M.prototype.getValueHelpIcon=function(){if(this.getUseAsValueHelp()){return"sap-icon://slim-arrow-down";}else{return null;}};
function _(){if(this._oTable){var I=this._oTable.getItems();var t=this.getConditions();var H=this._isSingleSelect()&&!F.prototype._isSingleSelect.apply(this);for(var u in I){var v=I[u];var w=H?false:this._isItemSelected(v,t);v.setSelected(w);}}}
M.prototype.applyFilters=function(t){var u=this.getListBinding();var v=this._isValueHelpDelegateInitialized();if((!u||!v)){Promise.all([this._retrievePromise("listBinding"),this._awaitValueHelpDelegate()]).then(function(){if(!this.bIsDestroyed){this.applyFilters(t);}}.bind(this));return;}if(!v||(!this.isTypeahead()&&!this.isContainerOpen()&&u.isSuspended())){return;}var D=this._getValueHelpDelegate();var w=this._getValueHelpDelegatePayload();var x=this.getFilterFields();var y=this._getPriorityFilterBar();var z=y?y.getInternalConditions():this._oInitialFilterConditions||{};if(!y&&t&&x&&x!=="$search"){var A=C.createCondition("Contains",[t],undefined,undefined,b.NotValidated);z[x]=[A];}var B=z&&this._getTypesForConditions(z);var E=z&&a.createFilters(z,B,undefined,this.getCaseSensitive());var G=E&&[E];var H=this.isTypeahead()?t:y&&y.getSearch();var U=true;var I;try{I=u.getFilterInfo();}catch(J){L.info("ValueHelp-Filter: getFilterInfo threw error");}if(!G){G=[];}if(G.length===0&&!I){U=false;}if(x==="$search"&&D&&D.isSearchSupported(w,this,u)){if(!u.isSuspended()&&U){u.suspend();}H=D.adjustSearch(w,this.isTypeahead(),H);D.executeSearch(w,u,H);L.info("ValueHelp-Search: "+H);}if(U){u.filter(G,d.Application);L.info("ValueHelp-Filter: "+this._prettyPrintFilters.call(this,G));}if(u.isSuspended()){u.resume();}};
M.prototype._handleSelectionChange=function(E){var t=E.getSource().getBindingInfo("items").model;var I=this.isTypeahead();if(!I||!this._isSingleSelect()){var P=E.getParameters();var u=P.listItems||P.listItem&&[P.listItem];var v=u.map(function(w){var x=w.getBindingContext(t);var V=this._getItemFromContext(x);return V&&this._createCondition(V.key,V.description,V.payload);}.bind(this));this._fireSelect({type:P.selected?S.Add:S.Remove,conditions:v});if(I){this.fireConfirm();}}};
M.prototype._handleItemPress=function(E){var t=E.getSource().getBindingInfo("items").model;var I=E.getParameter("listItem");var u=I.getBindingContext(t);var v=this._getItemFromContext(u);var w=this._isSingleSelect();var x=w?true:!I.getSelected();var y=S.Set;if(!w){I.setSelected(x);y=x?S.Add:S.Remove;}var z=this._createCondition(v.key,v.description,v.payload);this._fireSelect({type:y,conditions:[z]});if(this.isTypeahead()){this.fireConfirm({close:true});}};
M.prototype._handleUpdateFinished=function(){_.apply(this);this.fireContentUpdated();};
M.prototype._getTable=function(){return this._oTable;};
M.prototype.onShow=function(){var t=this._getTable();if(t){if(!t.hasStyleClass("sapMComboBoxList")){t.addStyleClass("sapMComboBoxList");}var u=this.isTypeahead()?j.SingleSelectMaster:j.SingleSelectLeft;if(!F.prototype._isSingleSelect.apply(this)&&t.getMode()!==u){u=j.MultiSelect;}if(t.getMode()===j.None){t.setMode(u);}if(t.getMode()!==u){throw new Error("Table selection mode needs to be "+u);}}F.prototype.onShow.apply(this,arguments);};
M.prototype.onHide=function(){F.prototype.onHide.apply(this,arguments);var t=this.getTable();if(t){this.removeFocus();if(t.hasStyleClass("sapMComboBoxList")){t.removeStyleClass("sapMComboBoxList");}}};
M.prototype._handleConditionsUpdate=function(t){_.call(this);};
M.prototype.getContent=function(){if(!this.isTypeahead()){return this._retrievePromise("wrappedContent",function(){return l(["sap/ui/layout/FixFlex","sap/m/VBox","sap/m/Panel","sap/m/ScrollContainer","sap/ui/model/resource/ResourceModel"]).then(function(t){var u=t[0];var V=t[1];var P=t[2];var v=t[3];var R=t[4];if(!this._oContentLayout){this._oFilterBarVBox=new V(this.getId()+"-FilterBarBox");this._oFilterBarVBox.addStyleClass("sapMdcValueHelpPanelFilterbar");this._oFilterBarVBox._oWrapper=this;this._oFilterBarVBox.getItems=function(){return[this._oWrapper._getPriorityFilterBar.call(this._oWrapper)];};this.setModel(new R({bundleName:"sap/ui/mdc/messagebundle",async:false}),"$i18n");var w=function(T){var I=0;if(I===0){T=this.getModel("$i18n").getResourceBundle().getText("valuehelp.TABLETITLENONUMBER");}return i(T,I);};this._oTablePanel=new P(this.getId()+"-TablePanel",{expanded:true,height:"100%",headerText:{parts:['$i18n>valuehelp.TABLETITLE'],formatter:w}});this._oTablePanel.addStyleClass("sapMdcTablePanel");this._oContentLayout=new u(this.getId()+"-FF",{minFlexSize:200,fixContent:this._oFilterBarVBox,flexContent:this._oTablePanel});this._oScrollContainer=new v(this.getId()+"-SC",{height:"100%",width:"100%",vertical:true});this._oScrollContainer._oWrapper=this;this._oScrollContainer.getContent=function(){var y=[];var T=this._oWrapper&&this._oWrapper._oTable;if(T){y.push(T);}return y;};this._oTablePanel.addContent(this._oScrollContainer);}this.setAggregation("displayContent",this._oContentLayout);var x=this._getPriorityFilterBar();if(!x){return this._createDefaultFilterBar().then(function(){return this._oContentLayout;}.bind(this));}return this._oContentLayout;}.bind(this));}.bind(this));}return this._oTable;};
M.prototype.getItemForValue=function(t){if(!t.checkKey&&t.parsedValue&&!t.checkDescription){return null;}if(t.checkKey&&!this.getKeyPath()){throw new Error("MTable: KeyPath missing! "+this.getId());}if(t.checkDescription&&!this.getDescriptionPath()){throw new Error("MTable: DescriptionPath missing! "+this.getId());}t.caseSensitive=t.caseSensitive||this.getCaseSensitive();var P=p.call(this);var D=this._getValueHelpDelegate();var u=this._getValueHelpDelegatePayload();var v=D&&D.getInitialFilterConditions(u,this,t.control);return Promise.all([P,v]).then(function(R){var w=R[0];var I=R[1];var x;if(!w){var T=this.getTable();x=n.call(this,t,T.getItems(),I);}if(!x){x=this._loadItemForValue(t,I);}return x;}.bind(this));};
function n(t,I,u){if(I.length===0){return;}var B=this._getListBindingInfo();var v=B.model;var w=function(D,P){var A=D.isA("sap.ui.model.Context")?D:D.getBindingContext(v);return A.getProperty(P);};var x;var O;var y=o.call(this,t,u);var z=g.apply(I,y,w);if(z.length===1){var A=z[0].getBindingContext(v);var V=this._getItemFromContext(A,{inParameters:x,outParameters:O});return{key:V.key,description:V.description,payload:V.payload};}else if(z.length>1){if(!t.caseSensitive){var N=m({},t);N.caseSensitive=true;return n.call(this,N,I,u);}throw r.call(this,t.exception,true,t.parsedValue||t.value);}}
function o(t,I){var u=t.caseSensitive;var K=this.getKeyPath();var D=this.getDescriptionPath();var v=[];if(t.checkKey&&t.hasOwnProperty("parsedValue")){v.push(new e({path:K,operator:f.EQ,value1:t.parsedValue,caseSensitive:u}));}if(t.checkDescription&&t.value){v.push(new e({path:D,operator:f.EQ,value1:t.value,caseSensitive:u}));}var w=v.length>1?new e({filters:v,and:false}):v[0];if(I){var x=this._getTypesForConditions(I);var y=a.createFilters(I,x,undefined,this.getCaseSensitive());if(y){w=new e({filters:[w,y],and:true});}}return w;}
function p(){return this._retrievePromise("listBinding").then(function(t){var D=this._getValueHelpDelegate();var u=this._getValueHelpDelegatePayload();var v=this._getListBindingInfo();if(t&&D){return D.checkListBindingPending(u,t,v);}else{return true;}}.bind(this));}
M.prototype.getListBinding=function(){var t=this._getTable();return t&&t.getBinding("items");};
M.prototype._getListBindingInfo=function(){var t=this._getTable();return t&&t.getBindingInfo("items");};
M.prototype._loadItemForValue=function(t,I){if(!t.checkKey&&t.parsedValue&&!t.checkDescription){return null;}var K=this.getKeyPath();var D=this.getDescriptionPath();var u=this.getUseFirstMatch();var T=this._getTable();var v=T&&T.getBinding("items");var B=v&&v.getContext();var w=v&&v.getModel();var P=v&&v.getPath();var x=this._getValueHelpDelegate();var y=this._getValueHelpDelegatePayload();var z=["loadItemForValue",P,K,t.parsedValue||t.value].join("_");return this._retrievePromise(z,function(){var A=o.call(this,t,I);var E=w.bindList(P,B);return x.executeFilter(y,E,A,2).then(function(G){var H=G.getContexts();setTimeout(function(){E.destroy();},0);if(H.length&&(H.length<2||u)){return this._getItemFromContext(H[0],{keyPath:K,descriptionPath:D,inParameters:undefined});}else if(t.checkKey&&t.parsedValue===""&&H.length===0){return null;}else{var J=r.call(this,t.exception,H.length>1,t.value);throw J;}}.bind(this));}.bind(this));};
function r(E,N,v){var t;if(N){t=this._oResourceBundle.getText("valuehelp.VALUE_NOT_UNIQUE",[v]);}else{t=this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[v]);}var u=new E(t);u._bNotUnique=N;return u;}
M.prototype.isValidationSupported=function(t){return true;};
M.prototype.navigate=function(t){var u=this.getListBinding();if(!u||!u.getLength()){return p.call(this).then(function(P){if(!P&&u.getLength()!==0){return this.navigate(t);}return false;}.bind(this));}var T=this._getTable();T.addStyleClass("sapMListFocus");var I=this._oTable.getItems();var v=T.getSelectedItem();var w=I.length;var x=0;var y=false;if(v){x=I.indexOf(v);x=x+t;}else if(t>=0){x=t-1;}else{x=w+t;}if(this._getMaxConditions()!==1){if(this.getParent().isOpen()){T.focus();return;}}var z;if(x<0){x=0;z=true;y=true;}else if(x>=w-1){x=w-1;z=false;}else{z=t>=0;}while(I[x]&&I[x].isA("sap.m.GroupHeaderListItem")){if(z){x++;}else{x--;}}if(x<0||x>w-1){z=!z;y=x<0;x=x<0?0:w-1;while(I[x]&&I[x].isA("sap.m.GroupHeaderListItem")){if(z){x++;}else{x--;}}}var A=I[x];if(A){var B;if(A!==v){A.setSelected(true);var D=this._getListBindingInfo();var E=D.model;var G=A.getBindingContext(E);var V=this._getItemFromContext(G);B=V&&this._createCondition(V.key,V.description,V.payload);this.setProperty("conditions",[B],true);if(this._bVisible){this._handleScrolling(A);}this.fireNavigated({condition:B,itemId:A.getId(),leaveFocus:false});}else if(y){this.fireNavigated({condition:undefined,itemId:undefined,leaveFocus:y});}}};
M.prototype._handleScrolling=function(I){var t=this.getScrollDelegate();if(t){var T=this._getTable();var u=!isNaN(I)?I:T.indexOfItem(I);T.scrollToIndex(u).catch(function(E){});return true;}return false;};
M.prototype.getScrollDelegate=function(){if(this._oScrollContainer){return this._oScrollContainer.getScrollDelegate();}return F.prototype.getScrollDelegate.apply(this,arguments);};
M.prototype.removeFocus=function(){var t=this.getTable();if(t){t.removeStyleClass("sapMListFocus");}};
M.prototype.getAriaAttributes=function(t){var T=this.getTable();return{contentId:T&&T.getId(),ariaHasPopup:"listbox",roleDescription:null};};
M.prototype.getContainerConfig=function(){return{'sap.ui.mdc.valuehelp.Popover':{getContentHeight:function(){var t=this._getTable();var D=t&&t.getDomRef();return D&&Math.round(D.getBoundingClientRect().height);}.bind(this),getFooter:function(){return this._retrievePromise("footer",function(){return this._retrievePromise("listBinding").then(function(t){var B=this._getListBindingInfo();if(B&&B.length){return l(["sap/m/Button","sap/m/Toolbar","sap/m/ToolbarSpacer"]).then(function(u){var v=u[0];var T=u[1];var w=u[2];var x=new v(this.getId()+"-showAllItems",{text:this._oMResourceBundle.getText("INPUT_SUGGESTIONS_SHOW_ALL"),press:function(){this.fireRequestSwitchToDialog();}.bind(this)});var y=[new w(this.getId()+"-Spacer")].concat(x);var z=new T(this.getId()+"-TB",{content:y});return z;}.bind(this));}}.bind(this));}.bind(this));}.bind(this)}};};
function s(){if(this._oTable&&this.getParent()){var t=this._oTable.getSticky();if(!t||t.length===0){this._oTable.setSticky([k.ColumnHeaders]);}}}
M.prototype.setParent=function(P){F.prototype.setParent.apply(this,arguments);s.call(this);};
M.prototype._handleSearch=function(E){return this.applyFilters(this.getFilterValue());};
M.prototype._observeChanges=function(t){if(t.name==="config"){s.call(this);}if(t.name==="items"&&t.mutation==="ready"){this._resolvePromise("listBinding",t.bindingInfo.binding);}if(t.name==="table"){var T=t.child;if(t.mutation==="remove"){this._oObserver.unobserve(T);T.removeDelegate(this._oTableDelegate);this._oTable.detachItemPress(this._handleItemPress,this);this._oTable.detachSelectionChange(this._handleSelectionChange,this);this._oTable.detachUpdateFinished(this._handleUpdateFinished,this);this._oTable=null;this._removePromise("footer");this._addPromise("listBinding");}else{this._oTable=T;s.call(this);this._oTable.attachItemPress(this._handleItemPress,this);this._oTable.attachSelectionChange(this._handleSelectionChange,this);this._oTable.attachUpdateFinished(this._handleUpdateFinished,this);this._oTableDelegate=this._oTableDelegate||{onsapprevious:this._handleTableEvent,onsapnext:this._handleTableEvent,cellClick:this._handleTableEvent};T.addDelegate(this._oTableDelegate,true,this);var u=T.getBinding("items");if(u){this._resolvePromise("listBinding",u);}else{this._oObserver.observe(t.child,{bindings:["items"]});}}}F.prototype._observeChanges.apply(this,arguments);};
M.prototype._handleTableEvent=function(E){if(!this.isTypeahead()){return;}var t=this._getTable();var I=q(E.target).control(0);switch(E.type){case"sapprevious":if(I.isA("sap.m.ListItemBase")){if(t.indexOfItem(I)===0){this.fireNavigated({condition:undefined,itemId:undefined,leaveFocus:true});E.preventDefault();E.stopPropagation();E.stopImmediatePropagation(true);}}break;default:break;}};
M.prototype.isQuickSelectSupported=function(){return true;};
M.prototype.shouldOpenOnNavigate=function(){return true;};
M.prototype._isSingleSelect=function(){var t=this._getTable();if(t){if(t.getMode()===j.MultiSelect){return false;}else{return true;}}else{return F.prototype._isSingleSelect.apply(this,arguments);}};
M.prototype.exit=function(){h.cleanup(this,["_sTableWidth","_oTable","_oScrollContainer","_oContentLayout","_oTablePanel","_oFilterBarVBox","_oMResourceBundle","_oResourceBundle"]);F.prototype.exit.apply(this,arguments);};
return M;});
/*
* ! {copyright}
*/
sap.ui.predefine('sap/ui/mdc/p13n/modules/xConfigAPI',["sap/base/util/merge","sap/ui/core/util/reflection/JsControlTreeModifier"],function(m,J){"use strict";var x={};
x.enhanceConfig=function(c,M){var p=M.propertyBag;var o=p?p.modifier:J;var C;var X;return o.getControlMetadata(c).then(function(r){C=r;M.controlMetadata=C;return o.getAggregation(c,"customData");}).then(function(a){return Promise.all(a.map(function(b){return o.getProperty(b,"key");})).then(function(b){return a.reduce(function(r,d,i){return b[i]==="xConfig"?d:r;},undefined);});}).then(function(r){X=r;if(X){return o.getProperty(X,"value").then(function(s){return m({},JSON.parse(s.replace(/\\/g,'')));});}return{aggregations:{}};}).then(function(e){var a=x.createConfigObject(c,M,e);var A=p?p.appComponent:undefined;var b=Promise.resolve();if(X&&c.isA){b=o.removeAggregation(c,"customData",X).then(function(){return o.destroy(X);});}return b.then(function(){return o.createAndAddCustomData(c,"xConfig",JSON.stringify(a),A).then(function(){return m({},a);});});});};
x.readConfig=function(c,M){var C,a;if(M){var o=M.propertyBag?M.propertyBag.modifier:J;return o.getAggregation(c,"customData").then(function(b){return Promise.all(b.map(function(d){return o.getProperty(d,"key");})).then(function(d){return b.reduce(function(r,e,i){return d[i]==="xConfig"?e:r;},undefined);});}).then(function(a){if(a){return o.getProperty(a,"value").then(function(v){return m({},JSON.parse(v.replace(/\\/g,'')));});}return null;});}var g=function(p,A){var f=function(c,A){if(c){if(c.getMetadata){var d=c.getMetadata();var e=d.getAllAggregations();if(e){return e[A];}}}return undefined;};var b=f(p,A);if(b){return p[b._sGetter]();}return undefined;};var G=function(c,p){var b=c.getMetadata().getPropertyLikeSetting(p);if(b){var P=b._sGetter;return c[P]();}return undefined;};a=g(c,"customData").find(function(b){return G(b,"key")=="xConfig";});C=a?m({},JSON.parse(G(a,"value").replace(/\\/g,''))):null;return C;};
x.createConfigObject=function(c,M,e){var p=M.name;var C=M.controlMeta;var a=C.property;var v=M.value;var o=M.controlMetadata||c.getMetadata();var A=C.aggregation;var s=A?A:o.getDefaultAggregation().name;var b=e||{aggregations:{}};if(!b.aggregations.hasOwnProperty(s)){if(o.hasAggregation(s)){b.aggregations[s]={};}else{throw new Error("The aggregation "+s+" does not exist for"+c);}}if(!b.aggregations.hasOwnProperty(p)){b.aggregations[s][p]={};}if(v!==null){b.aggregations[s][p][a]=v;}else{delete b.aggregations[s][p][a];if(Object.keys(b.aggregations[s][p]).length===0){delete b.aggregations[s][p];if(Object.keys(b.aggregations[s]).length===0){delete b.aggregations[s];}}}return b;};
return x;});
/*
 * !OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/mdc/chart/Item',["sap/ui/core/Element","sap/base/Log"],function(E,L){"use strict";
var I=E.extend("sap.ui.mdc.chart.Item",{metadata:{"abstract":false,library:"sap.ui.mdc",properties:{name:{type:"string"},label:{type:"string"},type:{type:"string",defaultValue:""},role:{type:"string"}}}});
return I;});
sap.ui.predefine('sap/ui/mdc/chart/SelectionDetailsActions',["sap/ui/core/Element"],function(E){"use strict";
var S=E.extend("sap.ui.mdc.chart.SelectionDetailsActions",{metadata:{library:"sap.ui.mdc",aggregations:{detailsItemActions:{type:"sap.ui.core.Item",multiple:true},detailsActions:{type:"sap.ui.core.Item",multiple:true},actionGroups:{type:"sap.ui.core.Item",multiple:true}}}});
return S;});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/mdc/AggregationBaseDelegate',['sap/ui/mdc/BaseDelegate','sap/ui/core/library'],function(B,c){"use strict";var A=Object.assign(B,{fetchProperties:function(C){return Promise.resolve([]);},addItem:function(p,C,P){return Promise.resolve();},removeItem:function(i,C,p){return Promise.resolve(true);},validateState:function(C,s){var v=c.MessageType.None;return{validation:v,message:undefined};}});return A;});
sap.ui.predefine('sap/ui/mdc/BaseDelegate',['sap/ui/mdc/util/TypeUtil'],function(T){"use strict";var B={getTypeUtil:function(p){return T;}};return B;});
sap.ui.predefine('sap/ui/mdc/Chart',["sap/ui/core/Core","sap/ui/mdc/Control","./chart/ChartSettings","sap/ui/mdc/util/loadModules","./ChartRenderer","sap/ui/mdc/library","sap/m/Text","sap/m/VBox","sap/base/Log","./chart/ChartToolbar","./chart/PropertyHelper","sap/ui/mdc/mixin/FilterIntegrationMixin","sap/ui/model/base/ManagedObjectModel","sap/ui/mdc/p13n/subcontroller/ChartItemController","sap/ui/mdc/p13n/subcontroller/FilterController","sap/ui/mdc/p13n/subcontroller/SortController","sap/ui/mdc/p13n/subcontroller/ChartTypeController","sap/ui/base/ManagedObjectObserver","sap/ui/mdc/chart/DrillBreadcrumbs","sap/ui/mdc/actiontoolbar/ActionToolbarAction","sap/ui/thirdparty/jquery"],function(C,a,b,l,c,M,T,V,L,d,P,F,f,g,h,S,i,j,B,A,q){"use strict";var D;
var k=a.extend("sap.ui.mdc.Chart",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/chart/Chart.designtime",interfaces:["sap.ui.mdc.IFilterSource","sap.ui.mdc.IxState"],defaultAggregation:"items",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%",invalidate:true},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%",invalidate:true},delegate:{type:"object",group:"Data",defaultValue:{name:"sap/ui/mdc/ChartDelegate"}},header:{type:"string",group:"Misc",defaultValue:null},noDataText:{type:"string",defaultValue:"No data"},p13nMode:{type:"sap.ui.mdc.ChartP13nMode[]",defaultValue:[]},legendVisible:{type:"boolean",group:"Misc",defaultValue:true},ignoreToolbarActions:{type:"sap.ui.mdc.ChartToolbarActionType[]",defaultValue:[]},minWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"240px",invalidate:true},minHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"400px",invalidate:true},sortConditions:{type:"object"},filterConditions:{type:"object",defaultValue:{}},showChartTooltip:{type:"boolean",group:"Misc",defaultValue:true},autoBindOnInit:{type:"boolean",group:"Misc",defaultValue:true},chartType:{type:"string",group:"Misc",defaultValue:"column"},showSelectionDetails:{type:"boolean",group:"Misc",defaultValue:true},propertyInfo:{type:"object",defaultValue:[]}},aggregations:{items:{type:"sap.ui.mdc.chart.Item",multiple:true},actions:{type:"sap.ui.core.Control",multiple:true,forwarding:{getter:"_getToolbar",aggregation:"actions"}},_toolbar:{type:"sap.ui.mdc.chart.ChartToolbar",multiple:false,visibility:"hidden"},_breadcrumbs:{type:"sap.m.Breadcrumbs",multiple:false,visibility:"hidden"},_innerChart:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},selectionDetailsActions:{type:"sap.ui.mdc.chart.SelectionDetailsActions",multiple:false},variant:{type:"sap.ui.fl.variants.VariantManagement",multiple:false}},associations:{filter:{type:"sap.ui.mdc.IFilter",multiple:false}},events:{selectionDetailsActionPressed:{parameters:{action:{type:"sap.ui.core.Item"},itemContexts:{type:"sap.ui.model.Context"},level:{type:"sap.m.SelectionDetailsActionLevel"}}},innerChartLoadedData:{parameters:{innerChart:{type:"sap.ui.core.Control"}}}}},
renderer:c
});
F.call(k.prototype);
k.prototype.init=function(){this._oManagedObjectModel=new f(this);this.setModel(this._oManagedObjectModel,"$mdcChart");this._bNewP13n=true;a.prototype.init.apply(this,arguments);this._setupPropertyInfoStore("propertyInfo");this._setPropertyHelperClass(P);};
k.prototype.setP13nMode=function(m){var s=null;if(m&&m.length>=1){s=[];var K=m.reduce(function(e,n,I){e[n]=true;return e;},{});if(K.Item){s.push("Item");}if(K.Sort){s.push("Sort");}if(K.Filter){s.push("Filter");}if(K.Type){this._typeBtnActive=true;s.push("Type");}else{this._typeBtnActive=false;}}else{s=m;}this.setProperty("p13nMode",s,true);this._updateAdaptation(this.getP13nMode());return this;};
k.prototype._updateAdaptation=function(m){var r={controller:{}};var R={Item:g,Sort:S,Filter:h,Type:i};if(m&&m.length>0){m.forEach(function(s){var K=s;var o=R[s];if(o){r.controller[K]=o;}});this.getEngine().registerAdaptation(this,r);}};
k.prototype.isFilteringEnabled=function(){return this.getP13nMode().indexOf("Filter")>-1;};
k.prototype.setFilterConditions=function(m){this.setProperty("filterConditions",m,true);var p=this.getInbuiltFilter();if(p){p.setFilterConditions(m);}return this;};
k.prototype.getConditions=function(){return this.getInbuiltFilter()?this.getInbuiltFilter().getConditions():[];};
k.prototype._registerInnerFilter=function(o){o.attachSearch(function(){this._rebind();},this);};
k.prototype.applySettings=function(s,o){this._setPropertyHelperClass(P);a.prototype.applySettings.apply(this,arguments);this.initializedPromise=new Promise(function(r,e){this._fnResolveInitialized=r;this._fnRejectInitialized=e;}.bind(this));this.innerChartBoundPromise=new Promise(function(r,e){this._fnResolveInnerChartBound=r;this._fnRejectInnerChartBound=e;}.bind(this));var p=this._loadDelegate().then(function(e){return e;}).then(function(e){return this.initControlDelegate(e);}.bind(this)).catch(function(e){this._fnRejectInitialized(e);}.bind(this));var I=[p];if(this.isFilteringEnabled()){I.push(this.retrieveInbuiltFilter());}Promise.all(I).then(function(){this._initInnerControls();}.bind(this));};
k.prototype._initInnerControls=function(){this.getControlDelegate().initializeInnerChart(this).then(function(I){this.setBusyIndicatorDelay(0);this.getControlDelegate().createInitialChartContent(this);this._renderOverlay(true);if(this.getAutoBindOnInit()){this.setBusy(true);this._createContentfromPropertyInfos(I);}this.setAggregation("_innerChart",I);this._bInnerChartReady=true;this._fnResolveInitialized();this.invalidate();}.bind(this)).catch(function(e){this._fnRejectInitialized(e);}.bind(this));this._getToolbar().createToolbarContent(this);};
k.prototype._createContentfromPropertyInfos=function(I){this.getControlDelegate().checkAndUpdateMDCItems(this).then(function(){this.getControlDelegate().createInnerChartContent(this,this._innerChartDataLoadComplete.bind(this)).then(function(){this._createBreadcrumbs();this._oObserver=new j(this._propagateItemChangeToInnerChart.bind(this));this._oObserver.observe(this,{aggregations:["items"]});this._propagatePropertiesToInnerChart();this._fnResolveInnerChartBound();}.bind(this));}.bind(this));};
k.prototype.setHeight=function(H){try{this.getControlDelegate().adjustChartHeight(this);}catch(e){}this.setProperty("height",H);return this;};
k.prototype._createBreadcrumbs=function(){this._oBreadcrumbs=new B(this.getId()+"--breadcrumbs");this._oBreadcrumbs.updateDrillBreadcrumbs(this,this.getControlDelegate().getDrillableItems(this));this.setAggregation("_breadcrumbs",this._oBreadcrumbs);this._oBreadcrumbs.addEventDelegate({onAfterRendering:function(){this.getControlDelegate().adjustChartHeight(this);}.bind(this)});};
k.prototype._loadDelegate=function(){return new Promise(function(r){var n=[this.getDelegate().name];function o(e){r(e);}sap.ui.require(n,o);}.bind(this));};
k.prototype.isFilteringEnabled=function(){return this.getP13nMode().indexOf("Filter")>-1;};
k.prototype.getAdaptationUI=function(){return this.getControlDelegate().getAdaptionUI(this);};
k.prototype._propagateItemChangeToInnerChart=function(o){if(this._bIsDestroyed){return;}this.setBusy(true);switch(o.mutation){case"insert":var I;if(o.child&&o.child.getType()){I=this.getItems().filter(function(e){return e.getType()===o.child.getType();}).indexOf(o.child);}else{I=this.getItems().indexOf(o.child);}this.getControlDelegate().insertItemToInnerChart(this,o.child,I);break;case"remove":this.getControlDelegate().removeItemFromInnerChart(this,o.child);break;default:L.error("Unknown mutation on MDC Chart Item Aggregation. This will not sync to inner chart!");break;}this._rebind();this._oBreadcrumbs.updateDrillBreadcrumbs(this,this.getControlDelegate().getDrillableItems(this));};
k.prototype._rebind=function(){if(!this._bInnerChartReady){this.initialized().then(function(){this._rebind();}.bind(this));return;}this.setBusy(true);if(!this.getControlDelegate().getInnerChartBound(this)){this._createContentfromPropertyInfos();return;}var o=this.getControlDelegate()._getBindingInfo(this);this.getControlDelegate().updateBindingInfo(this,o);this.getControlDelegate().rebind(this,o);};
k.prototype._getToolbar=function(){if(this.getAggregation("_toolbar")){return this.getAggregation("_toolbar");}else{var t=new d(this.getId()+"--toolbar",{design:"Transparent"});this.setAggregation("_toolbar",t);return t;}};
k.prototype._updateToolbar=function(){if(this.getAggregation("_toolbar")){this.getAggregation("_toolbar").updateToolbar(this);}else{L.warning("Trying to uipdate Chart Toolbar, but toolbar is not yet initialized. This will not work!");}};
k.prototype._getInnerChart=function(){if(this._bInnerChartReady){return this.getControlDelegate().getInnerChart(this);}else{L.error("Trying to acces inner chart while inner chart is not yet initialized!");}};
k.prototype._addItems=function(){};
k.prototype.getCollectionModel=function(){var o=this.getBindingInfo("data");return o?this.getModel(o.model):null;};
k.prototype.initialized=function(){return this.initializedPromise;};
k.prototype.innerChartBound=function(){return this.innerChartBoundPromise;};
k.prototype.zoomIn=function(v){if(!v){v=10;}this.getControlDelegate().zoomIn(this,v);};
k.prototype.zoomOut=function(v){if(v){v=10;}this.getControlDelegate().zoomOut(this,v);};
k.prototype.getZoomState=function(){return this.getControlDelegate().getZoomState(this);};
k.prototype.getSelectionHandler=function(){return this.getControlDelegate().getInnerChartSelectionHandler(this);};
k.prototype.getChartTypeLayoutConfig=function(){return this.getControlDelegate().getChartTypeLayoutConfig();};
k.prototype.getAllowedRolesForKinds=function(){return this.getControlDelegate().getAllowedRolesForKinds();};
k.prototype.setLegendVisible=function(v){this.setProperty("legendVisible",v);try{this.getControlDelegate().setLegendVisible(this,v);}catch(e){L.info("Trying to set legend visiblity for Chart before delegate was initialized");}return this;};
k.prototype.setShowChartTooltip=function(v){this.setProperty("showChartTooltip",v);try{this.getControlDelegate().setChartTooltipVisibility(this,v);}catch(e){L.info("Trying to set tooltip visibility before delegate was initialized");}return this;};
k.prototype.destroy=function(){this._bIsDestroyed=true;a.prototype.destroy.apply(this,arguments);};
k.prototype._showDrillDown=function(o){if(!this.oDrillPopover){if(D){this.oDrillPopover=D.createDrillDownPopover(this);this.oDrillPopover.attachAfterClose(function(){delete this.oDrillPopover;}.bind(this));return D.showDrillDownPopover(this,o);}return new Promise(function(r,e){sap.ui.require(["sap/ui/mdc/chart/DrillStackHandler"],function(m){D=m;this.oDrillPopover=D.createDrillDownPopover(this);this.oDrillPopover.attachAfterClose(function(){delete this.oDrillPopover;}.bind(this));D.showDrillDownPopover(this,o).then(function(n){r(n);});}.bind(this));}.bind(this));}};
k.prototype._propagatePropertiesToInnerChart=function(){this.setLegendVisible(this.getLegendVisible());this.setShowChartTooltip(this.getShowChartTooltip());this.setChartType(this.getChartType());};
k.prototype.getChartTypeInfo=function(){var I;try{I=this.getControlDelegate().getChartTypeInfo(this);}catch(e){if(!I){I={icon:"sap-icon://vertical-bar-chart",text:"Selected Chart Type: Bar Chart"};}}return I;};
k.prototype.getAvailableChartTypes=function(){return this.getControlDelegate().getAvailableChartTypes(this);};
k.prototype.setChartType=function(s){this.setProperty("chartType",s);try{this.getControlDelegate().setChartType(this,s);}catch(e){L.info("Trying to set chart type for Chart before delegate was initialized");}return this;};
k.prototype.getManagedObjectModel=function(){return this._oManagedObjectModel;};
k.prototype._innerChartDataLoadComplete=function(m){this.setBusy(false);this._renderOverlay(false);this.getControlDelegate().requestToolbarUpdate(this);this.fireEvent("innerChartLoadedData ",{innerChart:this.getControlDelegate().getInnerChart(this)});};
k.prototype.getCurrentState=function(){var s={};var p=this.getP13nMode();if(p){if(p.indexOf("Item")>-1){s.items=this._getVisibleProperties();}if(p.indexOf("Sort")>-1){s.sorters=this._getSortedProperties();}if(p.indexOf("Filter")>-1){s.filter=this.getFilterConditions();}if(p.indexOf("Type")>-1){s.chartType=this.getChartType();}}return s;};
k.prototype._getVisibleProperties=function(){var p=[];this.getItems().forEach(function(I){p.push({name:I.getName(),role:I.getRole()});});return p;};
k.prototype._getSortedProperties=function(){return this.getSortConditions()?this.getSortConditions().sorters:[];};
k.prototype._getPropertyData=function(){if(!this.aFetchedProperties){this.aFetchedProperties=this.getControlDelegate().fetchProperties(this);}else{return this.aFetchedProperties;}};
k.prototype._getTypeBtnActive=function(){return!!this._typeBtnActive;};
k.prototype.setNoDataText=function(t){this.setProperty("noDataText",t);try{this.getControlDelegate().setNoDataText(this,t);}catch(e){}return this;};
k.prototype._onFiltersChanged=function(e){if(this._bInnerChartReady&&this.getControlDelegate()&&this.getControlDelegate().getInnerChartBound(this)&&e.getParameter("conditionsBased")){this._renderOverlay(true);}};
k.prototype.setVariant=function(o){this.setAggregation("variant",o);if(this.getAggregation("_toolbar")){this.getAggregation("_toolbar").addVariantManagement(o);}return this;};
k.prototype._renderOverlay=function(s){if(this.getControlDelegate().getInnerChart(this)){var $=this.getControlDelegate().getInnerChart(this).$(),e=$.find(".sapUiMdcChartOverlay");if(s&&e.length===0){e=q("<div>").addClass("sapUiOverlay sapUiMdcChartOverlay").css("z-index","1");$.append(e);}else if(!s){e.remove();}}};
k.prototype.addAction=function(o){if(o.getMetadata().getName()!=="sap.ui.mdc.actiontoolbar.ActionToolbarAction"){o=new A(o.getId()+"-action",{action:o});}return a.prototype.addAggregation.apply(this,["actions",o]);};
return k;});
sap.ui.predefine('sap/ui/mdc/ChartRenderer',['./library'],function(l){"use strict";var C={apiVersion:2};C.CSS_CLASS="sapUiMDCChart";
C.render=function(r,m){r.openStart("div",m);r.attr("id",m.getId());r.class(C.CSS_CLASS);r.style("height",m.getHeight());r.style("width",m.getWidth());r.style("min-height",m.getMinHeight());r.style("min-width",m.getMinWidth());r.openEnd();this.renderToolbar(r,m.getAggregation("_toolbar"));this.renderBreadcrumbs(r,m.getAggregation("_breadcrumbs"));this.renderInnerStructure(r,m.getAggregation("_innerChart"));r.close("div");};
C.renderNoDataStruct=function(r,n){if(n){}};
C.renderToolbar=function(r,t){if(t){r.openStart("div");r.class("sapUiFixFlexFixed");r.openEnd();r.renderControl(t);r.close("div");}};
C.renderBreadcrumbs=function(r,d){if(d){r.renderControl(d);}};
C.renderInnerChart=function(r,i){if(i){r.renderControl(i);}};
C.renderInnerStructure=function(r,i){r.renderControl(i);};
return C;},true);
sap.ui.predefine('sap/ui/mdc/Control',["sap/ui/core/Control","sap/ui/mdc/mixin/DelegateMixin","sap/ui/mdc/mixin/PropertyHelperMixin","sap/ui/mdc/mixin/AdaptationMixin"],function(C,D,P,A){"use strict";
var a=C.extend("sap.ui.mdc.Control",{
metadata:{library:"sap.ui.mdc",properties:{delegate:{type:"object",group:"Data"}}},
renderer:C.renderer
});
D.call(a.prototype);A.call(a.prototype);P.call(a.prototype);return a;});
sap.ui.predefine('sap/ui/mdc/Element',["sap/ui/core/Element","sap/ui/mdc/mixin/DelegateMixin","sap/ui/mdc/mixin/PropertyHelperMixin","sap/ui/mdc/mixin/AdaptationMixin"],function(C,D,P,A){"use strict";
var E=C.extend("sap.ui.mdc.Element",{
metadata:{library:"sap.ui.mdc",properties:{delegate:{type:"object",group:"Data"}}},
renderer:C.renderer
});
D.call(E.prototype);A.call(E.prototype);P.call(E.prototype);return E;});
sap.ui.predefine('sap/ui/mdc/Field',['sap/ui/base/ManagedObjectObserver','sap/ui/mdc/field/FieldBase','sap/ui/mdc/field/FieldBaseRenderer','sap/ui/mdc/enum/FieldDisplay','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/base/util/deepEqual','sap/base/util/merge','sap/ui/model/BindingMode','sap/ui/model/Context'],function(M,F,a,b,C,c,B,d,e,m,f,g){"use strict";
var h=F.extend("sap.ui.mdc.Field",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/field/Field.designtime",properties:{value:{type:"any",defaultValue:null},additionalValue:{type:"any",defaultValue:null}},events:{change:{parameters:{value:{type:"string"},valid:{type:"boolean"},promise:{type:"Promise"}}}},defaultProperty:"value"},
renderer:a
});
h.prototype.init=function(){this._vValue=null;this._vAdditionalValue=null;F.prototype.init.apply(this,arguments);this.setMaxConditions(1);this._oObserver.observe(this,{properties:["value","additionalValue"]});};
h.prototype.exit=function(){F.prototype.exit.apply(this,arguments);if(this._iConditionUpdateTimer){clearTimeout(this._iConditionUpdateTimer);delete this._iConditionUpdateTimer;delete this._bPendingConditionUpdate;}this._oBindingContext=undefined;};
h.prototype.bindProperty=function(N,s){if(N==="value"&&!s.formatter){s.targetType="raw";var D=this._oContentFactory.getDataType();if(s.type&&(!D||D.getMetadata().getName()!==s.type.getMetadata().getName()||!e(D.getFormatOptions(),s.type.getFormatOptions())||!e(D.getConstraints(),s.type.getConstraints())||D._bCreatedByOperator!==s.type._bCreatedByOperator)){this._oContentFactory.setDataType(s.type);if(s.type.isA("sap.ui.model.CompositeType")&&s.parts){var t=[];for(var i=0;i<s.parts.length;i++){t.push(s.parts[i].type);}this._oContentFactory.setCompositeTypes(t);}this._oContentFactory.updateConditionType();this.invalidate();}}F.prototype.bindProperty.apply(this,arguments);};
h.prototype._handleModelContextChange=function(E){F.prototype._handleModelContextChange.apply(this,arguments);var i=this.getBinding("value");if(i){var s=i.isA("sap.ui.model.CompositeBinding")?i.getBindings()[0].getContext():i.getContext();if(g.hasChanged(this._oBindingContext,s)){this._oBindingContext=s;this._oContentFactory.updateConditionType();if(this._bParseError||this.getFieldHelp()){if(this._oManagedObjectModel){this._oManagedObjectModel.checkUpdate(true,true);}this._bParseError=false;}}if(!this._oContentFactory.getDataType()){this._oContentFactory.setDataType(i.getType());this.invalidate();}}};
h.prototype._initDataType=function(){F.prototype._initDataType.apply(this,arguments);var i=this.getBinding("value");if(i){this._oContentFactory.setDataType(i.getType());}};
h.prototype.setProperty=function(P,v,s){if(P==="value"&&this._bParseError&&e(this.getValue(),this.validateProperty(P,v))){if(this._oManagedObjectModel){this._oManagedObjectModel.checkUpdate(true,true);}this._bParseError=false;}return F.prototype.setProperty.apply(this,arguments);};
h.prototype.setMaxConditions=function(i){if(i!==1){throw new Error("Only one condition allowed for Field "+this);}return this.setProperty("maxConditions",i,true);};
h.prototype._observeChanges=function(i){F.prototype._observeChanges.apply(this,arguments);if(i.name==="value"){var v=n.call(this,i.current,i.old);if(this._vAdditionalValue!==null&&r.call(this)&&!o.call(this,v,this._vValue,true)){this._vAdditionalValue=this.getAdditionalValue();}this._vValue=v;p.call(this,i.current);k.call(this);}if(i.name==="additionalValue"){this._vAdditionalValue=i.current;k.call(this);}if(i.name==="conditions"){if(this._getContent().length<=1){q.call(this,i.current);}}};
function _(){return this._vValue;}
function j(){return this._vAdditionalValue;}
function k(){if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){if(!this.bIsDestroyed){k.call(this);}}.bind(this));return;}if(this.getDisplay()===b.Value){l.call(this,_.call(this),j.call(this));}else if(!this._iConditionUpdateTimer){this._iConditionUpdateTimer=setTimeout(function(){l.call(this,_.call(this),j.call(this));this._iConditionUpdateTimer=undefined;this._bPendingConditionUpdate=false;}.bind(this),0);this._bPendingConditionUpdate=true;}}
function l(v,A){var i=this.getConditions();if(this._checkValueInitial(v)&&!A){if(i.length>0){this.setConditions([]);}}else{var O=i[0]&&i[0].values[0];var s=i[0]&&i[0].values[1]?i[0].values[1]:null;if(!i[0]||i[0].operator!=="EQ"||!o.call(this,O,v)||s!==A){var t=C.createItemCondition(v,A);t.validated=d.Validated;this.setConditions([t]);}}}
function n(v,O){var D=this._oContentFactory.getDataType()?this._oContentFactory.getDataType().getMetadata().getName():this.getDataType();if(v&&O&&(D==="sap.ui.model.odata.type.Unit"||D==="sap.ui.model.odata.type.Currency")&&!v[2]&&O[2]!==undefined){v=m([],v);v[2]=O[2];if(this._bPendingChange){var i=this.getConditions()[0];if(i){if(v[0]===O[0]&&v[0]!==i.values[0][0]){v[0]=i.values[0][0];}if(v[1]===O[1]&&v[1]!==i.values[0][1]){v[1]=i.values[0][1];}}}}return v;}
function o(v,V,u){var E=v===V;var D=this._oContentFactory.getDataType()?this._oContentFactory.getDataType().getMetadata().getName():this.getDataType();if(!E&&this.getTypeUtil().getBaseType(D)===B.Unit&&Array.isArray(v)&&Array.isArray(V)){var N=v[0];var U=v[1];var i=v.length>=3?v[2]:null;var s=V[0];var t=V[1];var w=V.length>=3?V[2]:null;if(N===s&&U===t&&(((this._bUnitSet||u)&&(!i||!w))||e(i,w))){E=true;}if((i||w)&&!u){this._bUnitSet=true;}}return E;}
function p(v){if(!this._bTypeInitialized){if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){if(!this.bIsDestroyed){p.call(this,v);}}.bind(this));return;}var i=this.getBinding("value");var D=i?i.getType():this._oContentFactory.getDataType();this._oTypeInitialization=this.getControlDelegate().initializeTypeFromBinding(this.getPayload(),D,v);this._bTypeInitialized=this._oTypeInitialization.bTypeInitialized;if(this._bTypeInitialized&&this._oContentFactory.getUnitOriginalType()){this.getControlDelegate().initializeInternalUnitType(this.getPayload(),this._oContentFactory.getDataType(),this._oTypeInitialization);this.getControlDelegate().initializeInternalUnitType(this.getPayload(),this._oContentFactory.getUnitType(),this._oTypeInitialization);}}}
h.prototype._fireChange=function(i,v,w,P){var V;if(i){if(v){V=this._getResultForPromise(i);}else{V=w;}}if(this._getContent().length>1){if(i){q.call(this,this.getConditions());}else if(P){P=P.then(function(R){q.call(this,this.getConditions());return R;}.bind(this));}}this.fireChange({value:V,valid:v,promise:P});};
h.prototype._getResultForPromise=function(i){var v;if(i.length===0&&this._oContentFactory.getDataType()){v=this._oContentFactory.getDataType().parseValue("","string",[]);}else if(i.length===1){v=i[0].values[0];}return v;};
function q(i){if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){if(!this.bIsDestroyed){q.call(this,i);}}.bind(this));return;}var v=null;var A=null;var O=this.getValue();var s=this.getAdditionalValue();if(i.length===0&&O===null&&s===null){return;}v=this._getResultForPromise(i);if(i.length===0&&!s){A=s;}else if(i.length===1&&i[0].values.length>1){A=i[0].values[1];}this._vValue=v;this._vAdditionalValue=A;if(!o.call(this,v,O,true)){this.setProperty("value",v,true);}if(A!==s&&!r.call(this)){this.setProperty("additionalValue",A,true);}}
h.prototype._getOperators=function(){return["EQ"];};
function r(){var i=this.getBinding("additionalValue");if(i&&i.getBindingMode()===f.OneWay){return true;}return false;}
h.prototype._checkCreateInternalContent=function(){if(!this.bIsDestroyed&&this._oContentFactory.getDataType()&&!this._isPropertyInitial("editMode")&&!this._isPropertyInitial("multipleLines")){F.prototype._checkCreateInternalContent.apply(this,arguments);}};
return h;});
sap.ui.predefine('sap/ui/mdc/FilterField',['sap/ui/mdc/field/FieldBase','sap/ui/mdc/field/FieldBaseRenderer','sap/ui/mdc/enum/FieldDisplay','sap/base/util/merge','sap/base/util/deepEqual'],function(F,a,b,m,d){"use strict";
var c=F.extend("sap.ui.mdc.FilterField",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/field/FilterField.designtime",properties:{operators:{type:"string[]",group:"Data",defaultValue:[]},defaultOperator:{type:"string",group:"Data",defaultValue:null}},events:{change:{parameters:{value:{type:"string"},valid:{type:"boolean"},conditions:{type:"object[]"},promise:{type:"boolean"}}}}},
renderer:a
});
c.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver.observe(this,{properties:["value","operators"]});};
c.prototype.exit=function(){F.prototype.exit.apply(this,arguments);};
c.prototype.setProperty=function(p,v,s){if(p==="conditions"&&this._bParseError&&d(this.getConditions(),this.validateProperty(p,v))){if(this._oContentFactory.getBoundProperty()){if(this._oManagedObjectModel){this._oManagedObjectModel.checkUpdate(true,true);}}else{var C=this._getContent()[0];if(C&&C.setValue){C.setValue();}this._removeUIMessage();}this._bParseError=false;}return F.prototype.setProperty.apply(this,arguments);};
c.prototype._observeChanges=function(C){F.prototype._observeChanges.apply(this,arguments);if(C.name==="operators"){this._updateInternalContent();}};
c.prototype._fireChange=function(C,v,w,p){var V;if(C){if(v){if(C.length==1){V=C[0].values[0];}}else{V=w;}}this.fireChange({value:V,valid:v,conditions:m([],C),promise:p});};
c.prototype._getOperators=function(){var o=this.getOperators();if(o.length===0){o=F.prototype._getOperators.apply(this,arguments);}return o;};
c.prototype.setOperators=function(o){var O=[];if(!Array.isArray(o)){o=o.split(",");}o.forEach(function(e){if(typeof e==="string"){O.push(e);}else{O.push(e.name);}});this.setProperty("operators",O);return this;};
c.prototype.addOperator=function(o){var O=this._getOperators();var s=o;if(typeof o!=="string"){s=o.name;}if(O.indexOf(s)<0){O.push(s);this.setOperators(O);}return this;};
c.prototype.addOperators=function(o){if(!Array.isArray(o)){o=[o];}o.forEach(function(O){this.addOperator(O);}.bind(this));return this;};
c.prototype.removeOperator=function(o){var O=this.getOperators();var s=o;if(typeof o!=="string"){s=o.name;}if(O.indexOf(s)>-1){O.splice(O.indexOf(s),1);this.setOperators(O);}};
c.prototype.removeOperators=function(o){if(!Array.isArray(o)){o=[o];}o.forEach(function(O){this.removeOperator(O);}.bind(this));};
c.prototype.removeAllOperators=function(){this.setOperators([]);};
c.prototype.setDefaultOperator=function(o){var n=o;if(o&&typeof o!=="string"){n=o.name;}this.setProperty("defaultOperator",n);return this;};
c.prototype._checkCreateInternalContent=function(){if(!this.bIsDestroyed&&!this.isPropertyInitial("dataType")){var i=this.getFieldHelp();var f=sap.ui.getCore().byId(i);var B=this.getBindingInfo("conditions");var o=this.getBinding("conditions");if(this.getDisplay()!==b.Value&&i&&(!f||(B&&!o))){return;}this._oContentFactory.retrieveDataType();F.prototype._checkCreateInternalContent.apply(this,arguments);}};
c.prototype._handleModelContextChange=function(e){F.prototype._handleModelContextChange.apply(this,arguments);if(this._getContent().length===0){this._triggerCheckCreateInternalContent();}};
return c;});
sap.ui.predefine('sap/ui/mdc/MultiValueField',['sap/ui/mdc/library','sap/ui/mdc/field/FieldBase','sap/ui/mdc/field/FieldBaseRenderer','sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/ConditionValidated'],function(l,F,a,C,b){"use strict";
var c=F.extend("sap.ui.mdc.MultiValueField",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/field/MultiValueField.designtime",properties:{delegate:{type:"object",defaultValue:{name:"sap/ui/mdc/field/MultiValueFieldDelegate",payload:{}}}},aggregations:{items:{type:"sap.ui.mdc.field.MultiValueFieldItem",multiple:true,singularName:"item"}},defaultAggregation:"items",events:{change:{parameters:{items:{type:"sap.ui.mdc.field.MultiValueFieldItem[]"},valid:{type:"boolean"},promise:{type:"Promise"}}}}},
renderer:a
});
c.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver.observe(this,{aggregations:["items"]});};
c.prototype.exit=function(){F.prototype.exit.apply(this,arguments);if(this._iConditionUpdateTimer){clearTimeout(this._iConditionUpdateTimer);delete this._iConditionUpdateTimer;}};
c.prototype.bindAggregation=function(n,B){if(n==="items"&&!B.formatter){_.call(this,B);}F.prototype.bindAggregation.apply(this,arguments);};
function _(B){if(B.template&&B.template.mBindingInfos.key){var k=B.template.mBindingInfos.key;if(k.type&&(!this._oDataType||this._oDataType.getMetadata().getName()!==k.type.getMetadata().getName())){this._oContentFactory.setDataType(k.type);this.invalidate();}}}
c.prototype._handleModelContextChange=function(E){F.prototype._handleModelContextChange.apply(this,arguments);if(!this._oDataType){var B=this.getBinding("items");if(B){_.call(this,B);}}};
c.prototype._initDataType=function(){F.prototype._initDataType.apply(this,arguments);var B=this.getBindingInfo("items");if(B){_.call(this,B);}};
c.prototype.setMaxConditions=function(m){if(m===1){throw new Error("Multiple Conditions needed on MultiValueField "+this);}return this.setProperty("maxConditions",m,true);};
c.prototype._observeChanges=function(o){F.prototype._observeChanges.apply(this,arguments);if(o.name==="items"){d.call(this,o.child,o.mutation);}if(o.name==="key"){f.call(this);}if(o.name==="description"){f.call(this);}if(o.name==="conditions"){e.call(this,o.current);}};
function d(i,m){if(m==="insert"){this._oObserver.observe(i,{properties:true});}else{this._oObserver.unobserve(i);}if(!this._bMyItemUpdate){f.call(this);}}
function e(h){if(this._bConditionsUpdateFromItems){return;}if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){if(!this.bIsDestroyed){e.call(this.getConditions());}}.bind(this));return;}this.getControlDelegate().updateItems(this.getPayload(),h,this);}
function f(){if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){if(!this.bIsDestroyed){f.call(this);}}.bind(this));return;}if(!this._iConditionUpdateTimer){this._iConditionUpdateTimer=setTimeout(function(){g.call(this);this._iConditionUpdateTimer=undefined;}.bind(this),0);}}
function g(){var I=this.getItems();var h=[];for(var i=0;i<I.length;i++){var o=I[i];var j=C.createItemCondition(o.getKey(),o.getDescription());j.validated=b.Validated;h.push(j);}this._bConditionsUpdateFromItems=true;this.setConditions(h);this._bConditionsUpdateFromItems=false;}
c.prototype._fireChange=function(h,v,w,p){this.fireChange({items:this.getItems(),valid:v,promise:p});};
c.prototype._getResultForPromise=function(h){return this.getItems();};
c.prototype._getOperators=function(){return["EQ"];};
c.prototype._checkCreateInternalContent=function(){if(!this.bIsDestroyed&&this._oContentFactory.getDataType()&&!this._isPropertyInitial("editMode")){F.prototype._checkCreateInternalContent.apply(this,arguments);}};
return c;});
sap.ui.predefine('sap/ui/mdc/actiontoolbar/ActionToolbarActionRenderer',[],function(){"use strict";var A={apiVersion:2};
A.render=function(r,a){var m={role:"form"};r.openStart("div",a);r.accessibilityState(a,m);r.openEnd();r.renderControl(a.getAction());r.close("div");};
return A;},true);
sap.ui.predefine('sap/ui/mdc/chart/ChartSelectionDetails',["sap/ui/core/Core","sap/ui/mdc/library","sap/m/SelectionDetails","sap/m/SelectionDetailsItem","sap/m/SelectionDetailsItemLine","sap/m/SelectionDetailsRenderer","./SelectionDetailsActions"],function(C,a,S,b,c,d,e){"use strict";
var f=S.extend("sap.ui.mdc.chart.ChartSelectionDetails",{
metadata:{library:"sap.ui.mdc",interfaces:[],defaultAggregation:"",properties:{},aggregations:{},associations:{},events:{}},
renderer:d
});
f.prototype.init=function(){S.prototype.init.apply(this,arguments);this._registerTemplate();this._attachEvents();};
f.prototype._registerTemplate=function(){this.registerSelectionDetailsItemFactory([],function(D,g,o,h){var l=[];for(var i=0;i<D.length;i++){l.push(new c({label:D[i].label,value:this._formatValue(D[i].value),unit:D[i].unit}));}return new b({enableNav:this._hasNavigationTargets(g),lines:l}).setBindingContext(o);}.bind(this));};
f.prototype._formatValue=function(v){if(v){return v instanceof Object?v:v.toString();}else{return v;}};
f.prototype._hasNavigationTargets=function(D){return false;};
f.prototype._attachEvents=function(){this.attachActionPress(function(E){var m=this.getParent().getParent();var i=[];E.getParameter("items").forEach(function(I){i.push(I.getBindingContext());});m.fireSelectionDetailsActionPressed({id:E.getParameter("id"),action:E.getParameter("action"),itemContexts:i,level:E.getParameter("level")});});};
return f;});
sap.ui.predefine('sap/ui/mdc/chart/ChartToolbar',["sap/ui/core/Core","sap/ui/mdc/library","sap/ui/mdc/ActionToolbar","sap/m/OverflowToolbarRenderer","sap/m/OverflowToolbarButton","sap/m/OverflowToolbarToggleButton","sap/m/Title","sap/ui/mdc/library","sap/ui/mdc/chart/ChartTypeButton","sap/ui/mdc/chart/ChartSettings","./ChartSelectionDetails","sap/m/ToolbarSeparator"],function(C,a,A,O,b,c,T,M,d,e,f,g){"use strict";
var h=A.extend("sap.ui.mdc.chart.ChartToolbar",{
metadata:{library:"sap.ui.mdc",interfaces:[],defaultAggregation:"",properties:{},aggregations:{},associations:{},events:{}},
renderer:O
});
var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");
h.prototype.init=function(){A.prototype.init.apply(this,arguments);};
h.prototype.createToolbarContent=function(m){this._chartInternalButtonsToEnable=[];var t=new T(m.getId()+"-title",{text:m.getHeader()});this.addBegin(t);if(m.getVariant()){this.addVariantManagement(m.getVariant());}this._oChartSelectionDetails=new f(m.getId()+"-selectionDetails",{});this._oChartSelectionDetails.attachBeforeOpen(function(E){this._updateSelectionDetailsActions(m);}.bind(this));this.addEnd(this._oChartSelectionDetails);var p=m.getP13nMode()||[];if(p.indexOf("Item")>-1&&(!m.getIgnoreToolbarActions().length||m.getIgnoreToolbarActions().indexOf(M.ChartToolbarActionType.DrillDownUp)<0)){this._oDrillDownBtn=new b(m.getId()+"-drillDown",{icon:"sap-icon://drill-down",tooltip:i.getText("chart.CHART_DRILLDOWN_TITLE"),text:i.getText("chart.CHART_DRILLDOWN_TITLE"),enabled:false,press:function(E){m._showDrillDown(this._oDrillDownBtn);}.bind(this)});this.addEnd(this._oDrillDownBtn);this._chartInternalButtonsToEnable.push(this._oDrillDownBtn);}if(!m.getIgnoreToolbarActions().length||m.getIgnoreToolbarActions().indexOf(M.ChartToolbarActionType.Legend)<0){this._oLegendBtn=new c(m.getId()+"btnLegend",{type:"Transparent",text:i.getText("chart.LEGENDBTN_TEXT"),tooltip:i.getText("chart.LEGENDBTN_TOOLTIP"),icon:"sap-icon://legend",pressed:"{$mdcChart>/legendVisible}",enabled:false});this.addEnd(this._oLegendBtn);this._chartInternalButtonsToEnable.push(this._oLegendBtn);}if(!m.getIgnoreToolbarActions().length||m.getIgnoreToolbarActions().indexOf(M.ChartToolbarActionType.ZoomInOut)){this.oZoomInButton=new b(m.getId()+"btnZoomIn",{icon:"sap-icon://zoom-in",tooltip:i.getText("chart.TOOLBAR_ZOOM_IN"),text:i.getText("chart.TOOLBAR_ZOOM_IN"),enabled:false,press:function j(o){m.zoomIn();this.toggleZoomButtons(m);}.bind(this)});this.oZoomOutButton=new b(m.getId()+"btnZoomOut",{icon:"sap-icon://zoom-out",tooltip:i.getText("chart.TOOLBAR_ZOOM_OUT"),text:i.getText("chart.TOOLBAR_ZOOM_OUT"),enabled:false,press:function j(o){m.zoomOut();this.toggleZoomButtons(m);}.bind(this)});this.addEnd(this.oZoomInButton);this.addEnd(this.oZoomOutButton);}if(p.indexOf("Sort")>-1||p.indexOf("Item")>-1){this._oSettingsBtn=new b(m.getId()+"-chart_settings",{icon:"sap-icon://action-settings",tooltip:i.getText('chart.PERSONALIZATION_DIALOG_TITLE'),text:i.getText('chart.PERSONALIZATION_DIALOG_TITLE'),enabled:false,press:function(E){var p=m.getP13nMode();var I=p.indexOf("Type");if(I>-1){p.splice(I,1);}if(m.isPropertyHelperFinal()){m.getEngine().uimanager.show(m,p);}else{m.finalizePropertyHelper().then(function(){m.getEngine().uimanager.show(m,p);});}}});this.addEnd(this._oSettingsBtn);this._chartInternalButtonsToEnable.push(this._oSettingsBtn);}if(m._getTypeBtnActive()){this._oChartTypeBtn=new d(m);this._oChartTypeBtn.setEnabled(false);this.addEnd(this._oChartTypeBtn);this._chartInternalButtonsToEnable.push(this._oChartTypeBtn);}};
h.prototype.addVariantManagement=function(v){if(v){if(this._oVariantManagement){this.removeBetween(this._oVariantManagement);}this._oVariantManagement=v;this.addBetween(this._oVariantManagement);}};
h.prototype.toggleZoomButtons=function(m){var z=this._getZoomEnablement(m);if(z.enabled){this.oZoomInButton.setEnabled(z.enabledZoomIn);this.oZoomOutButton.setEnabled(z.enabledZoomOut);}else{this.oZoomInButton.setEnabled(false);this.oZoomOutButton.setEnabled(false);}};
h.prototype.updateToolbar=function(m){this.toggleZoomButtons(m);if(!this._toolbarInitialUpdated){this.setEnabled(true);this._chartInternalButtonsToEnable.forEach(function(B){B.setEnabled(true);});this._toolbarInitialUpdated=true;}var s=m.getSelectionHandler();if(s){this._oChartSelectionDetails.attachSelectionHandler(s.eventId,s.listener);}};
h.prototype._getZoomEnablement=function(m){var z;try{z=m.getZoomState();}catch(j){z={enabled:false};}if(z&&z.hasOwnProperty("currentZoomLevel")&&z.currentZoomLevel!=null&&z.enabled){var t={enabled:true};t.enabledZoomOut=z.currentZoomLevel>0;t.enabledZoomIn=z.currentZoomLevel<1;return t;}else{return{enabled:false};}};
h.prototype._updateSelectionDetailsActions=function(m){var s=m.getSelectionDetailsActions(),o;if(s){var S=this._oChartSelectionDetails.getItems();S.forEach(function(I){var k=s.getDetailsItemActions();k.forEach(function(l){o=l.clone();I.addAction(o);});});var D=s.getDetailsActions();this._oChartSelectionDetails.removeAllActions();D.forEach(function(k){o=k.clone();this._oChartSelectionDetails.addAction(o);}.bind(this));var j=s.getActionGroups();this._oChartSelectionDetails.removeAllActionGroups();j.forEach(function(k){o=k.clone();this._oChartSelectionDetails.addActionGroup(o);}.bind(this));}};
return h;});
sap.ui.predefine('sap/ui/mdc/chart/DrillBreadcrumbs',["sap/m/Breadcrumbs","sap/m/Link"],function(B,L){"use strict";
var D=B.extend("sap/m/Breadcrumbs",{});
D.prototype.init=function(){B.prototype.init.apply(this,arguments);this.addStyleClass("sapUiMDCChartBreadcrumbs");};
D.prototype.updateDrillBreadcrumbs=function(m,d){var n=[];if(d){d.reverse();if(d.length>0){d.forEach(function(b,e,f){this.setVisible(true);var s=b.getLabel();var g=b.getName();if(e==0){this.setCurrentLocationText(s);}else{var C={dimensionKey:g,dimensionText:s};var o=this._createCrumb(m,C);n.push(o);}},this);}else{this.setVisible(false);}}var c=this.getLinks();n.reverse();var a=false;if(c.length!==n.length){a=true;}else{for(var i=0;i<n.length;i++){if(n[i].getText()!=c[i].getText()){a=true;break;}}}if(a){if(this.getLinks()){this.destroyLinks();}for(var i=0;i<n.length;i++){this.addLink(n[i]);}}return this;};
D.prototype._createCrumb=function(m,c){var C=new L({text:c.dimensionText,press:function b(o){var l=this.indexOfLink(o.getSource());var a=m.getControlDelegate().getDrillableItems(m),d=a.slice(l+1);var f=d.map(function(e){return{name:e.getName(),visible:false};});m.getEngine().createChanges({control:m,key:"Item",state:f});}.bind(this)});C.data("key",c.dimensionKey);return C;};
return D;});
sap.ui.predefine('sap/ui/mdc/chart/DrillStackHandler',["sap/ui/core/Core","sap/m/ResponsivePopover","sap/m/List","sap/m/Bar","sap/m/StandardListItem","sap/ui/core/InvisibleText","sap/m/library","sap/ui/Device","sap/base/Log"],function(C,R,L,B,S,I,M,D,a){"use strict";var P=M.PlacementType;var b=M.ListType;var c=M.ListMode;
function _(m){var e=m.getControlDelegate().getDrillStack(m);var s=[];e.forEach(function(o){o.dimension.forEach(function(f){if(f!=null&&f!=""&&s.indexOf(f)==-1){s.push(f);}});});return s;}
var d=function(){};
d.createDrillDownPopover=function(m){var s=new B();var p=new R({id:m.getId()+"-drilldownPopover",contentWidth:"25rem",contentHeight:"20rem",placement:P.Bottom,subHeader:s});var l=new L({mode:c.SingleSelectMaster,selectionChange:function(o){var e=o.getParameter("listItem");if(e){m.getEngine().createChanges({control:m,key:"Item",state:[{name:e.data("dim").dim.name,position:m.getItems().length}]});}p.close();}});p.attachAfterClose(function(){p.destroy();});var r=C.getLibraryResourceBundle("sap.ui.mdc");if(D.system.desktop){var i=new I({text:r.getText("chart.CHART_DRILLDOWN_TITLE")});p.setShowHeader(false);p.addContent(i);p.addAriaLabelledBy(i);}else{p.setTitle(r.getText("chart.CHART_DRILLDOWN_TITLE"));}p.addContent(l);m._oDrillDownPopover=p;return p;};
d.showDrillDownPopover=function(m,o){var p=m.getControlDelegate().getSortedDimensions(m);return p.then(function(s){var e=m._oDrillDownPopover;var f,g,l;var F=e.getContent().filter(function(E){return E.getMetadata().getClass()==L;});var h=F.length>0?F[0]:null;if(!h){a.error("MDC Chart: Could not determine list to show drilldown. This should not happen. Did the application modify the drill-down popover?");return;}h.destroyItems();f=_(m);for(var i=0;i<s.length;i++){g=s[i];if(f.indexOf(g.name)>-1){continue;}l=new S({title:g.label,type:b.Active});l.data("dim",{dim:g});h.addItem(l);}return new Promise(function(r,j){e.attachEventOnce("afterOpen",function n(k){r(e);});e.openBy(o);});});};
return d;});
sap.ui.predefine('sap/ui/mdc/condition/Condition',['sap/base/Log','sap/ui/mdc/enum/ConditionValidated'],function(L,C){"use strict";var a={createItemCondition:function(k,d,i,o,p){var v=C.NotValidated;var V=[k,d];if(d===null||d===undefined){V.pop();}else{v=C.Validated;}return this.createCondition("EQ",V,i,o,v,p);},createCondition:function(o,v,i,O,V,p){var c={operator:o,values:v,isEmpty:null,validated:V};if(i){c.inParameters=i;}if(O){c.outParameters=O;}if(p){c.payload=p;}return c;},_removeEmptyConditions:function(c){for(var i=c.length-1;i>-1;i--){if(c[i].isEmpty){c.splice(parseInt(i),1);}}return c;},_removeInitialFlags:function(c){for(var i=c.length-1;i>-1;i--){if(c[i].isInitial){delete c[i].isInitial;}}return c;}};return a;},true);
sap.ui.predefine('sap/ui/mdc/condition/ConditionConverter',['sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/util/DateUtil','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/base/util/merge'],function(C,B,a,D,F,O,m){"use strict";var d="yyyy-MM-ddTHH:mm:ssZ";var s="yyyy-MM-dd";var t="HH:mm:ss";var b={toString:function(o,T,h){var i=F.getOperator(o.operator);var v=c(o.values,_(h,T,i)||T,i);var I;var j;var p;if(o.inParameters){I=m({},o.inParameters);}if(o.outParameters){j=m({},o.outParameters);}if(o.payload){p=m({},o.payload);}var r=C.createCondition(o.operator,v,I,j,o.validated,p);return r;},toType:function(o,T,h){var i=F.getOperator(o.operator);var v=f(o.values,_(h,T,i)||T);var I;var j;var p;if(o.inParameters){I=m({},o.inParameters);}if(o.outParameters){j=m({},o.outParameters);}if(o.payload){p=m({},o.payload);}var r=C.createCondition(o.operator,v,I,j,o.validated,p);if(r.validated!==a.Validated&&i.validateInput){i.checkValidated(r);}return r;},createExternalCondition:function(o,v,V,p,T,h){var i=F.getOperator(o);var j=h.getTypeConfig(T);v=c(v,_(h,j,i)||j,i);var k=C.createCondition(o,v,undefined,undefined,V);return k;},getInternalValues:function(o,T,h){var i=F.getOperator(o.operator);var j=h.getTypeConfig(T);var v=f(o.values,_(h,j,i)||j);return v;}};
function _(T,o,h){if(h&&h.valueTypes[0]&&(h.valueTypes[0]!==O.ValueType.Self&&h.valueTypes[0]!==O.ValueType.Static)){return T.getTypeConfig(h._createLocalType(h.valueTypes[0],o&&o.typeInstance));}}
function c(v,T,o){var r=[];for(var i=0;i<v.length;i++){if(!o||(o.valueTypes[i]&&o.valueTypes[i]!==O.ValueType.Static)){var V=v[i];r.push(e(V,T));}}return r;}
function e(v,T){var h=T.baseType;var o=T.typeInstance;switch(h){case B.DateTime:return D.typeToString(v,o,d);case B.Date:return D.typeToString(v,o,s);case B.Time:return D.typeToString(v,o,t);case B.Boolean:return v;case B.Numeric:if(typeof v!=="string"&&(o.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||o.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return v.toString();}return v;default:return o.formatValue(v,"string");}}
function f(v,T){var r=[];for(var i=0;i<v.length;i++){var V=v[i];r.push(g(V,T));}return r;}
function g(v,T){var h=T.baseType;var o=T.typeInstance;switch(h){case B.DateTime:return D.stringToType(v,o,d);case B.Date:return D.stringToType(v,o,s);case B.Time:return D.stringToType(v,o,t);case B.Boolean:return v;case B.Numeric:if(typeof v!=="string"&&(o.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||o.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return v.toString();}return v;default:return o.parseValue(v,"string");}}
return b;},true);
sap.ui.predefine('sap/ui/mdc/condition/ConditionModel',['sap/ui/mdc/condition/ConditionModelPropertyBinding','sap/ui/model/json/JSONModel','sap/ui/model/Filter','sap/ui/model/ChangeReason','sap/ui/mdc/condition/FilterOperatorUtil','sap/base/util/merge','sap/base/util/deepEqual','sap/base/Log','sap/ui/mdc/condition/Condition',"sap/ui/mdc/condition/FilterConverter"],function(C,J,F,b,c,m,d,L,e,f){"use strict";
var g=J.extend("sap.ui.mdc.condition.ConditionModel",{constructor:function(){J.apply(this,arguments);this.setSizeLimit(1000);if(!this.getProperty("/conditions")){this.setProperty("/conditions",{});}if(!this.getProperty("/fieldPath")){this.setProperty("/fieldPath",{});}}});
g.prototype.bindProperty=function(p,o,P){var E=p;if(p.startsWith("/conditions/")){var s=p.slice(12);this._getFieldPathProperty(s);s=h.call(this,s);E="/conditions/"+s;}var B=new C(this,E,o,P);B._sOriginapPath=p;return B;};
g.prototype.getContext=function(p){if(p.startsWith("/conditions/")){var s=p.slice(12);s=h.call(this,s);p="/conditions/"+s;}return J.prototype.getContext.apply(this,[p]);};
g.prototype.bindList=function(p,o,s,a,P){var B=J.prototype.bindList.apply(this,arguments);B.enableExtendedChangeDetection(true);return B;};
g.prototype.destroy=function(){J.prototype.destroy.apply(this,arguments);};
g.prototype.clone=function(s){var o=new g();o._sName=this._sName+"_clone";var a={};if(typeof s==="string"){var j=this.getConditions(s);for(var i=0;i<j.length;i++){var k=j[i];var M=h.call(this,s);if(!a[M]){a[M]=[];}a[M].push(m({},k));}}else{a=m({},this.getAllConditions());}o.setConditions(a);return o;};
g.prototype.merge=function(s,S,a){this.removeAllConditions(s);var o=m({},S.getAllConditions());for(var M in o){if(!(typeof a==="string")||M===a){var j=e._removeEmptyConditions(o[M]);for(var i=0;i<j.length;i++){var k=j[i];this.addCondition(M,k);}}}this.checkUpdate(true,true);};
g.prototype.getConditions=function(s){return _.call(this,s);};
function _(s,a){var o=this.getProperty("/conditions");var i;if(typeof s=="string"){s=h.call(this,s);if(!o[s]&&a){o[s]=[];}i=o[s]||[];}else{throw new Error("ConditionModel","getConditions without FieldPath is not supported!");}return i;}
g.prototype.getAllConditions=function(v){var o=this.getProperty("/conditions");var r={};for(var M in o){var a=this.getProperty("/fieldPath");var i=a[M];var s=i?i.fieldPath:M;if(v&&[].concat(v).indexOf(s)===-1){continue;}r[s]=m([],o[M]);}return r;};
g.prototype.indexOf=function(s,o,n){if(typeof s!=="string"){throw new Error("sFieldPath must be a string "+this);}var a=this.getConditions(s);var A=n?[n(o),a.map(n)]:[o,a];var i=c.indexOfCondition.apply(c,A);return i;};
g.prototype.exist=function(o,s){if(typeof s==="string"){return this.indexOf(s,o)>=0;}else{throw new Error("sFieldPath must be provided "+this);}};
g.prototype.setConditions=function(o){var i=0;var a;this.setProperty("/conditions",{},undefined,true);if(Array.isArray(o)){throw new Error("setConditions with an Array of condition is not supported! "+this);}else{this._bNoSingleEvent=true;for(var M in o){this._getFieldPathProperty(M);for(i=0;i<o[M].length;i++){a=o[M][i];this.insertCondition(M,-1,a,true);}this.firePropertyChange({reason:b.Add,path:"/conditions/"+M,context:undefined,value:o[M]});}this.checkUpdate(true,true);this._bNoSingleEvent=false;}return this;};
g.prototype.addCondition=function(s,o,a){if(typeof s!=="string"){throw new Error("sFieldPath must be a string "+this);}return this.insertCondition(s,-1,o,a);};
g.prototype.insertCondition=function(s,I,o,a){if(typeof s!=="string"){throw new Error("sFieldPath must be a string "+this);}if(!o){return this;}var j;c.checkConditionsEmpty(o);c.updateConditionsValues(o);this._getFieldPathProperty(s);if(!a){var i=this.indexOf(s,o);if(i>=0){return this;}}j=_.call(this,s,true);if(I==-1){j.push(o);}else{j.splice(I,0,o);}if(!this._bNoSingleEvent){this.checkUpdate(true,true);this.firePropertyChange({reason:b.Add,path:"/conditions/"+s,context:undefined,value:j});}return this;};
g.prototype.createItemCondition=function(s,k,D){L.error("ConditionModel","createItemCondition is deprecated");return e.createItemCondition(k,D);};
g.prototype.createCondition=function(s,o,v){L.error("ConditionModel","createCondition is deprecated");return e.createCondition(o,v);};
g.prototype.removeCondition=function(s,v){if(typeof s!=="string"){throw new Error("sFieldPath must be a string "+this);}var i=-1;if(typeof v==="object"){i=this.indexOf(s,v);}else if(typeof v==="number"){i=v;}if(i>=0){var a=this.getConditions(s);if(a.length>i){a.splice(i,1);this.checkUpdate(true,true);this.firePropertyChange({reason:b.Remove,path:"/conditions/"+s,context:undefined,value:a});return true;}}return false;};
g.prototype.removeAllConditions=function(s){var o=this.getProperty("/conditions");if(typeof s==="string"){var E=h.call(this,s);if(o[E]&&o[E].length>0){o[E]=[];this.firePropertyChange({reason:b.Remove,path:"/conditions/"+s,context:undefined,value:o[s]});}}else{for(var M in o){if(o[M]&&o[M].length>0){o[M]=[];var a=this.getProperty("/fieldPath");var O=a[M].fieldPath;this.firePropertyChange({reason:b.Remove,path:"/conditions/"+O,context:undefined,value:o[M]});}}}this.checkUpdate(true,true);return this;};
g.prototype._getFieldPathProperty=function(s){var E=h.call(this,s);var o=this.getProperty("/fieldPath");if(!o[E]){o[E]={fieldPath:s};}var a=this.getProperty("/conditions");if(!a[E]){a[E]=[];}return o[E];};
g.prototype.getFilters=function(s){L.error("ConditionModel","usage or deprecated getFilters() function! Please use the FilterConverter.createFilters() function instead.");return f.createFilters(this.getAllConditions(),{});};
g.prototype.serialize=function(){var o=m({},this.getAllConditions());for(var M in o){var a=o[M];a.forEach(function(i){delete i.isEmpty;},this);if(a.length===0){delete o[M];}}return'{"conditions":'+JSON.stringify(o)+"}";};
g.prototype.parse=function(o){var i=function(k,v){var a;if(!isNaN(parseInt(k))&&(typeof v==='string')){a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/.exec(v);if(a){return new Date(v);}}return v;};this.setConditions(JSON.parse(o,i).conditions);};
function h(s){if(s){var p=s.split("/");if(p.length>1){s="";for(var i=0;i<p.length;i++){var P=p[i];if(i>0){if(!isNaN(P)||!isNaN(p[i-1])){s=s+"/";}else{s=s+"\\";}}s=s+P;}}}return s;}
return g;});
sap.ui.predefine('sap/ui/mdc/condition/ConditionModelPropertyBinding',['sap/ui/model/ChangeReason','sap/ui/model/json/JSONPropertyBinding','sap/base/util/merge','sap/base/util/deepEqual'],function(C,J,m,d){"use strict";
var a=J.extend("sap.ui.mdc.condition.ConditionModelPropertyBinding",{constructor:function(M,p,c,P){J.apply(this,arguments);this.oValue=_.call(this,this._getValue());}});
a.prototype.getValue=function(){return _.call(this,this.oValue);};
a.prototype.setValue=function(v){if(this.bSuspended){return;}if(!d(this.oValue,v)){if(this.oModel.setProperty(this.sPath,v,this.oContext,true)){this.oValue=_.call(this,v);this.getDataState().setValue(this.oValue);this.oModel.firePropertyChange({reason:C.Binding,path:this._sOriginapPath,context:this.oContext,value:v});}}};
a.prototype.checkUpdate=function(f){if(this.bSuspended&&!f){return;}var v=this._getValue();if(!d(v,this.oValue)||f){this.oValue=_.call(this,v);this.getDataState().setValue(this.oValue);this.checkDataState();this._fireChange({reason:C.Change});}};
function _(v){var c;if(!v){c=v;}else if(Array.isArray(v)){c=m([],v);}else if(v instanceof Date){c=new Date(v);}else if(typeof v==="object"){c=m({},v);}else{c=v;}return c;}
return a;});
sap.ui.predefine('sap/ui/mdc/condition/FilterConverter',["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/Log"],function(F,a,b,L){"use strict";var c={createConditionTypesMapFromFilterBar:function(C,f){var r={};for(var s in C){if(f){var p=f._getPropertyByName(s);var d;if(p&&p.typeConfig){d=p.typeConfig.typeInstance;}else{var o=f._getFilterField(s);if(o){var e=o._getFormatOptions();if(e.originalDateType){d=e.originalDateType;}else{d=e.valueType;}}}r[s]={type:d};}}return r;},createFilters:function(C,o,f,d){var i,l,e,O=[],g,h,n,k,A;var m=function(h,v,P){var V="L1";var S,N,w;if(h.sPath&&h.sPath.indexOf(P)>-1){S=h.sPath.split(P);if(S.length===2){N=S[0];w=S[1];h.sPath=V+"/"+w;return{path:N,operator:v,variable:V};}else{throw new Error("FilterConverter: not supported binding "+h.sPath);}}return false;};var p=function(h){var v=m(h,b.Any,"*/");if(v){return v;}else{return m(h,b.All,"+/");}};for(var s in C){l=[];e=[];A=null;var q=C[s];if(s==="$search"){continue;}var D;var r=true;var B;if(o){if(o[s]){D=o[s].type;r=o[s].caseSensitive;B=o[s].baseType;if(!D){L.warning("FilterConverter","Not able to retrieve the type of path '"+s+"!");}}}for(i=0;i<q.length;i++){k=q[i];g=F.getOperator(k.operator);if(!g){continue;}try{h=g.getModelFilter(k,s,D,r,B);}catch(t){L.error("FilterConverter","Not able to convert the condition for path '"+s+"' into a filter! The type is missing!");continue;}if(f){h=f(k,s,D,h);if(!h){continue;}}if(!g.exclude){if(h.sPath==="$search"){continue;}var $=/^\*(.+)\*$/.exec(h.sPath);if($){var u=$[1].split(',');for(var j=0;j<u.length;j++){l.push(new a({path:u[j],operator:h.sOperator,value1:h.oValue1,caseSensitive:d}));}continue;}A=p(h);l.push(h);}else{A=p(h);e.push(h);}}h=undefined;if(l.length===1){h=l[0];}else if(l.length>1){h=new a({filters:l,and:false});}if(h){e.unshift(h);}n=undefined;if(e.length===1){n=e[0];}else if(e.length>1){n=new a({filters:e,and:true});}if(A){A.condition=n;n=new a(A);}if(n){O.push(n);}}if(O.length===1){h=O[0];}else if(O.length>1){h=new a({filters:O,and:true});}else{h=null;}L.info("FilterConverter",c.prettyPrintFilters(h));return h;},prettyPrintFilters:function(f){var r;if(!f){return"no filters set";}if(f._bMultiFilter){r="";var A=f.bAnd;f.aFilters.forEach(function(f,i,d){r+=c.prettyPrintFilters(f);if(d.length-1!=i){r+=A?" and ":" or ";}},this);return"("+r+")";}else{if(f.sOperator===b.Any||f.sOperator===b.All){r=f.sPath+" "+f.sOperator+" "+c.prettyPrintFilters(f.oCondition);}else{if(f.bCaseSensitive===false){r="tolower("+f.sPath+") "+f.sOperator+" tolower('"+f.oValue1+"')";}else{r=f.sPath+" "+f.sOperator+" '"+f.oValue1+"'";}if([b.BT,b.NB].indexOf(f.sOperator)>=0){r+="...'"+f.oValue2+"'";}}return r;}}};return c;},true);
sap.ui.predefine('sap/ui/mdc/condition/FilterOperatorUtil',['sap/ui/model/FilterOperator','sap/ui/model/Filter','sap/ui/model/ValidateException','sap/base/Log','sap/base/util/merge','sap/ui/mdc/enum/FieldDisplay','./Operator','./RangeOperator','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/ui/core/date/UniversalDate','sap/ui/core/date/UniversalDateUtils','sap/ui/core/format/DateFormat','sap/ui/model/json/JSONModel','sap/ui/model/type/Integer'],function(M,F,V,L,m,a,O,R,B,C,U,b,D,J,I){"use strict";var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");sap.ui.getCore().attachLocalizationChanged(function(){o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");});var c;var d={_mOperators:{equal:new O({name:"EQ",alias:{Date:"DATE",DateTime:"DATETIME"},filterOperator:M.EQ,tokenParse:"^=([^=].*)$",tokenFormat:"{1} ({0})",valueTypes:[O.ValueType.Self,null],displayFormats:{DescriptionValue:"{1} ({0})",ValueDescription:"{0} ({1})",Description:"{1}",Value:"{0}"},format:function(j,t,s,H,k){s=s||a.DescriptionValue;var l=this.valueTypes.length;var v=j.values;var T=(j&&j.validated===C.Validated)||v.length===2||H?"":"=";var n=T+this.displayFormats[s];if(!v[1]){n=T+this.displayFormats["Value"];l=1;}for(var i=0;i<l;i++){var r,p=v[i];if(p===null||p===undefined){p="";}if(i==0){r=this._formatValue(p,t,k);}else{r=p;}if(r===null){n=null;break;}n=n.replace(new RegExp("\\$"+i+"|"+i+"\\$"+"|"+"\\{"+i+"\\}","g"),r);}return n;},parse:function(t,T,s,i,j){s=s||a.DescriptionValue;var r=O.prototype.parse.apply(this,[t,T,s,i,j]);if(i&&(!r||r[0]===null||r[0]===undefined)&&s!==a.Value){s=a.Value;r=O.prototype.parse.apply(this,[t,T,s,i,j]);}if(r&&(r[1]===null||r[1]===undefined)&&s===a.Value){r=[r[0]];}return r;},getValues:function(t,s,i){var j=t.match(this.tokenParseRegExp);var v;if(j||(i&&t)){var k;var T=this.displayFormats[s];var K=T.indexOf("{0}");var l=T.indexOf("{1}");var n;var p;if(j){k=j[1];}else if(i){k=t;}if(K>=0&&l>=0){if(k.lastIndexOf("(")>0&&(k.lastIndexOf(")")===k.length-1||k.lastIndexOf(")")===-1)){var E=k.length;if(k[E-1]===")"){E--;}var q=k.substring(0,k.lastIndexOf("("));if(q[q.length-1]===" "){q=q.substring(0,q.length-1);}var r=k.substring(k.lastIndexOf("(")+1,E);if(K<l){n=q;p=r;}else{n=r;p=q;}}else if(K<l){n=k;}else{p=k;}}else if(K>=0){n=k;}else{p=k;}v=[n];if(l>=0){v.push(p);}}return v;},isEmpty:function(i,t){var j=false;var v=i.values[0];if((v===null||v===undefined||v==="")&&!i.values[1]){j=true;}return j;},getCheckValue:function(i){return{value:i.values[0]};},checkValidated:function(i){if(i.values.length===2&&i.values[0]!==undefined&&i.values[1]!==null&&i.values[1]!==undefined){i.validated=C.Validated;}else{i.validated=C.NotValidated;}},validateInput:true}),between:new O({name:"BT",alias:{Date:"DATERANGE",DateTime:"DATETIMERANGE"},filterOperator:M.BT,tokenParse:"^([^!].*)\\.\\.\\.(.+)$",tokenFormat:"{0}...{1}",valueTypes:[O.ValueType.Self,O.ValueType.Self],validate:function(v,t){if(v.length===2){if(e(v[0])&&e(v[1])){return;}else if((e(v[0])||e(v[1]))){throw new V(o.getText("operator.between.validate.missingValue"));}else if(v[0]===v[1]){throw new V(o.getText("operator.between.validate.sameValues"));}}O.prototype.validate.apply(this,[v,t]);}}),notBetween:new O({name:"NOTBT",filterOperator:M.NB,tokenParse:"^!(.+)\\.\\.\\.(.+)$",tokenFormat:"!({0}...{1})",valueTypes:[O.ValueType.Self,O.ValueType.Self],exclude:true,validate:function(v,t){d._mOperators.between.validate(v,t);}}),lessThan:new O({name:"LT",filterOperator:M.LT,tokenParse:"^<([^=].*)$",tokenFormat:"<{0}",valueTypes:[O.ValueType.Self]}),notLessThan:new O({name:"NOTLT",filterOperator:M.GE,tokenParse:"^!<([^=].*)$",tokenFormat:"!(<{0})",valueTypes:[O.ValueType.Self],exclude:true}),greaterThan:new O({name:"GT",filterOperator:M.GT,tokenParse:"^>([^=].*)$",tokenFormat:">{0}",valueTypes:[O.ValueType.Self]}),notGreaterThan:new O({name:"NOTGT",filterOperator:M.LE,tokenParse:"^!>([^=].*)$",tokenFormat:"!(>{0})",valueTypes:[O.ValueType.Self],exclude:true}),lessEqual:new O({name:"LE",alias:{Date:"TO",DateTime:"TODATETIME"},filterOperator:M.LE,tokenParse:"^<=(.+)$",tokenFormat:"<={0}",valueTypes:[O.ValueType.Self]}),notLessEqual:new O({name:"NOTLE",filterOperator:M.GT,tokenParse:"^!<=(.+)$",tokenFormat:"!(<={0})",valueTypes:[O.ValueType.Self],exclude:true}),greaterEqual:new O({name:"GE",alias:{Date:"FROM",DateTime:"FROMDATETIME"},filterOperator:M.GE,tokenParse:"^>=(.+)$",tokenFormat:">={0}",valueTypes:[O.ValueType.Self]}),notGreaterEqual:new O({name:"NOTGE",filterOperator:M.LT,tokenParse:"^!>=(.+)$",tokenFormat:"!(>={0})",valueTypes:[O.ValueType.Self],exclude:true}),startsWith:new O({name:"StartsWith",filterOperator:M.StartsWith,tokenParse:"^([^!\\*]+.*)\\*$",tokenFormat:"{0}*",valueTypes:[O.ValueType.SelfNoParse]}),notStartsWith:new O({name:"NotStartsWith",filterOperator:M.NotStartsWith,tokenParse:"^!([^\\*].*)\\*$",tokenFormat:"!({0}*)",valueTypes:[O.ValueType.SelfNoParse],exclude:true}),endsWith:new O({name:"EndsWith",filterOperator:M.EndsWith,tokenParse:"^\\*(.*[^\\*])$",tokenFormat:"*{0}",valueTypes:[O.ValueType.SelfNoParse]}),notEndsWith:new O({name:"NotEndsWith",filterOperator:M.NotEndsWith,tokenParse:"^!\\*(.*[^\\*])$",tokenFormat:"!(*{0})",valueTypes:[O.ValueType.SelfNoParse],exclude:true}),contains:new O({name:"Contains",filterOperator:M.Contains,tokenParse:"^\\*(.*)\\*$",tokenFormat:"*{0}*",valueTypes:[O.ValueType.SelfNoParse]}),notContains:new O({name:"NotContains",filterOperator:M.NotContains,tokenParse:"^!\\*(.*)\\*$",tokenFormat:"!(*{0}*)",valueTypes:[O.ValueType.SelfNoParse],exclude:true}),notEqual:new O({name:"NE",filterOperator:M.NE,tokenParse:"^!=(.+)$",tokenFormat:"!(={0})",valueTypes:[O.ValueType.Self],exclude:true}),empty:new O({name:"Empty",filterOperator:M.EQ,tokenParse:"^<#tokenText#>$",tokenFormat:"<#tokenText#>",valueTypes:[],getModelFilter:function(i,s,t,j,k){var l=false;if(t){var r=t.parseValue("","string");try{t.validateValue(r);l=r===null;}catch(E){l=false;}}if(l){return new F({filters:[new F({path:s,operator:M.EQ,value1:""}),new F({path:s,operator:M.EQ,value1:null})],and:false});}else{return new F({path:s,operator:this.filterOperator,value1:""});}}}),notEmpty:new O({name:"NotEmpty",filterOperator:M.NE,tokenParse:"^!<#tokenText#>$",tokenFormat:"!(<#tokenText#>)",valueTypes:[],exclude:true,getModelFilter:function(i,s,t,j,k){var l=false;if(t){var r=t.parseValue("","string");try{t.validateValue(r);l=r===null;}catch(E){l=false;}}if(l){return new F({filters:[new F({path:s,operator:M.NE,value1:""}),new F({path:s,operator:M.NE,value1:null})],and:true});}else{return new F({path:s,operator:this.filterOperator,value1:""});}}}),yesterday:new R({name:"YESTERDAY",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.yesterday();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),today:new R({name:"TODAY",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.today();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),tomorrow:new R({name:"TOMORROW",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.tomorrow();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),lastDays:new R({name:"LASTDAYS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.lastDays(i);}}),firstDayWeek:new R({name:"FIRSTDAYWEEK",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.firstDayOfWeek();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),lastDayWeek:new R({name:"LASTDAYWEEK",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastDayOfWeek();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),firstDayMonth:new R({name:"FIRSTDAYMONTH",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.firstDayOfMonth();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),lastDayMonth:new R({name:"LASTDAYMONTH",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastDayOfMonth();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),firstDayQuarter:new R({name:"FIRSTDAYQUARTER",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.firstDayOfQuarter();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),lastDayQuarter:new R({name:"LASTDAYQUARTER",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastDayOfQuarter();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),firstDayYear:new R({name:"FIRSTDAYYEAR",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.firstDayOfYear();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),lastDayYear:new R({name:"LASTDAYYEAR",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastDayOfYear();},formatRange:function(r,i){return i.formatValue(r[0],"string");}}),todayFromTo:new R({name:"TODAYFROMTO",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null}},{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null}}],paramTypes:["([-+]?\\d+)","([-+]?\\d+)"],additionalInfo:"",calcRange:function(x,y){var s=x>=0?b.ranges.lastDays(x)[0]:b.ranges.nextDays(-x)[1];var E=y>=0?b.ranges.nextDays(y)[1]:b.ranges.lastDays(-y)[0];if(s.oDate.getTime()>E.oDate.getTime()){E=[s,s=E][0];}return[b.resetStartTime(s),b.resetEndTime(E)];}}),nextDays:new R({name:"NEXTDAYS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.nextDays(i);}}),lastWeek:new R({name:"LASTWEEK",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastWeek();}}),thisWeek:new R({name:"THISWEEK",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.currentWeek();}}),nextWeek:new R({name:"NEXTWEEK",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.nextWeek();}}),lastWeeks:new R({name:"LASTWEEKS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.lastWeeks(i);}}),nextWeeks:new R({name:"NEXTWEEKS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.nextWeeks(i);}}),lastMonth:new R({name:"LASTMONTH",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastMonth();}}),thisMonth:new R({name:"THISMONTH",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.currentMonth();}}),nextMonth:new R({name:"NEXTMONTH",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.nextMonth();}}),lastMonths:new R({name:"LASTMONTHS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.lastMonths(i);}}),nextMonths:new R({name:"NEXTMONTHS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.nextMonths(i);}}),lastQuarter:new R({name:"LASTQUARTER",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastQuarter();}}),thisQuarter:new R({name:"THISQUARTER",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.currentQuarter();}}),nextQuarter:new R({name:"NEXTQUARTER",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.nextQuarter();}}),lastQuarters:new R({name:"LASTQUARTERS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.lastQuarters(i);}}),nextQuarters:new R({name:"NEXTQUARTERS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.nextQuarters(i);}}),quarter1:new R({name:"QUARTER1",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.quarter(1);}}),quarter2:new R({name:"QUARTER2",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.quarter(2);}}),quarter3:new R({name:"QUARTER3",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.quarter(3);}}),quarter4:new R({name:"QUARTER4",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.quarter(4);}}),lastYear:new R({name:"LASTYEAR",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.lastYear();}}),thisYear:new R({name:"THISYEAR",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.currentYear();}}),nextYear:new R({name:"NEXTYEAR",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.nextYear();}}),lastYears:new R({name:"LASTYEARS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.lastYears(i);}}),nextYears:new R({name:"NEXTYEARS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(i){return b.ranges.nextYears(i);}}),specificMonth:new R({name:"SPECIFICMONTH",valueTypes:[{name:"sap.ui.model.type.Integer",constraints:{minimum:0,maximum:11}}],paramTypes:["(.+)"],additionalInfo:"",label:[o.getText("operators.SPECIFICMONTH_MONTH.label")],defaultValues:function(){var i=new U();return[i.getMonth()];},calcRange:function(i){var j=new U();j.setMonth(i);j=b.getMonthStartDate(j);return b.getRange(0,"MONTH",j);},format:function(i,t,s,H,j){var v=i.values[0];var T=this.tokenFormat;var r=f.apply(this)[v];if(H){return r;}else{return r==null?null:T.replace(new RegExp("\\$"+0+"|"+0+"\\$"+"|"+"\\{"+0+"\\}","g"),r);}},getValues:function(t,s,j){var k=t.match(this.tokenParseRegExp);var v;if(k||(j&&t)){v=[];for(var i=0;i<this.valueTypes.length;i++){var l;if(k){l=k[i+1];}else if((j&&t)){l=t;}v.push(l);}return[g.call(this,v[0])];}return null;},createControl:function(t,p,i,s,j){var k=sap.ui.require("sap/ui/mdc/Field");if(k&&h.call(this)){var l=new k(s,{value:{path:p,type:t,mode:'TwoWay',targetType:'raw'},additionalValue:{path:p,formatter:function(v){return c.getTextForKey(v);},mode:'OneWay'},display:'Description',width:"100%",fieldHelp:"LFHForSpecificMonth"});return l;}else{L.warning("Operator.createControl","not able to create the control for the operator "+this.name);return null;}}}),specificMonthInYear:new R({name:"SPECIFICMONTHINYEAR",valueTypes:[{name:"sap.ui.model.type.Integer",constraints:{minimum:0,maximum:11}},{name:"sap.ui.model.type.Integer",constraints:{minimum:1,maximum:9999}}],paramTypes:["(.+)","(.+)"],additionalInfo:"",label:[o.getText("operators.SPECIFICMONTHINYEAR_MONTH.label"),o.getText("operators.SPECIFICMONTHINYEAR_YEAR.label")],defaultValues:function(){var i=new U();return[i.getMonth(),i.getFullYear()];},calcRange:function(i,y){var j=new U();j.setMonth(i);j.setYear(y);j=b.getMonthStartDate(j);return b.getRange(0,"MONTH",j);},format:function(i,t,s,H,j){var v=i.values[0];var y=i.values[1];var T=this.tokenFormat;var r=f.apply(this)[v];if(H){return r+","+y;}else{var k=new RegExp("\\$"+0+"|"+0+"\\$"+"|"+"\\{"+0+"\\}","g");var l=new RegExp("\\$"+1+"|"+1+"\\$"+"|"+"\\{"+1+"\\}","g");T=r==null?null:T.replace(k,r);return T.replace(l,y);}},getValues:function(t,s,j){var k=t.match(this.tokenParseRegExp);var v;if(k||(j&&t)){v=[];for(var i=0;i<this.valueTypes.length;i++){var l;if(k){l=k[i+1];}else if((j&&t)){l=t;}v.push(l);}return[g.call(this,v[0]),v[1]];}return null;},createControl:function(t,p,i,s,j){var k;var l=sap.ui.require("sap/ui/mdc/Field");if(!l){L.warning("Operator.createControl","not able to create the control for the operator "+this.name);return null;}if(i==0){if(h.call(this)){k=new l(s,{value:{path:p,type:t,mode:'TwoWay',targetType:'raw'},additionalValue:{path:p,formatter:function(v){return c.getTextForKey(v);},mode:'OneWay'},display:'Description',width:"100%",fieldHelp:"LFHForSpecificMonth"});}else{L.warning("Operator.createControl","not able to create the control for the operator "+this.name);}}if(i==1){k=new l(s,{value:{path:"$this>",type:t,mode:'TwoWay',targetType:'raw'},width:"100%"});}return k;}}),yearToDate:new R({name:"YEARTODATE",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.yearToDate();}}),dateToYear:new R({name:"DATETOYEAR",valueTypes:[O.ValueType.Static],calcRange:function(){return b.ranges.dateToYear();}})},_mDefaultOpsForType:{},addOperator:function(i){d._mOperators[i.name]=i;},addOperators:function(i){if(!Array.isArray(i)){i=[i];}i.forEach(function(j){d.addOperator(j);});},removeOperators:function(i){if(!Array.isArray(i)){i=[i];}i.forEach(function(j){d.removeOperator(j);});},removeOperator:function(v){if(typeof v==="string"){delete d._mOperators[v];}else{delete d._mOperators[v.name];}},setOperatorsForType:function(t,i,v){if(!Array.isArray(i)){i=[i];}if(!d._mDefaultOpsForType[t]){d._mDefaultOpsForType[t]={};}d._mDefaultOpsForType[t].operators=[];i.forEach(function(j){d.addOperatorForType(t,j);});if(v){d.setDefaultOperatorForType(t,v);}},setDefaultOperatorForType:function(t,v){if(!d._mDefaultOpsForType[t]){d._mDefaultOpsForType[t]={};}if(typeof v==="string"){v=d.getOperator(v);}d._mDefaultOpsForType[t].defaultOperator=v;},addOperatorForType:function(t,v){d.insertOperatorForType(t,v);},insertOperatorForType:function(t,v,i){if(!d._mDefaultOpsForType[t]){d._mDefaultOpsForType[t]={operators:[]};}i=i===undefined?d._mDefaultOpsForType[t].operators.length:i;if(typeof v==="string"){v=d.getOperator(v);}d._mDefaultOpsForType[t].operators.splice(i,0,v);},removeOperatorForType:function(t,v){var n;if(typeof v==="string"){n=v;}else{n=v.name;}for(var i=0;i<d._mDefaultOpsForType[t].operators.length;i++){if(d._mDefaultOpsForType[t].operators[i].name===n){d._mDefaultOpsForType[t].operators.splice(i,1);return;}}},getOperatorsForType:function(t){var j=[];for(var i=0;i<d._mDefaultOpsForType[t].operators.length;i++){j.push(d._mDefaultOpsForType[t].operators[i].name);}return j;},getDefaultOperator:function(t){return d._mDefaultOpsForType[t].defaultOperator||d._mOperators.equal;},getMatchingOperators:function(j,v){var k=[];for(var i=0;i<j.length;i++){var l=this.getOperator(j[i]);if(l){k.push(l);}}return _.call(this,k,v);},getOperator:function(s){for(var n in d._mOperators){var i=d._mOperators[n];if(i.name===s){return i;}}return undefined;},getEQOperator:function(j){if(j){for(var i=0;i<j.length;i++){var k=this.getOperator(j[i]);if(k&&k.validateInput&&!k.exclude&&k.valueTypes[0]&&k.valueTypes[0]!==O.ValueType.Static){return k;}}}return d._mOperators.equal;},onlyEQ:function(i){if(i.length===1&&i[0]==="EQ"){return true;}else{return false;}},checkConditionsEmpty:function(i){if(!Array.isArray(i)){i=[i];}i.forEach(function(j){var k=this.getOperator(j.operator);if(k){j.isEmpty=k.isEmpty(j);}}.bind(this));},updateConditionsValues:function(j){if(!Array.isArray(j)){j=[j];}for(var i=0;i<j.length;i++){this.updateConditionValues(j[i]);}},updateConditionValues:function(i){var j=this.getOperator(i.operator);if(j&&i.validated!==C.Validated){var v=j.valueTypes.length;if(j.valueTypes.length===2&&j.valueTypes[1]===null&&(i.values.length<2||i.values[1]===null||i.values[1]===undefined)){v=v-1;}if(j.valueTypes[0]==="static"){i.values=[];}else{while(i.values.length!=v){if(i.values.length<v){i.values.push(null);}if(i.values.length>v){i.values=i.values.slice(0,i.values.length-1);}}}}},indexOfCondition:function(j,k){var l=-1;for(var i=0;i<k.length;i++){if(this.compareConditions(j,k[i])){l=i;break;}}return l;},compareConditions:function(i,j){var E=false;if(i.operator===j.operator){var k=this.getOperator(i.operator);if(k){E=k.compareConditions(i,j);}}return E;},compareConditionsArray:function(j,k){var E=false;if(j.length===k.length){E=true;for(var i=0;i<j.length;i++){if(!this.compareConditions(j[i],k[i])){E=false;break;}}}return E;},checkConditionValidated:function(i){var j=this.getOperator(i.operator);if(!i.validated&&j&&j.checkValidated){j.checkValidated(i);}},getOperatorForDynamicDateOption:function(s,i){var j;if(i&&s.startsWith(i)){j=this.getOperator(s.slice(i.length+1));}else{j=this.getOperator(s);}if(!j&&i){for(var n in d._mOperators){var k=d._mOperators[n];if(k.alias&&k.alias[i]===s){j=k;break;}}}return j;},getDynamicDateOptionForOperator:function(i,j,s){var k;if(i){if(j[i.name]){k=i.name;}else if(i.alias&&j[i.alias[s]]){k=i.alias[s];}}return k;},getCustomDynamicDateOptionForOperator:function(i,s){return s+"-"+i.name;}};d.setOperatorsForType(B.String,[d._mOperators.contains,d._mOperators.equal,d._mOperators.between,d._mOperators.startsWith,d._mOperators.endsWith,d._mOperators.lessThan,d._mOperators.lessEqual,d._mOperators.greaterThan,d._mOperators.greaterEqual,d._mOperators.empty,d._mOperators.notContains,d._mOperators.notEqual,d._mOperators.notBetween,d._mOperators.notStartsWith,d._mOperators.notEndsWith,d._mOperators.notLessThan,d._mOperators.notLessEqual,d._mOperators.notGreaterThan,d._mOperators.notGreaterEqual,d._mOperators.notEmpty],d._mOperators.equal);d.setOperatorsForType(B.Date,[d._mOperators.equal,d._mOperators.between,d._mOperators.lessThan,d._mOperators.lessEqual,d._mOperators.greaterThan,d._mOperators.greaterEqual,d._mOperators.notEqual,d._mOperators.notBetween,d._mOperators.notLessThan,d._mOperators.notLessEqual,d._mOperators.notGreaterThan,d._mOperators.notGreaterEqual,d._mOperators.today,d._mOperators.yesterday,d._mOperators.tomorrow,d._mOperators.firstDayWeek,d._mOperators.lastDayWeek,d._mOperators.firstDayMonth,d._mOperators.lastDayMonth,d._mOperators.firstDayQuarter,d._mOperators.lastDayQuarter,d._mOperators.firstDayYear,d._mOperators.lastDayYear,d._mOperators.todayFromTo,d._mOperators.lastDays,d._mOperators.nextDays,d._mOperators.thisWeek,d._mOperators.lastWeek,d._mOperators.lastWeeks,d._mOperators.nextWeek,d._mOperators.nextWeeks,d._mOperators.specificMonth,d._mOperators.specificMonthInYear,d._mOperators.thisMonth,d._mOperators.lastMonth,d._mOperators.lastMonths,d._mOperators.nextMonth,d._mOperators.nextMonths,d._mOperators.thisQuarter,d._mOperators.lastQuarter,d._mOperators.lastQuarters,d._mOperators.nextQuarter,d._mOperators.nextQuarters,d._mOperators.quarter1,d._mOperators.quarter2,d._mOperators.quarter3,d._mOperators.quarter4,d._mOperators.thisYear,d._mOperators.lastYear,d._mOperators.lastYears,d._mOperators.nextYear,d._mOperators.nextYears,d._mOperators.yearToDate,d._mOperators.dateToYear]);d.setOperatorsForType(B.DateTime,[d._mOperators.equal,d._mOperators.between,d._mOperators.lessThan,d._mOperators.lessEqual,d._mOperators.greaterThan,d._mOperators.greaterEqual,d._mOperators.notEqual,d._mOperators.notBetween,d._mOperators.notLessThan,d._mOperators.notLessEqual,d._mOperators.notGreaterThan,d._mOperators.notGreaterEqual,d._mOperators.today,d._mOperators.yesterday,d._mOperators.tomorrow,d._mOperators.firstDayWeek,d._mOperators.lastDayWeek,d._mOperators.firstDayMonth,d._mOperators.lastDayMonth,d._mOperators.firstDayQuarter,d._mOperators.lastDayQuarter,d._mOperators.firstDayYear,d._mOperators.lastDayYear,d._mOperators.todayFromTo,d._mOperators.lastDays,d._mOperators.nextDays,d._mOperators.thisWeek,d._mOperators.lastWeek,d._mOperators.lastWeeks,d._mOperators.nextWeek,d._mOperators.nextWeeks,d._mOperators.specificMonth,d._mOperators.specificMonthInYear,d._mOperators.thisMonth,d._mOperators.lastMonth,d._mOperators.lastMonths,d._mOperators.nextMonth,d._mOperators.nextMonths,d._mOperators.thisQuarter,d._mOperators.lastQuarter,d._mOperators.lastQuarters,d._mOperators.nextQuarter,d._mOperators.nextQuarters,d._mOperators.quarter1,d._mOperators.quarter2,d._mOperators.quarter3,d._mOperators.quarter4,d._mOperators.thisYear,d._mOperators.lastYear,d._mOperators.lastYears,d._mOperators.nextYear,d._mOperators.nextYears,d._mOperators.yearToDate,d._mOperators.dateToYear]);d.setOperatorsForType(B.Numeric,[d._mOperators.equal,d._mOperators.between,d._mOperators.lessThan,d._mOperators.lessEqual,d._mOperators.greaterThan,d._mOperators.greaterEqual,d._mOperators.notEqual,d._mOperators.notBetween,d._mOperators.notLessThan,d._mOperators.notLessEqual,d._mOperators.notGreaterThan,d._mOperators.notGreaterEqual]);d.setOperatorsForType(B.Time,[d._mOperators.equal,d._mOperators.between,d._mOperators.lessThan,d._mOperators.lessEqual,d._mOperators.greaterThan,d._mOperators.greaterEqual,d._mOperators.notEqual,d._mOperators.notBetween,d._mOperators.notLessThan,d._mOperators.notLessEqual,d._mOperators.notGreaterThan,d._mOperators.notGreaterEqual]);d.setOperatorsForType(B.Boolean,[d._mOperators.equal,d._mOperators.notEqual]);
function _(j,v){var r=[];for(var i=0;i<j.length;i++){var k=j[i];if(k&&k.test&&k.test(v)){r.push(k);}}return r;}
function e(v){return v===null||v===undefined||v==="";}
function f(){if(!this._aMonths){var j=new U(),k=D.getDateInstance({pattern:"LLLL"});j.setDate(15);j.setMonth(0);var l=[];for(var i=0;i<12;i++){l.push(k.format(j));j.setMonth(j.getMonth()+1);}this._aMonths=l;}return this._aMonths;}
function g(s){var l=s.toLowerCase();var j=f.apply(this);var k=-1;j.some(function(E,i){if(E.toLowerCase()==l){k=i;return true;}});return k;}
function h(){if(!c){var j=sap.ui.require("sap/ui/mdc/field/ListFieldHelp");var k=sap.ui.require("sap/ui/core/ListItem");if(!j||!k){L.warning("Operator.createControl","not able to create the control for the operator "+this.name);return null;}var l=function(){if(!this._aMonthsItems){var n=f.apply(this);this._aMonthsItems=[];for(var i=0;i<12;i++){this._aMonthsItems.push({text:n[i],key:i});}}return this._aMonthsItems;}.bind(this);c=new j({id:"LFHForSpecificMonth",items:{path:"$items>/",template:new k({text:{path:"$items>text"},key:{path:"$items>key"}}),templateShareable:false}}).setModel(new J(l()),"$items");}return c;}
return d;},true);
sap.ui.predefine('sap/ui/mdc/condition/Operator',['sap/ui/base/Object','sap/ui/model/Filter',"sap/ui/model/FilterOperator",'sap/ui/model/ParseException','sap/base/Log','sap/base/util/ObjectPath','sap/base/util/merge','sap/base/util/deepEqual','./Condition','sap/ui/mdc/enum/ConditionValidated','sap/base/strings/escapeRegExp'],function(B,F,a,P,L,O,m,d,C,b,e){"use strict";var M=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");sap.ui.getCore().attachLocalizationChanged(function(){M=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");});
var c=B.extend("sap.ui.mdc.condition.Operator",{constructor:function(o){B.apply(this,arguments);if(!o){throw new Error("Operator configuration missing");}if(!o.name){L.warning("Operator configuration expects a name property");}if(!o.filterOperator&&!o.getModelFilter){throw new Error("Operator configuration for "+o.name+" needs a default filter operator from sap.ui.model.FilterOperator or the function getModelFilter");}this.name=o.name;if(o.alias){this.alias=o.alias;}this.filterOperator=o.filterOperator;this.valueTypes=o.valueTypes;this.paramTypes=o.paramTypes;this.displayFormats=o.displayFormats;var t="operators."+this.name;var l=t+".longText";var T=t+".tokenText";this.longText=o.longText||_(l)||"";this.tokenText=o.tokenText||_(T)||"";if(this.longText===l){this.longText=this.tokenText.replace(/\{0\}/g,"X").replace(/\{1\}/g,"Y");}if(this.tokenText===T){this.tokenText=this.longText;}if(this.tokenText){var r;var s;if(o.tokenParse){s=e(this.tokenText);this.tokenParse=o.tokenParse.replace(/#tokenText#/g,s);for(var i=0;i<this.valueTypes.length;i++){var R=this.paramTypes?this.paramTypes[i]:this.valueTypes[i];this.tokenParse=this.tokenParse.replace(new RegExp("\\\\\\$"+i+"|"+i+"\\\\\\$"+"|"+"\\\\\\{"+i+"\\\\\\}","g"),R);}r=this.tokenParse;}else{r=e(this.tokenText);}this.tokenParseRegExp=new RegExp(r,"i");if(o.tokenFormat){s=this.tokenText;this.tokenFormat=o.tokenFormat.replace(/\#tokenText\#/g,s);}else{this.tokenFormat=this.tokenText;}}if(o.format){this.format=o.format;}if(o.parse){this.parse=o.parse;}if(o.validate){this.validate=o.validate;}if(o.getModelFilter){this.getModelFilter=o.getModelFilter;}if(o.isEmpty){this.isEmpty=o.isEmpty;}if(o.createControl){this.createControl=o.createControl;}if(o.getCheckValue){this.getCheckValue=o.getCheckValue;}if(o.getValues){this.getValues=o.getValues;}if(o.checkValidated){this.checkValidated=o.checkValidated;}if(o.additionalInfo!==undefined){this.additionalInfo=o.additionalInfo;}this.exclude=!!o.exclude;this.validateInput=!!o.validateInput;if(o.group){this.group=o.group;}else{this.group={id:!this.exclude?"1":"2"};if(!this.group.text){this.group.text=M.getText("VALUEHELP.OPERATOR.GROUP"+this.group.id);}}}});
c.ValueType={Self:"self",Static:"static",SelfNoParse:"selfNoParse"};
function _(k,t){var f=k+(t?"."+t:""),T;T=M.getText(f,undefined,true);if(T===f||T===undefined){if(t){T=M.getText(k,undefined,true);if(T===f||T===undefined){T=k;}}else{T=f;}}return T;}
c.prototype.getTypeText=function(k,t){return _(k,t);};
c.prototype.getModelFilter=function(o,f,t,g,s){var v=o.values[0];var h;var i;var j=f.split(",");if(Array.isArray(v)&&j.length>1){v=v[0];f=j[0];i=new F({path:j[1],operator:a.EQ,value1:o.values[0][1]});}if(i&&v===undefined){h=i;i=undefined;}else if(!this.valueTypes[1]){if(!g&&o.validated===b.Validated){g=true;}h=new F({path:f,operator:this.filterOperator,value1:v,caseSensitive:g===false?false:undefined});}else{var V=o.values[1];if(Array.isArray(V)&&j.length>1){V=V[0];}h=new F({path:f,operator:this.filterOperator,value1:v,value2:V,caseSensitive:g===false?false:undefined});}if(i){h=new F({filters:[h,i],and:true});}if(o.inParameters){var k=[h];for(var I in o.inParameters){if(I.startsWith("conditions/")){k.push(new F({path:I.slice(11),operator:a.EQ,value1:o.inParameters[I]}));}}if(k.length>1){h=new F({filters:k,and:true});}}return h;};
c.prototype.isEmpty=function(o,t){var f=false;if(o){for(var i=0;i<this.valueTypes.length;i++){if(this.valueTypes[i]!==c.ValueType.Static){var v=o.values[i];if(v===null||v===undefined||v===""){f=true;break;}}}}return f;};
c.prototype.format=function(o,t,D,h,f){var v=o.values;var g=this.valueTypes.length;var T=h&&g===1?"{0}":this.tokenFormat;for(var i=0;i<g;i++){if(this.valueTypes[i]!==c.ValueType.Static){if(this.valueTypes[i]!==c.ValueType.Self){t=this._createLocalType(this.valueTypes[i],t);}var V=v[i];if(V===undefined||V===null){V=t?t.parseValue("","string"):"";}var r=this._formatValue(V,t,f);T=T.replace(new RegExp("\\$"+i+"|"+i+"\\$"+"|"+"\\{"+i+"\\}","g"),r);}}return T;};
c.prototype._formatValue=function(v,t,f){var T;if(t){if(t.isA("sap.ui.model.CompositeType")&&t.getUseInternalValues()&&Array.isArray(v)&&f){v=m([],v);for(var i=0;i<v.length;i++){if(f[i]){var o=f[i].getModelFormat();if(o&&typeof o.parse==="function"){v[i]=o.parse(v[i]);}}}}T=t.formatValue(v,"string");}else{T=v;}return T;};
c.prototype.parse=function(t,T,D,f,g){var v=this.getValues(t,D,f);var r;if(v){r=[];for(var i=0;i<this.valueTypes.length;i++){if(this.valueTypes[i]&&[c.ValueType.Self,c.ValueType.Static].indexOf(this.valueTypes[i])===-1){T=this._createLocalType(this.valueTypes[i],T);}try{if(this.valueTypes[i]!==c.ValueType.Static){var V;if(this.valueTypes[i]){V=this._parseValue(v[i],T,g);}else{V=v[i];}r.push(V);}}catch(h){L.warning(h.message);throw h;}}}return r;};
c.prototype._parseValue=function(v,t,f){if(v===undefined){return v;}var g;if(t&&t.isA("sap.ui.model.CompositeType")&&t._aCurrentValue&&t.getParseWithValues()){g=t._aCurrentValue;}var V=t?t.parseValue(v,"string",g):v;if(t&&t.isA("sap.ui.model.CompositeType")&&Array.isArray(V)&&(t._aCurrentValue||(t.getUseInternalValues()&&f))){for(var i=0;i<V.length;i++){if(V[i]===undefined&&t._aCurrentValue){V[i]=t._aCurrentValue[i]===undefined?null:t._aCurrentValue[i];}else if(t.getUseInternalValues()&&f&&f[i]){var o=f[i].getModelFormat();if(o&&typeof o.format==="function"){V[i]=o.format(V[i]);}}}}return V;};
c.prototype.validate=function(v,t,f){var g=this.valueTypes.length;for(var i=0;i<g;i++){if(this.valueTypes[i]&&this.valueTypes[i]!==c.ValueType.Static){if([c.ValueType.Self,c.ValueType.Static].indexOf(this.valueTypes[i])===-1){t=this._createLocalType(this.valueTypes[i],t);}if(v.length<i+1){throw new Error("value "+i+" for operator "+this.getName()+" missing");}if(t){var V=v[i];if(V===undefined||V===null){V=t?t.parseValue("","string"):"";}if(t.isA("sap.ui.model.CompositeType")&&Array.isArray(V)&&f){V=m([],V);for(var j=0;j<V.length;j++){if(f[j]){f[j].validateValue(V[j]);if(t.getUseInternalValues()){var o=f[j].getModelFormat();if(o&&typeof o.parse==="function"){V[j]=o.parse(V[j]);}}}}}t.validateValue(V);}}}};
c.prototype._createLocalType=function(t,T){if(!this._aTypes){this._aTypes=[];}var s;var f;var o;var u;if(t===c.ValueType.SelfNoParse){s=T.getMetadata().getName();f=m({},T.getFormatOptions());o=m(T.getConstraints());}else if(typeof t==="string"){s=t;}else if(t&&typeof t==="object"){s=t.name;f=t.formatOptions;o=t.constraints;}for(var i=0;i<this._aTypes.length;i++){var g=this._aTypes[i];if(g.name===s&&d(g.formatOptions,f)&&d(g.constraints,o)){u=g.type;break;}}if(!u){var h=O.get(s||"");u=new h(f,o);u._bCreatedByOperator=true;if(t===c.ValueType.SelfNoParse){u.parseValue=function(v,S){h.prototype.parseValue.apply(this,arguments);return v;};u.validateValue=function(v){var V=h.prototype.parseValue.apply(this,[v,"string"]);h.prototype.validateValue.apply(this,[V]);};u.formatValue=function(v,j){h.prototype.formatValue.apply(this,arguments);return v;};}this._aTypes.push({name:s,formatOptions:f,constraints:o,type:u});}return u;};
c.prototype.test=function(t){return this.tokenParseRegExp.test(t);};
c.prototype.getValues=function(t,D,f){var g=t.match(this.tokenParseRegExp);var v;if(g||(f&&t)){v=[];for(var i=0;i<this.valueTypes.length;i++){var V;if(g){V=g[i+1];}else if(f){if(i>0){break;}V=t;}v.push(V);}}return v;};
c.prototype.getCondition=function(t,T,D,f,g){if(this.test(t)||(f&&t&&this.hasRequiredValues())){var v=this.parse(t,T,D,f,g);if(v.length==this.valueTypes.length||this.valueTypes[0]===c.ValueType.Static||(v.length===1&&this.valueTypes.length===2&&!this.valueTypes[1])){var o=C.createCondition(this.name,v);this.checkValidated(o);return o;}else{throw new P("Parsed value don't meet operator");}}return null;};
c.prototype.isSingleValue=function(){if(this.valueTypes.length>1&&this.valueTypes[1]){return false;}return true;};
c.prototype.getCheckValue=function(o){if(this.valueTypes[0]&&this.valueTypes[0]===c.ValueType.Static){return{};}else{return{values:o.values};}};
c.prototype.hasRequiredValues=function(){if(this.valueTypes[0]&&this.valueTypes[0]!==c.ValueType.Static){return true;}else{return false;}};
c.prototype.compareConditions=function(o,f){var E=false;if(o.operator===this.name&&o.operator===f.operator){var g=this.getCheckValue(o);var h=this.getCheckValue(f);if(o.inParameters&&f.inParameters){g.inParameters=o.inParameters;h.inParameters=f.inParameters;}if(o.outParameters&&f.outParameters){g.outParameters=o.outParameters;h.outParameters=f.outParameters;}if(o.payload&&f.payload){g.payload=o.payload;h.payload=f.payload;}if(o.validated&&f.validated){g.validated=o.validated;h.validated=f.validated;}var s=JSON.stringify(g);var i=JSON.stringify(h);if(s===i){E=true;}}return E;};
c.prototype.checkValidated=function(o){o.validated=b.NotValidated;};
return c;});
sap.ui.predefine('sap/ui/mdc/condition/OperatorDynamicDateOption',['sap/m/DynamicDateOption','sap/m/DynamicDateValueHelpUIType','sap/m/Input','sap/ui/mdc/condition/Operator',"sap/ui/mdc/enum/BaseType",'sap/ui/mdc/enum/FieldDisplay','sap/ui/mdc/util/DateUtil','sap/ui/mdc/util/loadModules','sap/ui/model/json/JSONModel','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/core/library'],function(D,a,I,O,B,F,b,l,J,c,P,V,d){"use strict";var e=d.ValueState;var f;var g;
var h=D.extend("sap.ui.mdc.condition.OperatorDynamicDateOption",{metadata:{library:"sap.ui.mdc",properties:{operator:{type:"object"},type:{type:"object"},baseType:{type:"sap.ui.mdc.enum.BaseType"}}}});
h.prototype.exit=function(){D.prototype.exit.apply(this,arguments);if(this._oModel){this._oModel.destroy();this._oModel=undefined;this._mChangeHandler=undefined;}if(this._aUITypes){for(var i=0;i<this._aUITypes.length;i++){this._aUITypes[i].destroy();}this._aUITypes=undefined;}};
h.prototype.applySettings=function(){D.prototype.applySettings.apply(this,arguments);var m=[];var s=this.getBaseType();if(s===B.DateTime){if(!g){m.push("sap/m/DateTimePicker");}}else if(!f){m.push("sap/m/DatePicker");}if(m.length>0){return l(m).then(function(m){if(s===B.DateTime){g=m[0];}else{f=m[0];}});}};
h.prototype.validateProperty=function(p,v){if(p==="operator"&&v&&(typeof v!=="object"||!v.isA||!v.isA("sap.ui.mdc.condition.Operator"))){throw new Error("\""+v+"\" is of type "+typeof v+", expected "+"sap.ui.mdc.condition.Operator for property \""+p+"\" of "+this);}else if(p==="type"&&v&&(typeof v!=="object"||!v.isA||!v.isA("sap.ui.model.Type"))){throw new Error("\""+v+"\" is of type "+typeof v+", expected "+"sap.ui.model.Type for property \""+p+"\" of "+this);}return D.prototype.validateProperty.apply(this,arguments);};
h.prototype.isRange=function(){var o=this.getOperator();return o.isA("sap.ui.mdc.condition.RangeOperator");};
h.prototype.getText=function(C){var o=this.getOperator();return o.longText;};
h.prototype.getValueHelpUITypes=function(C){if(!this._aUITypes){var o=this.getOperator();var t=this.getType();var s=this.getBaseType();this._aUITypes=[];for(var i=0;i<o.valueTypes.length;i++){var T=o.valueTypes[i];if(T===O.ValueType.Self){var j;if(s===B.DateTime){j="datetime";}else{j="date";}this._aUITypes.push(new a({type:j}));}else if(!T||T===O.ValueType.Static){continue;}else{t=o._createLocalType(T,t);if(t.isA("sap.ui.model.type.Integer")||t.isA("sap.ui.model.odata.type.Int")){this._aUITypes.push(new a({type:"int"}));}else{this._aUITypes.push(new a({type:"custom"}));}}}}return this._aUITypes;};
h.prototype.createValueHelpUI=function(C,j){var v=C.getValue();var o=this.getOperator();var t=this.getType();var k=this.getKey();var s=C.getId();if(!v||v.operator!==k){v={operator:k,values:[]};if(o.valueDefaults){v.values=o.valueDefaults;}}_.call(this,C);if(!C.aControlsByParameters){C.aControlsByParameters={};}C.aControlsByParameters[k]=[];var m=function(E){j(this);}.bind(this);for(var i=0;i<o.valueTypes.length;i++){var T=o.valueTypes[i];var n=this.getBaseType();var p;if(!T){continue;}if(!C.aControlsByParameters[k][i]){if(o.createControl){if(!this._oModel){m=function(E){var z=E.getParameter("path");var A=z.split("/");var s=A[0]||A[1];if(this._mChangeHandler&&this._mChangeHandler[s]){this._mChangeHandler[s](this);}}.bind(this);this._oModel=new J();this._oModel.attachPropertyChange({},m,this);this._mChangeHandler={};}var M=this._oModel.getData();M[s]={value0:v&&v.values[0],value1:v&&v.values[1]};this._mChangeHandler[s]=j;if(T!==O.ValueType.Self){t=o._createLocalType(T,t);}var q=o.createControl(t,"internal>/"+s+"/value"+i,i,s+"-"+i);q.setModel(this._oModel,"internal");C.aControlsByParameters[k].push(q);}else if(T===O.ValueType.Self){if(v&&v.values[i]){p=b.typeToUniversalDate(v.values[i],t,n);p=b.utcToLocal(p);}var r=t.getFormatOptions();var u;if(n===B.DateTime){u=g;}else{u=f;}var w=new u(s+"-"+i,{dateValue:p,displayFormat:r.style||r.pattern,displayFormatType:r.calendarType,change:m});C.aControlsByParameters[k].push(w);}else if(typeof T==="object"){t=o._createLocalType(o.valueTypes[i],t);var x=t.formatValue(v&&v.values[i],"string");var y=new I(s+"-"+i,{value:x,change:m});C.aControlsByParameters[k].push(y);}}}return C.aControlsByParameters[k];};
h.prototype.validateValueHelpUI=function(C){var k=this.getKey();var o=this.getOperator();var t=this.getType();var j;var v=true;var s=e.None;var m;var i=0;try{j=this.getValueHelpOutput(C);for(i=0;i<j.values.length;i++){var n=j.values[i];if(n===undefined||n===null){v=false;}}o.validate(j.values,t);}catch(E){v=false;s=e.Error;m=E.message;if(E&&!(E instanceof P)&&!(E instanceof V)){throw E;}}if(!o.createControl){for(i=0;i<C.aControlsByParameters[k].length;i++){var p=C.aControlsByParameters[k][i];if(p.setValueState){p.setValueState(s);p.setValueStateText(m);}}}return v;};
h.prototype.getValueHelpOutput=function(C){var k=this.getKey();var r={operator:k,values:[]};var o=this.getOperator();var t=this.getType();var s=this.getBaseType();var j=C.getId();for(var i=0;i<o.valueTypes.length;i++){if(!o.valueTypes[i]){continue;}var m=C.aControlsByParameters[k][i];if(m){var v;if(o.createControl){v=this._oModel?this._oModel.getProperty("/"+j+"/value"+i):null;}else if(o.valueTypes[i]===O.ValueType.Self){if(!m.isValidValue()){throw new P();}v=m.getDateValue();if(v){v=b.localToUtc(v);v=b.universalDateToType(v,t,s);}}else{v=m.getValue();t=o._createLocalType(o.valueTypes[i],t);v=t.parseValue(v,"string");}r.values.push(v);}}return r;};
h.prototype.getGroupHeader=function(){var o=this.getOperator();if(o.group&&o.group.text){return o.group.text;}return D.prototype.getGroupHeader.apply(this,arguments);};
h.prototype.getGroup=function(){var o=this.getOperator();if(o.group){return o.group.id;}return D.prototype.getGroup.apply(this,arguments);};
h.prototype.toDates=function(v){var o=this.getOperator();var t=this.getType();var s=this.getBaseType();var r;var i=0;if(o.isA("sap.ui.mdc.condition.RangeOperator")){r=o._getRange(v&&v.values,t,s);for(i=0;i<r.length;i++){r[i]=b.typeToUniversalDate(r[i],t,s);r[i]=b.utcToLocal(r[i]);}}else if(o.valueTypes[0]===O.ValueType.Self){r=v.values;for(i=0;i<r.length;i++){if(r[i]){r[i]=b.typeToUniversalDate(r[i],t,s);r[i]=b.utcToLocal(r[i]);}}if(r.length===1){r.push(r[0]);}}else if([O.ValueType.Self,O.ValueType.Static].indexOf(o.valueTypes[0])===-1){throw new Error("Cannot convert to date, use RangeOperator");}return r;};
h.prototype.format=function(v){var o=this.getOperator();var t=this.getType();return o.format(v,t,F.Value);};
h.prototype.parse=function(v){var o=this.getOperator();var t=this.getType();if(v&&o.parse(v)){var r={};r.operator=this.getKey();r.values=o.parse(v,t,F.Value);return r;}};
h.prototype.enhanceFormattedValue=function(s,A){return false;};
function _(C){var k=this.getKey();if(C&&C.aControlsByParameters&&C.aControlsByParameters[k]){for(var i=0;i<C.aControlsByParameters[k].length;i++){var u=C.aControlsByParameters[k][i];if(!u.bIsDestroyed){u.destroy();}}delete C.aControlsByParameters[k];}}
return h;});
sap.ui.predefine('sap/ui/mdc/condition/RangeOperator',['sap/ui/mdc/condition/Operator','sap/ui/model/Filter','sap/ui/mdc/util/DateUtil','sap/base/Log'],function(O,F,D,L){"use strict";
var R=O.extend("sap.ui.mdc.condition.RangeOperator",{constructor:function(c){c.filterOperator="RANGE";c.tokenParse=c.tokenParse||"^#tokenText#$";c.tokenFormat=c.tokenFormat||"#tokenText#";O.apply(this,arguments);if(this.paramTypes){if(c.defaultValues!==undefined){if(Array.isArray(c.defaultValues)){this.valueDefaults=c.defaultValues;}else{this.valueDefaults=c.defaultValues();}}else{this.paramTypes.forEach(function(t){if(!this.valueDefaults){this.valueDefaults=[];}this.valueDefaults.push(1);}.bind(this));}}if(c.label!==undefined){this.aLabels=c.label;}if(c.calcRange){this.calcRange=c.calcRange;}if(c.formatRange){this.formatRange=c.formatRange;}else if(this.calcRange){this.formatRange=function(r,d){return d.formatValue(r[0],"string")+" - "+d.formatValue(r[1],"string");};}}});
R.prototype.getModelFilter=function(c,f,t,C,b){var r=this._getRange(c.values,t,b);return new F({path:f,operator:"BT",value1:r[0],value2:r[1]});};
R.prototype._getRange=function(v,t,b){var r;if(v){if(v.length===2){r=this.calcRange(v[0],v[1]);}else{r=this.calcRange(v[0]);}}else{r=this.calcRange();}for(var i=0;i<2;i++){r[i].oDate=D.localToUtc(r[i].oDate);r[i]=D.universalDateToType(r[i],t,b);}return r;};
R.prototype.getStaticText=function(t){var r=this._getRange(null,t);return this.formatRange(r,t);};
return R;},true);
sap.ui.predefine('sap/ui/mdc/enum/ActionToolbarActionAlignment',function(){"use strict";var A={Begin:"Begin",End:"End"};return A;},true);
sap.ui.predefine('sap/ui/mdc/enum/BaseType',function(){"use strict";var B={String:"String",Numeric:"Numeric",Boolean:"Boolean",Date:"Date",Time:"Time",DateTime:"DateTime",Unit:"Unit"};return B;},true);
sap.ui.predefine('sap/ui/mdc/enum/ConditionValidated',function(){"use strict";var C={NotValidated:"NotValidated",Validated:"Validated"};return C;},true);
sap.ui.predefine('sap/ui/mdc/enum/ContentMode',function(){"use strict";var C={Display:"Display",DisplayMultiValue:"DisplayMultiValue",DisplayMultiLine:"DisplayMultiLine",Edit:"Edit",EditMultiValue:"EditMultiValue",EditMultiLine:"EditMultiLine",EditOperator:"EditOperator",EditForHelp:"EditForHelp"};return C;},true);
sap.ui.predefine('sap/ui/mdc/enum/EditMode',function(){"use strict";var E={Display:"Display",Editable:"Editable",ReadOnly:"ReadOnly",Disabled:"Disabled",EditableReadOnly:"EditableReadOnly",EditableDisplay:"EditableDisplay"};return E;},true);
sap.ui.predefine('sap/ui/mdc/enum/FieldDisplay',function(){"use strict";var F={Value:"Value",Description:"Description",ValueDescription:"ValueDescription",DescriptionValue:"DescriptionValue"};return F;},true);
sap.ui.predefine('sap/ui/mdc/enum/OutParameterMode',function(){"use strict";var O={Always:"Always",WhenEmpty:"WhenEmpty"};return O;},true);
sap.ui.predefine('sap/ui/mdc/enum/PersistenceMode',function(){"use strict";var P={Global:"Global",Auto:"Auto",Transient:"Transient"};return P;},true);
sap.ui.predefine('sap/ui/mdc/enum/PropagationReason',function(){"use strict";var P={ControlChange:"ControlChange",Select:"Select",Info:"Info"};return P;},true);
sap.ui.predefine('sap/ui/mdc/enum/SelectType',function(){"use strict";var S={Set:"Set",Add:"Add",Remove:"Remove"};return S;},true);
sap.ui.predefine('sap/ui/mdc/field/ConditionType',['sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/model/type/String','sap/ui/mdc/enum/FieldDisplay','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/base/util/merge','sap/base/strings/whitespaceReplacer','sap/ui/base/SyncPromise'],function(S,F,P,V,a,b,c,O,C,B,d,m,w,e){"use strict";
var f=S.extend("sap.ui.mdc.field.ConditionType",{constructor:function(i,L){S.apply(this,arguments);this.sName="Condition";this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._oCalls={active:0,last:0,condition:undefined,exception:undefined};}});
f.prototype.destroy=function(){S.prototype.destroy.apply(this,arguments);if(this._oDefaultType){this._oDefaultType.destroy();delete this._oDefaultType;}this._bDestroyed=true;};
f.prototype.formatValue=function(i,L){if(i==undefined||i==null||this._bDestroyed){return null;}if(typeof i!=="object"||!i.operator||!i.values||!Array.isArray(i.values)){throw new F("No valid condition provided");}if(!L){L="string";}var T=o.call(this);var M=x(T);var N=this.oFormatOptions.preventGetDescription;y.call(this,i,T);switch(this.getPrimitiveType(L)){case"string":case"any":var Q=n.call(this);var R=s.call(this);var U=c.getEQOperator(R);if(!this.oFormatOptions.maxConditions||this.oFormatOptions.maxConditions===1){this._oCalls.active++;this._oCalls.last++;}var W=this._oCalls.last;if(!N&&Q!==b.Value&&i.validated===d.Validated&&(M||(i.operator===U.name&&!i.values[1]))){var X=this.oFormatOptions.bindingContext;var Y=this.oFormatOptions.conditionModel;var Z=this.oFormatOptions.conditionModelName;var $=M?i.values[0][1]:i.values[0];return e.resolve().then(function(){return J.call(this,$,i,X,Y,Z);}.bind(this)).then(function(a1){if(a1){i=m({},i);if(M){T=p.call(this);i.operator=U.name;if(typeof a1!=="object"){a1={key:$,description:a1};}}if(typeof a1==="object"){i=A.call(this,i,a1);}else if(i.values.length===1){i.values.push(a1);}else{i.values[1]=a1;}}return g.call(this,i,undefined,W,true,T);}.bind(this)).catch(function(a1){var b1;if(!(a1 instanceof F)||!H.call(this)){b1=a1;}return g.call(this,i,b1,W,true,T);}.bind(this)).unwrap();}return g.call(this,i,undefined,W,true,T);default:if(T&&i.values.length>=1){return T.formatValue(i.values[0],L);}throw new F("Don't know how to format Condition to "+L);}};
function _(i,T){var L=n.call(this);var M=x(T);if(M&&i.values.length>1&&i.values[0][1]===i.values[1][1]){i=m({},i);i.operator="EQ";i.values.splice(1);}var N=(this.oFormatOptions.hideOperator&&i.values.length===1)||M;var Q=c.getOperator(i.operator);var R=v.call(this);if(!Q){throw new F("No valid condition provided, Operator wrong.");}var U=Q.format(i,T,L,N,R);var W=this.oFormatOptions.convertWhitespaces;if(W&&(E.call(this,T)===B.String||L!==b.Value)){U=w(U);}return U;}
function g(i,L,M,N,T){if(this._oCalls.active>0){this._oCalls.active--;}if(M<this._oCalls.last&&(this._oCalls.condition!==undefined||this._oCalls.exception!==undefined)){i=this._oCalls.condition;L=this._oCalls.exception;}if(M===this._oCalls.last&&this._oCalls.active>0){this._oCalls.condition=m({},i);this._oCalls.exception=L;}else if(this._oCalls.active===0&&this._oCalls.last>0){this._oCalls={active:0,last:0,condition:undefined,exception:undefined};}if(L){throw L;}var R;if(N){R=_.call(this,i,T);}else{R=h.call(this,i,T);}return R;}
f.prototype.parseValue=function(i,L){if(this._bDestroyed){return null;}if(!L){L="string";}else if(L==="any"&&typeof i==="string"){L="string";}var N=this.oFormatOptions.navigateCondition;if(N){var M=this.formatValue(N,L);if(M===i){return m({},N);}}var Q=n.call(this);var R=G.call(this);var T=o.call(this);var U=q.call(this);var W=s.call(this);var X=x(T);var Y;if(i===null||i===undefined||(i===""&&!R)){if(!u.call(this,T)){return null;}}z.call(this,T);switch(this.getPrimitiveType(L)){case"string":var Z;var $=false;var a1=false;if(W.length===1){Z=c.getOperator(W[0]);a1=true;}else{var b1=c.getMatchingOperators(W,i);if(b1.length===0){Z=K.call(this,W,T);if(R&&!u.call(this,T)){var c1=c.getEQOperator(W);if(W.indexOf(c1.name)>=0){$=!!Z&&Z.name!==c1.name;Z=c1;}}a1=true;}else{var d1=b1.filter(function(Z){return Z.valueTypes.length===0;});if(d1.length>=1){Z=d1[0];}else{Z=b1[0];}}}if(Z){if(X&&Z!==c.getEQOperator(W)){throw new P("unsupported operator");}var e1;var f1=u.call(this,T);var g1=v.call(this);this._oCalls.active++;this._oCalls.last++;var h1=this._oCalls.last;if((!f1||X)&&Z.validateInput&&R){e1=j.call(this,Z,i,T,a1,$,W,Q,true);if(e1 instanceof Promise){return D.call(this,e1);}else{return e1;}}else{try{if(i===""&&f1&&a1){e1=C.createCondition(Z.name,[T.parseValue(i,"string",T._aCurrentValue)],undefined,undefined,d.NotValidated);}else{e1=Z.getCondition(i,T,Q,a1,g1);}}catch(i1){var j1=i1;if(j1 instanceof P&&U){try{U.parseValue(i,"string",U._aCurrentValue);}catch(k1){j1=k1;}}return g.call(this,undefined,j1,h1,false,T);}}if(e1){return g.call(this,e1,undefined,h1,false,T);}}throw new P("Cannot parse value "+i);default:if(T){if(W.length===1){Y=W[0];}else{Y=K.call(this,W,T).name;if(W.indexOf(Y)<0){Y=undefined;}}if(Y){return C.createCondition(Y,[T.parseValue(i,L)],undefined,undefined,d.NotValidated);}}throw new P("Don't know how to parse Condition from "+L);}};
function h(i,T){var L=x(T);var M=u.call(this,T);if(i&&!L&&M){var N=q.call(this)||T;var Q=N.getMetadata().getName();var R=N.getFormatOptions();var U=N.getConstraints();var W=this.oFormatOptions.delegate;var X=this.oFormatOptions.payload;var Y=W&&W.getTypeUtil(X).getBaseType(Q,R,U);if((Y===B.Unit||Y===B.DateTime)&&!i.values[0][1]&&T._aCurrentValue){var Z=T._aCurrentValue[1]?T._aCurrentValue[1]:null;i.values[0][1]=Z;if(i.operator==="BT"){i.values[1][1]=Z;}}}y.call(this,i,T);return i;}
function j(i,L,T,U,M,N,Q,R){var W;var X;var Y=true;var Z=true;var $=false;var a1;var b1;var c1=this.oFormatOptions.bindingContext;var d1=this.oFormatOptions.conditionModel;var e1=this.oFormatOptions.conditionModelName;var f1;if(L===""){f1=[];W=L;a1=L;}else{f1=i.getValues(L,Q,U);W=R?f1[0]:f1[1];X=R?f1[1]:f1[0];$=Q!==b.Value;Z=Q===b.Value||Q===b.ValueDescription;a1=Z?W||X:X||W;}var g1=function(k1){if(k1&&!(k1 instanceof P)&&!(k1 instanceof F)){throw k1;}if(!k1._bNotUnique){if(L===""){return null;}if(R&&f1[0]&&f1[1]){return j.call(this,i,L,T,U,M,N,Q,false);}if(M){return k.call(this,T,N,L,Q);}}if(H.call(this)){return l.call(this,T,N,L,Q);}throw new P(k1.message);};var h1=function(l1){if(l1){var f1=[l1.key];if(i.valueTypes.length>1&&i.valueTypes[1]!==O.ValueType.Static){f1.push(l1.description);}return C.createCondition(i.name,f1,l1.inParameters,l1.outParameters,d.Validated,l1.payload);}else if(L===""){return null;}else{return g1.call(this,new P(this._oResourceBundle.getText("valuehelp.VALUE_NOT_EXIST",[L])));}};var i1=this._oCalls.last;var j1=function(l1,m1){var n1;var o1;try{n1=m1.call(this,l1);if(x(T)){if(n1){if(n1.operator!=="EQ"){throw new P("unsupported operator");}var p1=T._aCurrentValue&&T._aCurrentValue[0]!==undefined?T._aCurrentValue[0]:null;var q1=n1.values[0];n1.values=[[p1,q1]];}else if(L===""){n1=C.createCondition(i.name,[T.parseValue(L,"string",T._aCurrentValue)],undefined,undefined,d.NotValidated);}}}catch(k1){o1=k1;}return g.call(this,n1,o1,i1,false,T);};try{if(x(T)){b1=T.parseValue(a1,"string",T._aCurrentValue);T.validateValue(b1);b1=b1[1];}else{b1=T.parseValue(a1,"string");T.validateValue(b1);}}catch(k1){if(k1&&!($&&(k1 instanceof P||k1 instanceof V))){throw k1;}Y=false;Z=false;b1=undefined;}return e.resolve().then(function(){return I.call(this,a1,b1,c1,Z,Y,$,d1,e1);}.bind(this)).then(function(l1){return j1.call(this,l1,h1);}.bind(this)).catch(function(k1){return j1.call(this,k1,g1);}.bind(this)).unwrap();}
function k(T,i,L,M){var N=K.call(this,i,T);var Q;if(N&&i.indexOf(N.name)>=0){Q=N.getCondition(L,T,b.Value,true);Q.validated=d.NotValidated;}return Q;}
function l(T,i,L,M){var N;if(x(T)){N=c.getEQOperator("EQ");}else if(i.length===1){N=c.getOperator(i[0]);}else{N=c.getEQOperator(i);if(i.indexOf(N.name)<0){N=undefined;}}if(!N){throw new P("Cannot parse value "+L);}var Q=N.getCondition(L,T,b.Value,true);if(Q){Q.validated=d.NotValidated;if(x(T)&&Array.isArray(Q.values[0])){Q.values[0]=Q.values[0][1];}}return Q;}
f.prototype.validateValue=function(i){var T=o.call(this);var L=q.call(this);var M=s.call(this);var N=x(T);var Q=v.call(this);if(i===undefined||this._bDestroyed){return null;}else if(i===null){if(c.onlyEQ(M)){try{if(T.hasOwnProperty("_sParsedEmptyString")&&T._sParsedEmptyString!==null){T.validateValue(T._sParsedEmptyString);}else{T.validateValue(null);}}catch(R){if(R instanceof V){throw R;}else{return null;}}}return null;}if(typeof i!=="object"||!i.operator||!i.values||!Array.isArray(i.values)){throw new V(this._oResourceBundle.getText("field.VALUE_NOT_VALID"));}var U=c.getOperator(i.operator);if(N){U=c.getEQOperator();}if(!U||M.indexOf(U.name)===-1){throw new V("No valid condition provided, Operator wrong.");}try{U.validate(i.values,T,Q);}catch(W){if(W instanceof V&&L){U.validate(i.values,L,Q);}throw W;}};
function n(){var i=this.oFormatOptions.display;if(!i){i=b.Value;}return i;}
function o(){var T=this.oFormatOptions.valueType;if(!T){T=p.call(this);}return T;}
function p(){if(!this._oDefaultType){this._oDefaultType=new a();}return this._oDefaultType;}
function q(){return this.oFormatOptions.originalDateType;}
function r(){return this.oFormatOptions.additionalType;}
function s(){var i=this.oFormatOptions.operators;if(!i||i.length===0){i=c.getOperatorsForType(B.String);}return i;}
function t(){var i=this.oFormatOptions.fieldHelpID;if(i){var L=sap.ui.getCore().byId(i);if(L&&L.isValidationSupported()){return L;}}return null;}
function u(T){return T&&T.isA("sap.ui.model.CompositeType");}
function v(){return this.oFormatOptions.compositeTypes;}
function x(T){if(u(T)){var i=T.getFormatOptions();var L=!i||!i.hasOwnProperty("showMeasure")||i.showMeasure;var M=!i||!i.hasOwnProperty("showNumber")||i.showNumber;var N=!i||!i.hasOwnProperty("showTimezone")||i.showTimezone;var Q=!i||!i.hasOwnProperty("showDate")||i.showDate;var R=!i||!i.hasOwnProperty("showTime")||i.showTime;if((L&&!M)||(N&&!Q&&!R)){return true;}}return false;}
function y(i,T){if(u.call(this,T)&&i&&i.values[0]){T._aCurrentValue=m([],i.values[0]);var L=r.call(this);if(u.call(this,L)){L._aCurrentValue=m([],i.values[0]);}var M=q.call(this);if(u.call(this,M)){M._aCurrentValue=m([],i.values[0]);}}}
function z(T){if(u.call(this,T)){var i=r.call(this);if(u.call(this,i)){if(!i._aCurrentValue){i._aCurrentValue=[];}T._aCurrentValue=i._aCurrentValue;}}}
function A(i,R){i.values=[R.key,R.description];if(R.inParameters){i.inParameters=R.inParameters;}if(R.outParameters){i.outParameters=R.outParameters;}return i;}
function D(i){if(this.oFormatOptions.asyncParsing){this.oFormatOptions.asyncParsing(i);}return i;}
function E(T){var i=T.getMetadata().getName();var L=T.getFormatOptions();var M=T.getConstraints();var N=this.oFormatOptions.delegate;var Q=this.oFormatOptions.payload;var R=N?N.getTypeUtil(Q).getBaseType(i,L,M):B.String;if(R===B.Unit){R=B.Numeric;}return R;}
function G(){var i=t.call(this);var L=this.oFormatOptions.delegate;var M=this.oFormatOptions.payload;if(L){return L.isInputValidationEnabled(M,i);}else{return!!i;}}
function H(){var i=t.call(this);var L=this.oFormatOptions.delegate;var M=this.oFormatOptions.payload;if(L){return L.isInvalidInputAllowed(M,i);}else if(i){return!i.getValidateInput();}else{return true;}}
function I(i,L,M,N,Q,R,T,U){var W=t.call(this);var X=this.oFormatOptions.delegate;var Y=this.oFormatOptions.payload;var Z=this.oFormatOptions.control;var $={value:i,parsedValue:L,inParameters:undefined,outParameters:undefined,bindingContext:M,checkKeyFirst:N,checkKey:Q,checkDescription:R,conditionModel:T,conditionModelName:U,exception:P,control:Z};if(X){return X.getItemForValue(Y,W,$);}else if(W){return W.getItemForValue($);}}
function J(i,L,M,N,Q){var R=t.call(this);var T=this.oFormatOptions.delegate;var U=this.oFormatOptions.payload;var W=this.oFormatOptions.control;if(T){return T.getDescription(U,R,i,L.inParameters,L.outParameters,M,N,Q,L.payload,W);}else if(R){if(R.isA("sap.ui.mdc.ValueHelp")){var X={value:i,parsedValue:i,context:{inParameters:L.inParameters,outParameters:L.outParameters,payload:L.payload},bindingContext:M,conditionModel:N,conditionModelName:Q,checkKey:true,checkDescription:false,caseSensitive:true,exception:F,control:W};return R.getItemForValue(X);}else{return R.getTextForKey(i,L.inParameters,L.outParameters,M,N,Q);}}}
function K(L,T){var M=this.oFormatOptions.defaultOperatorName;var N;if(M){N=c.getOperator(M);}else{N=c.getDefaultOperator(E.call(this,T));}if(N&&L.indexOf(N.name)<0){for(var i=0;i<L.length;i++){N=c.getOperator(L[i]);if(N.exclude||!N.hasRequiredValues()){N=undefined;}else{break;}}}return N;}
return f;});
sap.ui.predefine('sap/ui/mdc/field/ConditionsType',['sap/ui/mdc/field/ConditionType','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/base/util/merge','sap/ui/base/SyncPromise'],function(C,S,F,P,V,m,a){"use strict";
var b=S.extend("sap.ui.mdc.field.ConditionsType",{constructor:function(o,g){S.apply(this,arguments);this.sName="Conditions";o=_(o);this._oConditionType=new C(o,this.oConstraints);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");}});
b.prototype.destroy=function(){S.prototype.destroy.apply(this,arguments);if(this._oConditionType){this._oConditionType.destroy();this._oConditionType=undefined;}this._bDestroyed=true;};
b.prototype.setFormatOptions=function(o){S.prototype.setFormatOptions.apply(this,arguments);o=_(o);if(this._oConditionType){this._oConditionType.setFormatOptions(o);}};
function _(o){o=m({},o);if(o.asyncParsing){delete o.asyncParsing;}return o;}
b.prototype.setConstraints=function(o){S.prototype.setConstraints.apply(this,arguments);if(this._oConditionType){this._oConditionType.setConstraints(this.oConstraints);}};
b.prototype.formatValue=function(g,I){if(g==undefined||g==null||this._bDestroyed){return null;}if(!Array.isArray(g)){throw new F("No valid conditions provided");}var v;if(!I||I==="string"||I==="any"){v="";}else if(I==="float"||I==="int"){v=0;}var M=e.call(this);var s=[];var h=function(o,I){return a.resolve().then(function(){return this._oConditionType.formatValue(o,I);}.bind(this));};for(var i=0;i<g.length;i++){s.push(h.call(this,g[i],I));if(M>0&&i>=M-1){break;}}return a.all(s).then(function(j){return c.call(this,j,v);}.bind(this)).unwrap();};
function c(g,v){for(var i=0;i<g.length;i++){if(v){v=v+this._oResourceBundle.getText("field.SEPARATOR")+g[i];}else{v=g[i];}}return v;}
b.prototype.parseValue=function(v,i){if(this._bDestroyed){return null;}if(e.call(this)!==1){throw new P("Only one condition supported for parsing");}var o=a.resolve().then(function(){return this._oConditionType.parseValue(v,i);}.bind(this)).then(function(o){return d.call(this,o);}.bind(this)).unwrap();if(o instanceof Promise&&this.oFormatOptions.asyncParsing){this.oFormatOptions.asyncParsing(o);}return o;};
function d(o){var I=f(this.oFormatOptions.valueType);if(I&&this.oFormatOptions.getConditions){var u=o&&o.values[0][1];var g=o&&o.inParameters;var O=o&&o.outParameters;var h=this.oFormatOptions.getConditions();for(var i=0;i<h.length;i++){h[i].values[0][1]=u;if(u===undefined){h[i].values[0][0]=o.values[0][0];}h[i].values[0].splice(2);if(h[i].operator==="BT"){h[i].values[1][1]=u;if(u===undefined){h[i].values[1][0]=o.values[0][0];}h[i].values[1].splice(2);}if(g||h[i].inParameters){h[i].inParameters=g;}if(O||h[i].outParameters){h[i].outParameters=O;}}if(h.length===0){h.push(o);}return h;}else if(o){return[o];}else{return[];}}
b.prototype.validateValue=function(g){if(g===undefined||g===null||this._bDestroyed){return;}if(!Array.isArray(g)){throw new V("No valid conditions provided");}for(var i=0;i<g.length;i++){var o=g[i];this._oConditionType.validateValue(o);}var M=e.call(this);if(g.length===0&&M===1){this._oConditionType.validateValue(null);}};
function e(){var M=1;if(this.oFormatOptions.hasOwnProperty("maxConditions")){M=this.oFormatOptions.maxConditions;}return M;}
function f(t){if(t&&t.isA("sap.ui.model.CompositeType")){var o=t.getFormatOptions();var s=!o||!o.hasOwnProperty("showMeasure")||o.showMeasure;var g=!o||!o.hasOwnProperty("showNumber")||o.showNumber;var h=!o||!o.hasOwnProperty("showTimezone")||o.showTimezone;var i=!o||!o.hasOwnProperty("showDate")||o.showDate;var j=!o||!o.hasOwnProperty("showTime")||o.showTime;if((s&&!g)||(h&&!i&&!j)){return true;}}return false;}
return b;});
sap.ui.predefine('sap/ui/mdc/field/DefineConditionPanel',['sap/ui/core/Control','sap/ui/base/ManagedObjectObserver','sap/base/util/merge','sap/base/util/deepEqual','sap/ui/mdc/condition/Condition','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/ui/mdc/field/ConditionType','sap/ui/mdc/enum/EditMode','sap/ui/mdc/enum/FieldDisplay','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/Field','sap/ui/mdc/field/ListFieldHelp','sap/ui/mdc/field/ListFieldHelpItem','sap/ui/model/base/ManagedObjectModel','sap/ui/model/json/JSONModel','sap/ui/model/resource/ResourceModel','sap/ui/model/type/String','sap/ui/core/library','sap/ui/core/InvisibleText','sap/ui/core/ListItem','sap/ui/layout/Grid','sap/ui/layout/GridData','sap/m/library','sap/m/Button','sap/m/Panel','sap/base/Log','sap/ui/core/InvisibleMessage','sap/ui/thirdparty/jquery'],function(C,M,m,d,a,F,O,b,E,c,B,e,f,L,g,h,J,R,S,k,I,l,G,o,p,q,P,r,s,Q){"use strict";var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");sap.ui.getCore().attachLocalizationChanged(function(){t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");});var u=p.ButtonType;var V=k.ValueState;var v=k.InvisibleMessageMode;
var D=C.extend("sap.ui.mdc.field.DefineConditionPanel",{
metadata:{library:"sap.ui.mdc",properties:{conditions:{type:"object[]",group:"Data",defaultValue:[],byValue:true},formatOptions:{type:"object",defaultValue:{}},label:{type:"string",defaultValue:""},inputOK:{type:"boolean",defaultValue:true}},aggregations:{_content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{conditionProcessed:{}}},
_oManagedObjectModel:null,
renderer:{apiVersion:2,render:function(i,j){i.openStart("section",j);i.class("sapUiMdcDefineConditionPanel");i.openEnd();i.renderControl(j.getAggregation("_content"));i.close("section");}},
init:function(){sap.ui.getCore().getMessageManager().registerObject(this,true);C.prototype.init.apply(this,arguments);this.oInvisibleMessage=s.getInstance();this._oManagedObjectModel=new h(this);this._oObserver=new M(_.bind(this));this._oObserver.observe(this,{properties:["conditions","formatOptions"]});Z.call(this);this.setModel(this._oManagedObjectModel,"$this");this.setModel(this._oManagedObjectModel,"$condition");},
exit:function(){sap.ui.getCore().getMessageManager().unregisterObject(this,true);this._oObserver.disconnect();this._oObserver=undefined;if(this._sConditionsTimer){clearTimeout(this._sConditionsTimer);this._sConditionsTimer=null;}if(this._oDefaultType){this._oDefaultType.destroy();delete this._oDefaultType;}this._oManagedObjectModel.destroy();delete this._oManagedObjectModel;},
byId:function(i){return sap.ui.getCore().byId(this.getId()+"--"+i);},
onBeforeRendering:function(){if(!this.getModel("$i18n")){this.setModel(new R({bundleName:"sap/ui/mdc/messagebundle",async:false}),"$i18n");}if(this.getConditions().length===0){this.updateDefineConditions();}},
removeCondition:function(j){var n=j.oSource;var o1=n.getBindingContext("$this");var p1=this.getConditions();var q1=o1.getPath();var r1=q1.match(/^.*\/(\d+)\/$/);var s1;if(r1){s1=parseInt(r1[1]);}if(s1>0&&p1.length-1===s1){this._bFocusLastRemoveBtn=true;}this.oInvisibleMessage.announce(t.getText("valuehelp.DEFINECONDITIONS_REMOVECONDITION_ANNOUNCE"),v.Polite);var t1=this.byId("conditions");var u1=t1.getContent();var v1=0;for(var i=0;i<u1.length&&v1<=s1;i++){var w1=u1[i];if(v1===s1&&w1 instanceof f&&w1.hasOwnProperty("_iValueIndex")){if(w1._bParseError){w1.setValue(null);}}if(w1 instanceof q&&w1.getId().endsWith("-removeBtnLarge")){v1++;}}if(p1.length===1&&s1===0){this.addDummyCondition(1);p1=this.getConditions();}p1.splice(s1,1);this.setProperty("conditions",p1,true);n1.call(this,undefined);this.fireConditionProcessed();},
addCondition:function(i){var j=this.getConditions();var n=this.getFormatOptions();var o1=n.maxConditions;if(o1===-1||j.length<o1){this.addDummyCondition(j.length+1);if(this.getConditions().length===o1){this._bFocusLastCondition=true;}}},
addDummyCondition:function(i){var j=H.call(this);var n=A.call(this);var o1=n.name;var p1=a.createCondition(o1,n.valueDefaults?n.valueDefaults:[],undefined,undefined,e.NotValidated);if(n.valueTypes[0]&&n.valueTypes[0]!==O.ValueType.Static){p1.isInitial=true;}F.updateConditionValues(p1);F.checkConditionsEmpty(p1,j);var q1=this.getConditions();if(i!==undefined){q1.splice(i,0,p1);}else{q1.push(p1);}this.setProperty("conditions",q1,true);if(!p1.isInitial){this.fireConditionProcessed();}},
updateDefineConditions:function(){var i=this.getConditions().filter(function(j){var n=F.getOperator(j.operator);return j.validated!==e.Validated||n.exclude;});Y.call(this,i,true,false);if(i.length===0){this.addDummyCondition();}},
onChange:function(i){var j=H.call(this);var n=this.getConditions();F.checkConditionsEmpty(n,j);F.updateConditionsValues(n,j);if(i){n.forEach(function(o1){if(!o1.isEmpty){delete o1.isInitial;}});}this.setProperty("conditions",n,true);},
onSelectChange:function(i){var j=i.getSource();var n=j.getBindingContext("$this").getObject();var o1=this.getConditions();var p1=F.indexOfCondition(n,o1);if(p1>=0){n=o1[p1];}if(!i.getParameter("valid")){n.invalid=true;this.setProperty("conditions",o1,true);j._sOldKey=j.getValue();n1.call(this,true);return;}var q1=j.getValue();var r1=j._sOldKey;var s1=F.getOperator(q1);var t1=r1&&F.getOperator(r1);if(s1&&t1){var u1=false;if(!d(s1.valueTypes[0],t1.valueTypes[0])&&s1.valueTypes[0]!==O.ValueType.Static){if(p1>=0){n.values.forEach(function(v1,w1){if(v1!==null){if((s1.valueTypes[w1]===O.ValueType.Self&&t1.valueTypes[w1]===O.ValueType.SelfNoParse)||(s1.valueTypes[w1]===O.ValueType.SelfNoParse&&t1.valueTypes[w1]===O.ValueType.Self)){var x1=y.call(this,s1.name,w1);var y1=y.call(this,t1.name,w1);var z1=y1.formatValue(n.values[w1],"string");var A1=x1.parseValue(z1,"string");if(A1!==n.values[w1]){n.values[w1]=x1.parseValue(z1,"string");u1=true;}}else{n.values[w1]=null;u1=true;}}}.bind(this));}}if(p1>=0&&s1.valueDefaults){n.values.forEach(function(v1,w1){if((n.isInitial&&v1!==s1.valueDefaults[w1])||(v1===null)){n.values[w1]=s1.valueDefaults[w1];n.isInitial=true;u1=true;}});}if(!s1.valueTypes[1]&&t1.valueTypes[1]){if(p1>=0){if(n.values.length>1&&n.values[1]){n.values=n.values.slice(0,1);u1=true;}}}if(n.invalid){delete n.invalid;u1=true;}if(u1){F.checkConditionsEmpty(n,H.call(this));this.setProperty("conditions",o1,true);n1.call(this,false);}}delete j._sOldKey;},
onPaste:function(n){var o1;var p1=n.srcControl;var q1=this.getFormatOptions();var r1=q1.hasOwnProperty("maxConditions")?q1.maxConditions:-1;var s1=p1.getBindingContext("$condition").getPath();var t1=parseInt(s1.split("/")[2]);if(window.clipboardData){o1=window.clipboardData.getData("Text");}else{o1=n.originalEvent.clipboardData.getData('text/plain');}var u1=o1.split(/\r\n|\r|\n/g);if(u1&&u1.length>1){setTimeout(function(){var q1=m({},this.getFormatOptions());delete q1.fieldHelpID;delete q1.conditionModelName;q1.maxConditions=1;q1.display=c.Value;var v1=new b(q1);var w1=u1.length;var x1=this.getConditions();for(var i=0;i<w1;i++){if(u1[i]){var y1=u1[i].trim();var z1=y1.split(/\t/g);if(z1.length==2&&z1[0]&&z1[1]){var A1=F.getOperator("BT");y1=A1.tokenFormat;for(var j=0;j<2;j++){y1=y1.replace(new RegExp("\\{"+j+"\\}","g"),z1[j]);}}try{var B1=v1.parseValue(y1,"string");v1.validateValue(B1);if(x1.length>t1){x1.splice(t1,1,B1);}else{x1.push(B1);}t1++;}catch(C1){r.error("Paste handling","the pasted value '"+y1+"' could not be handled! "+C1.message);}}}if(r1>=0&&x1.length>r1){x1.splice(r1,x1.length-r1);}if(p1.setDOMValue){p1.setDOMValue("");}F.checkConditionsEmpty(x1);this.setProperty("conditions",x1,true);this.fireConditionProcessed();}.bind(this),0);}},
cleanUp:function(){var j=this.byId("conditions");var n=j.getContent();for(var i=0;i<n.length;i++){var o1=n[i];if(o1 instanceof f&&o1.hasOwnProperty("_iValueIndex")){if(o1._bParseError){o1.setValue();}}}this.setProperty("inputOK",true,true);}
});
function _(i){if(i.name==="value"){w.call(this,i.object,i.current,i.old);}if(i.name==="formatOptions"){var j=this.getConditions();var n=i.current&&i.current.operators;var o1=i.old&&i.old.operators;var p1=false;if(!d(n,o1)){p1=true;N.call(this);}var q1=i.current&&i.current.valueType&&i.current.valueType.getMetadata().getName();var r1=i.old&&i.old.valueType&&i.old.valueType.getMetadata().getName();if(q1!==r1&&j.length>0){if(!p1){N.call(this);}this._bUpdateType=true;b1.call(this);this._bUpdateType=false;Y.call(this,j,true,true);}}if(i.name==="conditions"){if(this._sConditionsTimer){clearTimeout(this._sConditionsTimer);this._sConditionsTimer=null;}this._sConditionsTimer=setTimeout(function(){this._sConditionsTimer=null;this.updateDefineConditions();b1.call(this);}.bind(this),0);}}
function w(j,n,o1){j._sOldKey=o1;var p1=0;if(n&&o1){var q1=F.getOperator(n);var r1=F.getOperator(o1);var s1=j.getParent();var t1;var u1;p1=s1.indexOfContent(j);t1=s1.getContent()[p1+2];if(t1&&t1.hasOwnProperty("_iValueIndex")&&t1._iValueIndex===0){if(t1 instanceof f&&!t1._bParseError){t1.setValueState(V.None);t1.setValueStateText();}u1=s1.getContent()[p1+3];if(u1&&u1.hasOwnProperty("_iValueIndex")&&u1._iValueIndex===1){if(u1 instanceof f&&!u1._bParseError){u1.setValueState(V.None);u1.setValueStateText();}}else{u1=undefined;}}else{t1=undefined;}if(q1.createControl||r1.createControl){if(t1){t1.destroy();}if(u1){u1.destroy();}}else{if(t1&&q1.valueTypes[0]!==r1.valueTypes[0]){t1.unbindProperty("value");}if(u1&&q1.valueTypes[1]!==r1.valueTypes[1]&&r1.valueTypes[1]){u1.unbindProperty("value");}}}if(!n){var v1=j.getBindingContext("$this").getObject();if(v1){var w1=this.getConditions();p1=F.indexOfCondition(v1,w1);if(p1>=0){v1=w1[p1];v1.operator=o1;this.setProperty("conditions",w1,true);}}}var x1=this.oOperatorModel.getData();var y1;for(var i=0;i<x1.length;i++){var z1=x1[i];if(z1.key===n){y1=z1.text;break;}}j.setAdditionalValue(y1);this.onChange();}
function x(i,j,n,o1){var p1=F.getOperator(i.operator);if(!p1||!p1.valueTypes[j]){return null;}var q1=y.call(this,p1.name,j);var r1=this._oManagedObjectModel.getContext(o1.getPath()+"values/"+j+"/");var s1;if(p1.createControl){s1=p1.createControl(q1,"$this>",j,n);}if(!s1){s1=new f(n,{delegate:X.call(this),value:{path:"$this>",type:q1,mode:'TwoWay',targetType:'raw'},editMode:{parts:[{path:"$condition>operator"},{path:"$condition>invalid"}],formatter:e1},multipleLines:false,width:"100%"});}if(s1.getMetadata().hasProperty("placeholder")){if(j===0){s1.bindProperty("placeholder",{path:"$condition>operator",formatter:i1});}else{s1.bindProperty("placeholder",{path:"$condition>operator",formatter:j1});}}s1._iValueIndex=j;if(s1.attachChange){s1.attachChange(this.onChange.bind(this));}s1.onpaste=this.onPaste.bind(this);s1.setLayoutData(new o({span:{parts:[{path:"$condition>"},{path:"$this>/formatOptions"}],formatter:h1.bind(this)}}));s1.setBindingContext(r1,"$this");s1.setBindingContext(o1,"$condition");s1.setFieldGroupIds([o1.getPath()]);return s1;}
function y(i,j){var n=T.call(this);var o1=F.getOperator(i);if(o1.valueTypes[j]&&[O.ValueType.Self,O.ValueType.Static].indexOf(o1.valueTypes[j])===-1){n=o1._createLocalType(o1.valueTypes[j],n);}var p1=false;if(o1.valueTypes[j]===O.ValueType.Static){p1=true;n=U.call(this);}var q1=p1?B.String:W.call(this,n);var r1;switch(q1){case B.Numeric:var s1=n.getFormatOptions();if(s1&&s1.hasOwnProperty("emptyString")&&s1.emptyString===null){r1=n;}else{r1=z(n,{emptyString:null});}break;case B.Date:case B.Time:case B.DateTime:r1=n;break;default:if(n.getConstraints()&&n.getConstraints().hasOwnProperty("nullable")&&n.getConstraints().nullable===false){r1=z(n);if(n._bCreatedByOperator){r1=o1._createLocalType(o1.valueTypes[j],n);}}else{r1=n;}break;}return r1;}
function z(i,n,j){var o1=sap.ui.require(i.getMetadata().getName().replace(/\./g,"/"));var p1=m(i.getFormatOptions(),n||{});var q1=m(i.getConstraints(),j||{});if(q1.hasOwnProperty("nullable")&&q1.nullable===false){q1.nullable=true;}return new o1(p1,q1);}
function A(){var j=H.call(this);var n;var o1=this.getFormatOptions().defaultOperatorName;if(o1){n=F.getOperator(o1);}else{var p1=T.call(this);var q1=W.call(this,p1);n=F.getDefaultOperator(q1);}if(n&&j.indexOf(n.name)<0){for(var i=0;i<j.length;i++){n=F.getOperator(j[i]);if(!n||n.exclude||!n.hasRequiredValues()){n=undefined;}else{break;}}}if(!n){n=F.getOperator(j[0]);}return n;}
function H(){var i=this.getFormatOptions();var j=i&&i.operators;if(!j||j.length===0){j=F.getOperatorsForType(B.String);}return j;}
function K(){var j;var n=H.call(this);for(var i=0;i<n.length;i++){var o1=n[i];var p1=F.getOperator(o1);if(!j){j=p1.group.id;}else if(j!==p1.group.id){return true;}}return false;}
function N(){if(!this.oOperatorModel){return;}var j=T.call(this);var n=H.call(this);var o1=[];var p1=K.call(this);var q1=this.getId()+"--rowSelect-help";var r1=sap.ui.getCore().byId(q1);var s1;if(p1){s1=new g({key:"{om>key}",text:"{om>text}",additionalText:"{om>additionalText}",groupKey:"{om>groupId}",groupText:"{om>groupText}"});}else{s1=new l({key:"{om>key}",text:"{om>text}",additionalText:"{om>additionalText}"});}r1.bindAggregation("items",{path:'om>/',templateShareable:false,template:s1});for(var i=0;i<n.length;i++){var t1=n[i];var u1=F.getOperator(t1);if(!u1||(u1.showInSuggest!==undefined&&u1.showInSuggest==false)){continue;}var v1=u1.textKey||"operators."+u1.name+".longText";var w1=u1.getTypeText(v1,W.call(this,j).toLowerCase());if(w1===v1){w1=u1.longText;}var x1=u1.additionalInfo;if(x1===undefined){if(x1!==""&&u1.formatRange){x1=u1.formatRange(u1._getRange(undefined,j),j);}else if(!p1){x1=u1.group.text;}}o1.push({key:u1.name,text:w1,additionalText:x1,groupId:u1.group.id,groupText:u1.group.text});}this.oOperatorModel.setData(o1);}
function T(){var i=this.getFormatOptions();var j=i&&i.valueType;if(!j){j=U.call(this);}return j;}
function U(){if(!this._oDefaultType){this._oDefaultType=new S();}return this._oDefaultType;}
function W(i){var j=i.getMetadata().getName();var n=i.getFormatOptions();var o1=i.getConstraints();var p1=this.getFormatOptions().delegate;var q1=this.getFormatOptions().payload;var r1=p1?p1.getTypeUtil(q1).getBaseType(j,n,o1):B.String;if(r1===B.Unit){r1=B.Numeric;}return r1;}
function X(){var i=this.getFormatOptions();var n=i.delegateName||"sap/ui/mdc/field/FieldBaseDelegate";var j=i.payload;return{name:n,payload:j};}
function Y(j,n,o1){var p1=T.call(this);var q1=[];var i=0;for(i=0;i<j.length;i++){var r1=j[i];var s1=F.getOperator(r1.operator);if(s1&&s1.valueTypes[0]===O.ValueType.Static&&(r1.values.length===0||o1)){if(s1.getStaticText){var t1=s1.getStaticText(p1,W.call(this,p1));if(r1.values.length>0){r1.values[0]=t1;}else{r1.values.push(t1);}q1.push(i);}}}if(q1.length>0){this.setProperty("conditions",j,true);}}
function Z(){var i=new I(this.getId()+"--ivtOperator",{text:"{$i18n>valuehelp.DEFINECONDITIONS_OPERATORLABEL}"});var j=new P({headerText:"{$this>/label}",expanded:true,height:"100%",backgroundDesign:"Transparent"}).addStyleClass("sapMdcDefineconditionPanel");j.addDependent(new L(this.getId()+"--rowSelect-help",{filterList:false,useFirstMatch:true}));var n=new G(this.getId()+"--conditions",{width:"100%",hSpacing:0,vSpacing:0,containerQuery:true}).addStyleClass("sapUiMdcDefineConditionGrid");d1.call(this,undefined,n,0,null,0);j.addContent(i);j.addContent(n);this._oInvisibleAddOperatorButtonText=new I({text:t.getText("valuehelp.DEFINECONDITIONS_ADDCONDITION_DESCRIPTION")});j.addContent(this._oInvisibleAddOperatorButtonText);var o1=new q(this.getId()+"--addBtn",{press:this.addCondition.bind(this),type:u.Default,text:"{$i18n>valuehelp.DEFINECONDITIONS_ADDCONDITION}",layoutData:new o({span:"XL2 L3 M3 S3",indent:"XL9 L8 M8 S7",linebreak:true,visibleS:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:$.bind(this)},visibleM:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:$.bind(this)},visibleL:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:$.bind(this)},visibleXL:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:$.bind(this)}}),ariaDescribedBy:this._oInvisibleAddOperatorButtonText});n.addContent(o1);n.attachValidateFieldGroup(l1,this);this.setAggregation("_content",j);}
function $(i,j){var n=j.hasOwnProperty("maxConditions")?j.maxConditions:-1;return n===-1||i.length<n;}
function a1(i,j){var n=j.hasOwnProperty("maxConditions")?j.maxConditions:-1;return n!==1;}
function b1(){var j=this.getConditions();var n=this.byId("conditions");var o1;var p1=-1;var q1=0;for(var i=0;i<j.length;i++){var r1=j[i];var s1=F.getOperator(r1.operator);if(r1.validated!==e.Validated||s1.exclude){var t1=this._oManagedObjectModel.getContext("/conditions/"+i+"/");p1++;if(!this.oOperatorModel){this.oOperatorModel=new J();this.setModel(this.oOperatorModel,"om");N.call(this);}o1=n.getContent();if(o1[q1]&&o1[q1].isA("sap.ui.mdc.Field")){q1=k1.call(this,r1,n,q1,t1,p1);}else{q1=d1.call(this,r1,n,q1,t1,p1);}}}o1=n.getContent();while(o1[q1]&&o1[q1]!==this.byId("addBtn")){o1[q1].destroy();q1++;}if(this._bFocusLastCondition){o1[0].focus();this._bFocusLastCondition=false;}if(this._bFocusLastRemoveBtn){q1=c1.call(this,["-removeBtnLarge","-removeBtnSmall"]);o1[q1].focus();this._bFocusLastRemoveBtn=false;}}
function c1(j){var o1=this.byId("conditions");var p1=o1.getContent();var n=p1.length-1;if(!Array.isArray(j)){j=[j];}var i=0;var q1=j[i];while(n>=0&&q1!==undefined){var r1=p1[n];if(r1.getId().endsWith(q1)){var s1=Q(r1.getDomRef());if(s1.is(":visible")){return n;}else{i++;q1=j[i];}}n--;}return 0;}
function d1(j,n,o1,p1,q1){var r1=this.getId()+"--"+q1;if(!this._oOperatorFieldType){this._oOperatorFieldType=new S({},{minLength:1});}var s1=new f(r1+"-operator",{value:{path:"$this>operator",type:this._oOperatorFieldType},width:"100%",display:c.Description,editMode:E.Editable,multipleLines:false,fieldHelp:this.getId()+"--rowSelect-help",change:this.onSelectChange.bind(this),ariaLabelledBy:this.getId()+"--ivtOperator"}).setLayoutData(new o({span:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:g1.bind(this)},linebreak:true})).setBindingContext(p1,"$this");if(p1){s1.setFieldGroupIds([p1.getPath()]);}this._oObserver.observe(s1,{properties:["value"]});n.insertContent(s1,o1);o1++;var t1=new q(r1+"--removeBtnSmall",{press:this.removeCondition.bind(this),type:u.Transparent,icon:"sap-icon://decline",tooltip:"{$i18n>valuehelp.DEFINECONDITIONS_REMOVECONDITION}"}).setLayoutData(new o({span:"XL1 L1 M1 S2",indent:{path:"$this>operator",formatter:f1},visibleS:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:a1.bind(this)},visibleM:false,visibleL:false,visibleXL:false})).setBindingContext(p1,"$this");if(p1){t1.setFieldGroupIds([p1.getPath()]);}n.insertContent(t1,o1);o1++;if(j){for(var i=0;i<j.values.length;i++){var u1=x.call(this,j,i,r1+"-values"+i,p1);if(u1){n.insertContent(u1,o1);o1++;}}}var v1=new q(r1+"--removeBtnLarge",{press:this.removeCondition.bind(this),type:u.Transparent,icon:"sap-icon://decline",tooltip:"{$i18n>valuehelp.DEFINECONDITIONS_REMOVECONDITION}"}).setLayoutData(new o({span:"XL1 L1 M1 S1",indent:{path:"$this>operator",formatter:f1},visibleS:false,visibleM:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:a1.bind(this)},visibleL:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:a1.bind(this)},visibleXL:{parts:[{path:"$this>/conditions"},{path:"$this>/formatOptions"}],formatter:a1.bind(this)}})).setBindingContext(p1,"$this");n.insertContent(v1,o1);o1++;return o1;}
function e1(i,j){if(!i){return E.Display;}else if(j){return E.ReadOnly;}var n=F.getOperator(i);var o1=false;if(n&&n.valueTypes[0]===O.ValueType.Static){o1=true;}return o1?E.Display:E.Editable;}
function f1(i){var j=i&&F.getOperator(i);if(!j||!j.valueTypes[0]||(j.valueTypes[0]===O.ValueType.Static&&!j.getStaticText)){return"XL8 L8 M8 S0";}else{return"";}}
function g1(i,j){var n=j.hasOwnProperty("maxConditions")?j.maxConditions:-1;var o1="XL3 L3 M3 ";if(n===1){o1+="S12";}else{o1+="S10";}return o1;}
function h1(i,j){var n=j.hasOwnProperty("maxConditions")?j.maxConditions:-1;var o1=i&&F.getOperator(i.operator);var p1="";if(o1&&o1.valueTypes[1]){p1="XL4 L4 M4 ";}else{p1="XL8 L8 M8 ";}if(n===1){p1+="S12";}else{p1+="S10";}return p1;}
function i1(i){var j=i&&F.getOperator(i);if(j&&j.aLabels){return j.aLabels[0];}else if(j&&j.valueTypes[1]){return t.getText("valuehelp.DEFINECONDITIONS_FROM");}else{return t.getText("valuehelp.DEFINECONDITIONS_VALUE");}}
function j1(i){var j=i&&F.getOperator(i);if(j&&j.aLabels){return j.aLabels[1];}else if(j&&j.valueTypes[1]){return t.getText("valuehelp.DEFINECONDITIONS_TO");}}
function k1(j,n,o1,p1,q1){var r1=this.getId()+"--"+q1;var s1=n.getContent();var t1;var u1=s1[o1];u1.setBindingContext(p1,"$this");if(p1){u1.setFieldGroupIds([p1.getPath()]);}if(u1.getValueState()===V.Error&&!j.invalid){u1.setValue(u1.getValue());}o1++;var v1=s1[o1];v1.setBindingContext(p1,"$this");if(p1){v1.setFieldGroupIds([p1.getPath()]);}o1++;var w1;var x1=s1[o1];var y1;if(x1.hasOwnProperty("_iValueIndex")&&x1._iValueIndex===0){if(j.values.length>0){w1=this._oManagedObjectModel.getContext(p1.getPath()+"values/0/");x1.setBindingContext(w1,"$this");x1.setBindingContext(p1,"$condition");if(x1.getMetadata().hasProperty("value")&&(this._bUpdateType||!x1.getBindingInfo("value"))){t1=y.call(this,j.operator,0);x1.bindProperty("value",{path:"$this>",type:t1});}o1++;y1=s1[o1];if(y1.hasOwnProperty("_iValueIndex")&&y1._iValueIndex===1){if(j.values.length>1){w1=this._oManagedObjectModel.getContext(p1.getPath()+"values/1/");y1.setBindingContext(w1,"$this");if(y1.getMetadata().hasProperty("value")&&(this._bUpdateType||!y1.getBindingInfo("value"))){t1=y.call(this,j.operator,1);y1.bindProperty("value",{path:"$this>",type:t1});}o1++;}else{y1.destroy();}}else if(j.values.length>1){y1=x.call(this,j,1,r1+"-values1",p1);if(y1){n.insertContent(y1,o1);o1++;}}}else{x1.destroy();x1=undefined;y1=s1[o1+1];if(y1&&y1.hasOwnProperty("_iValueIndex")&&y1._iValueIndex===1){y1.destroy();}}}else if(j.values.length>0){for(var i=0;i<j.values.length;i++){var z1=x.call(this,j,i,r1+"-values"+i,p1);if(z1){n.insertContent(z1,o1);o1++;}}}s1=n.getContent();var A1=s1[o1];A1.setBindingContext(p1,"$this");o1++;return o1;}
function l1(i){var j=i.getSource();while(!(j.getParent()instanceof G)){j=j.getParent();}m1.call(this,j);}
function m1(i){var j=i.getParent();var n=j.indexOfContent(i);var o1;if(i.getId().endsWith("-operator")){o1=i.getBindingContext("$this");n=n+2;i=j.getContent()[n];}else if(i.getId().endsWith("-removeBtnSmall")){o1=i.getBindingContext("$this");n=n+1;i=j.getContent()[n];}else{o1=i.getBindingContext("$condition");}var p1;var q1=o1.getObject();var r1=F.getOperator(q1.operator);var s1=!!q1.invalid;if(!s1&&r1.valueTypes.length>0&&r1.valueTypes[0]!==O.ValueType.Static){if(r1.valueTypes.length>1&&r1.valueTypes[1]){if(i.hasOwnProperty("_iValueIndex")&&i._iValueIndex===0){p1=j.getContent()[n+1];}else if(i.hasOwnProperty("_iValueIndex")&&i._iValueIndex===1){p1=j.getContent()[n-1];}}if(i.getMetadata().getAllProperties().valueState&&!i._bParseError&&(!p1||!p1._bParseError)){var t1=i.getBinding("value").getType();try{r1.validate(q1.values,t1);i.setValueState(V.None);i.setValueStateText();if(p1&&p1.getMetadata().getAllProperties().valueState){p1.setValueState(V.None);p1.setValueStateText();}}catch(u1){s1=true;i.setValueState(V.Error);i.setValueStateText(u1.message);if(p1&&p1.getMetadata().getAllProperties().valueState){p1.setValueState(V.Error);p1.setValueStateText(u1.message);}}}}n1.call(this,s1);this.fireConditionProcessed();}
function n1(j){var i=0;if(j!==true){var n=this.getConditions();for(i=0;i<n.length;i++){if(n[i].invalid){j=true;break;}}}if(j!==true){var o1=this.byId("conditions");var p1=o1.getContent();j=false;for(i=0;i<p1.length;i++){var q1=p1[i];if(q1.hasOwnProperty("_iValueIndex")&&q1.getValueState&&q1.getValueState()===V.Error){j=true;break;}}}this.setProperty("inputOK",!j,true);}
return D;});
sap.ui.predefine('sap/ui/mdc/field/DynamicDateRangeConditionsType',['sap/ui/mdc/field/ConditionsType','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/enum/BaseType',"sap/ui/mdc/util/DateUtil",'sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/m/DynamicDate','sap/m/library'],function(C,F,O,a,b,B,D,S,c,P,V,d,l){"use strict";
var e=C.extend("sap.ui.mdc.field.DynamicDateRangeConditionsType",{constructor:function(o,i){S.apply(this,arguments);this.sName="ConditionsDateRange";this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");}});
e.prototype.destroy=function(){S.prototype.destroy.apply(this,arguments);this._bDestroyed=true;};
e.prototype.formatValue=function(o,I){if(o==undefined||o==null||this._bDestroyed){return null;}if(!Array.isArray(o)){throw new c("No valid conditions provided");}var M=j.call(this);var r;if(M!==1){throw new c("MaxConditions must be 1");}if(o.length===1){var p=o[0];var q=F.getOperator(p.operator);if(!p.operator||!q){throw new c("No valid condition provided, Operator wrong.");}var v=[];var s=n.call(this);var t=F.getDynamicDateOptionForOperator(q,l.StandardDynamicDateRangeKeys,s);for(var i=0;i<q.valueTypes.length;i++){if(t&&q.valueTypes[i]===O.ValueType.Self){v.push(f.call(this,p.values[i]));}else if(q.valueTypes[i]&&q.valueTypes[i]!==O.ValueType.Static){v.push(p.values[i]);}}if(!t){t=F.getCustomDynamicDateOptionForOperator(q,s);}var u=_.call(this,s);r=u.formatValue({operator:t,values:v},I);}return r;};
function _(s){if(!this._oDynamicDateType){var o={date:{source:{pattern:"timestamp"}},"int":{}};if(s===B.DateTime){o.datetime={source:{pattern:"timestamp"}};}this._oDynamicDateType=new d(o);}return this._oDynamicDateType;}
function f(v){var t=h.call(this);var s=n.call(this);var i=t.formatValue(v,"string");var p;var H=0;var M=0;var o=0;var q=0;if(s===B.DateTime){p=i.split("T");i=p[0];var T=p[1];p=T.split(":");H=parseInt(p[0]);M=parseInt(p[1]);o=parseInt(p[2]);}p=i.split("-");var y=parseInt(p[0]);var r=parseInt(p[1])-1;var u=parseInt(p[2]);var w=new Date(y,r,u,H,M,o,q).getTime();return w;}
function g(t){var T=h.call(this);var s=n.call(this);var o=new Date(t);var y=o.getFullYear();var M=o.getMonth()+1;var i=o.getDate();var p=y.toString()+"-"+((M<10)?"0":"")+M.toString()+"-"+((i<10)?"0":"")+i.toString();if(s===B.DateTime){var H=o.getHours();var q=o.getMinutes();var r=o.getSeconds();var u=0;p=p+"T"+((H<10)?"0":"")+H.toString()+":"+((q<10)?"0":"")+q.toString()+":"+((r<10)?"0":"")+r.toString()+":"+((u<100)?"0":"")+((u<10)?"0":"")+u.toString();}var v=T.parseValue(p,"string");return v;}
function h(){if(!this._oInternalType){var t=k.call(this);var s=n.call(this);var p;if(s===B.DateTime){p="yyyy-MM-dd'T'HH:mm:ss:SSS";}else{p="yyyy-MM-dd";}this._oInternalType=D.createInternalType(t,p);}return this._oInternalType;}
e.prototype.parseValue=function(v,I){if(this._bDestroyed){return null;}if(j.call(this)!==1){throw new P("Only one condition supported for parsing");}var o=m.call(this);var p=[];if(v&&v.operator){if(v.operator==="PARSEERROR"){throw new P(v.values[0]);}var s=v.operator;var q=F.getOperatorForDynamicDateOption(s,n.call(this));s=q.name;if(q){var r=n.call(this);var t=_.call(this,r);var R=t.parseValue(v,I);var u=[];for(var i=0;i<q.valueTypes.length;i++){if(l.StandardDynamicDateRangeKeys[v.operator]&&q.valueTypes[i]===O.ValueType.Self){u.push(g.call(this,R.values[i]));}else if(q.valueTypes[i]&&q.valueTypes[i]!==O.ValueType.Static){u.push(R.values[i]);}}var w=a.createCondition(q.name,u,undefined,undefined,b.NotValidated);F.updateConditionValues(w);F.checkConditionsEmpty(w,o);p.push(w);}}return p;};
e.prototype.validateValue=function(o){if(o===undefined||o===null||this._bDestroyed){return;}if(!Array.isArray(o)){throw new V("No valid conditions provided");}var t=k.call(this);var p=m.call(this);for(var i=0;i<o.length;i++){var q=o[i];if(typeof q!=="object"||!q.operator||!q.values||!Array.isArray(q.values)){throw new V(this._oResourceBundle.getText("field.VALUE_NOT_VALID"));}var r=F.getOperator(q.operator);if(!r||p.indexOf(r.name)===-1){throw new V("No valid condition provided, Operator wrong.");}r.validate(q.values,t);}};
function j(){var M=1;if(this.oFormatOptions.hasOwnProperty("maxConditions")){M=this.oFormatOptions.maxConditions;}return M;}
function k(){var t=this.oFormatOptions.valueType;if(!t){throw new Error("Type missing");}return t;}
function m(){var o=this.oFormatOptions.operators;if(!o||o.length===0){o=F.getOperatorsForType(n.call(this));}return o;}
function n(){var t=k.call(this);var T=t.getMetadata().getName();var o=t.getFormatOptions();var i=t.getConstraints();var p=this.oFormatOptions.delegate;var q=this.oFormatOptions.payload;var s=p?p.getTypeUtil(q).getBaseType(T,o,i):B.Date;return s;}
return e;});
sap.ui.predefine('sap/ui/mdc/field/FieldBase',['sap/ui/thirdparty/jquery','sap/ui/Device','sap/ui/mdc/enum/EditMode','sap/ui/mdc/enum/FieldDisplay','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/field/FieldBaseRenderer','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Condition','sap/ui/mdc/field/ConditionType','sap/ui/mdc/field/ConditionsType','sap/ui/mdc/enum/BaseType','sap/ui/mdc/field/content/ContentFactory','sap/ui/mdc/Control','sap/ui/core/library','sap/ui/core/LabelEnablement','sap/ui/core/message/MessageMixin','sap/base/util/deepEqual','sap/base/util/merge','sap/base/Log','sap/ui/dom/containsOrEquals','sap/ui/model/BindingMode','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/model/base/ManagedObjectModel','sap/ui/base/ManagedObjectObserver','sap/ui/base/SyncPromise','sap/base/util/restricted/_debounce','sap/ui/events/KeyCodes'],function(q,D,E,F,C,a,b,c,d,e,B,f,g,h,L,M,k,m,l,n,o,p,P,V,r,s,S,t,K){"use strict";var u=h.ValueState;var T=h.TextAlign;var v=h.TextDirection;
var w=g.extend("sap.ui.mdc.field.FieldBase",{
metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.core.ISemanticFormContent"],designtime:"sap/ui/mdc/designtime/field/FieldBase.designtime",library:"sap.ui.mdc",properties:{dataType:{type:"string",group:"Data",defaultValue:'sap.ui.model.type.String'},dataTypeConstraints:{type:"object",group:"Data",defaultValue:null},dataTypeFormatOptions:{type:"object",group:"Data",defaultValue:null},editMode:{type:"sap.ui.mdc.enum.EditMode",group:"Data",defaultValue:E.Editable},required:{type:"boolean",group:"Data",defaultValue:false},display:{type:"sap.ui.mdc.enum.FieldDisplay",defaultValue:F.Value},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:T.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:v.Inherit},placeholder:{type:"string",group:"Misc",defaultValue:""},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:u.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},multipleLines:{type:"boolean",group:"Appearance",defaultValue:false},maxConditions:{type:"int",group:"Behavior",defaultValue:-1},conditions:{type:"object[]",group:"Data",defaultValue:[],byValue:true},label:{type:"string",group:"Misc",defaultValue:""},delegate:{type:"object",defaultValue:{name:"sap/ui/mdc/field/FieldBaseDelegate",payload:{}}},showEmptyIndicator:{type:"boolean",group:"Appearance",defaultValue:false},_fieldHelpEnabled:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},_ariaAttributes:{type:"object",defaultValue:{},byValue:true,visibility:"hidden"}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false},contentEdit:{type:"sap.ui.core.Control",multiple:false},contentDisplay:{type:"sap.ui.core.Control",multiple:false},_content:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},fieldInfo:{type:"sap.ui.mdc.field.FieldInfoBase",multiple:false}},associations:{fieldHelp:{type:"sap.ui.mdc.ValueHelp",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{liveChange:{parameters:{value:{type:"string"},escPressed:{type:"boolean"},previousValue:{type:"string"}}},press:{},submit:{parameters:{promise:{type:"Promise"}}}},publicMethods:[],defaultAggregation:"content"},
renderer:a,
_oManagedObjectModel:null
});
M.call(w.prototype);var x={onsapprevious:d1,onsapnext:d1,onsapup:d1,onsapdown:d1,onsapbackspace:d1};var y={onsapenter:H};var z;
w._init=function(){if(z&&z.bool&&z.bool.control){z.bool.control.destroy();}if(z&&z.defineConditions&&z.defineConditions.control){z.defineConditions.control.destroy();}z={bool:{name:"sap/ui/mdc/field/BoolFieldHelp",id:"BoolDefaultHelp",getDelegate:"getDefaultFieldHelpBaseDelegate",properties:{},control:undefined},defineConditions:{name:"sap/ui/mdc/field/FieldValueHelp",id:"Field-DefineConditions-Help",getDelegate:"getDefaultFieldValueHelpDelegate",properties:{showConditionPanel:true},control:undefined}};};
w._init();
w.prototype.init=function(){g.prototype.init.apply(this,arguments);this._oObserver=new s(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["display","editMode","dataType","dataTypeFormatOptions","dataTypeConstraints","multipleLines","maxConditions","conditions","delegate"],aggregations:["fieldInfo","content","contentEdit","contentDisplay"],associations:["fieldHelp","ariaLabelledBy"]});this.attachEvent("modelContextChange",this._handleModelContextChange,this);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");this._aAsyncChanges=[];this._bPreventGetDescription=false;this._oContentFactory=new f(this.getId()+"-contentFactory",{field:this,handleTokenUpdate:v1.bind(this),handleContentChange:p1.bind(this),handleContentLiveChange:s1.bind(this),handleValueHelpRequest:A1.bind(this),handleEnter:H.bind(this),handleContentPress:u1.bind(this)});this._oCreateContentPromise=undefined;this._sFilterValue="";};
w.prototype.exit=function(){var i=this.getFieldInfo();if(i){i.detachEvent("dataUpdate",K1,this);}var j=this.getContent();if(j){Z.call(this,j);}var R1=this.getContentEdit();if(R1){Z.call(this,R1);}var S1=this.getContentDisplay();if(S1){Z.call(this,S1);}if(this._oManagedObjectModel){this._oManagedObjectModel.destroy();delete this._oManagedObjectModel;}this._oObserver.disconnect();this._oObserver=undefined;this._oCreateContentPromise=undefined;var T1=y1.call(this);if(T1){T1.detachEvent("dataUpdate",F1,this);if(this._bConnected){G1.call(this);T1.connect();}}if(this._oContentFactory){this._oContentFactory.destroy();this._oContentFactory=undefined;}t1.call(this);delete this._fnLiveChangeTimer;};
w.prototype.applySettings=function(){g.prototype.applySettings.apply(this,arguments);if(!this.bDelegateInitialized&&!this.bDelegateLoading){this.initControlDelegate();}this._triggerCheckCreateInternalContent();this._bSettingsApplied=true;return this;};
w.prototype.setProperty=function(i,j,R1){if(i==="editMode"){var S1=this.getEditMode();if(S1!==E.Display&&S1!==E.EditableDisplay&&j!==E.Display&&j!==E.EditableDisplay){R1=true;}}else if(i!=="width"&&i!=="multipleLines"&&i!=="showEmptyIndicator"){R1=true;}return g.prototype.setProperty.apply(this,[i,j,R1]);};
w.prototype.onBeforeRendering=function(){$.call(this);};
w.prototype.onAfterRendering=function(){};
w.prototype.onfocusin=function(i){H1.call(this);};
w.prototype.onsapfocusleave=function(i){t1.call(this);};
function _(i){var j=i.indexOf(this.getId());if(j>-1){if(this._bPendingChange){var R1=document.activeElement;var S1=y1.call(this);if(!(R1&&S1&&n(S1.getDomRef(),R1))){var T1=M1.call(this);if(T1){G.call(this,undefined,undefined,undefined,T1);}else{G.call(this,this.getConditions(),!this._bParseError);}}}if(i.length>1){i.splice(j,1);this.fireValidateFieldGroup({fieldGroupIds:i});}}}
w.prototype.onsapup=function(i){if(this.getEditMode()===E.Editable){var j=y1.call(this);var R1=i.srcControl;if(j&&(!j.valueHelpEnabled||j.valueHelpEnabled()||j.isOpen())&&(!this._oContentFactory.isMeasure()||R1.getShowValueHelp())){i.preventDefault();i.stopPropagation();j.setFilterValue(this._sFilterValue);j.navigate(-1);}}};
w.prototype.onsapdown=function(i){if(this.getEditMode()===E.Editable){var j=y1.call(this);var R1=i.srcControl;if(j&&(!j.valueHelpEnabled||j.valueHelpEnabled()||j.isOpen())&&(!this._oContentFactory.isMeasure()||R1.getShowValueHelp())){i.preventDefault();i.stopPropagation();j.setFilterValue(this._sFilterValue);j.navigate(1);}}};
w.prototype.onsapenter=function(i){var j=y1.call(this);if(j&&j.isOpen(true)){j.close();}this._sFilterValue="";};
w.prototype.onsapescape=function(i){this.onsapenter(i);};
w.prototype.ontap=function(i){var j=y1.call(this);if(j){if(j.shouldOpenOnClick()&&!j.isOpen(true)){j.open(true);}var R1=i.srcControl;if(j.isOpen(true)&&(!this._oContentFactory.isMeasure()||(R1.getShowValueHelp&&R1.getShowValueHelp()))){R1.addStyleClass("sapMFocus");j.removeFocus();}}};
w.prototype.clone=function(i,j){this.detachEvent("modelContextChange",this._handleModelContextChange,this);var R1=this.getContent();if(R1){Z.call(this,R1);}var S1=this.getContentEdit();if(S1){Z.call(this,S1);}var T1=this.getContentDisplay();if(T1){Z.call(this,T1);}var U1=this.getFieldInfo();if(U1){U1.detachEvent("dataUpdate",K1,this);}var V1=g.prototype.clone.apply(this,arguments);this.attachEvent("modelContextChange",this._handleModelContextChange,this);if(R1){Y.call(this,R1);}if(S1){Y.call(this,S1);}if(T1){Y.call(this,T1);}if(U1){U1.attachEvent("dataUpdate",K1,this);}if(this._bTriggerable){V1._bTriggerable=this._bTriggerable;}return V1;};
w.prototype.getFieldPath=function(){var i=this.getBindingPath("conditions");if(i&&i.startsWith("/conditions/")){return i.slice(12);}else{return"";}};
function A(i,j,R1,S1){if(this._getContent().length>1){this._bPendingChange=true;}else{G.call(this,i,j,R1,S1);}}
function G(i,j,R1,S1){if(!S1){if(j){S1=Promise.resolve(this._getResultForPromise(i));}else{S1=Promise.reject(R1);}}this._fireChange(i,j,R1,S1);this._bPendingChange=false;}
w.prototype._fireChange=function(i,j,R1,S1){};
function H(i){var j=this.getEditMode();if(f._getEditable(j)&&(this.hasListeners("submit")||this._bPendingChange)){var R1=M1.call(this);var S1=false;if(R1){S1=true;}else if(this._bParseError){R1=Promise.reject();}else{R1=Promise.resolve(this._getResultForPromise(this.getConditions()));}if(this._bPendingChange){if(S1){G.call(this,undefined,undefined,undefined,R1);}else{G.call(this,this.getConditions(),!this._bParseError,undefined,R1);}}this.fireSubmit({promise:R1});}}
w.prototype._initDataType=function(){if(this._oContentFactory.getDataType()){this._oContentFactory.getDataType().destroy();this._oContentFactory.setDataType(undefined);}if(this._oContentFactory.getDateOriginalType()){if(this._oContentFactory.getDateOriginalType()._bCreatedByField){this._oContentFactory.getDateOriginalType().destroy();}this._oContentFactory.setDateOriginalType(undefined);}if(this._oContentFactory.getUnitOriginalType()){if(this._oContentFactory.getUnitOriginalType()._bCreatedByField){this._oContentFactory.getUnitOriginalType().destroy();}this._oContentFactory.getUnitOriginalType(undefined);}};
function I(){if(this._oContentFactory.getDataType()&&typeof this._oContentFactory.getDataType()==="object"){return this._oContentFactory.getDataType().getMetadata().getName();}else if(this.bDelegateInitialized){return this.getControlDelegate().getDataTypeClass(this.getPayload(),this.getDataType());}else{return this.getDataType();}}
function J(){var i=this._oContentFactory.getDataType();if(i&&typeof i==="object"&&i.getConstraints()){return i.getConstraints();}else{return this.getDataTypeConstraints();}}
function N(){var i=this._oContentFactory.getDataType();if(i&&typeof i==="object"&&i.getFormatOptions()){return i.getFormatOptions();}else{return this.getDataTypeFormatOptions();}}
w.prototype.getBaseType=function(){var i=I.call(this);var j=J.call(this);var R1=N.call(this);var S1=this.getTypeUtil().getBaseType(i,R1,j);return S1;};
function O(i,j){var R1=y1.call(this);if(R1&&this._bConnected){z1.call(this,i,R1);}}
w.prototype._getContent=function(){var i=this.getContent();if(!i){if(this.getEditMode()===E.Display){i=this.getContentDisplay();}else{i=this.getContentEdit();}}if(i){return[i];}else{return this.getAggregation("_content",[]);}};
w.prototype._handleModelContextChange=function(i){};
function Q(i){this.setValueState(u.Error);this.setValueStateText(i);}
w.prototype._removeUIMessage=function(){this.setValueState(u.None);this.setValueStateText();};
w.prototype._observeChanges=function(j){if(j.name==="dataType"){if(this._oContentFactory.getDataType()){var R1=function(U1){var V1=this.getTypeUtil().getDataTypeClass(j.current);if(!(this._oContentFactory.getDataType()instanceof V1)){this._initDataType();this.destroyAggregation("_content");this._oContentFactory.updateConditionType();}}.bind(this);if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){R1.call(this,j.current);}.bind(this));return;}R1.call(this,j.current);}}if(j.name==="dataTypeFormatOptions"||j.name==="dataTypeConstraints"){if(this._oContentFactory.getDataType()){this._initDataType();this.destroyAggregation("_content");this._oContentFactory.updateConditionType();}}if(j.name==="maxConditions"){this._updateInternalContent();}if(j.name==="conditions"){this._bParseError=false;O.call(this,j.current,j.old);var S1=false;var i=0;for(i=0;i<this._aAsyncChanges.length;i++){var T1=this._aAsyncChanges[i];if(T1.waitForUpdate&&k(T1.result,j.current)){q1.call(this,T1);S1=true;break;}}if(S1){this._aAsyncChanges.splice(i,1);}if((j.current.length===0||j.old.length===0)&&this.getShowEmptyIndicator()&&this.getEditMode()===E.Display&&!this.getContent()&&!this.getContentDisplay()){this.invalidate();}}if(j.name==="display"){this._destroyInternalContent();this._oContentFactory.updateConditionType();}if(j.name==="fieldHelp"&&j.ids){w1.call(this,j.ids,j.mutation);this._oContentFactory.updateConditionType();}if(j.name==="fieldInfo"&&j.child){J1.call(this,j.child,j.mutation);}if(j.name==="content"&&j.child){X.call(this,j.child,j.mutation,j.name);}if(j.name==="contentEdit"&&j.child){X.call(this,j.child,j.mutation,j.name);}if(j.name==="contentDisplay"&&j.child){X.call(this,j.child,j.mutation,j.name);}if(j.name==="delegate"&&!this.bDelegateInitialized&&!this.bDelegateLoading){this.initControlDelegate.call(this);}if(j.name==="ariaLabelledBy"&&j.ids){R.call(this,j.ids,j.mutation);}if(j.name==="editMode"){W.call(this);if(this._bSettingsApplied&&(j.old===E.Display||j.old===E.EditableDisplay||j.current===E.Display||j.current===E.EditableDisplay)){this._triggerCheckCreateInternalContent();}}};
w.prototype._updateInternalContent=function(){if(this.getAggregation("_content",[]).length>0){$.call(this);this._oContentFactory.updateConditionType();}};
w.prototype.getFocusDomRef=function(){var i=this._getContent();if(i.length>0){return i[0].getFocusDomRef();}else{return this.getDomRef();}};
w.prototype.getIdForLabel=function(){var i;var j=this._getContent();if(j.length>0){i=j[0].getIdForLabel();}else{i=b1.call(this);}return i;};
w.prototype.getEditable=function(){return f._getEditable(this.getEditMode());};
w.prototype.getControlForSuggestion=function(){var i=this._getContent();if(i.length>0){if(this._oContentFactory.isMeasure()){return i[1];}else{return i[0];}}else{return this;}};
w.prototype.getFocusElementForValueHelp=function(j){var R1=this.getControlForSuggestion();var S1=R1&&R1.getMetadata().getAllPrivateAggregations()._endIcon&&R1.getAggregation("_endIcon",[]);var T1;for(var i=0;i<S1.length;i++){if(S1[i].getVisible()){T1=S1[i];break;}}return j||!T1?R1:T1;};
w.prototype.getMaxConditionsForHelp=function(){if(this._oContentFactory.isMeasure()){return 1;}else{return this.getMaxConditions();}};
w.prototype.getFormFormattedValue=function(){var i=this.getConditions();var j=this.getShowEmptyIndicator()&&i.length===0&&!this.getContent()&&!this.getContentDisplay();if(j){if(!this._oResourceBundleM){this._oResourceBundleM=sap.ui.getCore().getLibraryResourceBundle("sap.m");}return this._oResourceBundleM.getText("EMPTY_INDICATOR");}else if(this._oContentFactory.isMeasure()&&this._oContentFactory.getUnitOriginalType()){var R1=i.length>0?i[0].values[0]:[0,null];return this._oContentFactory.getUnitOriginalType().formatValue(R1,"string");}else if(this._oContentFactory.getDateOriginalType()){var S1=i.length>0?i[0].values[0]:null;return this._oContentFactory.getDateOriginalType().formatValue(S1,"string");}else{var T1=this._oContentFactory.getConditionsType();return T1.formatValue(i);}};
w.prototype.getFormValueProperty=function(){return"conditions";};
w.prototype.enhanceAccessibilityState=function(i,j){var R1=this.getParent();if(R1&&R1.enhanceAccessibilityState){R1.enhanceAccessibilityState(this,j);}};
w.prototype.getAccessibilityInfo=function(){var i=this._getContent();if(i.length>0&&i[0].getAccessibilityInfo){return i[0].getAccessibilityInfo();}else{return{};}};
function R(j,R1){var S1=this.getAggregation("_content",[]);var T1=this.getContent();if(T1){S1.push(T1);}T1=this.getContentDisplay();if(T1){S1.push(T1);}T1=this.getContentEdit();if(T1){S1.push(T1);}for(var i=0;i<S1.length;i++){T1=S1[i];if(T1.getMetadata().getAllAssociations().ariaLabelledBy){if(R1==="remove"){T1.removeAriaLabelledBy(j);}else if(R1==="insert"){T1.addAriaLabelledBy(j);}}}}
function U(i,j){var R1={aria:{}};var S1=y1.call(this);if(S1){var T1=S1.getAriaAttributes(this.getMaxConditionsForHelp());var U1=T1.roleDescription;R1["role"]=T1.role;if(U1){R1.aria["roledescription"]=U1;}R1.aria["haspopup"]=T1.ariaHasPopup;R1["autocomplete"]="off";if(i){R1.aria["expanded"]="true";R1.aria["controls"]=T1.contentId;if(j){R1.aria["activedescendant"]=j;}}else{R1.aria["expanded"]="false";}R1["valueHelpEnabled"]=T1.valueHelpEnabled;}this.setProperty("_ariaAttributes",R1,true);}
w.prototype.connectLabel=function(i){c1.call(this,i);i.bindProperty("text",{path:"$field>/label"});i.setLabelFor(this);return this;};
function W(){var j=L.getReferencingLabels(this);for(var i=0;i<j.length;i++){var R1=sap.ui.getCore().byId(j[i]);R1.invalidate();}}
function X(i,j,R1){if(j==="remove"){Z.call(this,i);f1.call(this,i);h1.call(this,i);if(this._oContentFactory.getContentConditionTypes()){delete this._oContentFactory.getContentConditionTypes()[R1];}i.setModel(null,"$field");}else if(j==="insert"){if(!i.isA("sap.ui.core.IFormContent")){throw new Error(i+" is not a valid content! Only use valid content in "+this);}e1.call(this,i,true);Y.call(this,i);g1.call(this,i,true);if(this.getAggregation("_content",[]).length>0){this._destroyInternalContent();}if(!this._oContentFactory.getContentConditionTypes()){this._oContentFactory.setContentConditionTypes({});}if(!this._oContentFactory.getContentConditionTypes()[R1]){this._oContentFactory.getContentConditionTypes()[R1]={};}var S1;var T1;for(T1 in i.getMetadata().getAllProperties()){if(i.getBindingPath(T1)==="/conditions"){S1=i.getBindingInfo(T1);if(S1&&S1.type&&S1.type instanceof e){this._oContentFactory.getContentConditionTypes()[R1].oConditionsType=S1.type;}this._oContentFactory.setBoundProperty(T1);}if(T1==="editable"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/editMode",formatter:f._getEditable});}if(T1==="enabled"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/editMode",formatter:f._getEnabled});}if(T1==="displayOnly"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/editMode",formatter:f._getDisplayOnly});}if(T1==="required"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/required"});}if(T1==="textAlign"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/textAlign"});}if(T1==="textDirection"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/textDirection"});}if(T1==="valueState"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/valueState"});}if(T1==="valueStateText"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/valueStateText"});}if(T1==="placeholder"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/placeholder"});}if(T1==="showValueHelp"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.bindProperty(T1,{path:"$field>/_fieldHelpEnabled"});}if(T1==="valueHelpIconSrc"&&!i.getBindingPath(T1)&&i.isPropertyInitial(T1)){i.setValueHelpIconSrc(this._getFieldHelpIcon());}}for(var U1 in i.getMetadata().getAllAggregations()){if(i.getBindingPath(U1)==="/conditions"){S1=i.getBindingInfo(U1);if(S1&&S1.template){for(T1 in S1.template.getMetadata().getAllProperties()){var V1=S1.template.getBindingInfo(T1);if(V1&&V1.type&&V1.type instanceof d){this._oContentFactory.getContentConditionTypes()[R1].oConditionType=V1.type;break;}}}}if(U1==="tooltip"&&!i.getBindingPath(U1)&&!i.getAggregation(U1)){i.bindProperty(U1,{path:"$field>/tooltip"});}}if(i.getMetadata().getAllAssociations().ariaLabelledBy){this._oContentFactory.setAriaLabelledBy(i);}}}
function Y(i){if(i.getMetadata().getEvents().change){i.attachEvent("change",p1,this);}if(i.getMetadata().getEvents().liveChange){i.attachEvent("liveChange",s1,this);}if(i.getMetadata().getEvents().press){i.attachEvent("press",u1,this);}if(i.getMetadata().getEvents().valueHelpRequest){i.attachEvent("valueHelpRequest",A1,this);}}
function Z(i){if(i.getMetadata().getEvents().change){i.detachEvent("change",p1,this);}if(i.getMetadata().getEvents().liveChange){i.detachEvent("liveChange",s1,this);}if(i.getMetadata().getEvents().press){i.detachEvent("press",u1,this);}if(i.getMetadata().getEvents().valueHelpRequest){i.detachEvent("valueHelpRequest",A1,this);}}
function $(){var i=function(){if(!this.bDelegateInitialized){this.awaitControlDelegate().then(function(){$.call(this);}.bind(this));}else{a1.call(this);}};if(this._oCreateContentPromise){this._oCreateContentPromise.then(function(){i.call(this);}.bind(this));}else{i.call(this);}}
w.prototype._checkCreateInternalContent=function(){if(this.getVisible()&&this._oContentFactory.getDataType()){$.call(this);}};
w.prototype._triggerCheckCreateInternalContent=function(){if(!this._oCheckCreateInternalContentPromise){this._oCheckCreateInternalContentPromise=this.awaitControlDelegate().then(function(){delete this._oCheckCreateInternalContentPromise;this._checkCreateInternalContent();}.bind(this));}};
function a1(){var i=this.getEditMode();var j=this.getContent();this._oContentFactory._setUsedConditionType(j,i);x1.call(this,this.getFieldHelp());U.call(this,false);if(j||this._bIsBeingDestroyed||(i===E.Display&&this.getContentDisplay())||(i!==E.Display&&this.getContentEdit())){this._destroyInternalContent();var R1=this._getContent();if(R1.length===1){c1.call(this,R1[0]);}return;}var S1=this.getMaxConditions();var T1=this._getOperators();var U1;var V1=this.getAggregation("_content",[]);var W1;var X1;var Y1=this.getMultipleLines();var Z1=this._bTriggerable;var $1=this._oContentFactory.getContentType(this.getBaseType(),this.getMaxConditions(),Z1);if(V1.length>0){W1=V1[0];X1=W1.getMetadata().getName().replace(/\./g,"/");}var _1=this._oContentFactory.getContentMode($1,i,S1,Y1,T1);var a2=$1.getControlNames(_1,T1[0]);U1=a2[0];if(U1!==X1){this._oContentFactory.setHideOperator(l1.call(this,T1));if(W1){this._destroyInternalContent();if(W1.isA("sap.m.DateTimeField")){this._initDataType();}this._oContentFactory.updateConditionType();}if(k1.call(this,$1,T1,i,S1)){i1.call(this,$1.getUseDefaultFieldHelp().name);}else if(this._sDefaultFieldHelp){delete this._sDefaultFieldHelp;}var b2=b1.call(this);this._oCreateContentPromise=this._oContentFactory.createContent($1,_1,b2);this._oCreateContentPromise.then(function(c2){for(var d2=0;d2<c2.length;d2++){var e2=c2[d2];e2.attachEvent("parseError",m1,this);e2.attachEvent("validationError",n1,this);e2.attachEvent("validationSuccess",o1,this);e1.call(this,e2,$1.getUseDefaultEnterHandler());g1.call(this,e2,false);c1.call(this,e2);if(this._bConnected&&((d2===0&&!this._oContentFactory.isMeasure())||(d2===1&&this._oContentFactory.isMeasure()))){I1.call(this,e2);}this.addAggregation("_content",e2);}W.call(this);delete this._oCreateContentPromise;}.bind(this));}}
function b1(){return this.getId()+"-inner";}
w.prototype._destroyInternalContent=function(){this.destroyAggregation("_content");if(this._oContentFactory.getDateOriginalType()){this._oContentFactory.setDataType(this._oContentFactory.getDateOriginalType());this._oContentFactory.setDateOriginalType(undefined);}else if(this._oContentFactory.getUnitOriginalType()){this._oContentFactory.setDataType(this._oContentFactory.getUnitOriginalType());this._oContentFactory.setUnitOriginalType(undefined);}if(this._bParseError){this._bParseError=false;this._removeUIMessage();}if(this._oContentFactory.isMeasure()){this._oContentFactory.setIsMeasure(false);}};
function c1(i){if(!this._oManagedObjectModel&&!this._bIsBeingDestroyed){this._oManagedObjectModel=new r(this);}i.setModel(this._oManagedObjectModel,"$field");}
function d1(i){var j=false;var R1=y1.call(this);if(!R1){return;}else if(R1.isOpen()){j=true;}else{switch(i.type){case"sapprevious":case"sapup":if(i.keyCode===K.ARROW_UP){j=true;}break;case"sapnext":case"sapdown":if(i.keyCode===K.ARROW_DOWN){j=true;}break;default:break;}}if(j){i.stopPropagation();i.stopImmediatePropagation(true);switch(i.type){case"sapup":this.onsapup(i);break;case"sapdown":this.onsapdown(i);break;default:break;}}}
function e1(i,j){i.addDelegate(x,true,this);if(j){i.addDelegate(y,false,this);}}
function f1(i){i.removeDelegate(x);i.removeDelegate(y);}
function g1(i,j){if(j){i._OriginalGetFieldGroupIds=i._getFieldGroupIds;i._OriginalTriggerValidateFieldGroup=i.triggerValidateFieldGroup;}i._getFieldGroupIds=function(){var R1=this.getFieldGroupIds();var S1=this.getParent();if(S1){R1=R1.concat(S1._getFieldGroupIds());}return R1;};i.triggerValidateFieldGroup=function(R1){var S1=this.getParent();if(S1){var T1=R1.indexOf(S1.getId());if(T1>-1){_.call(S1,R1);}else{S1.fireValidateFieldGroup({fieldGroupIds:R1});}}};}
function h1(i){if(i._OriginalGetFieldGroupIds&&i._OriginalTriggerValidateFieldGroup){i._getFieldGroupIds=i._OriginalGetFieldGroupIds;delete i._OriginalGetFieldGroupIds;i.triggerValidateFieldGroup=i._OriginalTriggerValidateFieldGroup;delete i._OriginalTriggerValidateFieldGroup;}}
function i1(i){this.setProperty("_fieldHelpEnabled",true,true);this._sDefaultFieldHelp=z[i].id;var j=z[i].control;if(j&&j.bIsDestroyed){z[i].control=undefined;j=undefined;}if(!j){if(z[i].promise){z[i].promise.then(j1.bind(this,z[i].id));}var R1=sap.ui.require(z[i].name);if(!R1&&!z[i].promise){z[i].promise=new Promise(function(U1){z[i].resolve=U1;sap.ui.require([z[i].name],function(V1){i1.call(this,i);}.bind(this));}.bind(this)).then(j1.bind(this,z[i].id));}if(R1){var S1=this.bDelegateInitialized&&this.getControlDelegate()[z[i].getDelegate]();var T1=m({delegate:S1},z[i].properties);j=new R1(z[i].id,T1);j._bIsDefaultHelp=true;z[i].control=j;j.connect(this);if(z[i].resolve){z[i].resolve();delete z[i].resolve;}if(!z[i].promise){j1.call(this,z[i].id);}}}else{j1.call(this,z[i].id);}U.call(this,false);}
function j1(i){w1.call(this,i,"insert");}
function k1(i,j,R1,S1){var T1=i.getUseDefaultFieldHelp();if(T1&&!this.getFieldHelp()&&R1!==E.Display){if((S1===1&&T1.single)||(S1!==1&&T1.multi)){if(j.length===1){var U1=l1.call(this,j);if(S1===1){if(!(i.getEditOperator()&&i.getEditOperator()[j[0]])&&(T1.oneOperatorSingle||!U1)){return true;}}else if(T1.oneOperatorMulti||!U1){return true;}}else{return true;}}}return false;}
function l1(i){if(i.length===1){var j=b.getOperator(i[0]);return!j||j.isSingleValue();}else{return false;}}
function m1(i){this._bParseError=true;this._sFilterValue="";}
function n1(R1){this._bParseError=true;this._sFilterValue="";var S1=R1.getParameter("newValue");var T1=false;var i=0;for(i=0;i<this._aAsyncChanges.length;i++){var U1=this._aAsyncChanges[i];if(U1.waitForUpdate&&Array.isArray(U1.result)){if(U1.result.length===0&&S1===""){U1.reject(R1.getParameter("exception"));T1=true;}else{for(var j=0;j<U1.result.length;j++){var V1=U1.result[j];if(k(V1.values[0],S1)||(V1.operator==="BT"&&k(V1.values[1],S1))){U1.reject(R1.getParameter("exception"));T1=true;break;}}}if(T1){break;}}}if(T1){this._aAsyncChanges.splice(i,1);}}
function o1(i){this._bParseError=false;}
function p1(i){var j={parameters:m({},i.getParameters()),source:i.getSource()};var R1=this._aAsyncChanges.length;if(R1>0&&!this._aAsyncChanges[R1-1].changeFired){this._aAsyncChanges[R1-1].changeFired=true;this._aAsyncChanges[R1-1].changeEvent=j;A.call(this,undefined,undefined,undefined,this._aAsyncChanges[R1-1].promise);return;}var S1={changeEvent:j};q1.call(this,S1);}
function q1(i){var j=this.getConditions();var R1;var S1=true;var T1;var U1;var V1=i.changeEvent.source;var W1=false;var X1=true;var Y1=false;if(i.changeEvent.parameters.hasOwnProperty("valid")){S1=i.changeEvent.parameters["valid"];if(!S1&&i.changeEvent.parameters.hasOwnProperty("value")){T1=i.changeEvent.parameters["value"];}}var Z1=false;var $1=this._oContentFactory.getBoundProperty();var _1=$1&&V1.getBinding($1);if(_1&&_1.getBindingMode()!==o.OneWay&&_1.getPath()==="/conditions"&&S1){U1=j[0];R1=j[0]&&j[0].values[0];}else if(i.changeEvent.parameters.hasOwnProperty("value")){R1=i.changeEvent.parameters["value"];if(S1){Z1=true;}}else{U1=j[0];R1=j[0]&&j[0].values[0];}if(Z1){this._removeUIMessage();var a2;var b2;if(this._bIgnoreInputValue){this._bIgnoreInputValue=false;V1.setDOMValue("");if(V1.getMetadata().hasProperty("value")){V1.setValue();}return;}U1=S.resolve().then(function(){var d2=this.getMaxConditions();if(this._oNavigateCondition){S1=true;return this._oNavigateCondition;}else if(R1===""&&d2!==1){return null;}else{a2=this._oContentFactory.getConditionType();var e2=a2.parseValue(R1);var f2=this._aAsyncChanges.length;if(f2>0&&!this._aAsyncChanges[f2-1].changeFired){b2=this._aAsyncChanges[f2-1];b2.changeFired=true;b2.changeEvent=i.changeEvent;A.call(this,undefined,undefined,undefined,b2.promise);}return e2;}}.bind(this)).then(function(U1){X1=r1.call(this,U1,j,a2,S1,R1,V1,b2||i);X1=X1||Y1;return U1;}.bind(this)).catch(function(d2){if(d2&&!(d2 instanceof P)&&!(d2 instanceof p)&&!(d2 instanceof V)){throw d2;}S1=false;T1=R1;this._bParseError=true;this._sFilterValue="";Q.call(this,d2.message);if(b2&&b2.reject){if(O1.call(this,b2)){b2.reject(d2);}}else if(W1){A.call(this,j,S1,T1);}}.bind(this)).unwrap();if(U1 instanceof Promise){W1=true;}}else if(!i.changeEvent.parameters.hasOwnProperty("valid")&&this._bParseError){T1=i.changeEvent.parameters["value"];S1=false;}var c2=y1.call(this);if(c2&&this._bConnected){if(sap.ui.getCore().getCurrentFocusedControlId()===V1.getId()){c2.close();}this._sFilterValue="";if(!W1&&S1){z1.call(this,j,c2);c2.onControlChange();}t1.call(this);}if(this._oNavigateCondition){this._oNavigateCondition=undefined;this._oContentFactory.updateConditionType();}if(i.resolve){N1.call(this,i);}else if(!W1&&X1){A.call(this,j,S1,T1);}}
function r1(i,j,R1,S1,T1,U1,V1){var W1=this.getMaxConditions();var X1=false;if(i===null&&W1!==1){return true;}if(R1){R1.validateValue(i);}if(S1){if(i){if(this._oContentFactory.isMeasure()&&j.length===1&&j[0].values[0][0]===undefined){j=[];}if(W1!==1&&b.indexOfCondition(i,j)>=0){throw new P(this._oResourceBundle.getText("field.CONDITION_ALREADY_EXIST",[T1]));}else{if(W1>0&&W1<=j.length){j.splice(0,j.length-W1+1);}j.push(i);}}else if(W1===1){j=[];}if(!k(j,this.getConditions())){this.setProperty("conditions",j,true);X1=true;}if(W1!==1){U1.setValue("");}}if(V1.resolve){var Y1=y1.call(this);if(Y1&&this._bConnected){z1.call(this,j,Y1);Y1.onControlChange();}V1.result=j;N1.call(this,V1);O1.call(this,V1);}return X1;}
function s1(j){var R1;var S1;var T1=false;var U1=j.getSource();this._oNavigateCondition=undefined;this._oContentFactory.updateConditionType();if("value"in j.getParameters()){R1=j.getParameter("value");}else if("newValue"in j.getParameters()){R1=j.getParameter("newValue");}if("escPressed"in j.getParameters()){T1=j.getParameter("escPressed");}if("previousValue"in j.getParameters()){S1=j.getParameter("previousValue");}else{var V1=this.getConditions();S1=V1[0]&&V1[0].values[0];}var W1=y1.call(this);if(W1&&(!this._oContentFactory.isMeasure()||U1.getShowValueHelp())){if(T1){if(W1.isOpen(true)){W1.close();z1.call(this,this.getConditions(),W1);t1.call(this);this._sFilterValue="";}}else{var X1=this._getOperators();var Y1=false;for(var i=0;i<X1.length;i++){var Z1=b.getOperator(X1[i]);if(Z1.validateInput){Y1=true;break;}}if(Y1){this._bIgnoreInputValue=false;this._vLiveChangeValue=R1;if(!this._fnLiveChangeTimer){this._fnLiveChangeTimer=t(function(){var _1=this.getDisplay();this._sFilterValue="";if(this._vLiveChangeValue){var Z1=b.getEQOperator();var a2=Z1.getValues(this._vLiveChangeValue,_1,true);if(a2[0]){this._sFilterValue=a2[0];if(a2[1]){this._sFilterValue=this._sFilterValue+" ";}}if(a2[1]){this._sFilterValue=this._sFilterValue+a2[1];}}var $1=this.hasOwnProperty("_bOpenByTyping")?this._bOpenByTyping:W1.isTypeaheadSupported();if(this._bConnected&&this._getContent()[0]&&$1&&(sap.ui.getCore().getCurrentFocusedControlId()===this._getContent()[0].getId()||(this._getContent()[1]&&sap.ui.getCore().getCurrentFocusedControlId()===this._getContent()[1].getId()))){W1.setFilterValue(this._sFilterValue);if(this.getMaxConditionsForHelp()===1&&W1.getConditions().length>0){W1.setConditions([]);}W1.open(true);U.call(this,true);delete this._vLiveChangeValue;}}.bind(this),300,{leading:false,trailing:true});W1.initBeforeOpen(true);}var $1=W1.isTypeaheadSupported();if($1 instanceof Promise){$1.then(function(_1){var a2=document.activeElement;if(a2&&(n(this.getDomRef(),a2))&&this._fnLiveChangeTimer){this._fnLiveChangeTimer();}this._bOpenByTyping=_1;}.bind(this));}this._fnLiveChangeTimer();}}}this.fireLiveChange({value:R1,escPressed:T1,previousValue:S1});}
function t1(){if(this._fnLiveChangeTimer){this._fnLiveChangeTimer.cancel();delete this._vLiveChangeValue;}}
function u1(i){var j=this.getFieldInfo();if(j){j.getTriggerHref().then(function(R1){if(!R1){j.open(this._getContent()[0]);U.call(this,true);}}.bind(this));}this.firePress();}
function v1(j){if(j.getParameter("type")==="removed"){var R1=j.getParameter("removedTokens");var S1=this.getConditions();var T1;var i;for(i=0;i<R1.length;i++){var U1=R1[i];var V1=U1.getBindingContext("$field").sPath;var W1=parseInt(V1.slice(V1.lastIndexOf("/")+1));S1[W1].delete=true;}for(i=S1.length-1;i>=0;i--){if(S1[i].delete){if(this._oContentFactory.isMeasure()){T1=S1[i].values[0][1];}S1.splice(i,1);}}if(this._oContentFactory.isMeasure()&&T1&&S1.length===0){S1=[c.createItemCondition([undefined,T1],undefined)];}this.setProperty("conditions",S1,true);G.call(this,S1,true);j.preventDefault(true);}}
function w1(i,j){if(j==="remove"){var R1=sap.ui.getCore().byId(i);if(R1){R1.detachEvent("select",B1,this);R1.detachEvent("navigated",C1,this);R1.detachEvent("dataUpdate",F1,this);R1.detachEvent("disconnect",G1,this);R1.detachEvent("afterClose",D1,this);R1.detachEvent("switchToValueHelp",E1,this);}this.setProperty("_fieldHelpEnabled",false,true);this._bConnected=false;}else if(j==="insert"){x1.call(this,i);}var S1=this._getContent()[0];if(S1&&S1.setValueHelpIconSrc){S1.setValueHelpIconSrc(this._getFieldHelpIcon());}O.call(this,this.getConditions());}
function x1(i){if(i&&!this.getProperty("_fieldHelpEnabled")){var j=sap.ui.getCore().byId(i);if(j){j.attachEvent("dataUpdate",F1,this);if(!j.valueHelpEnabled||j.valueHelpEnabled()){this.setProperty("_fieldHelpEnabled",true,true);}}}}
function y1(){var i=this.getFieldHelp();var j;if(!i&&this._sDefaultFieldHelp){i=this._sDefaultFieldHelp;}if(i){j=sap.ui.getCore().byId(i);}return j;}
function z1(j,R1){if(!R1){R1=y1.call(this);}if(this._oContentFactory.isMeasure()){var S1=[];for(var i=0;i<j.length;i++){var T1=j[i];if(T1.values[0]&&T1.values[0][1]){var U1=c.createItemCondition(T1.values[0][1],undefined,T1.inParameters,T1.outParameters);S1.push(U1);}}R1.setConditions(S1);}else{R1.setConditions(j);}}
function A1(i){var j=y1.call(this);if(j){j.setFilterValue(this._sFilterValue);var R1=this.getConditions();z1.call(this,R1,j);j.toggleOpen(false);U.call(this,true);if(!j.isFocusInHelp()){var S1=i.getSource();if(S1.bValueHelpRequested){S1.bValueHelpRequested=false;}}}}
function B1(j){var R1=this.getConditions();var S1=j.getParameter("conditions");var T1=j.getParameter("add");var U1=j.getParameter("close");var V1=j.oSource;var W1=this.getMaxConditions();var X1;var Y1=this.getControlForSuggestion();var Z1;var i=0;if(this._oContentFactory.isMeasure()){if(S1.length>1){throw new Error("Only one item must be selected! "+this);}if(S1[0].operator!=="EQ"){throw new Error("Only EQ allowed! "+this);}if(R1.length>0){for(i=0;i<R1.length;i++){R1[i].values[0][1]=S1[0].values[0];if(R1[i].operator==="BT"){R1[i].values[1][1]=S1[0].values[0];}if(S1[0].inParameters){R1[i].inParameters=S1[0].inParameters;}if(S1[0].outParameters){R1[i].outParameters=S1[0].outParameters;}if(S1[0].payload){R1[i].payload=S1[0].payload;}}}else{var $1=b.getEQOperator(this._getOperators());var _1=this.getControlDelegate().enhanceValueForUnit(this.getPayload(),[null,S1[0].values[0]],this._oTypeInitialization);X1=c.createCondition($1.name,[_1],S1[0].inParameters,S1[0].outParameters,C.NotValidated);R1.push(X1);var a2=this._oContentFactory.getConditionType(true);var b2=this._oContentFactory.getUnitConditionsType(true);if(a2){Z1=a2.formatValue(X1);}else if(b2){Z1=b2.formatValue(R1);}}}else{if(!T1){R1=[];}for(i=0;i<S1.length;i++){X1=S1[i];if(!P1.call(this,X1.operator)){continue;}var c2=T1?-1:b.indexOfCondition(X1,R1);if(c2===-1){R1.push(X1);}else if(X1.values[1]!==R1[c2].values[1]&&R1[c2].values[1]){R1[c2].values[1]=X1.values[1];}}}if(W1>0&&W1<R1.length){R1.splice(0,R1.length-W1);}var d2=false;if(Y1&&Y1.setDOMValue){if(this.getMaxConditionsForHelp()===1&&R1.length>0){if(this._oContentFactory.isMeasure()&&this._oContentFactory.getUnitConditionsType()){Z1=this._oContentFactory.getUnitConditionsType().formatValue(R1);}else if(this._oContentFactory.getConditionType(true)){Z1=this._oContentFactory.getConditionType().formatValue(R1[0]);}else if(this._oContentFactory.getConditionsType(true)){Z1=this._oContentFactory.getConditionsType().formatValue(R1);}if(Z1 instanceof Promise){Z1.then(function(f2){Y1.setDOMValue("");Y1.setDOMValue(f2);});}else{Y1.setDOMValue("");Y1.setDOMValue(Z1);}this._sFilterValue="";}else if(U1){if(this.getMaxConditions()!==1&&!this._oContentFactory.getBoundProperty()&&Y1.getMetadata().hasProperty("value")&&Y1.getProperty("value")){Y1.setValue();}Y1.setDOMValue("");this._sFilterValue="";this._bIgnoreInputValue=false;}else{this._bIgnoreInputValue=true;}if(this._bParseError){this._bParseError=false;this._removeUIMessage();d2=true;}}var e2=this.getConditions();if(!k(R1,e2)){this._oNavigateCondition=undefined;this._oContentFactory.updateConditionType();this.setProperty("conditions",R1,true);if(!b.compareConditionsArray(R1,e2)){V1.onControlChange();A.call(this,R1,true);}}else if(d2){A.call(this,R1,true);}}
function C1(i){var j=i.getParameter("value");var R1=i.getParameter("key");var S1=i.getParameter("condition");var T1=i.getParameter("itemId");var U1=i.getParameter("leaveFocus");if(!S1&&R1){S1=c.createItemCondition(R1,j);}var V1;var W1;var X1=this.getControlForSuggestion();var Y1=b.getEQOperator(this._getOperators());var Z1=y1.call(this);if(U1){X1.addStyleClass("sapMFocus");X1.focus();Z1.removeFocus();return;}if(S1){this._oNavigateCondition=m({},S1);this._oNavigateCondition.operator=Y1.name;R1=S1.values[0];j=S1.values[1];}else{this._oNavigateCondition=c.createCondition(Y1.name,[R1,j],undefined,undefined,C.Validated);}if(this._oContentFactory.isMeasure()){var $1=this.getConditions();if($1.length>0){this._oNavigateCondition.operator=$1[0].operator;this._oNavigateCondition.values[0]=[$1[0].values[0][0],R1];if($1[0].operator==="BT"){this._oNavigateCondition.values[1]=[$1[0].values[1][0],this._oNavigateCondition.values[0][1]];}else if(this._oNavigateCondition.values.length>1){this._oNavigateCondition.values.splice(1);}}else{this._oNavigateCondition.values=[this.getControlDelegate().enhanceValueForUnit(this.getPayload(),[null,R1],this._oTypeInitialization)];}}this._bPreventGetDescription=true;this._oContentFactory.updateConditionType();if(this.getDisplay()!==F.Value){V1=R1;}else if(j){V1=j;}else{V1=R1;}if(X1&&X1.setDOMValue){if(!W1){if(this._oContentFactory.isMeasure()&&this._oContentFactory.getUnitConditionsType()&&this._oNavigateCondition){W1=this._oContentFactory.getUnitConditionsType().formatValue([this._oNavigateCondition]);}else if(this._oContentFactory.getConditionType(true)&&this._oNavigateCondition){W1=this._oContentFactory.getConditionType().formatValue(this._oNavigateCondition);}else if(this._oContentFactory.getConditionsType(true)&&this._oNavigateCondition){W1=this._oContentFactory.getConditionsType().formatValue([this._oNavigateCondition]);}else{W1=j||R1;}}X1.setDOMValue(W1);X1._doSelect();if(Z1.isOpen()){X1.removeStyleClass("sapMFocus");}}this._bPreventGetDescription=false;this._oContentFactory.updateConditionType();U.call(this,true,T1);this._bIgnoreInputValue=false;this.fireLiveChange({value:V1});}
function D1(i){if(this._bIgnoreInputValue){var j=this.getControlForSuggestion();this._bIgnoreInputValue=false;j.setDOMValue("");this._sFilterValue="";if(this.getMaxConditions()!==1&&!this._oContentFactory.getBoundProperty()&&j.getMetadata().hasProperty("value")&&j.getProperty("value")){j.setValue();}}U.call(this,false);var R1=i.getSource();var S1=this.getConditions();z1.call(this,S1,R1);}
function E1(i){var j=this.getControlForSuggestion();j.focus();if(j.fireValueHelpRequest){j.bValueHelpRequested=true;j.fireValueHelpRequest();}}
function F1(i){var j=this.getEditMode()===E.Editable&&this._getContent().length>0&&sap.ui.getCore().getCurrentFocusedControlId()===this._getContent()[0].getId();if(!j&&!this._bPendingConditionUpdate&&this.getConditions().length>0&&(this.getMaxConditions()!==1||(this.getDisplay()!==F.Value&&!this._bParseError))&&this._oManagedObjectModel){this._oManagedObjectModel.checkUpdate(true);}}
function G1(i){var j=y1.call(this);j.detachEvent("select",B1,this);j.detachEvent("navigated",C1,this);j.detachEvent("disconnect",G1,this);j.detachEvent("afterClose",D1,this);j.detachEvent("switchToValueHelp",E1,this);j.detachEvent("closed",D1,this);this._bConnected=false;}
function H1(){var i=y1.call(this);if(i&&!this._bConnected){var j=Q1.call(this);var R1;var S1=this._oContentFactory.isMeasure();if(S1){var T1=this._oContentFactory.getCompositeTypes();if(T1&&T1.length>1){R1=T1[1];}}else{R1=this._oContentFactory.getDataType();}var U1={maxConditions:this.getMaxConditions(),dataType:R1,operators:this._getOperators(),display:S1?F.Value:this.getDisplay(),delegate:this.getControlDelegate(),delegateName:this.getDelegate()&&this.getDelegate().name,payload:this.getPayload(),conditionModel:j.model,conditionModelName:j.name,defaultOperatorName:this.getDefaultOperator?this.getDefaultOperator():null};i.connect(this,U1);this._bConnected=true;i.attachEvent("select",B1,this);i.attachEvent("navigated",C1,this);i.attachEvent("disconnect",G1,this);i.attachEvent("afterClose",D1,this);i.attachEvent("switchToValueHelp",E1,this);i.attachEvent("closed",D1,this);var V1=this.getConditions();z1.call(this,V1,i);var W1=this.getControlForSuggestion();I1.call(this,W1);if(i._bIsDefaultHelp&&i.setTitle){i.setTitle(this.getLabel());}}}
function I1(i){if(i&&!i.orgOnsapfocusleave&&i.onsapfocusleave){i.orgOnsapfocusleave=i.onsapfocusleave;i.onsapfocusleave=function(j){var R1=y1.call(this.getParent());if(R1){var S1=sap.ui.getCore().byId(j.relatedControlId);if(S1){if(n(R1.getDomRef(),S1.getFocusDomRef())){j.stopPropagation();return;}else{R1.skipOpening();}}}this.orgOnsapfocusleave(j);};}}
w.prototype._getFieldHelpIcon=function(){var i=y1.call(this);if(i){return i.getIcon();}};
function J1(i,j){if(j==="remove"){i.detachEvent("dataUpdate",K1,this);}else if(j==="insert"){i.attachEvent("dataUpdate",K1,this);K1.call(this);}}
function K1(){var i=this.getFieldInfo();var j=this;i.isTriggerable().then(function(R1){j._bTriggerable=R1;var S1=j.getAggregation("_content",[]);if(S1.length>0&&j.getEditMode()===E.Display){$.call(j);if(j._bTriggerable){S1=j.getAggregation("_content",[]);var T1=S1[0];i.getDirectLinkHrefAndTarget().then(function(U1){f._updateLink(T1,U1);});}}});}
w.prototype._getFormatOptions=function(){if(!this._asyncParsingCall){this._asyncParsingCall=L1.bind(this);}var i=Q1.call(this);return{valueType:this._oContentFactory.retrieveDataType(),originalDateType:this._oContentFactory.getDateOriginalType()||this._oContentFactory.getUnitOriginalType(),additionalType:this._oContentFactory.getUnitType(),compositeTypes:this._oContentFactory.getCompositeTypes(),display:this._oContentFactory.isMeasure()?F.Value:this.getDisplay(),fieldHelpID:this._oContentFactory.isMeasure()?undefined:this.getFieldHelp()||this._sDefaultFieldHelp,operators:this._getOperators(),hideOperator:this._oContentFactory.getHideOperator(),maxConditions:this.getMaxConditions(),bindingContext:this.getBindingContext(),asyncParsing:this._asyncParsingCall,navigateCondition:this._oNavigateCondition,delegate:this.getControlDelegate(),delegateName:this.getDelegate()&&this.getDelegate().name,payload:this.getPayload(),preventGetDescription:this._bPreventGetDescription,conditionModel:i.model,conditionModelName:i.name,convertWhitespaces:this.getEditMode()===E.Display||this.getMaxConditions()!==1,control:this,defaultOperatorName:this.getDefaultOperator?this.getDefaultOperator():null};};
w.prototype._checkValueInitial=function(i){if(i===null||i===undefined){return true;}if(i===""||(typeof(i)==="string"&&i.match(/^0+$/))){var j=this._oContentFactory.retrieveDataType();var R1=j.parseValue("","string");if(R1===i){return true;}else{try{j.validateValue(R1);}catch(S1){return true;}}}else{var T1=I.call(this);if(this.getTypeUtil().getBaseType(T1)===B.Unit&&Array.isArray(i)&&i.length>1&&(i[0]===undefined||i[0]===null)&&!i[1]){return true;}}return false;};
w.prototype._getUnitFormatOptions=function(){if(!this._asyncParsingCall){this._asyncParsingCall=L1.bind(this);}var i=Q1.call(this);return{valueType:this._oContentFactory.getUnitType(),originalDateType:this._oContentFactory.getDateOriginalType()||this._oContentFactory.getUnitOriginalType(),additionalType:this._oContentFactory.retrieveDataType(),compositeTypes:this._oContentFactory.getCompositeTypes(),display:this.getDisplay(),fieldHelpID:this.getFieldHelp()||this._sDefaultFieldHelp,operators:["EQ"],hideOperator:true,maxConditions:1,bindingContext:this.getBindingContext(),asyncParsing:this._asyncParsingCall,navigateCondition:this._oNavigateCondition,delegate:this.getControlDelegate(),delegateName:this.getDelegate()&&this.getDelegate().name,payload:this.getPayload(),preventGetDescription:this._bPreventGetDescription,conditionModel:i.model,conditionModelName:i.name,convertWhitespaces:this.getEditMode()===E.Display||this.getEditMode()===E.EditableDisplay,control:this,getConditions:this.getConditions.bind(this)};};
function L1(i){var j=y1.call(this);if(j&&j.isOpen()){var R1=document.activeElement;if(R1&&(n(this.getDomRef(),R1)||n(j.getDomRef(),R1))){j.close();}}var S1={};var T1=new Promise(function(U1,V1){S1.resolve=U1;S1.reject=V1;i.then(function(W1){S1.result=W1;this._bParseError=false;var X1=this.getConditions();if(k(W1,X1)){N1.call(this,S1);O1.call(this,S1);}else{S1.waitForUpdate=true;}}.bind(this)).catch(function(W1){if(W1&&!(W1 instanceof P)&&!(W1 instanceof p)&&!(W1 instanceof V)){throw W1;}this._bParseError=true;V1(W1);O1.call(this,S1);}.bind(this));}.bind(this));S1.promise=T1;this._aAsyncChanges.push(S1);}
function M1(){var j=[];for(var i=0;i<this._aAsyncChanges.length;i++){j.push(this._aAsyncChanges[i].promise);}if(j.length>0){return Promise.all(j).then(function(){return this._getResultForPromise(this.getConditions());}.bind(this));}return null;}
w.prototype._getResultForPromise=function(i){return i;};
function N1(i){i.resolve(this._getResultForPromise(i.result));}
function O1(j){var R1=false;var i=0;for(i=0;i<this._aAsyncChanges.length;i++){if(j===this._aAsyncChanges[i]){R1=true;break;}}if(R1){this._aAsyncChanges.splice(i,1);}return R1;}
w.prototype._getOperators=function(){var i=new RegExp("^\\*(.*)\\*|\\$search$");if(i.test(this.getFieldPath())&&this.getMaxConditions()===1){return["Contains"];}var j=this.getBaseType();if(j===B.Unit){j=B.Numeric;}return b.getOperatorsForType(j);};
function P1(j){var R1=this._getOperators();for(var i=0;i<R1.length;i++){if(j===R1[i]){return true;}}return false;}
function Q1(){var i;var j;var R1=this.getBinding("conditions");if(R1){var S1=R1.getModel();if(S1&&S1.isA("sap.ui.mdc.condition.ConditionModel")){i=S1;var T1=this.getBindingInfo("conditions");if(T1.model){j=T1.model;}else if(T1.parts&&T1.parts.length===1){j=T1.parts[0].model;}}}return{name:j,model:i};}
w.prototype._isPropertyInitial=function(i){if(this.isBound(i)&&!this.getBinding(i)){return!Object.prototype.hasOwnProperty.call(this.mProperties,i);}else{return this.isPropertyInitial(i);}};
return w;});
sap.ui.predefine('sap/ui/mdc/field/FieldBaseRenderer',['sap/ui/core/Renderer','sap/ui/core/IconPool','sap/ui/mdc/enum/EditMode'],function(R,I,E){"use strict";
var F=R.extend("sap.ui.mdc.field.FieldBaseRenderer");
F=Object.assign(F,{apiVersion:2});
F.render=function(r,f){var c=f._getContent();var w=f.getWidth();var C=f.getConditions();var e=f.getEditMode();var s=f.getShowEmptyIndicator()&&C.length===0&&e===E.Display&&!f.getContent()&&!f.getContentDisplay();r.openStart("div",f);r.class("sapUiMdcFieldBase");if(c.length>1){r.class("sapUiMdcFieldBaseMoreFields");}if(s){r.class("sapMShowEmpty-CTX");}r.style("width",w);r.openEnd();for(var i=0;i<c.length;i++){var o=c[i];r.renderControl(o);}r.close("div");};
return F;});
sap.ui.predefine('sap/ui/mdc/field/FieldInputRenderUtil',['sap/ui/core/InvisibleText'],function(I){"use strict";var F={getAriaRole:function(i,r){var a=i.getAriaAttributes();if(a.role){return a.role;}else{return r.getAriaRole.apply(this,arguments);}},getAccessibilityState:function(o,r){var a=o.getAriaAttributes();var A=r.getAccessibilityState.apply(this,arguments);if(a.aria){for(var s in a.aria){A[s]=a.aria[s];}}if(!a.valueHelpEnabled&&A.describedby){var v=I.getStaticId("sap.m","INPUT_VALUEHELP");var b=A.describedby.value.split(" ");var c="";for(var i=0;i<b.length;i++){var d=b[i];if(d!==v){c=c?c+" "+d:d;}}if(c){A.describedby.value=c;}else{delete A.describedby;}}return A;},writeInnerAttributes:function(r,i,R){R.writeInnerAttributes.apply(this,arguments);var a=i.getAriaAttributes();for(var A in a){if(A!=="aria"&&A!=="role"&&A!=="valueHelpEnabled"){r.attr(A,a[A]);}}}};return F;});
sap.ui.predefine('sap/ui/mdc/field/FieldInputRenderer',['sap/ui/core/Renderer','sap/m/InputRenderer','sap/ui/mdc/field/FieldInputRenderUtil'],function(R,I,F){"use strict";var a=R.extend(I);a.apiVersion=2;
a.addOuterClasses=function(r,i){I.addOuterClasses.apply(this,arguments);r.class("sapUiMdcFieldInput");};
a.getAriaRole=function(i){return F.getAriaRole.call(this,i,I);};
a.getAccessibilityState=function(i){return F.getAccessibilityState.call(this,i,I);};
a.writeInnerAttributes=function(r,i){return F.writeInnerAttributes.call(this,r,i,I);};
return a;});
sap.ui.predefine('sap/ui/mdc/field/FieldMultiInputRenderer',['sap/ui/core/Renderer','sap/m/MultiInputRenderer','sap/ui/mdc/field/FieldInputRenderUtil'],function(R,M,F){"use strict";var a=R.extend(M);a.apiVersion=2;
a.addOuterClasses=function(r,m){M.addOuterClasses.apply(this,arguments);r.class("sapUiMdcFieldMultiInput");};
a.getAriaRole=function(m){return F.getAriaRole.call(this,m,M);};
a.getAccessibilityState=function(m){return F.getAccessibilityState.call(this,m,M);};
a.writeInnerAttributes=function(r,m){return F.writeInnerAttributes.call(this,r,m,M);};
return a;});
sap.ui.predefine('sap/ui/mdc/field/ListFieldHelpItem',['sap/ui/core/ListItem'],function(L){"use strict";
var a=L.extend("sap.ui.mdc.field.ListFieldHelpItem",{metadata:{library:"sap.ui.mdc",properties:{groupKey:{type:"any",group:"Appearance",defaultValue:null},groupText:{type:"string",group:"Appearance",defaultValue:null}}}});
return a;});
sap.ui.predefine('sap/ui/mdc/field/TokenDisplayRenderer',['sap/ui/core/Renderer','sap/m/TokenRenderer'],function(R,T){"use strict";var a=R.extend(T);a.apiVersion=2;
a._setAttributes=function(r,c){T._setAttributes(r,c);r.attr("delimiter",c.getProperty("_delimiter"));};
return a;});
sap.ui.predefine('sap/ui/mdc/field/TokenizerDisplayRenderer',['sap/ui/core/Renderer','sap/m/TokenizerRenderer','sap/m/library','sap/ui/core/Core'],function(R,T,l,C){"use strict";var E=l.EmptyIndicatorMode;var r=C.getLibraryResourceBundle("sap.m");var a=R.extend(T);a.apiVersion=2;
a._renderIndicator=function(o,c){T._renderIndicator.apply(this,arguments);if(c.getEmptyIndicatorMode()!==E.Off&&c.getTokens().length==0){this._renderEmptyIndicator(o,c);}};
a._renderTabIndex=function(o,c){o.attr("tabindex","-1");};
a._renderIndicatorTabIndex=function(o,c){o.attr("tabindex","0");};
a._renderEmptyIndicator=function(o,c){o.openStart("span");o.class("sapMEmptyIndicator");if(c.getEmptyIndicatorMode()===E.Auto){o.class("sapMEmptyIndicatorAuto");}o.openEnd();o.openStart("span");o.attr("aria-hidden",true);o.openEnd();o.text(r.getText("EMPTY_INDICATOR"));o.close("span");o.openStart("span");o.class("sapUiPseudoInvisibleText");o.openEnd();o.text(r.getText("EMPTY_INDICATOR_TEXT"));o.close("span");o.close("span");};
return a;});
sap.ui.predefine('sap/ui/mdc/field/ValueHelpPanel',['sap/ui/core/XMLComposite','sap/ui/model/json/JSONModel','sap/ui/model/Filter','sap/ui/base/ManagedObjectObserver','sap/base/strings/formatMessage','sap/ui/model/resource/ResourceModel','sap/m/Tokenizer','sap/ui/mdc/enum/ConditionValidated'],function(X,J,F,M,f,R,T,C){"use strict";
var V=X.extend("sap.ui.mdc.field.ValueHelpPanel",{
metadata:{library:"sap.ui.mdc",properties:{showTokenizer:{type:"boolean",group:"Data",defaultValue:true},showFilterbar:{type:"boolean",group:"Data",defaultValue:true},conditions:{type:"object[]",group:"Data",defaultValue:[],byValue:true},formatOptions:{type:"object",defaultValue:{}},inputOK:{type:"boolean",defaultValue:true},_filterBarVisible:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"}}},
fragment:"sap.ui.mdc.field.ValueHelpPanel",
init:function(){var m=this._getManagedObjectModel();m.setSizeLimit(1000000);if(!this._oTokenizer){this._oTokenizer=this.byId("VHPTokenizer");this._oTokenizer.addAriaDescribedBy(this._oTokenizer.getTokensInfoId());this._oTokenizer._oScroller.setHorizontal(true);}this._oTokenizerPanel=this.byId("VHPTokenizerPanel");this._oFilterVBox=this.byId("filterbarVBox");this._oFilterVBox._oValueHelpPanel=this;this._oFilterVBox.getItemsOriginal=this._oFilterVBox.getItems;this._oFilterVBox.getItems=function(){var i=this.getItemsOriginal();if(this._oValueHelpPanel._oFilterbar&&this._oValueHelpPanel.getProperty("_filterBarVisible")){i.push(this._oValueHelpPanel._oFilterbar);}return i;};this._oTablePanel=this.byId("tablePanel");this._oTablePanel._oValueHelpPanel=this;this._oTablePanel.getContentOriginal=this._oTablePanel.getContent;this._oTablePanel.getContent=function(){var c=this.getContentOriginal();if(this._oValueHelpPanel._oTable){c.push(this._oValueHelpPanel._oTable);}return c;};this._oObserver=new M(_.bind(this));this._oObserver.observe(this,{properties:["formatOptions","showFilterbar","showTokenizer","_filterBarVisible"]});this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");},
exit:function(){if(!this.getShowTokenizer()){this._oTokenizerPanel.destroy();}if(this._oDefineConditionPanel&&!this._oDefineConditionPanel.getParent()){this._oDefineConditionPanel.destroy();}this._oObserver.disconnect();this._oObserver=undefined;this._oTablePanel=null;this._oFilterVBox=null;this._oResourceBundle=null;},
onBeforeRendering:function(){if(!this.getModel("$i18n")){this.setModel(new R({bundleName:"sap/ui/mdc/messagebundle",async:false}),"$i18n");}},
setFilterbar:function(o){var s=this.getShowFilterbar();if(this._oFilterbar){if(this._bFilterbarParentSet){this._oFilterbar.setParent();delete this._bFilterbarParentSet;}}this._oFilterbar=o;if(o){if(!o.getParent()){o.setParent(this);this._bFilterbarParentSet=true;}o.getParent().getDirection=this._oFilterVBox.getDirection.bind(this._oFilterVBox);}var i=this.byId("iconTabBar");i.getItems()[0].setVisible(i.getItems()[0].getContent().length>0);i.setSelectedKey("selectFromList");this._updateITBHeaderVisiblity();this.setProperty("_filterBarVisible",s&&!!this._oFilterbar,true);},
setTable:function(t){if(this._oTable){if(this._bTableParentSet&&this._oTable.getParent()){this._oTable.setParent();}delete this._bTableParentSet;}this._oTable=t;if(t){if(!t.getParent()){t.setParent(this);this._bTableParentSet=true;}}this._oTablePanel.invalidate();var i=this.byId("iconTabBar");i.getItems()[0].setVisible(i.getItems()[0].getContent().length>0);i.setSelectedKey("selectFromList");this._updateITBHeaderVisiblity();},
getTable:function(){if(this._oTable){return this._oTable;}else{return undefined;}},
setDefineConditions:function(d){var i=this.byId("iconTabBar");var p=this.byId("defineConditionPanel");if(this._oDefineConditionPanel){p.removeContent(this._oDefineConditionPanel);this._oDefineConditionPanel.destroy();}this._oDefineConditionPanel=d;i.getItems()[1].setVisible(!!this._oDefineConditionPanel);this._updateITBHeaderVisiblity();},
_updateITBHeaderVisiblity:function(){var i=this.byId("iconTabBar");if(i.getItems()[0].getVisible()&&i.getItems()[1].getVisible()){i.removeStyleClass("sapMdcNoHeader");}else{i.addStyleClass("sapMdcNoHeader");}if(i.getItems()[1].getVisible()&&i.getSelectedKey()!=="selectFromList"){a.call(this);}},
_handleTokenDelete:function(e){if(e.getParameter("tokens")){var r=e.getParameter("tokens");var c=this.getConditions();var i;for(i=0;i<r.length;i++){var o=r[i];var p=o.getBindingContext("$this").sPath;var I=parseInt(p.slice(p.lastIndexOf("/")+1));c[I].delete=true;}for(i=c.length-1;i>=0;i--){if(c[i].delete){c.splice(i,1);}}this.setProperty("conditions",c,true);}},
_onRemoveAllConditions:function(e){this.setProperty("conditions",[],true);},
iconTabSelect:function(e){var k=e.getParameter("key");if(k==="defineCondition"){a.call(this);}},
_formatListTabTitle:function(t,c){var b=0;for(var i=0;i<c.length;i++){var o=c[i];if(o.isEmpty!==true&&o.validated===C.Validated){b++;}}if(b===0){t=this._oResourceBundle.getText("valuehelp.SELECTFROMLISTNONUMBER");}return f(t,b);},
_formatDefineTabTitle:function(t,c){var b=0;for(var i=0;i<c.length;i++){var o=c[i];if(o.isEmpty!==true&&o.validated!==C.Validated){b++;}}if(b===0){t=this._oResourceBundle.getText("valuehelp.DEFINECONDITIONSNONUMBER");}return f(t,b);},
_formatTableTitle:function(t){var i=0;t=this._oResourceBundle.getText("valuehelp.TABLETITLENONUMBER");return f(t,i);},
_formatTokenizerTitle:function(t,c){var b=0;for(var i=0;i<c.length;i++){var o=c[i];if(o.isEmpty!==true){b++;}}if(b===0){t=this._oResourceBundle.getText("valuehelp.TOKENIZERTITLENONUMBER");}return f(t,b);}
});
function _(c){if(c.name==="formatOptions"){var b=this._oTokenizer.getBindingInfo("tokens");if(b&&b.template){b=b.template.getBindingInfo("text");if(b&&b.type){b.type.setFormatOptions(c.current);}}}if(c.name==="showTokenizer"){var v=this.byId("rootVBox");var l=this._oTokenizer.getBinding("tokens");if(c.current){if(l){l.resume();}v.insertItem(this._oTokenizerPanel,1);}else{if(l){l.suspend();}v.removeItem(this._oTokenizerPanel);}}if(c.name==="showFilterbar"){this.setProperty("_filterBarVisible",c.current&&!!this._oFilterbar,true);}if(c.name==="_filterBarVisible"){this._oTablePanel.invalidate();}}
function a(){if(this._oDefineConditionPanel){if(!this._oDefineConditionPanel.getModel("$VHP")){var m=this._getManagedObjectModel();this._oDefineConditionPanel.setModel(m,"$VHP");var o=this._oDefineConditionPanel.getMetadata();if(o.hasProperty("formatOptions")&&!this._oDefineConditionPanel.getBindingPath("formatOptions")&&this._oDefineConditionPanel.isPropertyInitial("formatOptions")){this._oDefineConditionPanel.bindProperty("formatOptions",{path:"$VHP>/formatOptions"});}if(o.hasProperty("conditions")&&!this._oDefineConditionPanel.getBindingPath("conditions")&&this._oDefineConditionPanel.isPropertyInitial("conditions")){this._oDefineConditionPanel.bindProperty("conditions",{path:"$VHP>/conditions"});}if(o.hasProperty("inputOK")&&!this._oDefineConditionPanel.getBindingPath("inputOK")&&this._oDefineConditionPanel.isPropertyInitial("inputOK")){this._oDefineConditionPanel.bindProperty("inputOK",{path:"$VHP>/inputOK"});}}var p=this.byId("defineConditionPanel");p.addContent(this._oDefineConditionPanel);}}
return V;});
sap.ui.predefine('sap/ui/mdc/field/content/ContentFactory',["sap/ui/base/Object","sap/ui/mdc/enum/EditMode","sap/ui/mdc/enum/ContentMode","sap/ui/mdc/util/loadModules","sap/ui/mdc/field/content/DefaultContent","sap/ui/mdc/field/content/SearchContent","sap/ui/mdc/field/content/DateContent","sap/ui/mdc/field/content/TimeContent","sap/ui/mdc/field/content/DateTimeContent","sap/ui/mdc/field/content/LinkContent","sap/ui/mdc/field/content/BooleanContent","sap/ui/mdc/field/content/UnitContent",'sap/ui/mdc/field/ConditionType','sap/ui/mdc/field/ConditionsType',"sap/ui/base/SyncPromise"],function(B,E,C,l,D,S,a,T,b,L,c,U,d,e,f){"use strict";
var g=B.extend("sap.ui.mdc.field.content.ContentFactory",{
metadata:{library:"sap.ui.mdc"},
constructor:function(i,s){this._oField=s?s.field:null;this._fnHandleTokenUpdate=s?s.handleTokenUpdate:null;this._fnHandleContentChange=s?s.handleContentChange:null;this._fnHandleContentLiveChange=s?s.handleContentLiveChange:null;this._fnHandleValueHelpRequest=s?s.handleValueHelpRequest:null;this._fnHandleEnter=s?s.handleEnter:null;this._fnHandleContentPress=s?s.handleContentPress:null;B.prototype.constructor.apply(this,arguments);}
});
var m={Default:D,Search:S,Date:a,Time:T,DateTime:b,Link:L,Boolean:c,Unit:U};
g.prototype.init=function(){this._oContentTypeClass;this._sOperator;};
g.prototype.exit=function(){this._oField=undefined;this._fnHandleTokenUpdate=undefined;this._fnHandleContentChange=undefined;this._fnHandleContentLiveChange=undefined;this._fnHandleValueHelpRequest=undefined;this._fnHandleEnter=undefined;this._fnHandleContentPress=undefined;this._oContentTypeClass=undefined;this._sOperator=undefined;if(this._oConditionType&&this._oConditionType._bCreatedByField){this._oConditionType.destroy();this._oConditionType=undefined;}if(this._oConditionsType&&this._oConditionsType._bCreatedByField){this._oConditionsType.destroy();this._oConditionsType=undefined;}};
g.prototype.createContent=function(o,s,i){var h=o.getControlNames(s,this._sOperator);var j;if(h.every(function(n){return!n;})){return Promise.resolve([]);}try{j=l(h).catch(function(k){throw new Error("loadModules promise rejected in sap.ui.mdc.field.content.ContentFactory:createContent function call - could not load controls "+JSON.stringify(h));}).then(function(n){if(this.getField()&&!this.getField()._bIsBeingDestroyed){return o.create(this,s,this._sOperator,n,i);}else{return[];}}.bind(this)).unwrap();}catch(k){throw new Error("Error in sap.ui.mdc.field.content.ContentFactory:createContent function call ErrorMessage: '"+k.message+"'");}if(j.then){j.catch(function(k){throw new Error("Error in sap.ui.mdc.field.content.ContentFactory:createContent function call ErrorMessage: '"+k.message+"'");});return j;}return f.resolve(j);};
g.prototype.getContentMode=function(o,s,M,h,O){var i=C.Edit;if(s===E.Display){if(M!==1){i=C.DisplayMultiValue;}else if(h){i=C.DisplayMultiLine;}else{i=C.Display;}}else if(M!==1){i=C.EditMultiValue;}else if(h){i=C.EditMultiLine;}else if(O.length===1&&o.getEditOperator()&&o.getEditOperator()[O[0]]){this._sOperator=O[0];i=C.EditOperator;}else if(this.getField().getFieldHelp()){i=C.EditForHelp;}return i;};
g.prototype.getContentType=function(s,M,i){var F=this.getField();var o=m[s]?m[s]:null;if(!o){if(F.getFieldInfo()&&i){o=m.Link;}else{var r=new RegExp("^\\*(.*)\\*|\\$search$");if(r.test(F.getFieldPath())&&M===1){o=m.Search;}else{o=m.Default;}}}return o;};
g._updateLink=function(o,h){if(h){o.setHref(h.href);o.setTarget(h.target);}};
g._getEnabled=function(s){return(s&&s!==E.Disabled);};
g._getEditable=function(s){return(s===E.Editable||s===E.EditableReadOnly||s===E.EditableDisplay);};
g._getDisplayOnly=function(s){return s&&s!==E.Editable;};
g._getEditableUnit=function(s){return s===E.Editable;};
g.prototype.getField=function(){return this._oField;};
g.prototype.getFieldHelpIcon=function(){return this.getField()._getFieldHelpIcon();};
g.prototype.getHandleTokenUpdate=function(){return this._fnHandleTokenUpdate;};
g.prototype.getHandleContentChange=function(){return this._fnHandleContentChange;};
g.prototype.getHandleContentLiveChange=function(){return this._fnHandleContentLiveChange;};
g.prototype.getHandleValueHelpRequest=function(){return this._fnHandleValueHelpRequest;};
g.prototype.getHandleEnter=function(){return this._fnHandleEnter;};
g.prototype.getHandleContentPress=function(){return this._fnHandleContentPress;};
g.prototype.setBoundProperty=function(s){this._sBoundProperty=s;};
g.prototype.getBoundProperty=function(){return this._sBoundProperty;};
g.prototype.setAriaLabelledBy=function(o){if(o.addAriaLabelledBy){var A=this.getField().getAriaLabelledBy();for(var i=0;i<A.length;i++){var I=A[i];o.addAriaLabelledBy(I);}}};
g.prototype.setHideOperator=function(h){this._bHideOperator=h;};
g.prototype.getHideOperator=function(){return this._bHideOperator;};
function _(s,h,G,i){if(!i){if(this[s]&&this[s].getMetadata().getName()!==h.getMetadata().getName()){this[s].destroy();this[s]=undefined;}if(!this[s]){var F=G();this[s]=new h(F);this[s]._bCreatedByField=true;}}return this[s];}
g.prototype.getConditionType=function(s){return _.call(this,"_oConditionType",d,this.getField()._getFormatOptions.bind(this.getField()),s);};
g.prototype.setConditionType=function(o){this._oConditionType=o;};
g.prototype.getConditionsType=function(s,h){var i=h||e;return _.call(this,"_oConditionsType",i,this.getField()._getFormatOptions.bind(this.getField()),s);};
g.prototype.setConditionsType=function(o){this._oConditionsType=o;};
g.prototype.getUnitConditionsType=function(s){return _.call(this,"_oUnitConditionsType",e,this.getField()._getUnitFormatOptions.bind(this.getField()),s);};
g.prototype.getContentConditionTypes=function(){return this._oContentConditionTypes;};
g.prototype.setContentConditionTypes=function(o){this._oContentConditionTypes=o;};
g.prototype._setUsedConditionType=function(o,s){if(this._oConditionType&&!this._oConditionType._bCreatedByField){this._oConditionType=undefined;}if(this._oConditionsType&&!this._oConditionsType._bCreatedByField){this._oConditionsType=undefined;}var h;var i;if(o){if(this._oContentConditionTypes.content){h=this._oContentConditionTypes.content.oConditionType;i=this._oContentConditionTypes.content.oConditionsType;}}else if(s===E.Display&&this.getField().getContentDisplay()){if(this._oContentConditionTypes.contentDisplay){h=this._oContentConditionTypes.contentDisplay.oConditionType;i=this._oContentConditionTypes.contentDisplay.oConditionsType;}}else if(s!==E.Display&&this.getField().getContentEdit()){if(this._oContentConditionTypes.contentEdit){h=this._oContentConditionTypes.contentEdit.oConditionType;i=this._oContentConditionTypes.contentEdit.oConditionsType;}}if(h){if(this._oConditionType&&this._oConditionType._bCreatedByField){this._oConditionType.destroy();}this._oConditionType=h;}if(i){if(this._oConditionsType&&this._oConditionsType._bCreatedByField){this._oConditionsType.destroy();}this._oConditionsType=i;}this.updateConditionType();};
g.prototype.getDataType=function(){return this._oDataType;};
g.prototype.setDataType=function(o){this._oDataType=o;};
g.prototype.retrieveDataType=function(){if(!this._oDataType){var s=this.getField().getDataType();if(typeof s==="string"){this._oDataType=this.getField().getTypeUtil().getDataTypeInstance(s,this.getField().getDataTypeFormatOptions(),this.getField().getDataTypeConstraints());this._oDataType._bCreatedByField=true;}}return this._oDataType;};
g.prototype.getDateOriginalType=function(){return this._oDateOriginalType;};
g.prototype.setDateOriginalType=function(o){this._oDateOriginalType=o;};
g.prototype.getUnitOriginalType=function(){return this._oUnitOriginalType;};
g.prototype.setUnitOriginalType=function(u){this._oUnitOriginalType=u;};
g.prototype.getUnitType=function(){return this._oUnitType;};
g.prototype.setUnitType=function(u){this._oUnitType=u;};
g.prototype.getCompositeTypes=function(){return this._aCompositeTypes;};
g.prototype.setCompositeTypes=function(h){this._aCompositeTypes=h;};
g.prototype.isMeasure=function(){return this._bIsMeasure;};
g.prototype.setIsMeasure=function(i){this._bIsMeasure=i;};
g.prototype.getDisplayFormat=function(){return this._sDisplayFormat;};
g.prototype.setDisplayFormat=function(s){this._sDisplayFormat=s;};
g.prototype.getValueFormat=function(){return this._sValueFormat;};
g.prototype.setValueFormat=function(v){this._sValueFormat=v;};
g.prototype.getCalendarType=function(){return this._sCalendarType;};
g.prototype.setCalendarType=function(s){this._sCalendarType=s;};
g.prototype.getFieldTypeInitialization=function(){return this.getField()._oTypeInitialization;};
g.prototype.updateConditionType=function(){var o=this._oConditionType;var h=this._oConditionsType;if(o||h){var F=this.getField()._getFormatOptions();if(o){o.setFormatOptions(F);}if(h){h.setFormatOptions(F);}if(this._oUnitConditionsType){F=this.getField()._getUnitFormatOptions();this._oUnitConditionsType.setFormatOptions(F);}}};
return g;});
sap.ui.predefine('sap/ui/mdc/filterbar/FilterBarBaseRenderer',[],function(){"use strict";var F={apiVersion:2};F.CSS_CLASS="sapUiMdcFilterBarBase";
F.render=function(r,c){r.openStart("div",c);r.class(F.CSS_CLASS);r.openEnd();var i=c.getAggregation("layout")?c.getAggregation("layout").getInner():null;r.renderControl(i);r.close("div");};
return F;},true);
sap.ui.predefine('sap/ui/mdc/library',["sap/ui/core/Core","sap/ui/core/library","sap/m/library"],function(){"use strict";var t=sap.ui.getCore().initLibrary({version:"1.102.1",name:"sap.ui.mdc",dependencies:["sap.ui.core","sap.m"],designtime:"sap/ui/mdc/designtime/library.designtime",types:["sap.ui.mdc.TableType","sap.ui.mdc.TableP13Mode","sap.ui.mdc.GrowingMode","sap.ui.mdc.RowAction","sap.ui.mdc.RowCountMode","sap.ui.mdc.SelectionMode","sap.ui.mdc.FilterExpression","sap.ui.mdc.MultiSelectMode"],interfaces:["sap.ui.mdc.IFilterSource","sap.ui.mdc.IFilter","sap.ui.mdc.IxState","sap.ui.mdc.valuehelp.ITypeaheadContent","sap.ui.mdc.valuehelp.IDialogContent","sap.ui.mdc.valuehelp.ITypeaheadContainer","sap.ui.mdc.valuehelp.IDialogContainer"],controls:["sap.ui.mdc.Table","sap.ui.mdc.FilterBar","sap.ui.mdc.field.FieldBase","sap.ui.mdc.field.FieldInput","sap.ui.mdc.field.FieldMultiInput","sap.ui.mdc.field.ValueHelpPanel","sap.ui.mdc.field.DefineConditionPanel","sap.ui.mdc.Field","sap.ui.mdc.FilterField","sap.ui.mdc.MultiValueField","sap.ui.mdc.link.Panel","sap.ui.mdc.link.ContactDetails","sap.ui.mdc.Chart","sap.ui.mdc.p13n.PersistenceProvider"],elements:["sap.ui.mdc.table.Column","sap.ui.mdc.table.CreationRow","sap.ui.mdc.table.TableTypeBase","sap.ui.mdc.table.GridTableType","sap.ui.mdc.table.ResponsiveTableType","sap.ui.mdc.table.RowSettings","sap.ui.mdc.chart.Item","sap.ui.mdc.chart.ChartSelectionDetails","sap.ui.mdc.chart.ChartToolbar","sap.ui.mdc.chart.ChartTypeButton","sap.ui.mdc.chart.DrillBreadcrumbs","sap.ui.mdc.chart.SelectionDetailsActions","sap.ui.mdc.field.CustomFieldHelp","sap.ui.mdc.field.CustomFieldInfo","sap.ui.mdc.field.FieldHelpBase","sap.ui.mdc.field.FieldInfoBase","sap.ui.mdc.field.FieldValueHelp","sap.ui.mdc.field.FieldValueHelpContentWrapperBase","sap.ui.mdc.field.FieldValueHelpTableWrapperBase","sap.ui.mdc.field.FieldValueHelpMdcTableWrapper","sap.ui.mdc.field.FieldValueHelpMTableWrapper","sap.ui.mdc.field.FieldValueHelpUITableWrapper","sap.ui.mdc.field.ListFieldHelp","sap.ui.mdc.field.ListFieldHelpItem","sap.ui.mdc.field.BoolFieldHelp","sap.ui.mdc.field.ConditionFieldHelp","sap.ui.mdc.filterbar.aligned.FilterItemLayout","sap.ui.mdc.Link","sap.ui.mdc.link.ContactDetailsAddressItem","sap.ui.mdc.link.ContactDetailsEmailItem","sap.ui.mdc.link.ContactDetailsItem","sap.ui.mdc.link.ContactDetailsPhoneItem","sap.ui.mdc.link.LinkItem","sap.ui.mdc.link.PanelItem","sap.ui.mdc.link.SemanticObjectUnavailableAction","sap.ui.mdc.link.SemanticObjectMapping","sap.ui.mdc.link.SemanticObjectMappingItem","sap.ui.mdc.field.InParameter","sap.ui.mdc.field.OutParameter","sap.ui.mdc.field.MultiValueFieldItem","sap.ui.mdc.ValueHelp","sap.ui.mdc.valuehelp.Popover","sap.ui.mdc.valuehelp.Dialog","sap.ui.mdc.valuehelp.content.Bool","sap.ui.mdc.valuehelp.content.Conditions","sap.ui.mdc.valuehelp.content.FixedList","sap.ui.mdc.valuehelp.content.MDCTable","sap.ui.mdc.valuehelp.content.MTable"],extensions:{flChangeHandlers:{"sap.ui.mdc.Table":"sap/ui/mdc/flexibility/Table","sap.ui.mdc.Chart":"sap/ui/mdc/flexibility/Chart","sap.ui.mdc.FilterBar":"sap/ui/mdc/flexibility/FilterBar","sap.ui.mdc.filterbar.p13n.AdaptationFilterBar":"sap/ui/mdc/flexibility/FilterBar","sap.ui.mdc.filterbar.vh.FilterBar":"sap/ui/mdc/flexibility/FilterBar","sap.ui.mdc.link.PanelItem":"sap/ui/mdc/flexibility/PanelItem","sap.ui.mdc.link.Panel":"sap/ui/mdc/flexibility/Panel","sap.ui.mdc.ActionToolbar":"sap/ui/mdc/flexibility/ActionToolbar","sap.ui.mdc.actiontoolbar.ActionToolbarAction":"sap/ui/mdc/flexibility/ActionToolbarAction","sap.ui.mdc.chart.ChartToolbar":"sap/ui/mdc/flexibility/ActionToolbar"}},noLibraryCSS:false});t.FilterBarP13nMode={Item:"Item",Value:"Value"};t.TableType={Table:"Table",ResponsiveTable:"ResponsiveTable"};t.TableP13nMode={Column:"Column",Sort:"Sort",Filter:"Filter",Group:"Group",Aggregate:"Aggregate"};t.GrowingMode={None:"None",Basic:"Basic",Scroll:"Scroll"};t.RowCountMode={Auto:"Auto",Fixed:"Fixed"};t.ChartToolbarActionType={ZoomInOut:"ZoomInOut",DrillDownUp:"DrillDownUp",Legend:"Legend",FullScreen:"FullScreen"};t.ChartP13nMode={Item:"Item",Sort:"Sort",Type:"Type",Filter:"Filter"};t.SelectionMode={None:"None",Single:"Single",Multi:"Multi"};t.RowAction={Navigation:"Navigation"};t.FilterExpression={Interval:"Interval",Single:"Single",Multi:"Multi"};t.ChartItemType={Dimension:"Dimension",Measure:"Measure"};t.ChartItemRoleType={category:"category",series:"series",category2:"category2",axis1:"axis1",axis2:"axis2",axis3:"axis3"};t.ContactDetailsAddressType={work:"work",home:"home",preferred:"preferred"};t.ContactDetailsEmailType={work:"work",home:"home",preferred:"preferred"};t.ContactDetailsPhoneType={work:"work",home:"home",cell:"cell",fax:"fax",preferred:"preferred"};t.MultiSelectMode={Default:"Default",ClearAll:"ClearAll"};return t;});
sap.ui.predefine('sap/ui/mdc/link/FakeFlpConnector',["sap/ui/thirdparty/jquery",'sap/ui/mdc/link/Factory'],function(q,F){"use strict";
function a(){}
a.enableFakeConnector=function(s){if(a.getServiceReal){return;}a.getServiceReal=F.getService;F.getService=a._createFakeService(s);};
a.enableFakeConnectorForTesting=function(s,t){if(a.getServiceReal){return;}a.getServiceReal=F.getService;F.getService=a._createFakeService(s,t);};
a._createFakeService=function(s,t){return function(S){switch(S){case"CrossApplicationNavigation":return{hrefForExternal:function(T,c){if(t){t.hrefForExternal=t.hrefForExternal||{calls:[]};t.hrefForExternal.calls.push({target:T,comp:c});}if(!T){return null;}return T.target.shellHash;},getDistinctSemanticObjects:function(){var b=[];for(var c in s){b.push(c);}var d=q.Deferred();setTimeout(function(){d.resolve(b);},0);return d.promise();},getLinks:function(p){var l=[];if(!Array.isArray(p)){s[p.semanticObject]?l=s[p.semanticObject].links:l=[];}else{p.forEach(function(P){s[P[0].semanticObject]?l.push([s[P[0].semanticObject].links]):l.push([[]]);});}var d=q.Deferred();setTimeout(function(){d.resolve(l);},0);return d.promise();}};case"URLParsing":return{parseShellHash:function(i){var f=function(L){var c=L.filter(function(l){return l.intent===i;});return c[0];};for(var b in s){var l=f(s[b].links);if(l){return{semanticObject:b,action:l.action};}}return{semanticObject:null,action:null};}};default:return a.getServiceReal(S);}};};
a.disableFakeConnector=function(){if(a.getServiceReal){F.getService=a.getServiceReal;a.getServiceReal=undefined;}};
return a;},true);
sap.ui.predefine('sap/ui/mdc/mixin/AdaptationMixin',["sap/ui/mdc/p13n/Engine"],function(E){"use strict";var A={};
A.getEngine=function(){return E.getInstance();};
A._onModifications=function(){};
A.retrieveInbuiltFilter=function(){if(!this._oInbuiltFilterPromise){this._oInbuiltFilterPromise=new Promise(function(r,a){sap.ui.require(["sap/ui/mdc/filterbar/p13n/AdaptationFilterBar"],function(b){if(this.bIsDestroyed){a("exit");return;}if(!this._oP13nFilter){this._oP13nFilter=new b(this.getId()+"-p13nFilter",{adaptationControl:this,filterConditions:this.getFilterConditions()});if(this._registerInnerFilter){this._registerInnerFilter.call(this,this._oP13nFilter);}this.addDependent(this._oP13nFilter);r(this._oP13nFilter);}else{r(this._oP13nFilter);}}.bind(this));}.bind(this));}return this._oInbuiltFilterPromise;};
A.validateState=function(t,k){if(this.getControlDelegate().validateState instanceof Function){return this.getControlDelegate().validateState(this,t,k);}};
A.getInbuiltFilter=function(){return this._oP13nFilter;};
A.exit=function(e){return function(){if(this._oP13nFilter){this._oP13nFilter.destroy();this._oP13nFilter=null;}if(this._oInbuiltFilterPromise){this._oInbuiltFilterPromise=null;}if(e){e.apply(this,arguments);}};};
A._getWaitForChangesPromise=function(){var e=this.getEngine&&this.getEngine();if(!e){throw"Engine instance not found.";}return e.waitForChanges(this);};
return function(){this.retrieveInbuiltFilter=A.retrieveInbuiltFilter;this.getInbuiltFilter=A.getInbuiltFilter;this.validateState=A.validateState;this._onModifications=A._onModifications;this._getWaitForChangesPromise=A._getWaitForChangesPromise;this.getEngine=A.getEngine;this.exit=A.exit(this.exit);};});
sap.ui.predefine('sap/ui/mdc/mixin/DelegateMixin',["sap/ui/mdc/util/loadModules","sap/base/Log"],function(l,L){"use strict";var _=function(c){if(!c||!c.name){throw new Error("Delegate configuration '"+(c&&JSON.stringify(c))+"' invalid");}};var a=function(r){if(!this.bIsDestroyed){if(r instanceof Error){this.fnRejectDelegate(r);}else{this._oDelegate=r[0];this.fnResolveDelegate(this._oDelegate);this.bDelegateInitialized=true;}}this.bDelegateLoading=false;delete this.fnResolveDelegate;delete this.fnRejectDelegate;};var D={};
D.init=function(i){return function(){this.bDelegateInitialized=false;this.bDelegateLoading=false;this._oDelegateInitialized=new Promise(function(r,b){this.fnResolveDelegate=r;this.fnRejectDelegate=b;}.bind(this));if(i){i.apply(this,arguments);}};};
D.applySettings=function(A){return function(s){A.apply(this,arguments);this._bDelegateLocked=true;return this;};};
D.setDelegate=function(s){return function(c){if(this._bDelegateLocked){throw new Error("Runtime delegate configuration is not permitted.");}_(c);s.call(this,c);this._oPayload=c&&c.payload;return this;};};
D.initControlDelegate=function(p){if(this.bIsDestroyed){L.warning("Delegate module initialization omitted as control is being destroyed.");}else if(!this._oDelegate&&!this.bDelegateLoading){if(p){a.call(this,[p]);}else{var d=this.getDelegate();_(d);this.bDelegateLoading=true;l(d.name).then(a.bind(this)).catch(a.bind(this));}}return this._oDelegateInitialized;};
D.getPayload=function(){if(!this._oPayload){var d=this.getDelegate();this._oPayload=d&&d.payload;}return this._oPayload;};
D.getTypeUtil=function(){if(!this._oTypeUtil){if(!this._oDelegate){throw new Error("A delegate instance providing typeUtil is not (yet) available.");}this._oTypeUtil=this._oDelegate.getTypeUtil&&this._oDelegate.getTypeUtil(this._oPayload);}return this._oTypeUtil;};
D.getControlDelegate=function(){if(!this._oDelegate){throw new Error("A delegate instance is not (yet) available. You must call initControlDelegate before calling getControlDelegate.");}return this._oDelegate;};
D.awaitControlDelegate=function(){return this._oDelegateInitialized;};
D.exit=function(e){return function(){this.fnResolveDelegate=null;this.fnRejectDelegate=null;this.bDelegateInitialized=false;this.bDelegateLoading=false;this._oDelegateInitialized=null;this._oDelegate=null;this._oPayload=null;this._oTypeUtil=null;if(e){e.apply(this,arguments);}};};
return function(){this.applySettings=D.applySettings(this.applySettings);this.exit=D.exit(this.exit);this.init=D.init(this.init);this.setDelegate=D.setDelegate(this.setDelegate);this.awaitControlDelegate=D.awaitControlDelegate;this.getControlDelegate=D.getControlDelegate;this.getPayload=D.getPayload;this.getTypeUtil=D.getTypeUtil;this.initControlDelegate=D.initControlDelegate;};});
sap.ui.predefine('sap/ui/mdc/mixin/FilterIntegrationMixin',["sap/ui/core/Core"],function(C){"use strict";var F={};var I="sap.ui.mdc.IFilter";
F.setFilter=function(f){var n=typeof f==="object"?f.getId():f;var O=this.getFilter();if(O!==n){this._validateFilter(f);var b=C.byId(this.getFilter());if(b){d(this,b);}this.setAssociation("filter",f,true);var N=C.byId(this.getFilter());if(N){r(this,N);}}return this;};
function o(e){this._rebind();if(this._onFilterSearch){this._onFilterSearch(e);}}
function a(e){if(this._onFiltersChanged){this._onFiltersChanged(e);}}
function r(c,f){f.attachSearch(o,c);if(f.attachFiltersChanged instanceof Function){f.attachFiltersChanged(a,c);}if(c._onFilterProvided instanceof Function){c._onFilterProvided(f);}}
function d(c,f){f.detachSearch(o,c);if(f.detachFiltersChanged instanceof Function){f.detachFiltersChanged(a,c);}if(c._onFilterRemoved instanceof Function){c._onFilterRemoved(f);}}
function _(c){if(!(c&&c.getMetadata()&&c.getMetadata().hasAssociation("filter"))){throw new Error("Please add the 'filter' association to your control metadata"+c);}if(!(c.rebind instanceof Function)){throw new Error("Please implement the method 'rebind' for the control "+c);}if(!(c.isFilteringEnabled instanceof Function)){throw new Error("Please implement the method isFilteringEnabled for the control "+c);}}
F._validateFilter=function(f){_(this);var b=typeof f==="object"?f:C.byId(f);if(b&&!b.isA(I)){throw new Error("\""+f+"\" is not valid for association \"filter\"."+" Please use an object that implements the \""+I+"\" interface");}};
F.rebind=function(){if(this.bIsDestroyed){return;}var p;var b;var f=C.byId(this.getFilter()),i=this.isFilteringEnabled();if(i||f){if(f){p=f.validate(true);}if(i){b=this.retrieveInbuiltFilter().then(function(c){return c.validate(true);});}Promise.all([p,b]).then(function(){this._rebind();}.bind(this),function(){});}else{this._rebind();}};
return function(){this.setFilter=F.setFilter;this._validateFilter=F._validateFilter;this.rebind=F.rebind;};});
sap.ui.predefine('sap/ui/mdc/mixin/PromiseMixin',["sap/ui/mdc/util/PromiseCache"],function(P){"use strict";var a={};
a.addPromise=function(n,c){return this.promiseCache.add(n,c);};
a.cancelPromise=function(n,r){return this.promiseCache.cancel(n,r);};
a.retrievePromise=function(n,c){return this.promiseCache.retrieve(n,c);};
a.retrievePromises=function(){return this.promiseCache.retrieveMany.apply(this.promiseCache,arguments);};
a.removePromise=function(n){return this.promiseCache.remove(n);};
a.resolvePromise=function(n,v){return this.promiseCache.resolve(n,v);};
a.rejectPromise=function(n,v){return this.promiseCache.reject(n,v);};
a.exit=function(e){return function(){if(this.promiseCache){this.promiseCache.destroy();this.promiseCache=null;}if(e){e.apply(this,arguments);}};};
return function(){var _=function(m){return function(){if(this.bIsDestroyed){return undefined;}if(!this.promiseCache){this.promiseCache=new P();}return m.apply(this,arguments);};};this._addPromise=_(a.addPromise);this._cancelPromise=_(a.cancelPromise);this._removePromise=_(a.removePromise);this._resolvePromise=_(a.resolvePromise);this._rejectPromise=_(a.rejectPromise);this._retrievePromise=_(a.retrievePromise);this._retrievePromises=_(a.retrievePromises);this.exit=a.exit(this.exit);};});
sap.ui.predefine('sap/ui/mdc/mixin/PropertyHelperMixin',["sap/base/util/Deferred","sap/ui/mdc/util/loadModules","sap/base/Log"],function(D,l,L){"use strict";var P={};
P.init=function(i){return function(){this._oPropertyHelper=null;this._oPropertyHelperDeferred=new D();this._oApplySettingsDeferred=new D();this._bPropertyHelperFinal=false;this._bPropertyHelperInitializing=false;this._sPropertyInfoStore=null;if(i){i.apply(this,arguments);}};};
P.applySettings=function(A){return function(){if(A){A.apply(this,arguments);}if(this._sPropertyInfoStore&&(!arguments[0]||!arguments[0].hasOwnProperty(this._sPropertyInfoStore))){_.call(this,[],false);}this._oApplySettingsDeferred.resolve(this);return this;};};
P.initPropertyHelper=function(d,p,F){if(d){this._setPropertyHelperClass(d);}return _.call(this,p,F);};
P.updatePropertyHelper=function(p,F){return _.call(this,p,F);};
P.finalizePropertyHelper=function(){this._pHelperFinalizationPromise=this._pHelperFinalizationPromise||c(this).then(function(r){return _.call(this,r,true);}.bind(this));return this._pHelperFinalizationPromise;};
P.isPropertyHelperFinal=function(){return this._bPropertyHelperFinal;};
P.awaitPropertyHelper=function(){return this._oPropertyHelperDeferred.promise;};
P.getPropertyHelper=function(){return this._oPropertyHelper;};
P.exit=function(e){return function(){this._oPropertyHelper=null;this._oPropertyHelperDeferred=null;this._oApplySettingsDeferred=null;this._bPropertyHelperFinal=null;this._bPropertyHelperInitializing=null;this._pHelperFinalizationPromise=null;this._oPropertyHelperClass=null;this._sPropertyInfoStore=null;if(this._oPropertyInfoStoreMutatorOverride){this[this._oPropertyInfoStoreMutatorOverride.key]=this._oPropertyInfoStoreMutatorOverride.mutator;this._oPropertyInfoStoreMutatorOverride=null;}if(e){e.apply(this,arguments);}};};
P._setupPropertyInfoStore=function(p){var o=this.getMetadata().getAllProperties();var d=o&&o[p];if(!d){throw new Error("PropertyHelperMixin: Property '"+p+"' not found.");}var j=this.getMetadata().getJSONKeys()[p];this._oPropertyInfoStoreMutatorOverride={key:j._sMutator,mutator:this[j._sMutator]};this[j._sMutator]=function(){this._oPropertyInfoStoreMutatorOverride.mutator.apply(this,arguments);if(!this._bPropertyHelperFinal){_.call(this,this[j._sGetter](),false);}return this;};this._sPropertyInfoStore=p;};
P._setPropertyHelperClass=function(d){if(this._oPropertyHelper||this._bPropertyHelperInitializing){throw new Error("PropertyHelper already initializing/ed.");}if(d&&(!d.getMetadata||!d.getMetadata().isA("sap.ui.mdc.util.PropertyHelper"))){throw new Error("The custom property helper class must be sap.ui.mdc.util.PropertyHelper or a subclass of it.");}this._oPropertyHelperClass=d;};
P._getPropertyByName=function(n){return this._oPropertyHelper&&this._oPropertyHelper.getProperty(n);};
P._getPropertyByNameAsync=function(n){var p=this._getPropertyByName(n);if(!p){return this.finalizePropertyHelper().then(function(o){return this._getPropertyByName(n);}.bind(this));}return Promise.resolve(p);};
function _(p,F){if(!this.bIsDestroyed){if(this._bPropertyHelperInitializing&&typeof p!=="undefined"){return this._oPropertyHelperDeferred.promise.then(function(){return b.call(this,p,F);}.bind(this));}if(this._oPropertyHelper&&typeof p!=="undefined"){b.call(this,p,F);}if(!this._oPropertyHelper){a.call(this,p,F);}}return this._oPropertyHelperDeferred&&this._oPropertyHelperDeferred.promise;}
function a(p,F){this._bPropertyHelperInitializing=true;if(F||!p){F=true;this._pHelperFinalizationPromise=this._oPropertyHelperDeferred.promise;}var d;return this._oApplySettingsDeferred.promise.then(function(){return this.initControlDelegate();}.bind(this)).then(function(C){d=C;return F?c(this):p;}.bind(this)).then(function(p){if(this.bIsDestroyed){return[];}var r=[p];if(d&&typeof d.fetchPropertyExtensions==="function"){return d.fetchPropertyExtensions(this,p).then(function(e){return r.concat(e);});}return r.concat(undefined);}.bind(this)).then(function(r){if(this.bIsDestroyed){return[];}return f(this,d,r[0],r[1]).then(function(e){return r.concat(e);});}.bind(this)).then(function(r){if(this.bIsDestroyed){return undefined;}var p=r[0];var e=r[1];var g=r[2];this._oPropertyHelper=new g(p,e,this,undefined,undefined);this._bPropertyHelperInitializing=false;if(F){this._bPropertyHelperFinal=true;}return this._oPropertyHelperDeferred.resolve(this._oPropertyHelper);}.bind(this)).catch(function(e){return this._oPropertyHelperDeferred&&this._oPropertyHelperDeferred.reject(e);}.bind(this));}
function b(p,F){if(this._bPropertyHelperFinal){throw new Error("This property helper is already final and cannot be updated further.");}this._oPropertyHelper.setProperties(p);this._bPropertyHelperFinal=F||this._bPropertyHelperFinal;return this._oPropertyHelper;}
function c(C){return C.initControlDelegate().then(function(){return C.getControlDelegate(C).fetchProperties(C);});}
function f(C,d,p){if(d&&typeof d.getPropertyHelperClass==="function"){var o=d.getPropertyHelperClass();var B=C._oPropertyHelperClass?C._oPropertyHelperClass.getMetadata().getName():"sap.ui.mdc.util.PropertyHelper";if(!o||!o.getMetadata||!o.getMetadata().isA(B)){throw new Error("The property helper class must be "+B+" or a subclass of it.");}return Promise.resolve(o);}if(C._oPropertyHelperClass){return Promise.resolve(C._oPropertyHelperClass);}return l("sap/ui/mdc/util/PropertyHelper").then(function(r){return r[0];});}
return function(){this.init=P.init(this.init);this.exit=P.exit(this.exit);this.applySettings=P.applySettings(this.applySettings);this.initPropertyHelper=P.initPropertyHelper;this.awaitPropertyHelper=P.awaitPropertyHelper;this.getPropertyHelper=P.getPropertyHelper;this.finalizePropertyHelper=P.finalizePropertyHelper;this.isPropertyHelperFinal=P.isPropertyHelperFinal;this._getPropertyByName=P._getPropertyByName;this._getPropertyByNameAsync=P._getPropertyByNameAsync;this._setPropertyHelperClass=P._setPropertyHelperClass;this._setupPropertyInfoStore=P._setupPropertyInfoStore;};});
sap.ui.predefine('sap/ui/mdc/odata/TypeUtil',['sap/ui/mdc/util/TypeUtil','sap/ui/mdc/enum/BaseType','sap/base/util/ObjectPath'],function(B,a,O){"use strict";var T=Object.assign({},B,{getPrimitiveType:function(d){var t={"Edm.Binary":"boolean","Edm.Boolean":"boolean","Edm.Byte":"boolean","Edm.Date":"date","Edm.DateTimeOffset":"dateTime","Edm.Decimal":"int","Edm.Double":"boolean","Edm.Duration":"float","Edm.Guid":"string","Edm.Int16":"int","Edm.Int32":"int","Edm.Int64":"int","Edm.SByte":"boolean","Edm.Single":"float","Edm.String":"string","Edm.TimeOfDay":"time"};return t[d]||"object";},getDataTypeClassName:function(t){var e={"Edm.Boolean":"sap.ui.model.odata.type.Boolean","Edm.Byte":"sap.ui.model.odata.type.Byte","Edm.DateTime":"sap.ui.model.odata.type.DateTime","Edm.DateTimeOffset":"sap.ui.model.odata.type.DateTimeOffset","Edm.Decimal":"sap.ui.model.odata.type.Decimal","Edm.Double":"sap.ui.model.odata.type.Double","Edm.Float":"sap.ui.model.odata.type.Single","Edm.Guid":"sap.ui.model.odata.type.Guid","Edm.Int16":"sap.ui.model.odata.type.Int16","Edm.Int32":"sap.ui.model.odata.type.Int32","Edm.Int64":"sap.ui.model.odata.type.Int64","Edm.SByte":"sap.ui.model.odata.type.SByte","Edm.Single":"sap.ui.model.odata.type.Single","Edm.String":"sap.ui.model.odata.type.String","Edm.Time":"sap.ui.model.odata.type.Time"};if(e[t]){t=e[t];}else if(t&&t.startsWith("Edm.")){throw new Error("Invalid data type "+t);}else{t=B.getDataTypeClassName(t);}return t;},getBaseType:function(t,f,c){switch(t){case"sap.ui.model.odata.type.DateTime":if(c&&c.displayFormat==="Date"){return a.Date;}else{return a.DateTime;}case"sap.ui.model.odata.type.DateTimeOffset":case"sap.ui.model.odata.type.DateTimeWithTimezone":return a.DateTime;case"sap.ui.model.odata.type.Time":return a.Time;case"sap.ui.model.odata.type.Boolean":return a.Boolean;case"sap.ui.model.odata.type.Byte":case"sap.ui.model.odata.type.SByte":case"sap.ui.model.odata.type.Decimal":case"sap.ui.model.odata.type.Int16":case"sap.ui.model.odata.type.Int32":case"sap.ui.model.odata.type.Int64":case"sap.ui.model.odata.type.Single":case"sap.ui.model.odata.type.Double":return a.Numeric;default:return B.getBaseType(t,f,c);}}});return T;});
sap.ui.predefine('sap/ui/mdc/odata/v4/ODataMetaModelUtil',["sap/ui/mdc/util/TypeUtil"],function(T){"use strict";var u=function(){};
u.fetchAllAnnotations=function(m,e){var c=m.getMetaContext(e);return m.requestObject("@",c).then(function(a){return a;});};
u.getAllCustomAggregates=function(a){var c={},A;for(var s in a){if(s.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){A=s.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");var b=A.split("@");if(b.length==2){if(b[1]=="Org.OData.Aggregation.V1.ContextDefiningProperties"){c[b[0]].contextDefiningProperties=a[s];}if(b[1]=="com.sap.vocabularies.Common.v1.Label"){c[b[0]].label=a[s];}}else if(b.length==1){c[b[0]]={name:b[0],propertyPath:b[0],label:"Custom Aggregate ("+A+")",sortable:true,sortOrder:"both",custom:true};}}}return c;};
u.getAllAggregatableProperties=function(a){var A={},p,P;if(a["@com.sap.vocabularies.Analytics.v1.AggregatedProperties"]){p=a["@com.sap.vocabularies.Analytics.v1.AggregatedProperties"];for(var i=0;i<p.length;i++){P=p[i];A[P.Value]={name:P.Value,propertyPath:P.AggregatableProperty.$PropertyPath,aggregationMethod:P.AggregationMethod,label:P["@com.sap.vocabularies.Common.v1.Label"]||"Aggregatable property ("+P.Value+")",sortable:true,sortOrder:"both",custom:false};}}return A;};
u.getAllDataPoints=function(a){var d={};for(var A in a){if(A.startsWith("@com.sap.vocabularies.UI.v1.DataPoint")){var q=A.replace("@com.sap.vocabularies.UI.v1.DataPoint#","");var v=a[A].Value.$Path;d[v]=d[v]||{};d[v][q]=u.createDataPointProperty(a[A]);}}return d;};
u.createDataPointProperty=function(d){var D={};if(d.TargetValue){D.targetValue=d.TargetValue.$Path;}if(d.ForeCastValue){D.foreCastValue=d.ForeCastValue.$Path;}var c=null;if(d.Criticality){if(d.Criticality.$Path){c={Calculated:d.Criticality.$Path};}else{c={Static:d.Criticality.$EnumMember.replace("com.sap.vocabularies.UI.v1.CriticalityType/","")};}}else if(d.CriticalityCalculation){var t={};var C=u._buildThresholds(t,d.CriticalityCalculation);if(C){c={ConstantThresholds:t};}else{c={DynamicThresholds:t};}}if(c){D.criticality=c;}return D;};
u._buildThresholds=function(t,c){var k=["AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeLowValue","DeviationRangeHighValue"];var C=true,K;t.ImprovementDirection=c.ImprovementDirection.$EnumMember.replace("com.sap.vocabularies.UI.v1.ImprovementDirectionType/","");var d={oneSupplied:false,usedMeasures:[]};var o={oneSupplied:false};for(var i=0;i<k.length;i++){K=k[i];d[K]=c[K]?c[K].$Path:undefined;d.oneSupplied=d.oneSupplied||d[K];if(!d.oneSupplied){o[K]=c[K];o.oneSupplied=o.oneSupplied||o[K];}else if(d[K]){d.usedMeasures.push((d[K]));}}if(d.oneSupplied){C=false;for(var i=0;i<k.length;i++){if(d[k[i]]){t[k[i]]=d[k[i]];}}t.usedMeasures=d.usedMeasures;}else{var a;t.AggregationLevels=[];if(o.oneSupplied){a={VisibleDimensions:null};for(var i=0;i<k.length;i++){if(o[k[i]]){a[k[i]]=o[k[i]];}}t.AggregationLevels.push(a);}if(c.ConstantThresholds&&c.ConstantThresholds.length>0){for(var i=0;i<c.ConstantThresholds.length;i++){var A=c.ConstantThresholds[i];var v=A.AggregationLevel?[]:null;if(A.AggregationLevel&&A.AggregationLevel.length>0){for(var j=0;j<A.AggregationLevel.length;j++){v.push(A.AggregationLevel[j].$PropertyPath);}}a={VisibleDimensions:v};for(var j=0;j<k.length;j++){var n=A[k[j]];if(n){a[k[j]]=n;}}t.AggregationLevels.push(a);}}}return C;};
u.getSortRestrictionsInfo=function(s){var i,p,S={sortable:true,propertyInfo:{}};if(s){S.sortable=(s.Sortable!=null)?s.Sortable:true;if(s.NonSortableProperties){for(i=0;i<s.NonSortableProperties.length;i++){p=s.NonSortableProperties[i].$PropertyPath;S[p]={sortable:false};}}if(s.AscendingOnlyProperties){for(i=0;i<s.AscendingOnlyProperties;i++){p=s.AscendingOnlyProperties[i].$PropertyPath;S[p]={sortable:true,sortDirection:"asc"};}}if(s.AscendingOnlyProperties){for(i=0;i<s.DescendingOnlyProperties;i++){p=s.DescendingOnlyProperties[i].$PropertyPath;S[p]={sortable:true,sortDirection:"desc"};}}}return S;};
u.addSortInfoForProperty=function(p,s){var P=s[p.name];p.sortable=s.sortable&&P?P.sortable:true;if(p.sortable){p.sortDirection=P?P.sortDirection:"both";}};
u.getFilterRestrictionsInfo=function(f){var i,p,F={filterable:true,propertyInfo:{}};if(f){F.filterable=(f.Filterable!=null)?f.Filterable:true;F.requiresFilter=(f.RequiresFilter!=null)?f.RequiresFilter:false;F.requiredProperties=[];if(F.RequiredProperties){for(i=0;i<f.NonFilterableProperties;i++){p=f.NonFilterableProperties[i].$PropertyPath;F.requiredProperties.push(p);}}if(f.NonFilterableProperties){for(i=0;i<f.NonFilterableProperties.length;i++){p=f.NonFilterableProperties[i].$PropertyPath;F[p]={filterable:false};}}if(f.FilterExpressionRestrictions){for(i=0;i<f.FilterExpressionRestrictions;i++){p=f.FilterExpressionRestrictions[i].$PropertyPath;F[p]={filterable:true,allowedExpressions:f.FilterExpressionRestrictions[i].AllowedExpressions};}}}return F;};
u.isMultiValueFilterExpression=function(f){var i=true;switch(f){case"SearchExpression":case"SingleRange":case"SingleValue":i=false;break;default:break;}return i;};
u.addFilterInfoForProperty=function(p,f){var P=f[p.name];p.filterable=f.filterable&&P?P.filterable:true;if(p.filterable){p.allowedExpressions=P?P.allowedExpressions:null;}};
u.fetchCalendarTag=function(m,c){var C="@com.sap.vocabularies.Common.v1.";return Promise.all([m.requestObject(C+"IsCalendarYear",c),m.requestObject(C+"IsCalendarHalfyear",c),m.requestObject(C+"IsCalendarQuarter",c),m.requestObject(C+"IsCalendarMonth",c),m.requestObject(C+"IsCalendarWeek",c),m.requestObject(C+"IsDayOfCalendarMonth",c),m.requestObject(C+"IsDayOfCalendarYear",c),m.requestObject(C+"IsCalendarYearHalfyear",c),m.requestObject(C+"IsCalendarYearQuarter",c),m.requestObject(C+"IsCalendarYearMonth",c),m.requestObject(C+"IsCalendarYearWeek",c),m.requestObject(C+"IsCalendarDate",c)]).then(function(t){if(t[0]){return"year";}if(t[1]){return"halfYear";}if(t[2]){return"quarter";}if(t[3]){return"month";}if(t[4]){return"week";}if(t[5]){return"dayOfMonth";}if(t[6]){return"dayOfYear";}if(t[7]){return"yearHalfYear";}if(t[8]){return"yearQuarter";}if(t[9]){return"yearMonth";}if(t[10]){return"yearWeek";}if(t[11]){return"date";}return undefined;});};
u.fetchFiscalTag=function(m,c){var C="@com.sap.vocabularies.Common.v1.";return Promise.all([m.requestObject(C+"IsFiscalYear",c),m.requestObject(C+"IsFiscalPeriod",c),m.requestObject(C+"IsFiscalYearPeriod",c),m.requestObject(C+"IsFiscalQuarter",c),m.requestObject(C+"IsFiscalYearQuarter",c),m.requestObject(C+"IsFiscalWeek",c),m.requestObject(C+"IsFiscalYearWeek",c),m.requestObject(C+"IsDayOfFiscalYear",c),m.requestObject(C+"IsFiscalYearVariant",c)]).then(function(t){if(t[0]){return"year";}if(t[1]){return"period";}if(t[2]){return"yearPeriod";}if(t[3]){return"quarter";}if(t[4]){return"yearQuarter";}if(t[5]){return"week";}if(t[6]){return"yearWeek";}if(t[7]){return"dayOfYear";}if(t[8]){return"yearVariant";}return undefined;});};
u.fetchCriticality=function(m,c){var U="@com.sap.vocabularies.UI.v1";return m.requestObject(U+".ValueCriticality",c).then(function(v){var C,V;if(v){C={VeryPositive:[],Positive:[],Critical:[],VeryNegative:[],Negative:[],Neutral:[]};for(var i=0;i<v.length;i++){V=v[i];if(V.Criticality.$EnumMember.endsWith("VeryPositive")){C.VeryPositive.push(V.Value);}else if(V.Criticality.$EnumMember.endsWith("Positive")){C.Positive.push(V.Value);}else if(V.Criticality.$EnumMember.endsWith("Critical")){C.Critical.push(V.Value);}else if(V.Criticality.$EnumMember.endsWith("VeryNegative")){C.VeryNegative.push(V.Value);}else if(V.Criticality.$EnumMember.endsWith("Negative")){C.Negative.push(V.Value);}else{C.Neutral.push(V.Value);}}for(var k in C){if(C[k].length==0){delete C[k];}}}return C;});};
return u;});
sap.ui.predefine('sap/ui/mdc/odata/v4/TypeUtil',['sap/ui/mdc/odata/TypeUtil','sap/ui/mdc/enum/BaseType','sap/base/util/merge'],function(O,B,m){"use strict";var a=Object.assign({},O);
a.getBaseType=function(t,f,c){switch(t){case"sap.ui.model.odata.type.Date":return B.Date;case"sap.ui.model.odata.type.TimeOfDay":return B.Time;case"sap.ui.model.odata.type.Unit":case"sap.ui.model.odata.type.Currency":if(!f||((!f.hasOwnProperty("showMeasure")||f.showMeasure)&&(!f.hasOwnProperty("showNumber")||f.showNumber))){return B.Unit;}else if(!f.hasOwnProperty("showNumber")||f.showNumber){return B.Numeric;}else{return B.String;}default:return O.getBaseType(t,f,c);}};
a.getDataTypeClassName=function(t){var e={"Edm.Date":"sap.ui.model.odata.type.Date","Edm.TimeOfDay":"sap.ui.model.odata.type.TimeOfDay"};if(e[t]){t=e[t];}else{t=O.getDataTypeClassName(t);}return t;};
a.getDataTypeInstance=function(d,f,c){switch(d){case"sap.ui.model.odata.type.DateTimeOffset":case"Edm.DateTimeOffset":c=m({},c);c.V4=true;break;default:}var T=this.getDataTypeClass(d);return new T(f,c);};
return a;});
sap.ui.predefine('sap/ui/mdc/p13n/PersistenceProvider',["sap/ui/core/Control","sap/ui/fl/variants/VariantManagement","sap/ui/fl/Utils","sap/ui/mdc/enum/PersistenceMode","sap/ui/layout/VerticalLayout"],function(C,V,U,m,a){"use strict";
var P=C.extend("sap.ui.mdc.p13n.PersistenceProvider",{
metadata:{library:"sap.ui.mdc",designtime:"sap/ui/mdc/designtime/p13n/PersistenceProvider.designtime",properties:{mode:{type:"sap.ui.mdc.enum.PersistenceMode",group:"Data",defaultValue:m.Auto}},associations:{"for":{type:"sap.ui.core.Control",multiple:true}}},
renderer:{apiVersion:2,render:function(r,c){r.openStart("div",c);r.openEnd();r.close("div");}}
});
P.prototype.init=function(){C.prototype.init.apply(this,arguments);this.attachModelContextChange(this._setModel,this);this._oModelPromise=new Promise(function(r,b){this._fnResolveModel=r;}.bind(this));};
P.prototype._setModel=function(){var M=this.getModel(U.VARIANT_MODEL_NAME);if(M){this._fnResolveModel(M);}};
P.prototype.applySettings=function(){C.prototype.applySettings.apply(this,arguments);this._bmodeLocked=true;if(this.getMode()===m.Transient){var v=new V(this.getId()+"--vm",{"for":this.getAssociation("for")});this._oModelPromise.then(function(M){v.setModel(M,U.VARIANT_MODEL_NAME);});this._oWrapper=new a(this.getId()+"--accWrapper",{content:[v]});this._oWrapper.onAfterRendering=function(){a.prototype.onAfterRendering.apply(this,arguments);this.getDomRef().setAttribute("aria-hidden",true);};var s=sap.ui.getCore().getUIArea(sap.ui.getCore().getStaticAreaRef());s.addContent(this._oWrapper);}return this;};
P.prototype.setMode=function(v){if(this._bmodeLocked&&v!==this.getMode()){throw new Error("mode is a final property.");}this.setProperty("mode",v);return this;};
P.prototype.exit=function(){if(this._oWrapper){var s=sap.ui.getCore().getUIArea(sap.ui.getCore().getStaticAreaRef());s.removeContent(this._oWrapper);this._oWrapper.destroy();this._oWrapper=null;}this._oModelPromise=null;this._fnResolveModel=null;this._bmodeLocked=null;C.prototype.exit.apply(this,arguments);};
return P;});
sap.ui.predefine('sap/ui/mdc/table/RowActionItem',['sap/ui/core/Element','../library','sap/ui/core/IconPool','sap/ui/core/Core'],function(E,l,I,C){"use strict";var R=l.RowAction;
var a=E.extend("sap.ui.mdc.table.RowActionItem",{metadata:{library:"sap.ui.mdc",properties:{type:{type:"sap.ui.mdc.RowAction"},text:{type:"string"},icon:{type:"sap.ui.core.URI"},visible:{type:"boolean",defaultValue:true}},events:{press:{parameters:{bindingContext:{type:"sap.ui.model.Context"}}}}}});
var t={navigationIcon:"navigation-right-arrow"};
a.prototype._getText=function(){var T;if(this.getText()){T=this.getText();}else{var r=C.getLibraryResourceBundle("sap.ui.mdc");if(this.getType()===R.Navigation){T=r.getText("table.ROW_ACTION_ITEM_NAVIGATE");}}return T;};
a.prototype._getIcon=function(){var i;if(this.getIcon()){i=this.getIcon();}else if(this.getType()===R.Navigation){i=I.getIconURI(t["navigationIcon"]);}return i;};
return a;});
sap.ui.predefine('sap/ui/mdc/table/RowSettings',['sap/ui/core/Element'],function(E){"use strict";
var R=E.extend("sap.ui.mdc.table.RowSettings",{metadata:{library:"sap.ui.mdc",properties:{highlight:{type:"string",group:"Appearance",defaultValue:"None"},highlightText:{type:"string",group:"Misc",defaultValue:""},navigated:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{rowActions:{type:"sap.ui.mdc.table.RowActionItem",multiple:true}}}});
R.prototype.getAllSettings=function(){var s={},t=this.clone();if(this.isBound("navigated")){s.navigated=t.getBindingInfo("navigated");}else{s.navigated=this.getNavigated();}if(this.isBound("highlight")){s.highlight=t.getBindingInfo("highlight");}else{s.highlight=this.getHighlight();}if(this.isBound("highlightText")){s.highlightText=t.getBindingInfo("highlightText");}else{s.highlightText=this.getHighlightText();}return s;};
R.prototype.getAllActions=function(){var s={},t=this.clone();if(this.isBound("rowActions")){s.items=t.getBindingInfo("rowActions");var T=s.items.template;s.templateInfo={type:T.isBound("type")?T.getBindingInfo("type"):T.getType(),text:T.isBound("text")?T.getBindingInfo("text"):T.getText(),icon:T.isBound("icon")?T.getBindingInfo("icon"):T.getIcon(),visible:T.isBound("visible")?T.getBindingInfo("visible"):T.getVisible()};}else{s.items=this.getRowActions();}return s;};
R.prototype.getRowActionCount=function(){var c=0;if(this.isBound("rowActions")){c=1;}else{c=this.getRowActions().length;}return c;};
return R;});
sap.ui.predefine('sap/ui/mdc/table/menu/Item',["sap/ui/core/Core","sap/m/table/columnmenu/Item"],function(C,I){"use strict";
var a=I.extend("sap.ui.mdc.table.menu.Item",{metadata:{library:"sap.ui.mdc",properties:{key:{type:"string"}}}});
a.prototype.initializeContent=function(){var t=this.getTable();var e=t.getEngine();var k=this.getKey();var c=e.getController(t,k);return t.getEngine().uimanager.create(t,[k]).then(function(d){var o=d.removeContent(0);d.destroy();this.setContent(o);this.setLabel(c.getUISettings().title);c.update(t.getPropertyHelper());e.validateP13n(t,k,this.getContent());this.changeButtonSettings({reset:{visible:c.getResetEnabled()}});}.bind(this));};
a.prototype.onPress=function(){var t=this.getTable();t.getEngine().getController(t,this.getKey()).update(t.getPropertyHelper());};
a.prototype.onConfirm=function(){var t=this.getTable();t.getEngine().handleP13n(t,[this.getKey()]);};
a.prototype.onReset=function(){var t=this.getTable();t.getEngine().reset(t,[this.getKey()]).then(function(){t._oQuickActionContainer.initializeQuickActions();t._oColumnHeaderMenu._oPopover.invalidate();});};
a.prototype.destroyContent=function(){if(this.getKey()!=="Filter"){return this;}return this.destroyAggregation("content");};
a.prototype.getTable=function(){return this.getParent().getTable();};
return a;});
sap.ui.predefine('sap/ui/mdc/table/menu/ItemContainer',["sap/m/table/columnmenu/ItemContainer","sap/ui/mdc/table/menu/Item","sap/ui/core/Core"],function(I,a,C){"use strict";
var b=I.extend("sap.ui.mdc.table.menu.ItemContainer",{metadata:{library:"sap.ui.mdc",associations:{table:{type:"sap.ui.mdc.Table"}}}});
b.prototype.initializeItems=function(){var t=this.getTable();this.removeAllItems();if(t.isSortingEnabled()){this.addItem(new a({key:"Sort",icon:"sap-icon://sort"}));}if(t.isFilteringEnabled()){this.addItem(new a({key:"Filter",icon:"sap-icon://filter"}));}if(t.isGroupingEnabled()){this.addItem(new a({key:"Group",icon:"sap-icon://group-2"}));}if(t.getActiveP13nModes().includes("Column")){this.addItem(new a({key:"Column",icon:"sap-icon://table-column"}));}return Promise.all(this.getItems().map(function(i){return i.initializeContent();}));};
b.prototype.hasItems=function(){return this.getEffectiveItems().length>0;};
b.prototype.getTable=function(){return C.byId(this.getAssociation("table"));};
return b;});
sap.ui.predefine('sap/ui/mdc/table/menu/QuickActionContainer',["../TableSettings","../ResponsiveTableType","sap/m/table/columnmenu/QuickActionContainer","sap/m/table/columnmenu/QuickAction","sap/m/table/columnmenu/QuickSort","sap/m/table/columnmenu/QuickSortItem","sap/m/table/columnmenu/QuickGroup","sap/m/table/columnmenu/QuickGroupItem","sap/m/table/columnmenu/QuickTotal","sap/m/table/columnmenu/QuickTotalItem","sap/m/Button","sap/ui/core/Core","sap/ui/core/library"],function(T,R,Q,a,b,c,d,e,f,g,B,C,h){"use strict";
var i=Q.extend("sap.ui.mdc.table.menu.QuickActionContainer",{metadata:{library:"sap.ui.mdc",associations:{table:{type:"sap.ui.mdc.Table"},column:{type:"sap.ui.mdc.table.Column"}}}});
i.prototype.initializeQuickActions=function(){var t=this.getTable();var o=this.getColumn();var p=t.getPropertyHelper();var j=Promise.resolve();this.destroyQuickActions();if(t.isSortingEnabled()){var s=p.getProperty(o.getDataProperty()).getSortableProperties();var S=t._getSortedProperties();if(s.length>0){this.addQuickAction(new b({items:s.map(function(P){var n=h.SortOrder.None;var q=S.find(function(r){return r.name===P.name;});if(q){n=q.descending?h.SortOrder.Descending:h.SortOrder.Ascending;}return new c({key:P.name,label:P.label,sortOrder:n});}),change:function(E){var I=E.getParameter("item");T.createSort(t,I.getKey(),I.getSortOrder(),true);}}));}}if(t.isGroupingEnabled()){var G=p.getProperty(o.getDataProperty()).getGroupableProperties();var k=t._getGroupedProperties();if(G.length>0){this.addQuickAction(new d({items:G.map(function(P){var n=k.some(function(q){return q.name===P.name;});return new e({key:P.name,label:P.label,grouped:n});}),change:function(E){var I=E.getParameter("item");T.createGroup(t,I.getKey());}}));}}if(t.isAggregationEnabled()){var A=p.getProperty(o.getDataProperty()).getAggregatableProperties();var l=t._getAggregatedProperties();if(A.length>0){this.addQuickAction(new f({items:A.map(function(P){return new g({key:P.name,label:P.label,totaled:l.hasOwnProperty(P.name)});}),change:function(E){var I=E.getParameter("item");T.createAggregation(t,I.getKey());}}));}}if(t._bMobileTable&&t.getEnableColumnResize()){var m=R.startColumnResize(t._oTable,t._oTable.getColumns()[t.indexOfColumn(o)],this.getMenu());this.addQuickAction(m);}return j;};
i.prototype.hasQuickActions=function(){return this.getEffectiveQuickActions().length>0;};
i.prototype.getTable=function(){return C.byId(this.getAssociation("table"));};
i.prototype.getColumn=function(){return C.byId(this.getAssociation("column"));};
return i;});
sap.ui.predefine('sap/ui/mdc/util/DateUtil',['sap/ui/core/library','sap/ui/core/date/UniversalDate','sap/ui/mdc/enum/BaseType','sap/base/util/merge'],function(c,U,B,m){"use strict";var C=c.CalendarType;var D={typeToUniversalDate:function(d,t,b){var p;if(b&&b===B.DateTime){p="yyyyMMdd-HHmmssSSS";}else{p="yyyyMMdd";}var s=this.typeToString(d,t,p);var y=parseInt(s.slice(0,4));var M=parseInt(s.slice(4,6))-1;var i=parseInt(s.slice(6,8));var h=b===B.DateTime?parseInt(s.slice(9,11)):0;var a=b===B.DateTime?parseInt(s.slice(11,13)):0;var S=b===B.DateTime?parseInt(s.slice(13,15)):0;var e=b===B.DateTime?parseInt(s.slice(15,18)):0;var u=new U(U.UTC(y,M,i,h,a,S,e));return u;},universalDateToType:function(d,t,b){var y=d.getUTCFullYear();var M=d.getUTCMonth()+1;var i=d.getUTCDate();var s=y.toString()+((M<10)?"0":"")+M.toString()+((i<10)?"0":"")+i.toString();var p;if(b&&b===B.DateTime){p="yyyyMMdd-HHmmssSSS";var h=d.getUTCHours();var a=d.getUTCMinutes();var S=d.getUTCSeconds();var e=d.getUTCMilliseconds();s=s+"-"+((h<10)?"0":"")+h.toString()+((a<10)?"0":"")+a.toString()+((S<10)?"0":"")+S.toString()+((e<100)?"0":"")+((e<10)?"0":"")+e.toString();}else{p="yyyyMMdd";}var v=this.stringToType(s,t,p);return v;},createInternalType:function(t,p){var T=sap.ui.require(t.getMetadata().getName().replace(/\./g,"/"));var o=m({},t.getConstraints());var f=m({},t.getFormatOptions());if(f.style){delete f.style;}f.pattern=p;f.calendarType=C.Gregorian;if(this.showTimezone(t)){f.showTimezone=false;}return new T(f,o);},showTimezone:function(t){var f=t.getFormatOptions();var a=function(f,p){return!f.hasOwnProperty(p)||f[p];};return t.isA("sap.ui.model.odata.type.DateTimeWithTimezone")&&a(f,"showTimezone")&&(a(f,"showDate")||a(f,"showTime"));},typeToString:function(d,t,p){var i=this.createInternalType(t,p);var s=i.formatValue(d,"string");return s;},stringToType:function(d,t,p){var i=this.createInternalType(t,p);var v=i.parseValue(d,"string");return v;},localToUtc:function(d){return new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()));},utcToLocal:function(d){return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds());}};return D;});
sap.ui.predefine('sap/ui/mdc/util/PromiseCache',["sap/ui/base/Object"],function(B){"use strict";var _=function(n){if(!n){throw new Error("PromiseCache: Please provide an identifier!");}if(this._oCache&&this._oCache[n]){this.remove.call(this,n);}};var a=function(p){if(typeof p==="object"&&this._oCache){for(var k in this._oCache){if(this._oCache[k].promise===p){return k;}}}};var b=function(p,t){var k=typeof p==="string"?p:a.call(this,p);var c=k&&this._oCache&&this._oCache[k];if(t&&!c){throw new Error("PromiseCache: Promise not found!");}return c;};
var P=B.extend("sap.ui.mdc.util.PromiseCache",{
constructor:function(){this._oCache={};},
add:function(n,c){_.call(this,n);var p={};this._oCache[n]=p;p.promise=new Promise(function(r,e){p.resolve=function(R){if(!p._isCanceled){p._isSettled=true;r(R);}};p.reject=function(E){if(!p._isCanceled){p._isSettled=true;e(E);}};});p.promise.isSettled=function(){return!!p._isSettled;};p.promise.isPending=function(){return!p._isSettled&&!p._isCanceled;};p.promise.isCanceled=function(){return!!p._isCanceled;};p.promise.getInternalPromise=function(){return p._promise;};if(c){var i=typeof c==="function";var I=!i&&typeof c.then==="function";if(!i&&!I){throw new Error("PromiseCache: fnCreate must be a promise or function");}var C=i?c():c;var d=C&&typeof C.then==="function";if(d){p._promise=C;p._promise.then(function(r){if(!p._isCanceled){p._isSettled=true;p.resolve(r);}return r;},function(e){if(!p._isCanceled){p._isSettled=true;p.reject(e);}});}else{p.resolve(C);}}return this._oCache[n].promise;},
cancel:function(p){var o=b.call(this,p,true);if(!o._isSettled){o._isCanceled=true;}return o.promise;},
retrieve:function(n,c){var p=this._oCache&&this._oCache[n];if(!p&&c){return this.add.apply(this,[n,c]);}return p&&p.promise;},
retrieveMany:function(){var r=[];var k=arguments.length?[].slice.call(arguments):Object.keys(this._oCache);for(var i=0;i<k.length;i++){r.push(this.retrieve(k[i].toString()));}return r;},
remove:function(p){var k=typeof p==="string"?p:a.call(this,p);var c=k&&this._oCache&&this._oCache[k];if(c){c._isCanceled=true;delete this._oCache[k];}},
resolve:function(p,v){var c=b.call(this,p,true);c.resolve(v);return c.promise;},
reject:function(p,v){var c=b.call(this,p,true);c.reject(v);return c.promise;},
clear:function(){Object.keys(this._oCache).forEach(function(k){this.remove(k);}.bind(this));},
destroy:function(){this.clear();this._oCache=null;}
});
return P;});
sap.ui.predefine('sap/ui/mdc/util/TypeUtil',['sap/ui/mdc/enum/BaseType','sap/base/util/ObjectPath','sap/ui/model/SimpleType'],function(B,O,S){"use strict";var T={getDataTypeClassName:function(t){var m={"Boolean":"sap.ui.model.type.Boolean","Currency":"sap.ui.model.type.Currency","Date":"sap.ui.model.type.Date","DateTime":"sap.ui.model.type.DateTime","Float":"sap.ui.model.type.Float","Integer":"sap.ui.model.type.Integer","String":"sap.ui.model.type.String","Time":"sap.ui.model.type.Time","Unit":"sap.ui.model.type.Unit"};if(m[t]){t=m[t];}return t;},getBaseType:function(t,f,c){switch(t){case"sap.ui.model.type.Date":return B.Date;case"sap.ui.model.type.DateTime":return B.DateTime;case"sap.ui.model.type.Time":return B.Time;case"sap.ui.model.type.Boolean":return B.Boolean;case"sap.ui.model.type.Unit":case"sap.ui.model.type.Currency":if(!f||((!f.hasOwnProperty("showMeasure")||f.showMeasure)&&(!f.hasOwnProperty("showNumber")||f.showNumber))){return B.Unit;}else if(!f.hasOwnProperty("showNumber")||f.showNumber){return B.Numeric;}else{return B.String;}case"sap.ui.model.type.Integer":case"sap.ui.model.type.Float":return B.Numeric;default:return B.String;}},getBaseTypeForType:function(t){return this.getBaseType(t.getMetadata&&t.getMetadata().getName(),t.getFormatOptions(),t.getConstraints());},getDataTypeClass:function(d){var a=O.get(this.getDataTypeClassName(d)||"");if(!a){throw new Error("DataType '"+d+"' cannot be determined");}return a;},getDataTypeInstance:function(d,f,c){var a=this.getDataTypeClass(d);return new a(f,c);},getTypeConfig:function(t,f,c){var o,d;if(t instanceof S){o=t;}else{var D=this.getDataTypeClassName(t);d=D?t:undefined;o=this.getDataTypeInstance(D||t,f,c);}return{className:d,typeInstance:o,baseType:this.getBaseTypeForType(o)};}};return T;});
sap.ui.predefine('sap/ui/mdc/util/loadModules',["sap/ui/base/SyncPromise","sap/base/assert"],function(S,a){"use strict";return function l(m){a(typeof m==="string"||Array.isArray(m),"vModulePaths"+" param either must be a single string or an array of strings. - sap.ui.mdc.util.loadModules");var M;if(typeof m==="string"){M=[m];}else{M=m;}var o=new Map();M.forEach(function(s){var v=sap.ui.require(s);o.set(s,v);});var n=M.filter(function(s){return o.get(s)===undefined;});if(n.length===0){var b=Array.from(o.values());return S.resolve(b);}return new S(function(r,c){function d(){var N=Array.from(arguments);n.forEach(function(s,i){o.set(s,N[i]);});var b=Array.from(o.values());r(b);}sap.ui.require(n,d,c);});};});
sap.ui.require.preload({
	"sap/ui/mdc/field/ValueHelpPanel.control.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:fl="sap.ui.fl.variants" xmlns:mvc="sap.ui.core.mvc" xmlns:mdc="sap.ui.mdc" xmlns:l="sap.ui.layout"><VBox id="rootVBox" fitContainer="true" class="sapMdcValueHelpPanel"><IconTabBar id="iconTabBar" expandable="false" upperCase="false" stretchContentHeight="true" class="sapUiNoContentPadding" select="iconTabSelect"><layoutData><FlexItemData growFactor="1" shrinkFactor="1"/></layoutData><items><IconTabFilter id="fromList" text="{parts:[\'$i18n&gt;valuehelp.SELECTFROMLIST\',\'$this&gt;/conditions\'],formatter:\'._formatListTabTitle\'}" key="selectFromList" visible="false"><l:FixFlex minFlexSize="200px"><l:fixContent><VBox id="filterbarVBox" visible="{$this&gt;/_filterBarVisible}" class="sapMdcValueHelpPanelFilterbar"/></l:fixContent><l:flexContent><Panel id="tablePanel" headerText="{parts:[\'$i18n&gt;valuehelp.TABLETITLE\'],formatter:\'._formatTableTitle\'}" class="sapMdcTablePanel" expanded="true" height="100%"><layoutData><FlexItemData growFactor="1" shrinkFactor="1"/></layoutData></Panel></l:flexContent></l:FixFlex></IconTabFilter><IconTabFilter id="defineCondition" text="{parts:[\'$i18n&gt;valuehelp.DEFINECONDITIONS\',\'$this&gt;/conditions\'],formatter:\'._formatDefineTabTitle\'}" key="defineCondition" visible="false"><ScrollContainer id="defineConditionPanel" height="100%" horizontal="false" vertical="true"/></IconTabFilter></items></IconTabBar><Panel id="VHPTokenizerPanel" class="sapMdcTokenizerPanel" backgroundDesign="Transparent" expanded="true" headerText="{parts:[\'$i18n&gt;valuehelp.TOKENIZERTITLE\',\'$this&gt;/conditions\'],formatter:\'._formatTokenizerTitle\'}"><HBox fitContainer="true" width="100%"><items><Tokenizer id="VHPTokenizer" class="sapMdcTokenizer" width="100%" visible="{path:\'$this&gt;/showTokenizer\'}" tokenDelete="_handleTokenDelete" tokens="{path:\'$this&gt;/conditions\',filters:[{path:\'isEmpty\',operator:\'NE\',value1:true}],templateShareable:false}"><Token id="VHPToken" text="{path:\'$this&gt;\',type:\'sap.ui.mdc.field.ConditionType\'}"/><layoutData><FlexItemData growFactor="1" maxWidth="calc(100% - 2rem)"/></layoutData></Tokenizer><Button id="removeAllBtn" press="_onRemoveAllConditions" type="Transparent" icon="sap-icon://decline" tooltip="{$i18n&gt;valuehelp.REMOVEALLTOKEN}" class="sapUiTinyMarginBegin"><layoutData><FlexItemData growFactor="0" baseSize="2rem"/></layoutData></Button></items></HBox></Panel></VBox></core:FragmentDefinition>',
	"sap/ui/mdc/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.mdc","type":"library","embeds":[],"applicationVersion":{"version":"1.102.1"},"title":"UI5 library: sap.ui.mdc","description":"UI5 library: sap.ui.mdc","ach":"CA-UI5-MDC","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"BooleanExpressionEvaluator","packagedWithMySelf":true,"version":"master-18530acbf3"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.102","libs":{"sap.ui.core":{"minVersion":"1.102.1"},"sap.m":{"minVersion":"1.102.1"},"sap.ui.layout":{"minVersion":"1.102.1","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.mdc.Table","sap.ui.mdc.FilterBar","sap.ui.mdc.field.FieldBase","sap.ui.mdc.field.FieldInput","sap.ui.mdc.field.FieldMultiInput","sap.ui.mdc.field.ValueHelpPanel","sap.ui.mdc.field.DefineConditionPanel","sap.ui.mdc.Field","sap.ui.mdc.FilterField","sap.ui.mdc.MultiValueField","sap.ui.mdc.link.Panel","sap.ui.mdc.link.ContactDetails","sap.ui.mdc.Chart","sap.ui.mdc.p13n.PersistenceProvider"],"elements":["sap.ui.mdc.table.Column","sap.ui.mdc.table.CreationRow","sap.ui.mdc.table.TableTypeBase","sap.ui.mdc.table.GridTableType","sap.ui.mdc.table.ResponsiveTableType","sap.ui.mdc.table.RowSettings","sap.ui.mdc.chart.Item","sap.ui.mdc.chart.ChartSelectionDetails","sap.ui.mdc.chart.ChartToolbar","sap.ui.mdc.chart.ChartTypeButton","sap.ui.mdc.chart.DrillBreadcrumbs","sap.ui.mdc.chart.SelectionDetailsActions","sap.ui.mdc.field.CustomFieldHelp","sap.ui.mdc.field.CustomFieldInfo","sap.ui.mdc.field.FieldHelpBase","sap.ui.mdc.field.FieldInfoBase","sap.ui.mdc.field.FieldValueHelp","sap.ui.mdc.field.FieldValueHelpContentWrapperBase","sap.ui.mdc.field.FieldValueHelpTableWrapperBase","sap.ui.mdc.field.FieldValueHelpMdcTableWrapper","sap.ui.mdc.field.FieldValueHelpMTableWrapper","sap.ui.mdc.field.FieldValueHelpUITableWrapper","sap.ui.mdc.field.ListFieldHelp","sap.ui.mdc.field.ListFieldHelpItem","sap.ui.mdc.field.BoolFieldHelp","sap.ui.mdc.field.ConditionFieldHelp","sap.ui.mdc.filterbar.aligned.FilterItemLayout","sap.ui.mdc.Link","sap.ui.mdc.link.ContactDetailsAddressItem","sap.ui.mdc.link.ContactDetailsEmailItem","sap.ui.mdc.link.ContactDetailsItem","sap.ui.mdc.link.ContactDetailsPhoneItem","sap.ui.mdc.link.LinkItem","sap.ui.mdc.link.PanelItem","sap.ui.mdc.link.SemanticObjectUnavailableAction","sap.ui.mdc.link.SemanticObjectMapping","sap.ui.mdc.link.SemanticObjectMappingItem","sap.ui.mdc.field.InParameter","sap.ui.mdc.field.OutParameter","sap.ui.mdc.field.MultiValueFieldItem","sap.ui.mdc.ValueHelp","sap.ui.mdc.valuehelp.Popover","sap.ui.mdc.valuehelp.Dialog","sap.ui.mdc.valuehelp.content.Bool","sap.ui.mdc.valuehelp.content.Conditions","sap.ui.mdc.valuehelp.content.FixedList","sap.ui.mdc.valuehelp.content.MDCTable","sap.ui.mdc.valuehelp.content.MTable"],"types":["sap.ui.mdc.TableType","sap.ui.mdc.TableP13Mode","sap.ui.mdc.GrowingMode","sap.ui.mdc.RowAction","sap.ui.mdc.RowCountMode","sap.ui.mdc.SelectionMode","sap.ui.mdc.FilterExpression","sap.ui.mdc.MultiSelectMode"],"interfaces":["sap.ui.mdc.IFilterSource","sap.ui.mdc.IFilter","sap.ui.mdc.IxState","sap.ui.mdc.valuehelp.ITypeaheadContent","sap.ui.mdc.valuehelp.IDialogContent","sap.ui.mdc.valuehelp.ITypeaheadContainer","sap.ui.mdc.valuehelp.IDialogContainer"]}}}}',
	"sap/ui/mdc/ui/Container.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
}
},"sap/ui/mdc/library-preload"
);
//# sourceMappingURL=library-preload.js.map