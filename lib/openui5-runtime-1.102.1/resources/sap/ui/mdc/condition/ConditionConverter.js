/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/util/DateUtil','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/base/util/merge'],function(C,B,a,D,F,O,m){"use strict";var d="yyyy-MM-ddTHH:mm:ssZ";var s="yyyy-MM-dd";var t="HH:mm:ss";var b={toString:function(o,T,h){var i=F.getOperator(o.operator);var v=c(o.values,_(h,T,i)||T,i);var I;var j;var p;if(o.inParameters){I=m({},o.inParameters);}if(o.outParameters){j=m({},o.outParameters);}if(o.payload){p=m({},o.payload);}var r=C.createCondition(o.operator,v,I,j,o.validated,p);return r;},toType:function(o,T,h){var i=F.getOperator(o.operator);var v=f(o.values,_(h,T,i)||T);var I;var j;var p;if(o.inParameters){I=m({},o.inParameters);}if(o.outParameters){j=m({},o.outParameters);}if(o.payload){p=m({},o.payload);}var r=C.createCondition(o.operator,v,I,j,o.validated,p);if(r.validated!==a.Validated&&i.validateInput){i.checkValidated(r);}return r;},createExternalCondition:function(o,v,V,p,T,h){var i=F.getOperator(o);var j=h.getTypeConfig(T);v=c(v,_(h,j,i)||j,i);var k=C.createCondition(o,v,undefined,undefined,V);return k;},getInternalValues:function(o,T,h){var i=F.getOperator(o.operator);var j=h.getTypeConfig(T);var v=f(o.values,_(h,j,i)||j);return v;}};function _(T,o,h){if(h&&h.valueTypes[0]&&(h.valueTypes[0]!==O.ValueType.Self&&h.valueTypes[0]!==O.ValueType.Static)){return T.getTypeConfig(h._createLocalType(h.valueTypes[0],o&&o.typeInstance));}}function c(v,T,o){var r=[];for(var i=0;i<v.length;i++){if(!o||(o.valueTypes[i]&&o.valueTypes[i]!==O.ValueType.Static)){var V=v[i];r.push(e(V,T));}}return r;}function e(v,T){var h=T.baseType;var o=T.typeInstance;switch(h){case B.DateTime:return D.typeToString(v,o,d);case B.Date:return D.typeToString(v,o,s);case B.Time:return D.typeToString(v,o,t);case B.Boolean:return v;case B.Numeric:if(typeof v!=="string"&&(o.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||o.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return v.toString();}return v;default:return o.formatValue(v,"string");}}function f(v,T){var r=[];for(var i=0;i<v.length;i++){var V=v[i];r.push(g(V,T));}return r;}function g(v,T){var h=T.baseType;var o=T.typeInstance;switch(h){case B.DateTime:return D.stringToType(v,o,d);case B.Date:return D.stringToType(v,o,s);case B.Time:return D.stringToType(v,o,t);case B.Boolean:return v;case B.Numeric:if(typeof v!=="string"&&(o.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||o.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return v.toString();}return v;default:return o.parseValue(v,"string");}}return b;},true);
