sap.ui.define(["./AnimationQueue","./config"],function(e,t){"use strict";var n=({beforeStart:n=t.identity,duration:r=t.defaultDuration,element:i=t.element,progress:o=t.identity})=>{let s=null;let a=false;let u;let l;let m;const c=new Promise((e,t)=>{m=t=>{s=s||t;const n=t-s;const i=r-n;if(n<=r){const e=1-i/r;o(e);u=!a&&requestAnimationFrame(m)}else{o(1);e()}};l=()=>{a=true;cancelAnimationFrame(u);t(new Error("animation stopped"))}}).catch(e=>e);e.push(i,()=>{n();requestAnimationFrame(m);return new Promise(e=>{c.then(()=>e())})});return{promise:()=>c,stop:()=>l}};return n});