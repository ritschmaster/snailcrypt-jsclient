sap.ui.define(["../asset-registries/Themes","../ManagedStyles","./getThemeDesignerTheme","./ThemeLoaded","../FeaturesRegistry"],function(e,t,s,a,r){"use strict";const i="@ui5/webcomponents-theming";const n=()=>{const t=e.getRegisteredPackages();return t.has(i)};const o=async s=>{if(!n()){return}const a=await e.getThemeProperties(i,s);if(a){t.createOrUpdateStyle(a,"data-ui5-theme-properties",i)}};const c=()=>{t.removeStyle("data-ui5-theme-properties",i)};const m=async s=>{const a=e.getRegisteredPackages();a.forEach(async a=>{if(a===i){return}const r=await e.getThemeProperties(a,s);if(r){t.createOrUpdateStyle(r,"data-ui5-theme-properties",a)}})};const g=()=>{const e=s();if(e){return e}const t=r.getFeature("OpenUI5Support");if(t){const e=t.cssVariablesLoaded();if(e){return{themeName:t.getConfigurationSettingsObject().theme}}}};const h=async t=>{const s=g();if(!s||t!==s.themeName){await o(t)}else{c()}const r=e.isThemeRegistered(t)?t:s&&s.baseThemeName;await m(r);a.fireThemeLoaded(t)};return h});