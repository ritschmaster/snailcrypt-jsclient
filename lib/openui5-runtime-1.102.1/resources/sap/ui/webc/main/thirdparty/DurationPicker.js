sap.ui.define(["sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/icons/fob-watch","./TimePickerBase","./generated/i18n/i18n-defaults"],function(t,e,i,s){"use strict";function a(t){return t&&typeof t==="object"&&"default"in t?t["default"]:t}var n=a(t);const r={tag:"ui5-duration-picker",properties:{value:{type:String,defaultValue:"00:00:00"},minutesStep:{type:n,defaultValue:1},secondsStep:{type:n,defaultValue:1},maxValue:{type:String,defaultValue:"23:59:59"},hideSeconds:{type:Boolean},hideMinutes:{type:Boolean},hideHours:{type:Boolean}}};const o=(t,e,i)=>{const s=Math.floor(t/e)*e;const a=Math.ceil(t/e)*e;if(a>i||t-s<a-t){return s}return a};const u=t=>{t=parseInt(t);return t<9?`0${t}`:`${t}`};class l extends i{static get metadata(){return r}onBeforeRendering(){const t=this.value;if(this.isValid(t)){this.value=this.normalizeValue(t)}}async _handleInputLiveChange(t){const e=t.target.value;const i=this.isValid(e);this._updateValueState();this.fireEvent("input",{value:e,valid:i})}get _formatPattern(){return"HH:mm:ss"}get _effectiveValue(){return this.isValid(this.value)?this._toFullFormat(this.value):"00:00:00"}get _timeSelectionValue(){return this._effectiveValue}get openIconName(){return"fob-watch"}_toFullFormat(t){let e="00",i="00",s="00";const a=t.split(":");if(a.length&&!this.hideHours){e=a.shift()}if(a.length&&!this.hideMinutes){i=a.shift()}if(a.length&&!this.hideSeconds){s=a.shift()}return`${e}:${i}:${s}`}_toPartialFormat(t){const e=t.split(":");const i=[];if(!this.hideHours){i.push(e[0])}if(!this.hideMinutes){i.push(e[1])}if(!this.hideSeconds){i.push(e[2])}return i.join(":")}_enforceLimitsAndStep(t){let[e,i,s]=t.split(":");e=Math.min(e,this.maxHours);i=Math.min(i,this.maxMinutes);s=Math.min(s,this.maxSeconds);i=o(i,this.minutesStep,this.maxMinutes);s=o(s,this.secondsStep,this.maxSeconds);return`${u(e)}:${u(i)}:${u(s)}`}normalizeValue(t){let e=this._toFullFormat(t);e=this._enforceLimitsAndStep(e);return this._toPartialFormat(e)}get maxHours(){return parseInt(this.maxValue.split(":")[0])}get maxMinutes(){return parseInt(this.maxValue.split(":")[1])}get maxSeconds(){return parseInt(this.maxValue.split(":")[2])}get dateAriaDescription(){return l.i18nBundle.getText(s.DURATION_INPUT_DESCRIPTION)}get accInfo(){return{ariaRoledescription:this.dateAriaDescription,ariaHasPopup:"dialog",ariaAutoComplete:"none",role:"combobox",ariaControls:`${this._id}-responsive-popover`,ariaExpanded:this.isOpen()}}}l.define();return l});