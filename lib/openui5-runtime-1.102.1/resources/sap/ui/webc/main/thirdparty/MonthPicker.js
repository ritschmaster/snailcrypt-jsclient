sap.ui.define(["sap/ui/webc/common/thirdparty/localization/getCachedLocaleDataInstance","sap/ui/webc/common/thirdparty/localization/dates/CalendarDate","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/locale/getLocale","./CalendarPart","./generated/templates/MonthPickerTemplate.lit","./generated/themes/MonthPicker.css"],function(e,t,s,i,a,n,m,o){"use strict";function r(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var h=r(e);var c=r(t);var p=r(i);var l=r(a);const d={tag:"ui5-monthpicker",properties:{selectedDates:{type:p,multiple:true,compareValues:true},_months:{type:Object,multiple:true},_hidden:{type:Boolean,noAttribute:true}},events:{change:{},navigate:{}}};const f=12;const _=3;class u extends n{static get metadata(){return d}static get template(){return m}static get styles(){return o}onBeforeRendering(){this._buildMonths()}_buildMonths(){if(this._hidden){return}const e=h(l());const t=e.getMonths("wide",this._primaryCalendarType);const s=[];const i=this._calendarDate;const a=this._minDate;const n=this._maxDate;const m=new c(i,this._primaryCalendarType);let o;for(let e=0;e<12;e++){m.setMonth(e);o=m.valueOf()/1e3;const r=this.selectedDates.some(e=>{const t=c.fromTimestamp(e*1e3,this._primaryCalendarType);return t.getYear()===m.getYear()&&t.getMonth()===m.getMonth()});const h=m.getMonth()===i.getMonth();const p=this._isOutOfSelectableRange(m,a,n);const l={timestamp:o.toString(),focusRef:h,_tabIndex:h?"0":"-1",selected:r,ariaSelected:r?"true":"false",name:t[e],disabled:p,classes:"ui5-mp-item"};if(r){l.classes+=" ui5-mp-item--selected"}if(p){l.classes+=" ui5-mp-item--disabled"}const d=parseInt(e/_);if(s[d]){s[d].push(l)}else{s[d]=[l]}}this._months=s}onAfterRendering(){if(!this._hidden){this.focus()}}_onkeydown(e){let t=true;if(s.isEnter(e)){this._selectMonth(e)}else if(s.isSpace(e)){e.preventDefault()}else if(s.isLeft(e)){this._modifyTimestampBy(-1)}else if(s.isRight(e)){this._modifyTimestampBy(1)}else if(s.isUp(e)){this._modifyTimestampBy(-_)}else if(s.isDown(e)){this._modifyTimestampBy(_)}else if(s.isPageUp(e)){this._modifyTimestampBy(-f)}else if(s.isPageDown(e)){this._modifyTimestampBy(f)}else if(s.isHome(e)||s.isEnd(e)){this._onHomeOrEnd(s.isHome(e))}else if(s.isHomeCtrl(e)){this._setTimestamp(parseInt(this._months[0][0].timestamp))}else if(s.isEndCtrl(e)){this._setTimestamp(parseInt(this._months[f/_-1][_-1].timestamp))}else{t=false}if(t){e.preventDefault()}}_onHomeOrEnd(e){this._months.forEach(t=>{const s=t.findIndex(e=>c.fromTimestamp(parseInt(e.timestamp)*1e3).getMonth()===this._calendarDate.getMonth());if(s!==-1){const s=e?0:_-1;this._setTimestamp(parseInt(t[s].timestamp))}})}_setTimestamp(e){this._safelySetTimestamp(e);this.fireEvent("navigate",{timestamp:this.timestamp})}_modifyTimestampBy(e){this._safelyModifyTimestampBy(e,"month");this.fireEvent("navigate",{timestamp:this.timestamp})}_onkeyup(e){if(s.isSpace(e)){this._selectMonth(e)}}_selectMonth(e){e.preventDefault();if(e.target.className.indexOf("ui5-mp-item")>-1){const t=this._getTimestampFromDom(e.target);this._safelySetTimestamp(t);this.fireEvent("change",{timestamp:this.timestamp})}}_hasPreviousPage(){return this._calendarDate.getYear()!==this._minDate.getYear()}_hasNextPage(){return this._calendarDate.getYear()!==this._maxDate.getYear()}_showPreviousPage(){this._modifyTimestampBy(-f)}_showNextPage(){this._modifyTimestampBy(f)}_isOutOfSelectableRange(e,t,s){const i=e.getMonth();const a=e.getYear();const n=t.getYear();const m=t.getMonth();const o=s.getYear();const r=s.getMonth();return a<n||a===n&&i<m||a>o||a===o&&i>r}}u.define();return u});