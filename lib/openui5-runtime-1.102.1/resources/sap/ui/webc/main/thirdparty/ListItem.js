sap.ui.define(["sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/icons/decline","sap/ui/webc/common/thirdparty/icons/edit","sap/ui/webc/common/thirdparty/base/i18nBundle","./types/ListItemType","./types/ListMode","./ListItemBase","./RadioButton","./CheckBox","./Button","./generated/i18n/i18n-defaults","./generated/themes/ListItem.css"],function(e,t,i,n,s,r,a,o,c,d,l,u){"use strict";const h={languageAware:true,properties:{type:{type:s,defaultValue:s.Active},active:{type:Boolean},title:{type:String},actionable:{type:Boolean},role:{type:String,defaultValue:"listitem"},accessibleRole:{type:String},_mode:{type:r,defaultValue:r.None},_ariaHasPopup:{type:String,noAttribute:true}},events:{"detail-click":{},_press:{},_focused:{},"_selection-requested":{}}};class p extends a{static get metadata(){return h}static get styles(){return[a.styles,u]}static get dependencies(){return[d,o,c]}constructor(){super();this.deactivateByKey=t=>{if(e.isEnter(t)){this.deactivate()}};this.deactivate=()=>{if(this.active){this.active=false}};this._ontouchstart={handleEvent(e){this._onmousedown(e)},passive:true}}onBeforeRendering(...e){this.actionable=this.type===s.Active&&this._mode!==r.Delete}onEnterDOM(){document.addEventListener("mouseup",this.deactivate);document.addEventListener("touchend",this.deactivate);document.addEventListener("keyup",this.deactivateByKey)}onExitDOM(){document.removeEventListener("mouseup",this.deactivate);document.removeEventListener("keyup",this.deactivateByKey);document.removeEventListener("touchend",this.deactivate)}_onkeydown(t){super._onkeydown(t);const i=this.type===s.Active;if(e.isSpace(t)){t.preventDefault()}if((e.isSpace(t)||e.isEnter(t))&&i){this.activate()}if(e.isEnter(t)){this.fireItemPress(t)}}_onkeyup(t){if(e.isSpace(t)||e.isEnter(t)){this.deactivate()}if(e.isSpace(t)){this.fireItemPress(t)}if(this.modeDelete&&e.isDelete(t)){this.onDelete()}}_onmousedown(e){if(e.isMarked==="button"){return}this.activate()}_onmouseup(e){if(e.isMarked==="button"){return}this.deactivate()}_ontouchend(e){this._onmouseup(e)}_onfocusout(){super._onfocusout();this.deactivate()}_onclick(e){if(e.isMarked==="button"){return}this.fireItemPress(e)}onMultiSelectionComponentPress(e){if(this.isInactive){return}this.fireEvent("_selection-requested",{item:this,selected:e.target.checked,selectionComponentPressed:true})}onSingleSelectionComponentPress(e){if(this.isInactive){return}this.fireEvent("_selection-requested",{item:this,selected:!e.target.selected,selectionComponentPressed:true})}activate(){if(this.type===s.Active){this.active=true}}onDelete(e){this.fireEvent("_selection-requested",{item:this,selectionComponentPressed:false})}onDetailClick(e){this.fireEvent("detail-click",{item:this,selected:this.selected})}fireItemPress(e){if(this.isInactive){return}this.fireEvent("_press",{item:this,selected:this.selected,key:e.key})}get isInactive(){return this.type===s.Inactive||this.type===s.Detail}get placeSelectionElementBefore(){return this._mode===r.MultiSelect||this._mode===r.SingleSelectBegin}get placeSelectionElementAfter(){return!this.placeSelectionElementBefore&&(this._mode===r.SingleSelectEnd||this._mode===r.Delete)}get modeSingleSelect(){return[r.SingleSelectBegin,r.SingleSelectEnd,r.SingleSelect].includes(this._mode)}get modeMultiSelect(){return this._mode===r.MultiSelect}get modeDelete(){return this._mode===r.Delete}get renderDeleteButton(){return this.modeDelete}get disableDeleteButton(){return false}get typeDetail(){return this.type===s.Detail}get typeActive(){return this.type===s.Active}get ariaSelected(){if(this.modeMultiSelect||this.modeSingleSelect){return this.selected}return undefined}get ariaSelectedText(){let e;if(this.ariaSelected!==undefined){e=this.ariaSelected?p.i18nBundle.getText(l.LIST_ITEM_SELECTED):p.i18nBundle.getText(l.LIST_ITEM_NOT_SELECTED)}return e}get deleteText(){return p.i18nBundle.getText(l.DELETE)}get _accInfo(){return{role:this.accessibleRole||this.role,ariaExpanded:undefined,ariaLevel:undefined,ariaLabel:p.i18nBundle.getText(l.ARIA_LABEL_LIST_ITEM_CHECKBOX),ariaLabelRadioButton:p.i18nBundle.getText(l.ARIA_LABEL_LIST_ITEM_RADIO_BUTTON),ariaSelectedText:this.ariaSelectedText,ariaHaspopup:this._ariaHasPopup||undefined}}static async onDefine(){p.i18nBundle=await n.getI18nBundle("@ui5/webcomponents")}}return p});