sap.ui.define(["sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/Device","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/types/Integer","./types/BusyIndicatorSize","./Label","./generated/templates/BusyIndicatorTemplate.lit","./generated/i18n/i18n-defaults","./generated/themes/BusyIndicator.css"],function(e,t,i,s,r,n,a,u,o,d,c){"use strict";function y(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var l=y(e);var h=y(t);var p=y(n);const m={tag:"ui5-busy-indicator",altTag:"ui5-busyindicator",languageAware:true,slots:{default:{type:Node}},properties:{text:{type:String},size:{type:a,defaultValue:a.Medium},active:{type:Boolean},delay:{type:p,defaultValue:1e3},_isBusy:{type:Boolean}}};class b extends l{constructor(){super();this._keydownHandler=this._handleKeydown.bind(this);this._preventEventHandler=this._preventEvent.bind(this)}onEnterDOM(){this.addEventListener("keydown",this._keydownHandler,{capture:true});this.addEventListener("keyup",this._preventEventHandler,{capture:true})}onExitDOM(){if(this._busyTimeoutId){clearTimeout(this._busyTimeoutId);delete this._busyTimeoutId}this.removeEventListener("keydown",this._keydownHandler,true);this.removeEventListener("keyup",this._preventEventHandler,true)}static get metadata(){return m}static get styles(){return c}static get render(){return h}static get template(){return o}static get dependencies(){return[u]}static async onDefine(){b.i18nBundle=await s.getI18nBundle("@ui5/webcomponents")}get ariaTitle(){return b.i18nBundle.getText(d.BUSY_INDICATOR_TITLE)}get labelId(){return this.text?`${this._id}-label`:undefined}get classes(){return{root:{"ui5-busy-indicator-root":true,"ui5-busy-indicator-root--ie":i.isIE()}}}onBeforeRendering(){if(this.active){if(!this._isBusy&&!this._busyTimeoutId){this._busyTimeoutId=setTimeout(()=>{delete this._busyTimeoutId;this._isBusy=true},Math.max(0,this.delay))}}else{if(this._busyTimeoutId){clearTimeout(this._busyTimeoutId);delete this._busyTimeoutId}this._isBusy=false}}_handleKeydown(e){if(!this._isBusy){return}e.stopImmediatePropagation();if(r.isTabNext(e)){this.focusForward=true;this.shadowRoot.querySelector("[data-ui5-focus-redirect]").focus();this.focusForward=false}}_preventEvent(e){if(this._isBusy){e.stopImmediatePropagation()}}_redirectFocus(e){if(this.focusForward){return}e.preventDefault();this.shadowRoot.querySelector(".ui5-busy-indicator-busy-area").focus()}}b.define();return b});