sap.ui.define(["sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","./generated/templates/SplitButtonTemplate.lit","./types/ButtonDesign","./Button","./generated/i18n/i18n-defaults","./generated/themes/SplitButton.css"],function(t,e,i,s,n,r,a,o,u){"use strict";function c(t){return t&&typeof t==="object"&&"default"in t?t["default"]:t}var l=c(t);var p=c(s);const d={tag:"ui5-split-button",managedSlots:true,properties:{icon:{type:String},activeIcon:{type:String},design:{type:r,defaultValue:r.Default},disabled:{type:Boolean},accessibleName:{type:String,defaultValue:undefined},focused:{type:Boolean},_splitButtonAccInfo:{type:Object},_tabIndex:{type:String,defaultValue:"0",noAttribute:true},_spacePressed:{type:Boolean,noAttribute:true},_shiftOrEscapePressed:{type:Boolean,noAttribute:true},_textButtonActive:{type:Boolean,noAttribute:true},_textButtonIcon:{type:String,noAttribute:true},_arrowButtonActive:{type:Boolean,noAttribute:true}},slots:{default:{type:Node,propertyName:"text"}},events:{click:{},"arrow-click":{}}};class h extends l{static get metadata(){return d}static get render(){return p}static get styles(){return u}static get template(){return n}static get dependencies(){return[a]}static async onDefine(){h.i18nBundle=await i.getI18nBundle("@ui5/webcomponents")}constructor(){super();this._textButtonPress={handleEvent(t){this._textButtonActive=true;this.focused=false;this._setTabIndexValue()},passive:true}}onBeforeRendering(){this._textButtonIcon=this.textButton&&this.activeIcon!==""&&this._textButtonActive&&!this._shiftOrEscapePressed?this.activeIcon:this.icon;if(this.disabled){this._tabIndex="-1"}}_onFocusOut(t){if(this.disabled||t.isMarked){return}this._shiftOrEscapePressed=false;this.focused=false;this._setTabIndexValue()}_onFocusIn(t){if(this.disabled||t.isMarked){return}this._shiftOrEscapePressed=false;this.focused=true}_onKeyDown(t){if(e.isDown(t)||e.isUp(t)||e.isDownAlt(t)||e.isUpAlt(t)||e.isF4(t)){t.preventDefault();this._arrowButtonActive=true;this._fireArrowClick()}else if(e.isSpace(t)||e.isEnter(t)){t.preventDefault();this._textButtonActive=true;if(e.isEnter(t)){this._fireClick()}else{this._spacePressed=true}}if(this._spacePressed&&(e.isEscape(t)||e.isShift(t))){this._shiftOrEscapePressed=true;this._textButtonActive=false}this._setTabIndexValue()}_onKeyUp(t){if(e.isDown(t)||e.isUp(t)||e.isDownAlt(t)||e.isUpAlt(t)||e.isF4(t)){this._arrowButtonActive=false}else if(e.isSpace(t)||e.isEnter(t)){this._textButtonActive=false;if(e.isSpace(t)){t.preventDefault();t.stopPropagation();this._fireClick();this._spacePressed=false}}this._setTabIndexValue()}_fireClick(t){t&&t.stopPropagation();if(!this._shiftOrEscapePressed){this.fireEvent("click")}this._shiftOrEscapePressed=false}_fireArrowClick(t){t&&t.stopPropagation();this.fireEvent("arrow-click")}_textButtonRelease(){this._textButtonActive=false;this._textButtonIcon=this.textButton&&this.activeIcon!==""&&this._textButtonActive&&!this._shiftOrEscapePressed?this.activeIcon:this.icon;this._setTabIndexValue()}_setTabIndexValue(){const t=this.textButton,e=this.arrowButton,i=t&&(t.focused||t.active)||e&&(e.focused||e.active);this._tabIndex=this.disabled||i?"-1":"0"}get textButtonAccText(){return this.textContent}get textButton(){return this.getDomRef()&&this.getDomRef().querySelector(".ui5-split-text-button")}get arrowButton(){return this.getDomRef()&&this.getDomRef().querySelector(".ui5-split-arrow-button")}get accessibilityInfo(){return{ariaExpanded:this._splitButtonAccInfo&&this._splitButtonAccInfo.ariaExpanded,ariaHaspopup:this._splitButtonAccInfo&&this._splitButtonAccInfo.ariaHaspopup,description:h.i18nBundle.getText(o.SPLIT_BUTTON_DESCRIPTION),keyboardHint:h.i18nBundle.getText(o.SPLIT_BUTTON_KEYBOARD_HINT)}}get ariaLabelText(){return[h.i18nBundle.getText(o.SPLIT_BUTTON_DESCRIPTION),h.i18nBundle.getText(o.SPLIT_BUTTON_KEYBOARD_HINT)].join(" ")}}h.define();return h});