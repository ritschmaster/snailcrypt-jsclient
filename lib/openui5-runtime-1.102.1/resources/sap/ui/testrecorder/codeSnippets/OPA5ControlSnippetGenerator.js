/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/testrecorder/codeSnippets/ControlSnippetGenerator","sap/ui/testrecorder/interaction/Commands","sap/base/strings/capitalize"],function(C,a,c){"use strict";var O=C.extend("sap.ui.testrecorder.codeSnippets.OPA5ControlSnippetGenerator",{});O.prototype._generate=function(d){var i=d.controlSelector.interaction&&d.controlSelector.interaction.idSuffix;var A=this._getActionAsString(d.action,i);var s=this._getAssertionAsString(d.assertion);if(A){d.controlSelector.actions=[];}if(s){d.controlSelector.success=[];}delete d.controlSelector.interaction;var b=this._getSelectorAsString(d.controlSelector);var S=this._getSelectorWithAction(b,A);var f=this._getSelectorWithAssertion(S,s);return"this.waitFor("+f+");";};O.prototype._getActionAsString=function(A,i){i=i?'idSuffix: "'+i+'"':"";var p;switch(A){case a.PRESS:p=i&&"{\n"+this._getIndentation(3)+i+"\n"+this._getIndentation(2)+"}";return"new Press("+p+")";case a.ENTER_TEXT:p="{\n"+this._getIndentation(2)+(i&&i+",\n"+this._getIndentation(2))+'text: "test"'+"\n"+this._getIndentation(1)+"}";return"new EnterText("+p+")";default:return"";}};O.prototype._getAssertionAsString=function(A){if(A){var g="oControl.get"+c(A.propertyName)+"()";if(!A.expectedValue||A.expectedValue==="false"){return"Opa5.assert.ok(!"+g+");";}else if(A.propertyType==="boolean"){return"Opa5.assert.ok("+g+");";}else{var e=this._escapeQuotes(A.expectedValue);return'Opa5.assert.strictEqual('+g+', "'+e+'");';}}else{return"";}};O.prototype._getSelectorWithAction=function(s,A){return s.replace("actions: []","actions: "+A);};O.prototype._getSelectorWithAssertion=function(s,A){return s.replace("success: []","success: function (vControls) {\n"+this._getIndentation(2)+"var oControl = vControls[0] || vControls;\n"+this._getIndentation(2)+A+"\n"+this._getIndentation(1)+"}");};return new O();});
