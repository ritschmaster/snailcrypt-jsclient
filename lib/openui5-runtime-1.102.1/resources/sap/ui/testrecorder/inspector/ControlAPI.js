/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/core/support/ToolsAPI","sap/ui/test/_ControlFinder"],function(B,T,_){"use strict";var C=B.extend("sap.ui.testrecorder.inspector.ControlAPI",{});var D="default";var a="none";C.prototype.getFrameworkData=function(){var f=T.getFrameworkInformation();return{framework:{name:f.commonInformation.frameworkName,version:f.commonInformation.version}};};C.prototype.getAllControlData=function(){var r=T.getRenderedControlTree();return{renderedControls:r};};C.prototype.getControlData=function(d){var c;if(d.controlId){c=d.controlId;}else if(d.domElementId){var o=_._getControlForElement(d.domElementId);if(o){c=o.getId();}else{return{};}}var p=this._getFormattedProperties(c);var b=this._getFormattedBindings(c);return{properties:p,bindings:b};};C.prototype._getFormattedProperties=function(c){var A=T.getControlProperties(c);A.own=[A.own];var f={};["own","inherited"].forEach(function(t){f[t]=[];A[t].forEach(function(p){Object.keys(p.properties).forEach(function(P){var m=p.properties[P];f[t].push({inheritedFrom:p.meta.controlName,property:P,value:m.value===undefined?"":m.value,type:m.type});});});});return f;};C.prototype._getFormattedBindings=function(c){var A=T.getControlBindings(c);var s=A.contextPath?A.contextPath+"/":"";var S=Object.keys(A.properties)[0]&&A.properties[Object.keys(A.properties)[0]];var b=S&&S.model.names[0]||D;var f={context:[{path:A.contextPath||a,model:b}],properties:[],aggregations:[]};Object.keys(A.properties).forEach(function(p){var P=A.properties[p];f.properties.push({property:p,relativePath:P.path,absolutePath:s+P.path,model:P.model.names[0]||D});});Object.keys(A.aggregations).forEach(function(d){var m=A.aggregations[d].model;f.aggregations.push({aggregation:d,relativePath:m.path,absolutePath:s+m.path,model:m.names[0]||D});});return f;};return new C();},true);
